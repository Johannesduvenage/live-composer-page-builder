/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./js/src/editor/backend/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./js/src/editor/backend/codegeneration.js":
/*!*************************************************!*\
  !*** ./js/src/editor/backend/codegeneration.js ***!
  \*************************************************/
/*! exports provided: generateSectionCode, editableContentCodeGeneration, codeGenerationInitJS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "generateSectionCode", function() { return generateSectionCode; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "editableContentCodeGeneration", function() { return editableContentCodeGeneration; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "codeGenerationInitJS", function() { return codeGenerationInitJS; });
/*********************************
 *
 * = CODE GENERATION =
 *
 * - dslc_save_composer ( Save the Page Changes )
 * - dslc_save_draft_composer ( Save the changes as draft, not publish )
 * - dslc_generate_code ( Generates Page's LC data )
 * - generateSectionCode ( Generate LC data for a specific row/section )
 * - dslca_gen_content_for_search ( Generate Readable Content For Search )
 *
 ***********************************/

/**
 * CODE GENERATION - Save Page Changes
 */

var _this = undefined;

function dslc_save_composer() {
  if (window.dslcDebug) console.log('dslc_save_composer');
  /**
   * Before saving code via ajax
   * refresh the page source in a hidden #dslca-code
   */

  window.dslc_generate_code(); // Generate content for search

  dslca_gen_content_for_search(); // Vars

  var composerCode = jQuery('#dslca-code').val(),
      contentForSearch = jQuery('#dslca-content-for-search').val(),
      postID = jQuery('.dslca-container').data('post-id'); // Apply class to body to know saving is in progress

  jQuery('body').addClass('dslca-saving-in-progress'); // Replace the check in publish button with a loading animation

  jQuery('.dslca-save-composer .dslca-icon').removeClass('dslc-icon-ok').addClass('dslc-icon-spin dslc-icon-spinner'); // Ajax call to save the new content

  jQuery.ajax({
    method: 'POST',
    type: 'POST',
    url: DSLCAjax.ajaxurl,
    data: {
      action: 'dslc-ajax-save-composer',
      dslc: 'active',
      dslc_post_id: postID,
      dslc_code: composerCode,
      dslc_content_for_search: contentForSearch
    },
    timeout: 30000
  }).done(function (response) {
    // On success hide the publish button
    if (response.status == 'success') {
      jQuery('.dslca-save-composer').fadeOut(250);
      jQuery('.dslca-save-draft-composer').fadeOut(250); // Create new cache version after it's saved.

      jQuery('body').append('<iframe class="lbmn-cache-iframe" id="lbmn-cache-iframe-' + postID + '" src="' + DSLCSiteData.siteurl + '/?p=' + postID + '" ></iframe>');
      jQuery('.lbmn-cache-iframe').each(function (index, el) {
        jQuery(el).load(function () {
          jQuery(el).remove(); // Cache built at this point. Remove iframe.
        });
      }); // On fail show an alert message
    } else {
      alert('Something went wrong, please try to save again. Are you sure to make any changes? Error Code: ' + response.status);
    }
  }).fail(function (response) {
    if (response.statusText == 'timeout') {
      alert('The request timed out after 30 seconds. Server do not respond in time. Please try again.');
    } else {
      alert('Something went wrong. Please try again. Error Code: ' + response.statusText);
    }
  }).always(function (reseponse) {
    // Replace the loading animation with a check icon
    jQuery('.dslca-save-composer .dslca-icon').removeClass('dslc-icon-spin dslc-icon-spinner').addClass('dslc-icon-ok'); // Remove the class previously added so we know saving is finished

    jQuery('body').removeClass('dslca-saving-in-progress');
  });
}
/**
 * CODE GENERATION - Save Draft
 */


function dslc_save_draft_composer() {
  if (window.dslcDebug) console.log('dslc_save_draft_composer'); // Vars

  var composerCode = jQuery('#dslca-code').val(),
      postID = jQuery('.dslca-container').data('post-id'); // Apply class to body to know saving is in progress

  jQuery('body').addClass('dslca-saving-in-progress'); // Replace the check in publish button with a loading animation

  jQuery('.dslca-save-draft-composer .dslca-icon').removeClass('dslc-icon-ok').addClass('dslc-icon-spin dslc-icon-spinner'); // Ajax call to save the new content

  jQuery.post(DSLCAjax.ajaxurl, {
    action: 'dslc-ajax-save-draft-composer',
    dslc: 'active',
    dslc_post_id: postID,
    dslc_code: composerCode
  }, function (response) {
    // Replace the loading animation with a check icon
    jQuery('.dslca-save-draft-composer .dslca-icon').removeClass('dslc-icon-spin dslc-icon-spinner').addClass('dslc-icon-save'); // On success hide the publish button

    if (response.status == 'success') {
      jQuery('.dslca-save-draft-composer').fadeOut(250); // On fail show an alert message
    } else {
      alert('Something went wrong, please try to save again.');
    } // Remove the class previously added so we know saving is finished


    jQuery('body').removeClass('dslca-saving-in-progress');
  });
}
/**
 * CODE GENERATION - Generate LC Data
 * @param section is not required. If no parameter provided function generates
 */


window.dslc_generate_code = function () {
  if (window.dslcDebug) console.log('dslc_generate_code'); // Vars

  var moduleCode = '',
      module_size,
      composerCode = '',
      pageCodeInJson = '',
      maxPerRow = 12,
      maxPerRowA = 12,
      currPerRow = 0,
      currPerRowA = 0,
      modulesAreaSize,
      modulesArea,
      modulesAreaLastState,
      modulesAreaFirstState,
      modulesSection,
      modulesSectionAtts = '',
      modulesSectionJson;
  /**
   * Go through module areas (empty or not empty)
   * TODO: Optimize code to go though the section/area needed only,
   * not the whole page.
   */

  jQuery('#dslc-main .dslc-modules-area', LiveComposer.Builder.PreviewAreaDocument).each(function () {
    if (jQuery('.dslc-module-front', this).length) {
      jQuery(this).removeClass('dslc-modules-area-empty').addClass('dslc-modules-area-not-empty');
      jQuery('.dslca-no-content', this).hide();
    } else {
      jQuery(this).removeClass('dslc-modules-area-not-empty').addClass('dslc-modules-area-empty');
      jQuery('.dslca-no-content:not(:visible)', this).show().css({
        '-webkit-animation-name': 'dslcBounceIn',
        '-moz-animation-name': 'dslcBounceIn',
        'animation-name': 'dslcBounceIn',
        'animation-duration': '0.6s',
        '-webkit-animation-duration': '0.6s',
        padding: 0
      }).animate({
        padding: '35px 0'
      }, 300);
    }
  });
  /**
   * Go through each row (empty or not empty)
   */

  jQuery('#dslc-main .dslc-modules-section', LiveComposer.Builder.PreviewAreaDocument).each(function () {
    modulesSection = jQuery(this);
    modulesSectionJson = generateSectionCode(modulesSection); // Update JSON in hidden text area with updated code.

    modulesSection.find('.dslca-section-code').val(modulesSectionJson); // Add row code into the the whole page code.

    pageCodeInJson = pageCodeInJson + modulesSectionJson + ','; // Close row ( section ) shortcode
    // composerCode = composerCode + '[/dslc_modules_section] ';
  }); // Remove the last comma in the code.

  pageCodeInJson = pageCodeInJson.slice(0, -1); // pageCodeInJson = pageCodeInJson;

  pageCodeInJson = '[' + pageCodeInJson + ']'; // Apply the new code values to the setting containers

  jQuery('#dslca-code').val(pageCodeInJson);
  jQuery('#dslca-export-code').val(pageCodeInJson);
};
/**
 * CODE GENERATION - Generate LC Data for Section
 *
 * @param  {jQuery Object} theModulesSection jQuery element for the section to process
 * @return {String}                   			JSON code for the section
 */
// ex. dslc_generate_section_code


var generateSectionCode = function generateSectionCode(theModulesSection) {
  if (window.dslcDebug) console.log('generateSectionCode'); // Vars

  var moduleCode = '',
      module_size,
      composerCode = '',
      pageCodeInJson = '',
      maxPerRow = 12,
      maxPerRowA = 12,
      currPerRow = 0,
      currPerRowA = 0,
      modulesAreaSize,
      modulesArea,
      modulesAreaLastState,
      modulesAreaFirstState,
      modulesSection,
      modulesSectionAtts = '',
      modulesSectionJsonString = '',
      modulesSectionJson;
  modulesSection = theModulesSection; // Update dslc-modules-section-(not)empty classes

  if (jQuery('.dslc-modules-area', modulesSection).length) {
    modulesSection.removeClass('dslc-modules-section-empty').addClass('dslc-modules-section-not-empty');
  } else {
    modulesSection.removeClass('dslc-modules-section-not-empty').addClass('dslc-modules-section-empty');
  } // Remove last and first classes from module areas and modules


  jQuery('.dslc-modules-area.dslc-last-col, .dslc-modules-area.dslc-first-col', _this).removeClass('dslc-last-col dslc-first-col');
  jQuery('.dslc-module-front.dslc-last-col, .dslc-module-front.dslc-first-col', _this).removeClass('dslc-last-col dslc-first-col'); // Vars

  currPerRowA = 0; // Get current JSON.

  modulesSectionJsonString = modulesSection.find('.dslca-section-code').val();
  modulesSectionJson = JSON.parse(modulesSectionJsonString); // Generate attributes for the row shortcode

  modulesSectionAtts = '';
  jQuery('.dslca-modules-section-settings input', modulesSection).each(function () {
    var currentInput = jQuery(this);
    var currentAttrKey = currentInput.data('id');
    var currentAttrVal = currentInput.val(); // Update hidden text fields with row attributes.

    modulesSectionAtts = modulesSectionAtts + currentAttrKey + '="' + currentAttrVal + '" '; // Update JSON object.

    modulesSectionJson[currentAttrKey] = currentAttrVal;
  }); // Delete attribute 'give_new_id'.
  // It supposed to be used only once and by this time it was already applied.

  if (undefined !== modulesSectionJson['give_new_id']) {
    delete modulesSectionJson['give_new_id'];
  } // Prepare place for module areas.


  modulesSectionJson['content'] = []; // Open the module section ( row ) shortcode
  // composerCode = composerCode + '[dslc_modules_section ' + modulesSectionAtts + '] ';

  /**
   * Go through each column of current row
   */

  jQuery('.dslc-modules-area', modulesSection).each(function () {
    // Reset width counter for modules
    currPerRow = 0; // Vars

    modulesArea = jQuery(this);
    modulesAreaSize = parseInt(modulesArea.data('size'));
    modulesAreaLastState = 'no';
    modulesAreaFirstState = 'no'; // Increment area column counter

    currPerRowA += modulesAreaSize;
    jQuery(this).removeClass('dslc-first-col');
    jQuery(this).removeClass('dslc-last-col'); // If area column counter same as maximum

    if (currPerRowA == maxPerRowA) {
      // Apply classes to current and next column
      jQuery(this).addClass('dslc-last-col').next('.dslc-modules-area').addClass('dslc-first-col'); // Reset area column counter

      currPerRowA = 0; // Set shortcode's "last" attribute to "yes"

      modulesAreaLastState = 'yes'; // If area column counter bigger than maximum
    } else if (currPerRowA > maxPerRowA) {
      // Apply classes to current and previous column
      jQuery(this).removeClass('dslc-last-col').addClass('dslc-first-col'); // Set area column counter to the size of the current area

      currPerRowA = modulesAreaSize; // Set shortcode's "first" attribute to yes

      modulesAreaFirstState = 'yes';
    } // If area column counter same as current area size


    if (currPerRowA == modulesAreaSize) {
      // Set shortcode's "first" attribute to yes
      modulesAreaFirstState = 'yes'; // Apply classes to current and previous column

      jQuery(this).removeClass('dslc-last-col').addClass('dslc-first-col');
    } // Open the modules area ( area ) shortcode
    // composerCode = composerCode + '[dslc_modules_area last="' + modulesAreaLastState + '" first="' + modulesAreaFirstState + '" size="' + modulesAreaSize + '"] ';


    var moduleAreaJSON = '{"element_type":"module_area","last":"' + modulesAreaLastState + '","first":"' + modulesAreaFirstState + '","size":"' + modulesAreaSize + '"}'; // pageCodeInJson = pageCodeInJson +  moduleAreaJSON + ',';

    moduleAreaJSON = JSON.parse(moduleAreaJSON); // Delete attribute 'give_new_id'.
    // It supposed to be used only once and by this time it was already applied.

    if (undefined !== moduleAreaJSON['give_new_id']) {
      delete moduleAreaJSON['give_new_id'];
    }

    moduleAreaJSON.content = [];
    /**
     * Go through each module of current area
     */

    jQuery('.dslc-module-front', modulesArea).each(function () {
      var dslc_module = jQuery(this); // Vars

      module_size = parseInt(dslc_module[0].getAttribute('data-dslc-module-size'));
      var moduleLastState = 'no';
      var moduleFirstState = 'no';
      jQuery(this).removeClass('dslc-first-col');
      jQuery(this).removeClass('dslc-last-col'); // Increment modules column counter

      currPerRow += module_size; // If modules column counter same as maximum

      if (currPerRow == maxPerRow) {
        // Add classes to current and next module
        jQuery(this).addClass('dslc-last-col');
        jQuery(this).next('.dslc-module-front').addClass('dslc-first-col'); // Reset modules column counter

        currPerRow = 0; // Set shortcode's "last" state to "yes"

        moduleLastState = 'yes'; // Set shorcode's "first" state to "yes"

        moduleFirstState = 'yes'; // If modules column counter bigger than maximum
      } else if (currPerRow > maxPerRow) {
        // Add classes to current and previous module
        jQuery(this).removeClass('dslc-last-col').addClass('dslc-first-col'); // Set modules column counter to the size of current module

        currPerRow = module_size; // Set shortcode's "first" state to "yes"

        moduleFirstState = 'yes';
      } // If modules column counter same as current module size


      if (currPerRow == module_size) {
        // Set shortcode's "first" attribute to yes
        moduleFirstState = 'yes'; // Apply classes to current and previous column

        jQuery(this).removeClass('dslc-last-col').addClass('dslc-first-col');
      }

      try {
        // Get module's LC data
        moduleCode = dslc_module[0].querySelector('.dslca-module-code').value;
      } catch (err) {
        console.info('No DSLC code found in module: ' + dslc_module[0].getAttribute('id'));
      }

      if ('' !== moduleCode) {
        // Add the module shortcode containing the data
        // composerCode = composerCode + '[dslc_module last="' + moduleLastState + '"]' + moduleCode + '[/dslc_module] ';
        var moduleCodeJSON = JSON.parse(moduleCode); // Add idicator for the last module in the row.

        moduleCodeJSON.last = moduleLastState; // RAW CODE CLEANUP: Clean the module code from keys with empty values.

        jQuery.each(moduleCodeJSON, function (index, el) {
          if (false === el || '' === el) {
            delete moduleCodeJSON[index];
          }

          if ('content' === index) {
            moduleCodeJSON[index] = el.replace(/\\'/g, "'");
          }

          if ('give_new_id' === index) {
            delete moduleCodeJSON[index];
          }
        }); // Put optimized code back into the hidden textarea.

        dslc_module[0].querySelector('.dslca-module-code').value = JSON.stringify(moduleCodeJSON); // Add the module JSON as array item

        moduleAreaJSON['content'].push(moduleCodeJSON);
      } // Fix bug with modules duplication if broken module saved.


      moduleCode = '';
    });
    modulesSectionJson['content'].push(moduleAreaJSON); // Close area shortcode
    // composerCode = composerCode + '[/dslc_modules_area] ';
  });
  var generatedCode = JSON.stringify(modulesSectionJson);
  return generatedCode;
};
/**
 * CODE GENERATION - Document Ready
 */

var setEventListeners = function setEventListeners() {
  /**
   * Hook - Save Page
   */
  jQuery(document).on('click', '.dslca-save-composer-hook', function (e) {
    e.preventDefault();
    console.log("dslca-save-composer-hook"); // If some saving action not already in progress

    if (!jQuery('body').hasClass('dslca-module-saving-in-progress') && !jQuery('body').hasClass('dslca-saving-in-progress')) {
      // Call the function to save
      dslc_save_composer();
    }
  });
  /**
   * Hook - Save Draft
   */

  jQuery(document).on('click', '.dslca-save-draft-composer-hook', function (e) {
    e.preventDefault(); // If some saving action not already in progress

    if (!jQuery('body').hasClass('dslca-module-saving-in-progress') && !jQuery('body').hasClass('dslca-saving-in-progress')) {
      // Call the function to save
      dslc_save_draft_composer();
    }
  });
};
/**
* Other - Generate Readable Content For Search
*/


function dslca_gen_content_for_search() {
  if (window.dslcDebug) console.log('dslca_gen_content_for_search'); // Vars

  var holder = document.getElementById('dslca-content-for-search');

  if (null === holder) {
    return;
  }

  var prevContent = holder.value;
  var content = ''; // Go through each content element

  var elements = LiveComposer.Builder.PreviewAreaWindow.document.querySelectorAll('#dslc-main .dslc-module-front [data-exportable-content]');

  if (undefined !== elements) {
    Array.prototype.forEach.call(elements, function (el, i) {
      // el - current DOM element, i – counter
      var extracted_html_code;

      if (el.getAttribute('data-exportable-content') !== '') {
        var wrapper_tag = el.getAttribute('data-exportable-content');
        extracted_html_code = '<' + wrapper_tag + '>' + el.innerHTML + '</' + wrapper_tag + '>';
      } else {
        extracted_html_code = el.innerHTML;
      }

      if (extracted_html_code !== null) {
        content += extracted_html_code.replace(/\s+/g, ' ').trim() + '\n';
      }
    });
  } // Set the value of the content field


  holder.value = content; // Used to show the publish button for pages made before this feature

  if (prevContent !== content) {
    window.dslc_show_publish_button();
  }
}
/**
 * Other - Generate code of editable content
 */


var editableContentCodeGeneration = function editableContentCodeGeneration(dslcField) {
  if (window.dslcDebug) console.log('editableContentCodeGeneration'); // In some rare cases we have the next error:
  // TypeError: undefined is not an object (evaluating 'dslcField.html().trim()...')

  if (undefined === dslcField) {
    return false;
  }

  var dslcModule, dslcContent, dslcFieldID;
  dslcModule = dslcField.closest('.dslc-module-front');
  dslcContent = dslcField.html().trim().replace(/<textarea/g, '<lctextarea').replace(/<\/textarea/g, '</lctextarea');
  dslcFieldID = dslcField.data('id');
  jQuery('.dslca-module-option-front[data-id="' + dslcFieldID + '"]', dslcModule).val(dslcContent);
};
var codeGenerationInitJS = function codeGenerationInitJS() {
  setEventListeners();
};

/***/ }),

/***/ "./js/src/editor/backend/dragndrop.js":
/*!********************************************!*\
  !*** ./js/src/editor/backend/dragndrop.js ***!
  \********************************************/
/*! exports provided: dragAndDropInit */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dragAndDropInit", function() { return dragAndDropInit; });
/* harmony import */ var _module_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./module.js */ "./js/src/editor/backend/module.js");
/* harmony import */ var sortablejs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sortablejs */ "./node_modules/sortablejs/modular/sortable.esm.js");
/**
 * UI - General - Initiate Drag and Drop Functonality
 */


var dragAndDropInit = function dragAndDropInit() {
  if (window.dslcDebug) console.log('dslc_drag_and_drop');
  var modulesSection, modulesArea, moduleID, moduleOutput; // Drag and Drop for module icons from the list of modules

  var modules_list = jQuery('.dslca-modules .dslca-section-scroller-content'); // Groups that can hold modules
  // jQuery(modules_list).each(function (i,e) {

  if (modules_list.length == 0) {
    modules_list = [document.createElement('div')];
  }

  var modules_list_sortable = sortablejs__WEBPACK_IMPORTED_MODULE_1__["default"].create(modules_list[0], {
    sort: false,
    // do not allow sorting inside the list of modules
    group: {
      name: 'modules',
      pull: 'clone',
      put: false
    },
    animation: 150,
    handle: '.dslca-module',
    draggable: '.dslca-module',
    // ghostClass: 'dslca-module-placeholder',
    chosenClass: 'dslca-module-dragging',
    scroll: true,
    // or HTMLElement
    scrollSensitivity: 150,
    // px, how near the mouse must be to an edge to start scrolling.
    scrollSpeed: 15,
    // px
    setData: function setData(dataTransfer, dragEl) {
      //dragEl – contains html of the draggable element like:
      //<div class="dslca-module dslca-scroller-item dslca-origin dslca-origin-General" data-id="DSLC_Button" data-origin="General" draggable="false" style="">
      // dataTransfer.setData('Text', dragEl.textContent);
      dataTransfer.setData(LiveComposer.Utils.msieversion() !== false ? 'Text' : 'text/html', dragEl.innerHTML);
    },
    // dragging started
    onStart: function onStart(
    /**Event*/
    evt) {
      evt.oldIndex; // element index within parent
      // jQuery( '.dslc-modules-area' ).sortable( "refreshPositions" );

      jQuery('body').removeClass('dslca-new-module-drag-not-in-progress').addClass('dslca-new-module-drag-in-progress');
      jQuery('body', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-new-module-drag-not-in-progress').addClass('dslca-new-module-drag-in-progress');
      jQuery('#dslc-header').addClass('dslca-header-low-z-index');
    },
    // dragging ended
    onEnd: function onEnd(
    /**Event*/
    evt) {
      evt.oldIndex; // element's old index within parent

      evt.newIndex; // element's new index within parent

      var itemEl = evt.item; // dragged HTML

      evt.preventDefault(); // evt.stopPropagation();
      //return false;
      // Prevent drop into modules listing

      if (jQuery(itemEl).closest('.dslca-section-scroller-content').length > 0) return false;
      jQuery('.dslca-options-hovered', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-options-hovered'); // Vars

      modulesArea = jQuery(itemEl.parentNode); //jQuery(this);

      moduleID = itemEl.dataset.id; // get value of data-id attr.

      window.dslc_generate_code();

      if (moduleID == 'DSLC_M_A' || jQuery('body').hasClass('dslca-module-drop-in-progress') || modulesArea.closest('#dslc-header').length || modulesArea.closest('#dslc-footer').length) {// nothing
      } else {
        jQuery('body').addClass('dslca-module-drop-in-progress'); // Add padding to modules area

        /*
        if ( modulesArea.hasClass('dslc-modules-area-not-empty') )
        	modulesArea.animate({ paddingBottom : 50 }, 150);
        */
        // TODO: Optimize expensive ajax call in this function!
        // Load Output

        Object(_module_js__WEBPACK_IMPORTED_MODULE_0__["moduleOutputDefault"])(moduleID, function (response) {
          // Append Content
          moduleOutput = response.output; // Remove extra padding from area
          // modulesArea.css({ paddingBottom : 0 });
          // Add output
          // TODO: optimize jQuery in the string below

          var dslcJustAdded = LiveComposer.Builder.Helpers.insertModule(moduleOutput, jQuery('.dslca-module', modulesArea));
          setTimeout(function () {
            LiveComposer.Builder.PreviewAreaWindow.dslc_masonry();
            jQuery('body').removeClass('dslca-module-drop-in-progress');
          }, 700); // "Show" no content text // Not used anymore?
          // jQuery('.dslca-no-content-primary', modulesArea ).css({ opacity : 1 });
          // "Show" modules area management

          jQuery('.dslca-modules-area-manage', modulesArea).css({
            visibility: 'visible'
          }); // Generete

          LiveComposer.Builder.PreviewAreaWindow.dslc_carousel();
          LiveComposer.Builder.PreviewAreaWindow.dslc_tabs();
          LiveComposer.Builder.PreviewAreaWindow.dslc_init_accordion();
          window.dslc_generate_code(); // Show publish

          window.dslc_show_publish_button(); // LiveComposer.Builder.UI.initInlineEditors();
        }); // Loading animation
        // Show loader – Not used anymore.
        // jQuery('.dslca-module-loading', modulesArea).show();
        // Change module icon to the spinning loader.

        jQuery(itemEl).find('.dslca-icon').attr('class', '').attr('class', 'dslca-icon dslc-icon-refresh dslc-icon-spin'); // Hide no content text // Not used anymore?
        // jQuery('.dslca-no-content-primary', modulesArea).css({ opacity : 0 });
        // Hide modules area management

        jQuery('.dslca-modules-area-manage', modulesArea).css({
          visibility: 'hidden'
        }); // Animate loading

        /*
        var randomLoadingTime = Math.floor(Math.random() * (100 - 50 + 1) + 50) * 100;
        jQuery('.dslca-module-loading-inner', modulesArea).css({ width : 0 }).animate({
        	width : '100%'
        }, randomLoadingTime, 'linear' );
        */
      }

      LiveComposer.Builder.UI.stopScroller();
      jQuery('body').removeClass('dslca-new-module-drag-in-progress').addClass('dslca-new-module-drag-not-in-progress');
      jQuery('body', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-new-module-drag-in-progress').addClass('dslca-new-module-drag-not-in-progress');
      jQuery('#dslc-header').removeClass('dslca-header-low-z-index');
    },
    // Element is dropped into the list from another list
    onAdd: function onAdd(
    /**Event*/
    evt) {
      var itemEl = evt.item; // dragged HTMLElement

      evt.from; // previous list
      // + indexes from onEnd
      // evt.preventDefault();
    },
    // Changed sorting within list
    onUpdate: function onUpdate(
    /**Event*/
    evt) {
      var itemEl = evt.item; // dragged HTMLElement
      // + indexes from onEnd

      window.dslc_show_publish_button(); // evt.preventDefault();
    },
    // Called by any change to the list (add / update / remove)
    onSort: function onSort(
    /**Event*/
    evt) {
      // same properties as onUpdate
      evt.preventDefault(); // evt.stopPropagation(); return false;
    },
    // Element is removed from the list into another list
    onRemove: function onRemove(
    /**Event*/
    evt) {// same properties as onUpdate
    },
    // Attempt to drag a filtered element
    onFilter: function onFilter(
    /**Event*/
    evt) {
      var itemEl = evt.item; // HTMLElement receiving the `mousedown|tapstart` event.
    },
    // Event when you move an item in the list or between lists
    onMove: function onMove(
    /**Event*/
    evt) {
      // Example: http://jsbin.com/tuyafe/1/edit?js,output
      evt.dragged; // dragged HTMLElement

      evt.draggedRect; // TextRectangle {left, top, right и bottom}

      evt.related; // HTMLElement on which have guided

      evt.relatedRect; // TextRectangle
      // return false; — for cancel

      jQuery(evt.to).addClass('dslca-options-hovered');
    }
  });
};

/***/ }),

/***/ "./js/src/editor/backend/events.js":
/*!*****************************************!*\
  !*** ./js/src/editor/backend/events.js ***!
  \*****************************************/
/*! exports provided: eventsInit */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "eventsInit", function() { return eventsInit; });
/**
 * The place to do all the events bindings.
 */
var eventsInit = function eventsInit() {
  console.log("eventsInit:"); // Parent page events.

  document.addEventListener('click', function (event) {
    console.log("PARENT event.target:");
    console.log(event.target);

    if (event.target.matches('[data-event="modal-wysiwyg-cancel"]')) {
      // Create a new "Modal Cancel" event
      var modalWysiwygCancel = new CustomEvent('modalWysiwygCancel', {
        detail: event.target
      });
      document.dispatchEvent(modalWysiwygCancel);
    }

    if (event.target.matches('[data-event="modal-wysiwyg-confirm"]')) {
      // Create a new "Modal Cancel" event
      var modalWysiwygConfirm = new CustomEvent('modalWysiwygConfirm', {
        detail: event.target
      });
      document.dispatchEvent(modalWysiwygConfirm);
    }
  }, false); // Preview iframe events.

  LiveComposer.Builder.PreviewAreaWindow.document.addEventListener('click', function (event) {
    event.preventDefault();
    console.log("iFRAME event.target:");
    console.log(event.target);

    if (event.target.matches('[data-event="module-edit"]')) {
      // Create a new "Open Module Editing" event
      var moduleEdit = new CustomEvent('moduleEdit', {
        detail: event.target
      });
      document.dispatchEvent(moduleEdit);
    }

    if (event.target.matches('[data-event="module-duplicate"]')) {
      // Create a new "Duplicate Module" event
      var moduleDuplicate = new CustomEvent('moduleDuplicate', {
        detail: event.target
      });
      document.dispatchEvent(moduleDuplicate);
    }

    if (event.target.matches('[data-event="module-delete"]')) {
      // Create a new "Delete Module" event
      var moduleDelete = new CustomEvent('moduleDelete', {
        detail: event.target
      });
      document.dispatchEvent(moduleDelete);
    }

    if (event.target.matches('.dslca-change-width-module-options [data-size]')) {
      // Create a new "Change Module Width" event
      var moduleChangeWidth = new CustomEvent('moduleChangeWidth', {
        detail: event.target
      });
      document.dispatchEvent(moduleChangeWidth);
    }

    if (event.target.matches('[data-event="wysiwyg-edit"]')) {
      // Create a new "Module WYSIWYG Editing" event
      var wysiwygEdit = new CustomEvent('wysiwygEdit', {
        detail: event.target
      });
      document.dispatchEvent(wysiwygEdit);
    }
  }, false);
};

/***/ }),

/***/ "./js/src/editor/backend/index.js":
/*!****************************************!*\
  !*** ./js/src/editor/backend/index.js ***!
  \****************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _templates_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./templates.js */ "./js/src/editor/backend/templates.js");
/* harmony import */ var _uigeneral_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./uigeneral.js */ "./js/src/editor/backend/uigeneral.js");
/* harmony import */ var _sectionscontainer_class_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sectionscontainer.class.js */ "./js/src/editor/backend/sectionscontainer.class.js");
/* harmony import */ var _settings_panel_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./settings.panel.js */ "./js/src/editor/backend/settings.panel.js");
/* harmony import */ var _sections_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./sections.js */ "./js/src/editor/backend/sections.js");
/* harmony import */ var _dragndrop_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./dragndrop.js */ "./js/src/editor/backend/dragndrop.js");
/* harmony import */ var _codegeneration_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./codegeneration.js */ "./js/src/editor/backend/codegeneration.js");
/* harmony import */ var _scroller_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./scroller.js */ "./js/src/editor/backend/scroller.js");
/* harmony import */ var _utils_class_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils.class.js */ "./js/src/editor/backend/utils.class.js");
/* harmony import */ var _modalwindow_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./modalwindow.js */ "./js/src/editor/backend/modalwindow.js");
/* harmony import */ var _module_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./module.js */ "./js/src/editor/backend/module.js");
/* harmony import */ var _presets_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./presets.js */ "./js/src/editor/backend/presets.js");
/* harmony import */ var _events_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./events.js */ "./js/src/editor/backend/events.js");
/**
 * Main builder file
 */













var dslcDebug = false; // dslcDebug = true;
// Global Plugin Object

window.LiveComposer = {
  Builder: {
    Elements: {},
    UI: {},
    Actions: {},
    Flags: {},
    PreviewFrame: {},
    Helpers: {}
  },
  Production: {},
  Utils: {}
};

(function () {
  LiveComposer.Builder.Flags = {
    windowScroller: false,
    panelOpened: false,
    // Settings panel opened
    uiHidden: false,
    // ex composer-hidden
    modalOpen: false,
    // Used to prevent multiple code generation when
    // cancelling row edits
    generate_code_after_row_changed: true
  };
  LiveComposer.Builder.Actions = {
    postponed_actions_queue: {},
    add_postponed_action: function add_postponed_action(action_name) {
      if (action_name === undefined) {
        return;
      }

      if (isNaN(this.postponed_actions_queue[action_name])) {
        this.postponed_actions_queue[action_name] = 0;
      }

      this.postponed_actions_queue[action_name] += 1;
    },
    release_postponed_actions: function release_postponed_actions() {
      var self = this;
      jQuery.each(this.postponed_actions_queue, function (index, value) {
        if (1 < value) {
          self.postponed_actions_queue[index] -= 1;
        } else if (1 == value) {
          window[index](); // Run function with action name

          self.postponed_actions_queue[index] -= 1;
        }
      });
    },
    // LiveComposer.Builder.Actions.optionsChanged() - if calling from parent.
    // parent.LiveComposer.Builder.Actions.optionsChanged() - if calling from iframe.
    optionsChanged: function optionsChanged() {
      window.dslc_show_publish_button();
    }
    /**
     * Inserts module fixing inline scripts bug
     *
     * @param {string} moduleHTML
     * @param {string} afterObject after what module should be inserted
     *
     * @return {DOM} inserted object
     */

  };

  LiveComposer.Builder.Helpers.insertModule = function (moduleHTML, afterObject) {
    var newModule = jQuery(moduleHTML),
        afterObject = jQuery(afterObject);
    var scripts = [];
    newModule.find('script').each(function () {
      scripts.push(this.innerHTML);
      this.parentNode.removeChild(this);
    }); // Insert 'updated' module output after module we are editing.
    // && Delete 'old' instance of the module we are editing.

    afterObject.after(newModule).remove();
    scripts.forEach(function (item) {
      var script = LiveComposer.Builder.PreviewAreaDocument[0].createElement('script');
      script.innerHTML = item;
      script.type = 'text/javascript';
      LiveComposer.Builder.PreviewAreaDocument[0].getElementById(newModule[0].id).appendChild(script);
    });
    scripts = null;
    afterObject = null;
    return newModule;
  };
})();
/** Wait till tinyMCE loaded */


window.previewAreaTinyMCELoaded = function (windowObj) {
  console.log("window.previewAreaTinyMCELoaded!");
  LiveComposer.Builder.PreviewAreaWindow = windowObj;
  LiveComposer.Builder.PreviewAreaDocument = jQuery(windowObj.document); // Disable WP admin bar in editing mode

  jQuery('#wpadminbar', LiveComposer.Builder.PreviewAreaDocument).remove(); // LiveComposer.Builder.UI.initInlineEditors();

  Object(_uigeneral_js__WEBPACK_IMPORTED_MODULE_1__["fixContenteditable"])();
  Object(_templates_js__WEBPACK_IMPORTED_MODULE_0__["templatesPanelInit"])();
  Object(_settings_panel_js__WEBPACK_IMPORTED_MODULE_3__["settingsPanelInit"])();
  Object(_sections_js__WEBPACK_IMPORTED_MODULE_4__["sectionsInit"])();
  var mainDraggable = LiveComposer.Builder.PreviewAreaDocument.find("#dslc-main").eq(0)[0];
  new _sectionscontainer_class_js__WEBPACK_IMPORTED_MODULE_2__["CSectionsContainer"](mainDraggable);
  jQuery(document).trigger('editorFrameLoaded');
  Object(_dragndrop_js__WEBPACK_IMPORTED_MODULE_5__["dragAndDropInit"])();
  Object(_codegeneration_js__WEBPACK_IMPORTED_MODULE_6__["codeGenerationInitJS"])();
  window.dslc_generate_code(); // Catch keypress events (from both parent and iframe) to add keyboard support

  Object(_uigeneral_js__WEBPACK_IMPORTED_MODULE_1__["keypressEvents"])();
  Object(_scroller_js__WEBPACK_IMPORTED_MODULE_7__["initPreviewAreaScroller"])();
  Object(_modalwindow_js__WEBPACK_IMPORTED_MODULE_9__["modalwindowInitJS"])();
  Object(_module_js__WEBPACK_IMPORTED_MODULE_10__["moduleInitJS"])();
  Object(_utils_class_js__WEBPACK_IMPORTED_MODULE_8__["untilsInitJs"])();
  Object(_presets_js__WEBPACK_IMPORTED_MODULE_11__["presetsInit"])();
  Object(_events_js__WEBPACK_IMPORTED_MODULE_12__["eventsInit"])();
}; // Disable the prompt ( are you sure ) on refresh


window.onbeforeunload = function () {
  return;
};

/***/ }),

/***/ "./js/src/editor/backend/modalwindow.class.js":
/*!****************************************************!*\
  !*** ./js/src/editor/backend/modalwindow.class.js ***!
  \****************************************************/
/*! exports provided: CModalWindow */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CModalWindow", function() { return CModalWindow; });
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/**
 * Modal Window Class file
 */

/**
 * Shows modal window
 *
 * @param {object} params
 * @params.title         {string} - modal window title
 * @params.content       {string}- modal window description
 * @params.confirm       {function} - modal window confirm action
 * @params.cancel        {function} - modal window cancel action
 * @params.cancel_title  {string} - modal window cancel title
 * @params.confirm_title {string} - modal window confirm title
 * @params.ok_title {string} - modal window OK title
 */
var CModalWindow = function CModalWindow(params) {
  if (_typeof(params) != 'object' || LiveComposer.Builder.Flags.modalOpen === true) return false;
  var self = this; // Show Modal Window

  var modalWindowWrap = '<div class="dslca-prompt-modal dslca-prompt-modal-active">' + '<div class="dslca-prompt-modal-content"><div class="dslca-prompt-modal-msg">' + '<span class="dslca-prompt-modal-title">' + params.title + '</span>' + '<span class="dslca-prompt-modal-descr">' + params.content + '</span></div>';
  var modalWindowActions = '';

  if (params.confirm || params.cancel) {
    modalWindowActions = '<div class="dslca-prompt-modal-actions">' + '<a href="#" class="dslca-prompt-modal-confirm-hook"><span class="dslc-icon dslc-icon-ok">' + '</span>' + (params.confirm_title ? params.confirm_title : 'Confirm') + '</a><span class="dslca-prompt-modal-cancel-hook"><span class="dslc-icon dslc-icon-remove">' + '</span>' + (params.cancel_title ? params.cancel_title : 'Cancel') + '</span></div>';
  } else {
    modalWindowActions = '<div class="dslca-prompt-modal-actions">' + '<a href="#" class="dslca-prompt-modal-confirm-hook"><span class="dslc-icon dslc-icon-ok">' + '</span>' + (params.ok_title ? params.ok_title : 'OK') + '</a></div>';
  }

  modalWindowWrap += modalWindowActions + '</div>';
  modalWindowWrap = jQuery(modalWindowWrap);
  if (typeof params.confirm != 'function') params.confirm = function () {};
  if (typeof params.cancel != 'function') params.cancel = function () {}; // Confirm handler (function)

  modalWindowWrap.find('.dslca-prompt-modal-confirm-hook').click(function (e) {
    e.stopPropagation();
    modalWindowWrap.find('.dslca-prompt-modal-content').animate({
      top: '55%'
    }, 400);
    modalWindowWrap.animate({
      opacity: 0
    }, 400, function () {
      params.confirm();
      LiveComposer.Builder.Flags.modalOpen = false;
      jQuery(this).remove(); // – moved here as it prevent some JS to get value on time
    });
    return false;
  }); // Cancel handler (function)

  modalWindowWrap.find('.dslca-prompt-modal-cancel-hook').click(function (e) {
    e.stopPropagation();
    modalWindowWrap.find('.dslca-prompt-modal-content').animate({
      top: '55%'
    }, 400);
    modalWindowWrap.animate({
      opacity: 0
    }, 400, function () {
      jQuery(this).remove();
      LiveComposer.Builder.Flags.modalOpen = false;
      params.cancel();
    });
    return false;
  });
  modalWindowWrap.hide();
  jQuery("body").append(modalWindowWrap);
  modalWindowWrap.css({
    opacity: 0
  }).show().animate({
    opacity: 1
  }, 400); // Animate modal

  modalWindowWrap.find('.dslca-prompt-modal-content').css({
    top: '55%'
  }).animate({
    top: '50%'
  }, 400);
  LiveComposer.Builder.Flags.modalOpen = true;
};

/***/ }),

/***/ "./js/src/editor/backend/modalwindow.js":
/*!**********************************************!*\
  !*** ./js/src/editor/backend/modalwindow.js ***!
  \**********************************************/
/*! exports provided: hideModal, confirmClose, modalwindowInitJS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hideModal", function() { return hideModal; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "confirmClose", function() { return confirmClose; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "modalwindowInitJS", function() { return modalwindowInitJS; });
/* harmony import */ var _codegeneration_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./codegeneration.js */ "./js/src/editor/backend/codegeneration.js");
/*********************************
 *
 * = UI - MODAL =
 * Note: Used for the templates save/export/import and icons
 *
 * - dslc_show_modal ( Show Modal )
 * - dslc_hide_modal ( Hide Modal )
 *
 ***********************************/

/**
 * MODAL - Show
 *
 * @param {Object} hook - Button that was clicked to open modal
 * @param {string} modal - CSS address of the modal, like '.modal-icons'
 */

function dslc_show_modal(hook, modal) {
  if (typeof dslcDebug !== 'undefined' && dslcDebug) console.log('dslc_show_modal');

  if (jQuery('.dslca-modal:visible').length) {
    // If a modal already visibile hide it
    hideModal('', jQuery('.dslca-modal:visible'));
  } // Vars


  var modal = jQuery(modal); // Calc popup height

  var containerHeight = jQuery('.dslca-container').height();
  modal.outerHide({
    clbk: function clbk() {
      hideModal('', jQuery('.dslca-modal:visible'));
    }
  }); // Vars ( Calc Offset )

  var position = jQuery(hook).position(),
      diff = modal.outerWidth() / 2 - hook.outerWidth() / 2,
      offset = position.left - diff; // Show Modal

  modal.css({
    left: offset
  });
  jQuery(".dslca-prompt-modal-custom").insertAfter(modal);

  if (jQuery(".dslca-prompt-modal-custom").length > 0) {
    jQuery(".dslca-prompt-modal-custom").fadeIn();
  }

  modal.addClass('dslca-modal-open').show(); // Animate Modal
  // modal.css({
  // '-webkit-animation-name' : 'dslcBounceIn',
  // '-moz-animation-name' : 'dslcBounceIn',
  // 'animation-name' : 'dslcBounceIn',
  // 'animation-duration' : '0.6s',
  // '-webkit-animation-duration' : '0.6s'
  // }).fadeIn(600);
}
/**
 * MODAL - Hide
 */
// ex. dslc_hide_modal


var hideModal = function hideModal(hook, modal) {
  if (typeof dslcDebug !== 'undefined' && dslcDebug) console.log('hideModal'); // Vars

  var modal = jQuery(modal); // Hide ( with animation )

  modal.outerHide('destroy');
  modal.hide();

  if (jQuery(".dslca-prompt-modal-custom").length > 0) {
    jQuery(".dslca-prompt-modal-custom").fadeOut();
  }

  modal.removeClass('dslca-modal-open');
  /*
  modal.css({
  	'-webkit-animation-name' : 'dslcBounceOut',
  	'-moz-animation-name' : 'dslcBounceOut',
  	'animation-name' : 'dslcBounceOut',
  	'animation-duration' : '0.6s',
  	'-webkit-animation-duration' : '0.6s'
  }).fadeOut(600);
  */
}; // Hide if clicked outside of modal

/*jQuery(document).mouseup(function (e) {
		var container = jQuery(".dslca-modal-open");

		if (!container.is(e.target) // if the target of the click isn't the container...
		&& container.has(e.target).length === 0) // ... nor a descendant of the container
		{
		container.hide();
		}
});*/

/**
 * MODAL - Document Ready
 */

jQuery(document).ready(function ($) {
  /**
   * Hook - Show Modal
   */
  jQuery(document).on('click', '.dslca-open-modal-hook', function (e) {
    e.preventDefault();
    var modal = jQuery(this).data('modal');
    dslc_show_modal(jQuery(this), modal);
  });
  /**
   * Hook - Hide Modal
   */

  jQuery(document).on('click', '.dslca-close-modal-hook', function (e) {
    e.preventDefault();

    if (!jQuery(this).hasClass('dslca-action-disabled')) {
      var modal = jQuery(this).data('modal');
      hideModal(jQuery(this), modal);
    }
  });
});
/*********************************
 *
 * 5) = UI - PROMPT MODAL =
 *
 * - dslc_js_confirm
 * - dslc_js_confirm_close
 *
 ***********************************/

function dslc_js_confirm(dslcID, dslcContent, dslcTarget) {
  if (typeof dslcDebug !== 'undefined' && dslcDebug) console.log('dslc_js_confirm'); // Add "active" class

  jQuery('.dslca-prompt-modal').addClass('dslca-prompt-modal-active'); // Add the ID of current event

  jQuery('.dslca-prompt-modal').data('id', dslcID);
  jQuery('.dslca-prompt-modal').data('target', dslcTarget); // Add modal content

  jQuery('.dslca-prompt-modal-msg').html(dslcContent); // Show modal

  jQuery('.dslca-prompt-modal').css({
    opacity: 0
  }).show().animate({
    opacity: 1
  }, 400); // Animate modal

  jQuery('.dslca-prompt-modal-content').css({
    top: '55%'
  }).animate({
    top: '50%'
  }, 400);
} // ex. dslc_js_confirm_close


var confirmClose = function confirmClose() {
  if (typeof dslcDebug !== 'undefined' && dslcDebug) console.log('dslc_js_confirm_close'); // Remove "active" class

  jQuery('.dslca-prompt-modal').removeClass('dslca-prompt-modal-active'); // Hide modal

  jQuery('.dslca-prompt-modal').animate({
    opacity: 0
  }, 400, function () {
    jQuery(this).hide();
    jQuery('.dslca-prompt-modal-cancel-hook').show();
    jQuery('.dslca-prompt-modal-confirm-hook').html('<span class="dslc-icon dslc-icon-ok"></span>' + DSLCString.str_confirm);
  });
  jQuery('.dslca-prompt-modal-content').animate({
    top: '55%'
  }, 400);
};
/**
 * Hook - Confirm on Enter, Cancel on Esc
 */

window.dslc_modal_keypress_events = function dslc_modal_keypress_events(e) {
  // Enter ( confirm )
  if (e.which == 13) {
    if (jQuery('.dslca-prompt-modal-active').length) {
      jQuery('.dslca-prompt-modal-confirm-hook').trigger('click');
    } // Escape ( cancel )

  } else if (e.which == 27) {
    if (jQuery('.dslca-prompt-modal-active').length) {
      jQuery('.dslca-prompt-modal-cancel-hook').trigger('click');
    }
  }
};
/**
 * UI - PROMPT MODAL - Document Ready
 */


jQuery(document).ready(function ($) {
  jQuery(document).on('click', '.dslca-prompt-modal-cancel-hook', function (e) {
    e.preventDefault();
    var dslcAction = jQuery('.dslca-prompt-modal').data('id');
    var dslcTarget = jQuery('.dslca-prompt-modal').data('target');

    if (dslcAction == 'edit_in_progress') {
      /// MOVED
      dslc_module_options_cancel_changes(function () {
        dslcTarget.trigger('click');
      });
    } else if (dslcAction == 'delete_module') {}

    confirmClose();
    jQuery('.dslca-prompt-modal').data('id', '');
  });
  jQuery(document).on('click', '.dslca-prompt-modal-confirm-hook', function (e) {
    e.preventDefault();
    var dslcAction = jQuery('.dslca-prompt-modal').data('id');
    var dslcTarget = jQuery('.dslca-prompt-modal').data('target');
    var closeAtEnd = true;

    if (dslcAction == 'edit_in_progress') {
      /// MOVED
      dslc_module_options_confirm_changes(function () {
        dslcTarget.trigger('click');
      });
    } else if (dslcAction == 'disable_lc') {
      window.location = dslcTarget;
    } else if ('delete_module' === dslcAction) {
      /// MOVED
      var module = dslcTarget.closest('.dslc-module-front');
      dslc_module_delete(module);
    } else if ('delete_modules_area' === dslcAction) {
      var modulesArea = dslcTarget.closest('.dslc-modules-area');
      var parentSectionContainer = modulesArea.closest('.dslc-modules-section-inner');
      dslc_modules_area_delete(modulesArea);
    } else if (dslcAction == 'delete_modules_section') {
      /// MOVED
      dslc_row_delete(dslcTarget.closest('.dslc-modules-section'));
    } else if (dslcAction == 'export_modules_section') {} else if (dslcAction == 'import_modules_section') {
      /// MOVED
      dslc_row_import(jQuery('.dslca-prompt-modal textarea').val());
      jQuery('.dslca-prompt-modal-confirm-hook span').css({
        opacity: 0
      });
      jQuery('.dslca-prompt-modal-confirm-hook .dslca-loading').show();
      closeAtEnd = false;
    }

    if (closeAtEnd) {
      confirmClose();
    }

    jQuery('.dslca-prompt-modal').data('id', '');
  });
});
/**
 * DON'T MOVE THE FUNCTION BELLOW OUT OF THIS FILE!
 * Hide element when click on another element on the page
 */

jQuery.fn.outerHide = function (params) {
  var $ = jQuery;
  params = params ? params : {};
  var self = this;

  if ('destroy' == params) {
    jQuery(document).unbind('click.outer_hide');
    return false;
  }

  jQuery(document).bind('click.outer_hide', function (e) {
    if (jQuery(e.target).closest(self).length == 0 && e.target != self && $.inArray(jQuery(e.target)[0], jQuery(params.clickObj)) == -1 && jQuery(self).css('display') != 'none') {
      if (params.clbk) {
        params.clbk();
      } else {
        jQuery(self).hide();
      }
    }
  });
};
/**
 * Cancel changes in standard WP Editor (TinyMCE) WYSIWYG
 */


document.addEventListener('modalWysiwygCancel', function (customEvent) {
  jQuery('.dslca-wp-editor').hide();
  jQuery('.dslca-wysiwyg-active', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-wysiwyg-active');
});
/**
 * Confirm changes in standard WP Editor (TinyMCE) WYSIWYG
 */

document.addEventListener('modalWysiwygConfirm', function (customEvent) {
  console.log("modalWysiwygConfirm!");
  var module = jQuery('.dslca-wysiwyg-active', LiveComposer.Builder.PreviewAreaDocument).closest('.dslc-module-front');
  console.log("module:");
  console.log(module);
  console.log("tinymce:");
  console.log(tinymce);

  if (typeof tinymce != "undefined") {
    if (jQuery('#wp-dslcawpeditor-wrap').hasClass('tmce-active')) {
      var editor = tinymce.get('dslcawpeditor');
      var content = editor.getContent();
    } else {
      var content = jQuery('#dslcawpeditor').val();
    }

    console.log("content:");
    console.log(content);
    jQuery('.dslca-wp-editor').hide();
    jQuery('.dslca-wysiwyg-active', LiveComposer.Builder.PreviewAreaDocument).html(content);

    if (module.hasClass('dslc-module-handle-like-accordion')) {
      jQuery('.dslca-wysiwyg-active', LiveComposer.Builder.PreviewAreaDocument).siblings('.dslca-editable-content').html(content);
      jQuery('.dslca-wysiwyg-active', LiveComposer.Builder.PreviewAreaDocument).siblings('.dslca-accordion-plain-content').val(content);
      var dslcAccordion = module.find('.dslc-accordion');
      LiveComposer.Builder.PreviewAreaWindow.dslc_accordion_generate_code(dslcAccordion);
    } else if (module.hasClass('dslc-module-handle-like-tabs')) {
      jQuery('.dslca-wysiwyg-active', LiveComposer.Builder.PreviewAreaDocument).siblings('.dslca-editable-content').html(content);
      jQuery('.dslca-wysiwyg-active', LiveComposer.Builder.PreviewAreaDocument).siblings('.dslca-tab-plain-content').val(content);
      var dslcTabs = module.find('.dslc-tabs');
      LiveComposer.Builder.PreviewAreaWindow.dslc_tabs_generate_code(dslcTabs);
    }

    Object(_codegeneration_js__WEBPACK_IMPORTED_MODULE_0__["editableContentCodeGeneration"])(jQuery('.dslca-wysiwyg-active', LiveComposer.Builder.PreviewAreaDocument));
    jQuery('.dslca-wysiwyg-active', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-wysiwyg-active');
  } else {
    console.info('Live Composer: TinyMCE is undefined.');
  }
});
var modalwindowInitJS = function modalwindowInitJS() {};

/***/ }),

/***/ "./js/src/editor/backend/module.js":
/*!*****************************************!*\
  !*** ./js/src/editor/backend/module.js ***!
  \*****************************************/
/*! exports provided: getNewModuleId, moduleOutputDefault, moduleOutputAltered, moduleInitJS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getNewModuleId", function() { return getNewModuleId; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "moduleOutputDefault", function() { return moduleOutputDefault; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "moduleOutputAltered", function() { return moduleOutputAltered; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "moduleInitJS", function() { return moduleInitJS; });
/* harmony import */ var _modalwindow_class_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modalwindow.class.js */ "./js/src/editor/backend/modalwindow.class.js");
/* harmony import */ var _uigeneral_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./uigeneral.js */ "./js/src/editor/backend/uigeneral.js");
/* harmony import */ var animejs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! animejs */ "./node_modules/animejs/lib/anime.es.js");
/* harmony import */ var _codegeneration_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./codegeneration.js */ "./js/src/editor/backend/codegeneration.js");
/**
 *  Builder module functions & hooks
 *
 *   = MODULES =
 *
 * - dslc_module_delete ( Deletes a module )
 * - moduleDuplicate ( Copies a module )
 * - dslc_module_width_set ( Sets a width to module )
 * - dslc_module_options_show ( Show module options )
 * - dslc_module_options_section_filter ( Filter options section )
 * - dslc_module_options_hideshow_tabs ( Hide show tabs based on option choices )
 * - dslc_module_options_confirm_changes ( Confirm changes )
 * - dslc_module_options_cancel_changes ( Cancel changes )
 * - dslc_module_options_tooltip ( Helper tooltips for options )
 * - dslc_module_options_font ( Actions for font option type )
 * - dslc_module_options_icon ( Actions for icon font option type )
 * - dslc_module_options_icon_returnid (Fill icon option type with selected icon ID/name)
 * - dslc_module_options_text_align ( Actions for text align option type )
 * - dslc_module_options_checkbox ( Actions for checkbox option type )
 * - dslc_module_options_box_shadow ( Actions for box shadow option type )
 * - dslc_modules_options_box_shadow_color ( Initiate colorpicker for box shadow)
 * - dslc_module_options_text_shadow ( Actions for text shadow option type )
 * - dslc_modules_options_text_shadow_color ( Initiate colorpicker for text shadow)
 * - dslc_module_options_color ( Actions for color option type )
 * - dslc_module_output_default ( Get module output with default settings )
 * - dslc_module_output_altered ( Get module output when settings altered )
 *
 */





var actionAvail = function actionAvail() {
  if (LiveComposer.Builder.Flags.panelOpened) {
    LiveComposer.Builder.UI.shakePanelConfirmButton();
    return false;
  }

  return true;
};
/**
 * Hook - Duplicate Module
 */


document.addEventListener('moduleDuplicate', function (customEvent) {
  var elClicked = customEvent.detail; // customEvent.detail - is element being clicked passed as additional data in the event.
  // Check if action can be fired

  if (!actionAvail()) return false;

  if (!elClicked.classList.contains('dslca-action-disabled')) {
    moduleDuplicate(elClicked.closest('.dslc-module-front'));
  }
});
/**
 * Hook - Module Delete
 */

document.addEventListener('moduleDelete', function (customEvent) {
  var elClicked = customEvent.detail; // customEvent.detail - is element being clicked passed as additional data in the event.
  // Check if action can be fired

  if (!actionAvail()) return false;
  var self = this;

  if (!elClicked.classList.contains('dslca-action-disabled')) {
    Object(_modalwindow_class_js__WEBPACK_IMPORTED_MODULE_0__["CModalWindow"])({
      title: DSLCString.str_del_module_title,
      content: DSLCString.str_del_module_descr,
      confirm: function confirm() {
        var module = elClicked.closest('.dslc-module-front');
        dslc_module_delete(module);
      }
    });
  }
});
/**
 * Hook - Edit Module On Click ( Display Options Panel )
 */

document.addEventListener('moduleEdit', function (customEvent) {
  var elClicked = customEvent.detail; // customEvent.detail - is element being clicked passed as additional data in the event.

  var currentModuleEl = elClicked.closest('.dslc-module-front');
  var currentModuleId = currentModuleEl.dataset.module;
  var elEditing = LiveComposer.Builder.PreviewAreaWindow.document.querySelector('.dslca-module-being-edited');
  var row_edited = jQuery('.dslca-modules-section-being-edited', LiveComposer.Builder.PreviewAreaDocument).length; /// If settings panel opened - do not proceed.

  if (LiveComposer.Builder.Flags.uiHidden || null !== elEditing && elEditing.length > 0 || row_edited > 0) {
    if (elEditing != currentModuleEl) {
      LiveComposer.Builder.UI.shakePanelConfirmButton();
    }

    return false;
  }

  unmarkModulesBeingEdited(); // Add the "being edited" class to current module

  currentModuleEl.classList.add('dslca-module-being-edited'); // Call the function to display options

  dslc_module_options_show(currentModuleId); // Cover up other modules with semi transp cover

  LiveComposer.Builder.PreviewAreaWindow.document.body.classList.add('module-editing-in-progress');
});
/**
 * Hook - Edit Module On Click ( Display Options Panel ) - Fixed: https://github.com/live-composer/live-composer-page-builder/issues/895
 */

var adjustZindex = function adjustZindex() {
  LiveComposer.Builder.PreviewAreaDocument.on({
    mouseenter: function mouseenter() {
      jQuery('.dslca-modules-section-manage', LiveComposer.Builder.PreviewAreaDocument).css("z-index", "99998");
    },
    mouseleave: function mouseleave() {
      jQuery('.dslca-modules-section-manage', LiveComposer.Builder.PreviewAreaDocument).css("z-index", "999999");
    }
  }, '.dslca-change-width-module-hook, .dslc-module-front .dslca-module-manage');
};
/**
 * Hook - Set Module Width
 */


document.addEventListener('moduleChangeWidth', function (customEvent) {
  var elClicked = customEvent.detail; // customEvent.detail - is element being clicked passed as additional data in the event.

  var currentModuleEl = elClicked.closest('.dslc-module-front');

  if (!elClicked.classList.contains('dslca-action-disabled')) {
    var oldSize = currentModuleEl.dataset.dslcModuleSize;
    var newSize = elClicked.dataset.size; // Start expensive function only if the value changed.

    if (Number(oldSize) !== Number(newSize)) {
      dslc_module_width_set(currentModuleEl, newSize);
    }
  }
});
/**
 * Hook - Show code for altering module's defaults
 */

/*
FIXIT
LiveComposer.Builder.PreviewAreaDocument.on( 'click', '.dslca-module-get-defaults-hook', function(){

	// Vars
	var module = jQuery(this).closest('.dslc-module-front');
	var code = dslc_dm_get_defaults( module );

	// Generate modal's text
	var message = '<span class="dslca-prompt-modal-title">Module Defaults</span>'
		+ '<span class="dslca-prompt-modal-descr">The code bellow is used to alter the defaults.</span>'
		+ '<textarea></textarea><br><br>';

	// Hide modal's cancel button
	jQuery('.dslca-prompt-modal-cancel-hook').hide();

	// Show confirm button and change it to "OK"
	jQuery('.dslca-prompt-modal-confirm-hook').html('<span class="dslc-icon dslc-icon-ok"></span>OK');

	// Show the modal prompt
	dslc_js_confirm( 'dev_mode_get_default', message, module );
}); */

/**
 * Hook - Refresh Module
 * We have 'refresh' icon on blog posts grid and other post-based modules.
 * It's visible only when there are no posts to render.
 */

/*
FIXIT
LiveComposer.Builder.PreviewAreaDocument.on( 'click', '.dslca-refresh-module-hook', function(e){

	jQuery(this).css({
		'-webkit-animation-name' : 'dslcRotate',
		'-moz-animation-name' : 'dslcRotate',
		'animation-name' : 'dslcRotate',
		'animation-duration' : '0.6s',
		'-webkit-animation-duration' : '0.6s',
		'animation-iteration-count' : 'infinite',
		'-webkit-animation-iteration-count' : 'infinite'
	});
	jQuery(this).closest('.dslc-module-front').addClass('dslca-module-being-edited');
	moduleOutputAltered( function() {

		jQuery('.dslca-module-being-edited', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-module-being-edited');
	});
}); */

/**
 * Show WYSIWYG
 */

document.addEventListener('wysiwygEdit', function (customEvent) {
  var elClicked = customEvent.detail; // customEvent.detail - is element being clicked passed as additional data in the event.

  var currentModuleEl = elClicked.closest('.dslc-module-front'); // const editableEl = elClicked.querySelector('.dslca-editable-content');

  var idToEdit = elClicked.dataset.idToEdit;
  console.log("idToEdit:");
  console.log(idToEdit);
  var editableEl = currentModuleEl.querySelector('[data-edit-id="' + idToEdit + '"]');
  var content = editableEl.value;
  console.log("editableEl:");
  console.log(editableEl);
  console.log("content:");
  console.log(content); // var module = editable.closest('.dslc-module-front');

  if (undefined === content) {
    content = '';
  }

  console.log("currentModuleEl:");
  console.log(currentModuleEl);

  if (content.trim().length) {
    // Extract Content for current tab/accordion:

    /* if ( currentModuleEl.classList.contains('dslc-module-handle-like-accordion') || currentModuleEl.classList.contains('dslc-module-handle-like-tabs') ) {
    	const full_content_arr = content.split('(dslc_sep)');
    	if ( full_content_arr.length ) {
    		content = full_content_arr[idToEdit].trim();
    	}
    } */
    content = content.replace(/<lctextarea/g, '<textarea').replace(/<\/lctextarea/g, '</textarea');
  } // Restore shortcodes presentation.


  if (content.includes('%')) {
    content = content.replace(/%\(\(%/g, '[');
    content = content.replace(/%\)\)%/g, ']');
    content = content.replace(/%\(%/g, '[');
    content = content.replace(/%\)%/g, ']');
    content = content.replace(/%\{%/g, '[');
    content = content.replace(/%\}%/g, ']');
  } // Fill TinyMCE editor with extracted above content.


  if (typeof tinymce != 'undefined') {
    var editor = tinymce.get('dslcawpeditor');

    if (document.getElementById('wp-dslcawpeditor-wrap').classList.contains('tmce-active')) {
      editor.setContent(content, {
        format: 'html'
      });
    } else {
      document.getElementById('dslcawpeditor').value = content;
    }
    /* if ( ! currentModuleEl.classList.contains('dslca-module-being-edited') ) {
    	currentModuleEl.querySelector('.dslca-module-edit-hook').trigger('click');
    } */


    jQuery('.dslca-wp-editor').show();
    console.log("🛑editableEl:");
    console.log(editableEl);
    editableEl.classList.add('dslca-wysiwyg-active');
    jQuery('#dslcawpeditor_ifr, #dslcawpeditor').css({
      height: jQuery('.dslca-wp-editor').height() - 300
    });
  } else {
    console.info('Live Composer: TinyMCE is undefined.');
  }
}); // Editable Contents.

var editableContentTextEvents = function editableContentTextEvents() {
  // Preview iframe events.

  /* LiveComposer.Builder.PreviewAreaWindow.document.addEventListener('blur', function (event) {
  	// event.preventDefault();
  	console.log( "TYPE blur - event.target:" ); console.log( event.target );
  		if ( event.target.matches( '[data-event="module-edit"]' ) ) {
  		}
  });
  */

  /* 	LiveComposer.Builder.PreviewAreaWindow.document.addEventListener('keyup', function (event) {
  		// event.preventDefault();
  		console.log( "TYPE keyup - event.target:" ); console.log( event.target );
  
  		if ( event.target.matches( '[data-event="module-edit"]' ) ) {
  
  		}
  	});
   */
  LiveComposer.Builder.PreviewAreaDocument.on('blur', '.dslca-editable-content', function () {
    if (!LiveComposer.Builder.Flags.uiHidden && jQuery(this).data('type') == 'simple') {
      Object(_codegeneration_js__WEBPACK_IMPORTED_MODULE_3__["editableContentCodeGeneration"])(jQuery(this));
    }
  }).on('paste', '.dslca-editable-content:not(.inline-editor)', function () {
    if (!LiveComposer.Builder.Flags.uiHidden && jQuery(this).data('type') == 'simple') {
      var dslcRealInput = jQuery(this);
      setTimeout(function () {
        if (dslcRealInput.data('type') == 'simple') {
          dslcRealInput.html(dslcRealInput.text());
        }

        Object(_codegeneration_js__WEBPACK_IMPORTED_MODULE_3__["editableContentCodeGeneration"])(dslcRealInput);
      }, 100);
    }
  }).on('focus', '.dslca-editable-content', function () {
    if (jQuery('.dslca-module-being-edited', LiveComposer.Builder.PreviewAreaDocument).length > 0 && !jQuery(this).closest('.dslc-module-front').hasClass('dslca-module-being-edited')) {
      jQuery(this).trigger('blur');
    }
  }).on('keyup', '.dslca-editable-content', function () {
    if (jQuery(this).data('type') == 'simple') {
      jQuery(this).closest('.dslc-module-front').addClass('dslca-module-change-made');
    }
  });
};
/**
 * MODULES - Delete a Module
 */


function dslc_module_delete(module) {
  if (window.dslcDebug) console.log('dslc_delete_module');
  Object(_uigeneral_js__WEBPACK_IMPORTED_MODULE_1__["showSection"])('.dslca-modules');
  Object(animejs__WEBPACK_IMPORTED_MODULE_2__["default"])({
    targets: module,
    easing: 'easeOutExpo',
    scale: 0,
    opacity: 0,
    duration: 350,
    delay: 0,
    endDelay: 0,
    complete: function complete(anim) {
      // Remove module, regenerate code, show publish button
      module.parentNode.removeChild(module);
      window.dslc_generate_code();
      window.dslc_show_publish_button();
    }
  });
}

var unmarkModulesBeingEdited = function unmarkModulesBeingEdited() {
  // Remove being edited class if some module is being edited.
  var elEditing = LiveComposer.Builder.PreviewAreaWindow.document.querySelector('.dslca-module-being-edited');

  if (null !== elEditing) {
    elEditing.classList.remove('dslca-module-being-edited');
  }
};
/**
 * Modules - Copy a Module
 */


function moduleDuplicate(module) {
  if (window.dslcDebug) console.log('dslc_copy_module');
  unmarkModulesBeingEdited(); // Duplicate the module and append it to the same area

  var module_new = module.cloneNode(true);
  jQuery(module_new).appendTo(module.closest('.dslc-modules-area')).css({
    '-webkit-animation-name': 'none',
    '-moz-animation-name': 'none',
    'animation-name': 'none',
    'animation-duration': '0',
    '-webkit-animation-duration': '0',
    opacity: 0,
    top: -50
  }).addClass('dslca-module-being-edited'); // Generate new ID for the new module and change it in HTML/CSS of the module.

  getNewModuleId(module_new); // Module fully cloned. Finish the process.
  // Need to call this function to update last column class for the modules.

  window.dslc_generate_code(); // Fade in the module

  Object(animejs__WEBPACK_IMPORTED_MODULE_2__["default"])({
    targets: module_new,
    easing: 'easeOutExpo',
    // scale: 0,
    top: 0,
    opacity: 1,
    duration: 400,
    delay: 0,
    endDelay: 0,
    complete: function complete(anim) {
      module_new.classList.remove('dslca-module-being-edited');
    }
  });
  window.dslc_show_publish_button();
}
/**
 * Generate new ID for the module provided
 *
 * Search/Replace old module ID with new one in HTML/CSS of the module.
 *
 * @param DOM module Module that needs ID updated (new ID).
 * @return void
 */


var getNewModuleId = function getNewModuleId(module) {
  // Vars
  var dslc_module_id = LiveComposer.Utils.get_unique_id(); // Generate new module ID.

  var dslc_module_id_original = module.getAttribute('id'); // Original Module ID.
  // Update module ID in data attribute

  module.setAttribute('data-module-id', dslc_module_id); // Update module ID in id attribute of element

  module.setAttribute('id', 'dslc-module-' + dslc_module_id);
  /**
   * Search/Replace module id in the inline CSS
   */

  var inline_css_el = module.getElementsByTagName('style')[0];
  var inline_css_code = inline_css_el.textContent; // Update id attribute for <style> element with new value

  inline_css_el.setAttribute('id', '#css-for-dslc-module-' + dslc_module_id); // Search/Replace all occurrences of module ID in inline CSS

  inline_css_code = inline_css_code.split(dslc_module_id_original).join('dslc-module-' + dslc_module_id); // Put CSS code back into <style> element

  inline_css_el.textContent = inline_css_code; // Update module ID in raw base64 code (dslc_code) of the module

  LiveComposer.Utils.update_module_property_raw(module, 'module_instance_id', dslc_module_id);
};
/**
 * MODULES - Set Width
 */

function dslc_module_width_set(moduleEl, new_width) {
  if (window.dslcDebug) console.log('dslc_module_width_set'); // Generate new column class

  var newClass = 'dslc-' + new_width + '-col'; // Add new column class and change size "data"

  jQuery(moduleEl).removeClass('dslc-1-col dslc-2-col dslc-3-col dslc-4-col dslc-5-col dslc-6-col dslc-7-col dslc-8-col dslc-9-col dslc-10-col dslc-11-col dslc-12-col').addClass(newClass).data('dslc-module-size', new_width); //.addClass('dslca-module-being-edited'); – Deprecated
  // Change module size in element attribute

  moduleEl.setAttribute('data-dslc-module-size', new_width); // Update module size in raw base64 code (dslc_code) of the module

  LiveComposer.Utils.update_module_property_raw(moduleEl, 'dslc_m_size', new_width);
  LiveComposer.Builder.PreviewAreaWindow.dslc_masonry();
  window.dslc_generate_code();
  window.dslc_show_publish_button();
}
/**
 * MODULES - Show module options
 */


function dslc_module_options_show(moduleID) {
  if (window.dslcDebug) console.log('dslc_module_options_show');

  if (undefined === moduleID) {
    console.warn('No module ID defined in dslc_module_options_show function.');
  } // Vars


  var dslcModule = jQuery('.dslca-module-being-edited', LiveComposer.Builder.PreviewAreaDocument),
      dslcModuleOptions = jQuery('.dslca-module-options-front textarea', dslcModule),
      dslcDefaultSection = jQuery('.dslca-header').data('default-section'),
      pseudoPanel = jQuery(jQuery('#pseudo-panel').html());
  jQuery("#wpwrap").append(pseudoPanel); // Settings array for the Ajax call

  var dslcSettings = {};
  dslcSettings['action'] = 'dslc-ajax-display-module-options';
  dslcSettings['dslc'] = 'active';
  dslcSettings['dslc_module_id'] = moduleID;
  dslcSettings['dslc_post_id'] = jQuery('.dslca-container').data('data-post-id');
  dslcSettings.dslc_url_vars = LiveComposer.Utils.get_page_params(); // Go through each option to fill dslcSettings array
  // with current module setting values

  dslcModuleOptions.each(function () {
    // Vars
    var dslcOption = jQuery(this),
        dslcOptionID = dslcOption.data('id'),
        dslcOptionValue = dslcOption.val();

    if (dslcOptionValue.includes('%')) {
      // Restore shortcodes.
      dslcOptionValue = dslcOptionValue.replace(/%\(\(%/g, '[');
      dslcOptionValue = dslcOptionValue.replace(/%\)\)%/g, ']');
      dslcOptionValue = dslcOptionValue.replace(/%\(%/g, '[');
      dslcOptionValue = dslcOptionValue.replace(/%\)%/g, ']');
      dslcOptionValue = dslcOptionValue.replace(/%\{%/g, '[');
      dslcOptionValue = dslcOptionValue.replace(/%\}%/g, ']');
    } // Add option ID and value to the settings array


    dslcSettings[dslcOptionID] = dslcOptionValue;
  }); // Hide the save/cancel actions for text editor and show notification

  jQuery('.dslca-wp-editor-actions').hide();
  jQuery('.dslca-wp-editor-notification').show(); // Hide the publish button

  Object(_uigeneral_js__WEBPACK_IMPORTED_MODULE_1__["hidePublishButton"])(); // LiveComposer.Builder.UI.initInlineEditors();
  // Set up backup

  var moduleBackup = jQuery('.dslca-module-options-front', dslcModule).children().clone();
  LiveComposer.Builder.moduleBackup = moduleBackup;
  LiveComposer.Builder.Flags.panelOpened = true; // Show pseudo settings panel

  pseudoPanel.show();
  pseudoPanel.addClass('show'); // AJAX call to get options HTML

  jQuery.post(DSLCAjax.ajaxurl, dslcSettings, function (response) {
    // Hide pseudo panel
    pseudoPanel.remove(); // Show edit section

    Object(_uigeneral_js__WEBPACK_IMPORTED_MODULE_1__["showSection"])('.dslca-module-edit'); // Add the options

    if (!jQuery('body').hasClass('rtl')) {
      jQuery('.dslca-module-edit-options-inner').html(response.output);
    } else {
      jQuery('.dslca-module-edit-options-inner').html(response.output);
    }

    jQuery('.dslca-module-edit-options-tabs').html(response.output_tabs);
    var sectionsUsed = []; // – Array with tab ids to show for current module.

    /**
     * Go through each option and check its tab property.
     * Fill sectionsUsed array with ids of the tabs to display.
     * We don't want to display tabs with no options inside.
     */

    jQuery('.dslca-module-edit-options-inner .dslca-module-edit-option').each(function () {
      var currentOptionSection = jQuery(this).data('section'); // Check if this section is in the list of tabs to show.

      if (sectionsUsed.indexOf(currentOptionSection) == -1) {
        sectionsUsed.push(currentOptionSection);
      }
    });
    var tabs_total = sectionsUsed.length;

    for (var i = 0; i < tabs_total; i++) {
      // Show the tabs used by the current module.
      jQuery('.dslca-header .dslca-options-filter-hook[data-section="' + sectionsUsed[i] + '"]').show();
    } // Show the filter hooks
    // jQuery('.dslca-header .dslca-options-filter-hook').show();
    // Trigger click on first filter hook


    if (jQuery('.dslca-module-edit-option[data-section="' + dslcDefaultSection + '"]').length) {
      jQuery('.dslca-header .dslca-options-filter-hook[data-section="' + dslcDefaultSection + '"]').show();
      jQuery('.dslca-header .dslca-options-filter-hook[data-section="' + dslcDefaultSection + '"]').trigger('click');
    } else {
      jQuery('.dslca-header .dslca-options-filter-hook:first').hide();
      jQuery('.dslca-header .dslca-options-filter-hook:first').next('.dslca-options-filter-hook').trigger('click');
    } // Show the save/cancel actions


    jQuery('.dslca-module-edit-actions').show(); // Show the save/cancel actions for text editor and hide notification

    jQuery('.dslca-wp-editor-notification').hide();
    jQuery('.dslca-wp-editor-actions').show(); // Hide the section hooks

    jQuery('.dslca-header .dslca-go-to-section-hook').hide(); // Hide the row save/cancel actions

    jQuery('.dslca-row-edit-actions').hide();
    LiveComposer.Builder.UI.loadOptionsDeps();
  });
}
/**
 * MODULES - Module output default settings
 */


var moduleOutputDefault = function moduleOutputDefault(dslc_module_id, callback) {
  if (window.dslcDebug) console.log('moduleOutputDefault');
  jQuery.post(DSLCAjax.ajaxurl, {
    action: 'dslc-ajax-add-module',
    dslc: 'active',
    dslc_module_id: dslc_module_id,
    // ex. DSLC_Button
    dslc_post_id: jQuery('.dslca-container').data('post-id'),
    dslc_url_vars: LiveComposer.Utils.get_page_params(),
    dslc_new_module: true
  }, function (response) {
    callback(response);
  });
};
/**
 * MODULES - Redraw module output when settings altered
 */

var moduleOutputAltered = function moduleOutputAltered(callback) {
  if (window.dslcDebug) console.log('moduleOutputAltered');
  callback = typeof callback !== 'undefined' ? callback : false;
  var dslcModule = jQuery('.dslca-module-being-edited', LiveComposer.Builder.PreviewAreaDocument),
      dslc_module_id = dslcModule.data('module'),
      dslcModuleOptions = jQuery('.dslca-module-options-front textarea', dslcModule),
      dslcModuleInstanceID = dslcModule.data('module-id');
  /**
   * Generate code
   */

  var dslcSettings = {};
  dslcSettings['action'] = 'dslc-ajax-add-module';
  dslcSettings['dslc'] = 'active';
  dslcSettings['dslc_module_id'] = dslc_module_id;
  dslcSettings['dslc_module_instance_id'] = dslcModuleInstanceID;
  dslcSettings['dslc_post_id'] = jQuery('.dslca-container').data('post-id');
  if (dslcModule.hasClass('dslca-preload-preset')) dslcSettings['dslc_preload_preset'] = 'enabled';else dslcSettings['dslc_preload_preset'] = 'disabled';
  dslcModule.removeClass('dslca-preload-preset');
  dslcModuleOptions.each(function () {
    var dslcOption = jQuery(this);
    var dslcOptionID = dslcOption.data('id');
    var dslcOptionValue = dslcOption.val();
    dslcSettings[dslcOptionID] = dslcOptionValue;
  });
  dslcSettings.dslc_url_vars = LiveComposer.Utils.get_page_params();
  /**
   * Call AJAX for preview
   */

  jQuery.post(DSLCAjax.ajaxurl, dslcSettings, function (response) {
    var newModule = LiveComposer.Builder.Helpers.insertModule(response.output, dslcModule);
    newModule.addClass('dslca-module-being-edited');
    response = null;
    newModule = null; // TODO: Add new postponed action to run after all done
    // window.dslc_show_publish_button();

    LiveComposer.Builder.PreviewAreaWindow.dslc_carousel();
    LiveComposer.Builder.PreviewAreaWindow.dslc_masonry();
    LiveComposer.Builder.PreviewAreaWindow.dslc_tabs();
    LiveComposer.Builder.PreviewAreaWindow.dslc_init_accordion();
    /**
     * Create Custom Event/Hook
     *
     * Third-party developers should use it like this:
     * window.addEventListener('moduleOutputAltered', function (e) {
     * 	....
     * }, false);
     */

    var event = new Event('moduleOutputAltered'); // Dispatch the event.

    LiveComposer.Builder.PreviewAreaWindow.dispatchEvent(event);

    if (callback) {
      callback(response);
    }
  });
};
/**
 * MODULES - Reload a specific module
 */

function dslc_module_output_reload(dslcModule, callback) {
  if (window.dslcDebug) console.log('dslc_module_output_reload');
  callback = typeof callback !== 'undefined' ? callback : false;
  var dslc_module_id = dslcModule.data('module'),
      dslcModuleOptions = jQuery('.dslca-module-options-front textarea', dslcModule),
      dslcModuleInstanceID = dslcModule.data('module-id');
  /**
   * Generate code
   */

  var dslcSettings = {};
  dslcSettings['action'] = 'dslc-ajax-add-module';
  dslcSettings['dslc'] = 'active';
  dslcSettings['dslc_module_id'] = dslc_module_id;
  dslcSettings['dslc_module_instance_id'] = dslcModuleInstanceID;
  dslcSettings['dslc_post_id'] = jQuery('.dslca-container').data('post-id');
  dslcSettings['dslc_preload_preset'] = 'enabled';
  dslcModule.removeClass('dslca-preload-preset');
  dslcModuleOptions.each(function () {
    var dslcOption = jQuery(this);
    var dslcOptionID = dslcOption.data('id');
    var dslcOptionValue = dslcOption.val();
    dslcSettings[dslcOptionID] = dslcOptionValue;
  });
  /**
   * Loader
   */

  dslcModule.append('<div class="dslca-module-reloading"><span class="dslca-icon dslc-icon-spin dslc-icon-refresh"></span></div>');
  /**
   * Call AJAX for preview
   */

  jQuery.post(DSLCAjax.ajaxurl, dslcSettings, function (response) {
    dslcModule.after(response.output).next().addClass('dslca-module-being-edited');
    dslcModule.remove();
    window.dslc_generate_code();
    window.dslc_show_publish_button();
    LiveComposer.Builder.PreviewAreaWindow.dslc_carousel();
    LiveComposer.Builder.PreviewAreaWindow.dslc_masonry();
    LiveComposer.Builder.PreviewAreaWindow.dslc_tabs();
    LiveComposer.Builder.PreviewAreaWindow.dslc_init_accordion();

    if (callback) {
      callback(response);
    }

    jQuery('.dslca-module-being-edited', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-module-being-edited');
  });
}
/**
 * Other - Get Alter Module Defaults Code
 */


function dslc_dm_get_defaults(module) {
  if (window.dslcDebug) console.log('dslc_dm_get_defaults'); // The module code value

  var optionsCode = module.find('.dslca-module-code').val(); // Ajax call to get the plain PHP code

  jQuery.post(DSLCAjax.ajaxurl, {
    action: 'dslc-ajax-dm-module-defaults',
    dslc: 'active',
    dslc_modules_options: optionsCode
  }, function (response) {
    // Apply the plain PHP code to the textarea
    jQuery('.dslca-prompt-modal textarea').val(response.output);
  });
}
/**
 * Deprecated Functions and Fallbacks
 */


function dslc_copy_module(module) {
  moduleDuplicate(module);
}

function dslc_display_module_options(moduleID) {
  dslc_module_options_show(moduleID);
}

function dslc_preview_change(callback) {
  moduleOutputAltered(callback);
}

function dslc_reload_module(moduleID, callback) {
  dslc_module_output_reload(moduleID, callback);
}

var moduleInitJS = function moduleInitJS() {
  adjustZindex();
  editableContentTextEvents();
  console.log('module.js > moduleInitJS');
};

/***/ }),

/***/ "./js/src/editor/backend/modulearea.class.js":
/*!***************************************************!*\
  !*** ./js/src/editor/backend/modulearea.class.js ***!
  \***************************************************/
/*! exports provided: ModuleArea */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModuleArea", function() { return ModuleArea; });
/* harmony import */ var sortablejs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sortablejs */ "./node_modules/sortablejs/modular/sortable.esm.js");
/**
 * DSLC_ModuleArea class
 */



var ModuleArea = function ModuleArea(elem) {
  var self = this;
  this.section = jQuery(elem).closest('.dslc-modules-section');
  this.elem = elem;
  /** Set observer to change elems class */

  this.observer = new mqMutationObserver(elem, function () {
    var classList = self.elem.classList;

    if (elem.querySelectorAll('.dslc-module-front').length == 0) {
      classList.add('dslc-modules-area-empty');
      classList.remove('dslc-modules-area-not-empty');
    } else {
      classList.remove('dslc-modules-area-empty');
      classList.add('dslc-modules-area-not-empty');
    }
  }, {
    childList: true
  });
  /**
   * Make MODULES inside the Modules Area draggable/sortable
   */

  this.sortable = sortablejs__WEBPACK_IMPORTED_MODULE_0__["default"].create(elem, {
    group: 'modules',
    animation: 350,
    handle: '.dslca-move-module-hook',
    draggable: '.dslc-module-front',
    ghostClass: 'dslca-module-ghost',
    chosenClass: 'dslca-module-dragging',
    scroll: true,
    // or HTMLElement
    scrollSensitivity: 150,
    // px, how near the mouse must be to an edge to start scrolling.
    scrollSpeed: 15,
    // px
    setData: function setData(dataTransfer, dragEl) {
      dataTransfer.setData(LiveComposer.Utils.msieversion() !== false ? 'Text' : 'text/html', dragEl.innerHTML);
    },
    // dragging started
    onStart: function onStart(evt) {
      evt.oldIndex; // element index within parent

      jQuery('body').removeClass('dslca-drag-not-in-progress').addClass('dslca-drag-in-progress');
      jQuery('body', LiveComposer.Builder.PreviewAreaWindow.document).removeClass('dslca-drag-not-in-progress').addClass('dslca-drag-in-progress');
    },
    // dragging ended
    onEnd: function onEnd(evt) {
      evt.oldIndex; // element's old index within parent

      evt.newIndex; // element's new index within parent

      evt.preventDefault();
      window.dslc_generate_code();
      LiveComposer.Builder.UI.stopScroller();
      jQuery('body').removeClass('dslca-drag-in-progress').addClass('dslca-drag-not-in-progress');
      jQuery('body', LiveComposer.Builder.PreviewAreaWindow.document).removeClass('dslca-drag-in-progress').addClass('dslca-drag-not-in-progress');
    },
    // Element is dropped into the list from another list
    onAdd: function onAdd(evt) {
      var itemEl = evt.item; // dragged HTMLElement

      evt.from; // previous list
      // If container/column/modules area droped.

      if (jQuery(itemEl).data('id') == 'DSLC_M_A') {
        dslc_modules_area_add(jQuery(self.section).find('.dslc-modules-section-wrapper .dslc-modules-section-inner'));
        itemEl.remove();
      } // + indexes from onEnd
      // evt.preventDefault();
      // evt.stopPropagation(); return false;

    },
    // Changed sorting within list
    onUpdate: function onUpdate(evt) {
      var itemEl = evt.item; // dragged HTMLElement
      // + indexes from onEnd
      // evt.preventDefault();
      // evt.stopPropagation(); return false;

      window.dslc_show_publish_button();
    },
    // Called by any change to the list (add / update / remove)
    onSort: function onSort(evt) {// same properties as onUpdate
      // evt.preventDefault();
      // evt.stopPropagation(); return false;
    },
    // Element is removed from the list into another list
    onRemove: function onRemove(evt) {// same properties as onUpdate
    },
    // Attempt to drag a filtered element
    onFilter: function onFilter(evt) {
      var itemEl = evt.item; // HTMLElement receiving the `mousedown|tapstart` event.
    },
    // Event when you move an item in the list or between lists
    onMove: function onMove(evt) {
      // Example: http://jsbin.com/tuyafe/1/edit?js,output
      evt.dragged; // dragged HTMLElement

      evt.draggedRect; // TextRectangle {left, top, right и bottom}

      evt.related; // HTMLElement on which have guided

      evt.relatedRect; // TextRectangle
      // return false; — for cancel
      // Add here the function to update underlying class

      if (jQuery('.dslc-modules-area-empty').find('.dslc-module-front').length > 0) {
        jQuery(this).removeClass('dslc-modules-area-empty').addClass('dslc-modules-area-not-empty');
        jQuery('.dslca-no-content:not(:visible)', this).show().css({
          '-webkit-animation-name': 'dslcBounceIn',
          '-moz-animation-name': 'dslcBounceIn',
          'animation-name': 'dslcBounceIn',
          'animation-duration': '0.6s',
          '-webkit-animation-duration': '0.6s',
          padding: 0
        }).animate({
          padding: '35px 0'
        }, 300, function () {});
      }
    }
  }); // Mark module area as initialized

  jQuery(elem).attr('data-jsinit', 'initialized');
  /** Sort option setter */

  jQuery(document).on('LC.sortableOff', function () {
    self.sortable && self.sortable.option && self.sortable.option('disabled', true);
  });
  jQuery(document).on('LC.sortableOn', function () {
    self.sortable && self.sortable.option && self.sortable.option('disabled', false);
  });
};

/***/ }),

/***/ "./js/src/editor/backend/modulearea.js":
/*!*********************************************!*\
  !*** ./js/src/editor/backend/modulearea.js ***!
  \*********************************************/
/*! exports provided: moduleareasInitJS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "moduleareasInitJS", function() { return moduleareasInitJS; });
/* harmony import */ var _dragndrop_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dragndrop.js */ "./js/src/editor/backend/dragndrop.js");
/* harmony import */ var _sections_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sections.js */ "./js/src/editor/backend/sections.js");
/* harmony import */ var _modulearea_class_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modulearea.class.js */ "./js/src/editor/backend/modulearea.class.js");
/* harmony import */ var _modalwindow_class_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modalwindow.class.js */ "./js/src/editor/backend/modalwindow.class.js");
/* harmony import */ var _uigeneral_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./uigeneral.js */ "./js/src/editor/backend/uigeneral.js");
/* harmony import */ var _module_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./module.js */ "./js/src/editor/backend/module.js");
/**
 * Functions powering Module Areas functionality
 *
 * = AREAS ( MODULE AREAS ) =
 *
 * - Actions/Events (Duplicate, Change Width, Delete, ...)
 * - dslc_modules_area_add ( Adds a new modules area )
 * - dslc_modules_area_delete ( Deletes modules area )
 * - dslc_modules_area_width_set ( Sets specific width to the modules area )
 * - dslc_copy_modules_area ( Copies modules area )
 *
 */






/**
 * Module Area Actions (Duplicate, Change Width, Delete, ...)
 *
 * Attach these actions once the editing iFrame loaded.
 */

;
jQuery(document).on('editorFrameLoaded', function () {
  function init_sortables() {
    var el = jQuery('.dslc-modules-area', LiveComposer.Builder.PreviewAreaDocument); // Groups that can hold modules

    jQuery(el).each(function (i, e) {
      new _modulearea_class_js__WEBPACK_IMPORTED_MODULE_2__["ModuleArea"](e);
    });
  }

  var actionAvail = function actionAvail() {
    if (LiveComposer.Builder.Flags.panelOpened) {
      LiveComposer.Builder.UI.shakePanelConfirmButton();
      return false;
    }

    return true;
  };
  /**
   * Action - Automatically Add a Row if Empty
   */


  if (!jQuery('#dslc-main .dslc-modules-section', LiveComposer.Builder.PreviewAreaDocument).length && !jQuery('#dslca-tut-page', LiveComposer.Builder.PreviewAreaDocument).length) {
    Object(_sections_js__WEBPACK_IMPORTED_MODULE_1__["addSection"])(init_sortables());
  } else {
    init_sortables();
  }
  /**
   * Hook - Copy Module Area
   */


  LiveComposer.Builder.PreviewAreaDocument.on('click', '.dslca-copy-modules-area-hook', function (e) {
    e.preventDefault(); // Check if action can be fired

    if (!actionAvail()) return false;

    if (!jQuery(this).hasClass('dslca-action-disabled')) {
      var modulesArea = jQuery(this).closest('.dslc-modules-area');
      dslc_copy_modules_area(modulesArea);
    }
  });
  /**
   * Hook - Delete Module Area
   */

  LiveComposer.Builder.PreviewAreaDocument.on('click', '.dslca-delete-modules-area-hook', function (e) {
    e.preventDefault(); // Check if action can be fired

    if (!actionAvail()) return false;

    if (!jQuery(this).hasClass('dslca-action-disabled')) {
      // Check if current modules area is empty.
      var modulesAreaEmpty = jQuery(this).closest('.dslc-modules-area').hasClass('dslc-modules-area-empty');

      if (!modulesAreaEmpty) {
        var self = jQuery(this);
        Object(_modalwindow_class_js__WEBPACK_IMPORTED_MODULE_3__["CModalWindow"])({
          title: DSLCString.str_del_area_title,
          content: DSLCString.str_del_area_descr,
          confirm: function confirm() {
            var modulesArea = self.closest('.dslc-modules-area');
            dslc_modules_area_delete(modulesArea);
          }
        }); // Show confirmation modal only if the module area isn't empty.

        /*dslc_js_confirm( 'delete_modules_area', '<span class="dslca-prompt-modal-title">' + DSLCString.str_del_area_title +
        	'</span><span class="dslca-prompt-modal-descr">' + DSLCString.str_del_area_descr + '</span>', jQuery(this) );*/
      } else {
        var modulesArea = jQuery(this).closest('.dslc-modules-area'); // Delete module area without asking anything.

        dslc_delete_modules_area(modulesArea);
      }
    }
  });
  /**
   * Hook - Set Width of the Module Area
   */

  LiveComposer.Builder.PreviewAreaDocument.on('click', '.dslca-change-width-modules-area-options span', function () {
    // Check if action can be fired
    if (!actionAvail()) return false;

    if (!jQuery(this).hasClass('dslca-action-disabled')) {
      var moduleAreaJQ = jQuery(this).closest('.dslc-modules-area');
      var oldSize = moduleAreaJQ.data('size');
      var newSize = jQuery(this).data('size'); // Start expensive function only if the value changed.

      if (Number(oldSize) !== Number(newSize)) {
        dslc_modules_area_width_set(moduleAreaJQ, newSize);
      }
    }
  });
  /**
   * Action - Show/Hide Width Options Popup for the Module Area
   */

  /* LiveComposer.Builder.PreviewAreaDocument.on( 'click', '.dslca-change-width-modules-area-hook', function(e){
  		e.preventDefault();
  		// Check if action can be fired
  	if ( ! actionAvail() ) return false;
  		if ( ! jQuery(this).hasClass('dslca-action-disabled') ) {
  			// Is visible
  		if ( jQuery('.dslca-change-width-modules-area-options:visible', this).length ) {
  				// Hide
  			jQuery('.dslca-change-width-modules-area-options', this).hide();
  			// Is hidden
  		} else {
  				// Show
  			jQuery('.dslca-change-width-modules-area-options', this).show();
  		}
  	}
  }); */

  /* 
  	LiveComposer.Builder.PreviewAreaDocument.on( 'mouseleave', '.dslca-change-width-modules-area-options', function(e){
  
  		// Hide width seleciton panel.
  		jQuery(this).hide();
  	});
   */

  /**
   * Hook - Add Modules Area
   * TODO: Where we use it? Delete maybe?
   */

  LiveComposer.Builder.PreviewAreaDocument.on('click', '.dslca-add-modules-area-hook', function (e) {
    e.preventDefault(); // Check if action can be fired

    if (!actionAvail()) return false;
    dslc_modules_area_add(jQuery(this).closest('.dslc-modules-section').find('.dslc-modules-section-inner'));
  });
});
/**
 * AREAS - Add New
 */

function dslc_modules_area_add(row) {
  if (window.dslcDebug) console.log('dslc_add_modules_area'); // Add class to body so we know it's in progress
  // jQuery('body', LiveComposer.Builder.PreviewAreaDocument).addClass('dslca-anim-in-progress');

  var output = '<div class="dslc-modules-area dslc-modules-area-dnd dslc-col dslc-12-col dslc-modules-area-empty " data-size="12">' + '<div class="dslca-modules-area-manage"> <div class="dslca-modules-area-manage-inner">' + '<span class="dslca-manage-action dslca-copy-modules-area-hook" title="Duplicate" ><span class="dslca-icon dslc-icon-copy">' + '</span></span> <span class="dslca-manage-action dslca-move-modules-area-hook" title="Drag to move" >' + '<span class="dslca-icon dslc-icon-move"></span></span>' + '<span class="dslca-manage-action dslca-change-width-modules-area-hook" title="Change width" >' + '<span class="dslca-icon dslc-icon-columns"></span> <div class="dslca-change-width-modules-area-options">' + '<span>Container Width</span><span data-size="1">1/12</span><span data-size="2">2/12</span>' + '<span data-size="3">3/12</span><span data-size="4">4/12</span> <span data-size="5">5/12</span><span data-size="6">6/12</span>' + '<span data-size="7">7/12</span><span data-size="8">8/12</span> <span data-size="9">9/12</span><span data-size="10">10/12</span>' + '<span data-size="11">11/12</span><span data-size="12">12/12</span> </div> </span>' + '<span class="dslca-manage-action dslca-delete-modules-area-hook" title="Delete" ><span class="dslca-icon dslc-icon-remove"></span></span> </div> </div>' + '</div>'; // Append new area and animate

  jQuery(output).appendTo(row).css({
    height: 0
  }).animate({
    height: 99
  }, 300, function () {
    jQuery(this).css({
      height: 'auto'
    });
  }).addClass('dslca-init-animation'); // Re-initialize all the empty areas on the page

  var emptyModuleAreas = jQuery('.dslc-modules-area-empty', LiveComposer.Builder.PreviewAreaDocument);
  jQuery(emptyModuleAreas).each(function (i, e) {
    new _modulearea_class_js__WEBPACK_IMPORTED_MODULE_2__["ModuleArea"](e);
  }); // Call other functions

  Object(_dragndrop_js__WEBPACK_IMPORTED_MODULE_0__["dragAndDropInit"])();
  window.dslc_generate_code();
  window.dslc_show_publish_button(); // Remove class from body so we know it's done
  // jQuery('body', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-anim-in-progress');
}
/**
 * AREAS - Delete
 */


function dslc_modules_area_delete(area) {
  if (window.dslcDebug) console.log('dslc_delete_modules_area'); // Vars

  var modulesSection = area.closest('.dslc-modules-section').find('.dslc-modules-section-inner'),
      dslcDeleteSectionToo = false; // Add a class to the area so we know it's being deleted

  area.addClass('dslca-modules-area-being-deleted'); // If it's the last area in the row delete section as well

  if (modulesSection.find('.dslc-modules-area').length < 2) {
    dslcDeleteSectionToo = true;
  } // If a module in the area is being edited


  if (area.find('.dslca-module-being-edited').length) {
    // Hide the filter hooks
    jQuery('.dslca-header .dslca-options-filter-hook', LiveComposer.Builder.PreviewAreaDocument).hide(); // Hide the save/cancel actions

    jQuery('.dslca-module-edit-actions', LiveComposer.Builder.PreviewAreaDocument).hide(); // Show the section hooks

    jQuery('.dslca-header .dslca-go-to-section-hook', LiveComposer.Builder.PreviewAreaDocument).show(); // Show the modules listing

    Object(_uigeneral_js__WEBPACK_IMPORTED_MODULE_4__["showSection"])('.dslca-modules');
  } // Set a timeout so we handle deletion after animation ends


  setTimeout(function () {
    // Delete section if no more module areas inside.
    if (dslcDeleteSectionToo) {
      var parentSectionContainer = area.closest('.dslc-modules-section-inner'); // dslc_modules_area_add( modulesSection );
      // Don't delete latest module area in the latest section on the page

      if (2 <= area.closest('#dslc-main').find('.dslc-modules-section').length) {
        dslc_row_delete(area.closest('.dslc-modules-section'));
      } else {
        // Remove the area
        area.remove(); // Create new empty area in current module section

        dslc_modules_area_add(modulesSection);
      }
    } // Remove the area


    area.remove(); // Call other functions

    window.dslc_generate_code();
    window.dslc_show_publish_button();
  }, 900); // Animation

  area.css({
    '-webkit-animation-name': 'dslcBounceOut',
    '-moz-animation-name': 'dslcBounceOut',
    'animation-name': 'dslcBounceOut',
    'animation-duration': '0.6s',
    '-webkit-animation-duration': '0.6s',
    'overflow': 'hidden'
  }).animate({
    opacity: 0
  }, 600).animate({
    height: 0,
    marginBottom: 0
  }, 300, function () {
    area.remove();
    window.dslc_generate_code();
    window.dslc_show_publish_button();
  });
}
/**
 * AREAS - Copy
 */


function dslc_modules_area_copy(area) {
  if (window.dslcDebug) console.log('dslc_copy_modules_area'); // Vars

  var dslc_moduleID,
      modulesSection = area.closest('.dslc-modules-section').find('.dslc-modules-section-inner'); // Copy the area and append to the row

  var dslc_modulesAreaCloned = area.clone().appendTo(modulesSection);
  new _modulearea_class_js__WEBPACK_IMPORTED_MODULE_2__["ModuleArea"](dslc_modulesAreaCloned[0]); // Trigger mouseleave ( so the actions that show on hover go away )

  dslc_modulesAreaCloned.find('.dslca-modules-area-manage').trigger('mouseleave'); // Apply correct data size and get rid of animations

  dslc_modulesAreaCloned.data('size', area.data('size')).find('.dslc-module-front').css({
    '-webkit-animation-name': 'none',
    '-moz-animation-name': 'none',
    'animation-name': 'none',
    'animation-duration': '0',
    '-webkit-animation-duration': '0',
    opacity: 0 // Go through each module in the area

  }).each(function () {
    var dslc_module = jQuery(this); //Generate new ID for the new module and change it in HTML/CSS of the module.

    Object(_module_js__WEBPACK_IMPORTED_MODULE_5__["getNewModuleId"])(dslc_module[0]); // Remove "dslca-module-being-edited" class form any element

    jQuery('.dslca-module-being-edited', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-module-being-edited'); // Need to call this function to update last column class for the modules.

    window.dslc_generate_code(); // Show back new created module

    dslc_module.animate({
      opacity: 1
    }, 300);
  }); // Call other functions

  Object(_dragndrop_js__WEBPACK_IMPORTED_MODULE_0__["dragAndDropInit"])();
  window.dslc_show_publish_button(); // Need to call this function to update last column class for the module areas.

  window.dslc_generate_code();
}
/**
 * AREAS - Set Width
 */


function dslc_modules_area_width_set(area, newWidth) {
  if (window.dslcDebug) console.log('dslc_modules_area_width_set'); // Generate new class based on width

  var newClass = 'dslc-' + newWidth + '-col'; // Remove width classes, add new width class and set the data-size attr

  area.removeClass('dslc-1-col dslc-2-col dslc-3-col dslc-4-col dslc-5-col dslc-6-col dslc-7-col dslc-8-col dslc-9-col dslc-10-col dslc-11-col dslc-12-col').addClass(newClass).data('size', newWidth); // Call other functions

  LiveComposer.Builder.PreviewAreaWindow.dslc_masonry();

  if (LiveComposer.Builder.Flags.panelOpened) {
    return false;
  }

  window.dslc_generate_code();
  window.dslc_show_publish_button();
}
/**
 * Check Module Areas initialization
 *
 * @return void
 */


var moduleareasInitJS = function moduleareasInitJS() {
  // Select all the module areas form the main section of the page
  jQuery('#dslc-main .dslc-modules-area', LiveComposer.Builder.PreviewAreaDocument).each(function () {
    // Check if all the module areas have data attribute 'jsinit' set to 'initialized'?
    if (jQuery(this).data('jsinit') !== 'initialized') {
      // Initialize all the module areas without 'jsinit' attribute!
      new _modulearea_class_js__WEBPACK_IMPORTED_MODULE_2__["ModuleArea"](this);
    }
  });
};
/**
 * Deprecated Functions and Fallbacks
 */

function dslc_add_modules_area(row) {
  dslc_modules_area_add(row);
}

function dslc_delete_modules_area(area) {
  dslc_modules_area_delete(area);
}

function dslc_copy_modules_area(area) {
  dslc_modules_area_copy(area);
}

/***/ }),

/***/ "./js/src/editor/backend/presets.js":
/*!******************************************!*\
  !*** ./js/src/editor/backend/presets.js ***!
  \******************************************/
/*! exports provided: updatePreset, presetsInit */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updatePreset", function() { return updatePreset; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "presetsInit", function() { return presetsInit; });
/*********************************
*
* = MODULE PRESETS =
*
* - dslc_update_preset ( Update Styling Preset )
*
***********************************/

/**
 * Module Presets - Update
 */

var updatePreset = function updatePreset() {
  if (window.dslcDebug) console.log('updatePreset'); // Vars

  var module = jQuery('.dslca-module-being-edited', LiveComposer.Builder.PreviewAreaDocument),
      presetName = module.find('.dslca-module-option-front[data-id="css_load_preset"]').val(),
      presetCode = module.find('.dslca-module-code').val(),
      moduleID = module.data('module'); // If preset value not "none"

  if ('none' !== presetName && '' !== presetName) {
    // AJAX Call to Save Preset
    jQuery.post(DSLCAjax.ajaxurl, {
      action: 'dslc-ajax-save-preset',
      dslc_preset_name: presetName,
      dslc_preset_code: presetCode,
      dslc_module_id: moduleID
    }, function (response) {
      if (response.preset_setting == 'enabled') {
        // Reload all modules with the same preset
        jQuery('.dslc-module-front:not(#' + module.attr('id') + ')[data-module="' + module.data('module') + '"][data-dslc-preset="' + module.data('dslc-preset') + '"]', LiveComposer.Builder.PreviewAreaDocument).each(function () {
          dslc_module_output_reload(jQuery(this));
        });
      }
    });
  }
};
/**
 * Module Presets - Document Ready
 */

jQuery(document).ready(function ($) {
  /**
   * Action - Save preset
   */
  jQuery(document).on('keypress', '.dslca-module-edit-field[name="css_save_preset"]', function (e) {
    // Enter Key Pressed
    if (e.which == 13) {
      // Vars
      var presetName = jQuery(this).val(),
          presetID = presetName.toLowerCase().replace(/\s/g, '-'); // Add class to body that a new preset is added

      jQuery('body').addClass('dslca-new-preset-added'); // Append the new preset to the "Load Preset" option and trigger change

      jQuery('.dslca-module-edit-field[name="css_load_preset"]').append('<option value="' + presetID + '">' + presetID + '</option>').val(presetID).trigger('change'); // Erase value from the "Save Preset" option

      jQuery(this).val('');
      jQuery('.dslc-delete-preset').removeClass('dslc-delete-preset-hide');
    }
  });
  /**
   * Action - Preset value changed
   */

  jQuery(document).on('change', '.dslca-module-edit-field[name="css_load_preset"]', function (e) {
    jQuery('.dslca-module-being-edited', LiveComposer.Builder.PreviewAreaDocument).addClass('dslca-preload-preset');
  });
  /**
   * Action - Delete Preset
   */

  jQuery(document).on('click', '.dslc-delete-preset', function (e) {
    // Vars
    var module = jQuery('.dslca-module-being-edited', LiveComposer.Builder.PreviewAreaDocument),
        presetName = module.find('.dslca-module-option-front[data-id="css_load_preset"]').val(),
        moduleID = module.data('module'); // If preset value not "none"

    if ('none' !== presetName && '' !== presetName) {
      // AJAX Call to Save Preset
      jQuery.post(DSLCAjax.ajaxurl, {
        action: 'dslc-ajax-delete-preset',
        dslc_preset_name: presetName,
        dslc_module_id: moduleID
      }, function (response) {
        dslc_module_options_show(moduleID);
      });
    }
  });
});
var presetsInit = function presetsInit() {};

/***/ }),

/***/ "./js/src/editor/backend/scroller.js":
/*!*******************************************!*\
  !*** ./js/src/editor/backend/scroller.js ***!
  \*******************************************/
/*! exports provided: initPreviewAreaScroller */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initPreviewAreaScroller", function() { return initPreviewAreaScroller; });
/*********************************
 *
 * = UI - SCROLLER =
 *
 ***********************************/

/**
 * SCROLLER - Document Ready
 */
jQuery(document).ready(function ($) {
  var scrollerPlugin = function scrollerPlugin(container) {
    /**
     * Scroll list of modules with a mouse wheel.
     */
    var deltaKoef = .75;
    var increment = 500;
    var scrollinc = 100;
    var scroller = jQuery('.dslca-section-scroller', container);
    var scrollInner = jQuery('.dslca-section-scroller-inner', container)[0];
    scroller.on('wheel', function (event) {
      scroll_to(event.originalEvent.deltaY || event.originalEvent.deltaX);
      return false;
    });
    /**
     * Scroll to delta
     *
     * @param  {int} delta
     */

    function scroll_to(delta) {
      if (delta < 0) {
        delta = -scrollinc;
      } else {
        delta = scrollinc;
      }

      delta = delta * deltaKoef;
      var listWidth = scroller.find('.dslca-section-scroller-content').width();
      var contentWidth = scroller.width();
      if (listWidth <= contentWidth) return false;
      var scrollMax = listWidth - contentWidth + 10;
      delta = parseInt(scrollInner.style.left || 0) - delta;
      delta = delta >= 0 ? 0 : delta;
      delta = delta <= -scrollMax ? -scrollMax : delta;
      scrollInner.style.left = delta + 'px';
    }
    /**
     * Hook - Scroller Prev
     */


    jQuery('.dslca-section-scroller-prev', container).click(function (e) {
      e.preventDefault();
      scroll_to(-increment);
    });
    /**
     * Hook - Scroller Next
     */

    jQuery('.dslca-section-scroller-next', container).click(function (e) {
      e.preventDefault();
      scroll_to(increment);
    });
    jQuery(window).load(function () {
      // Initiate scroller on window resize
      jQuery(window).resize(function () {
        scroll_to(0);
      });
    });
  };

  scrollerPlugin(jQuery('.dslca-section.dslca-modules'));
  scrollerPlugin(jQuery('.dslca-section.dslca-templates-load'));
});
/** Scroll preview area when mouse are on some distant of edge */

var initPreviewAreaScroller = function initPreviewAreaScroller() {
  var pxInTik = 5;
  var timerTik = 6;
  LiveComposer.Builder.Flags.windowScroller = false;
  /** Stop scroll if within areas */

  jQuery(LiveComposer.Builder.PreviewAreaDocument).on('dragleave', '.lc-scroll-top-area, .lc-scroll-bottom-area', function (e) {
    LiveComposer.Builder.UI.stopScroller();
  });
  /** Scroll bottom */

  jQuery(LiveComposer.Builder.PreviewAreaDocument).on('dragenter dragover', '.lc-scroll-bottom-area', function (e) {
    if (LiveComposer.Builder.Flags.windowScroller !== false) return false;
    LiveComposer.Utils.publish('LC.sortableOff', {});
    LiveComposer.Builder.Flags.windowScroller = setInterval(function () {
      LiveComposer.Builder.PreviewAreaWindow.scrollBy(0, pxInTik);
    }, timerTik);
  });
  /** Scroll top */

  jQuery(LiveComposer.Builder.PreviewAreaDocument).on('dragenter', '.lc-scroll-top-area', function (e) {
    if (LiveComposer.Builder.Flags.windowScroller !== false) return false;
    LiveComposer.Utils.publish('LC.sortableOff', {});
    LiveComposer.Builder.Flags.windowScroller = setInterval(function () {
      LiveComposer.Builder.PreviewAreaWindow.scrollBy(0, -pxInTik);
    }, timerTik);
  });
  /** Stop scroll if click or drag ended */

  jQuery(LiveComposer.Builder.PreviewAreaDocument).on('dragend mouseup', 'body', function (e) {
    LiveComposer.Builder.Flags.windowScroller && LiveComposer.Builder.UI.stopScroller();
  });
};
/** Window Y-scroller */

jQuery(document).ready(function ($) {
  initPreviewAreaScroller();
  /**
   * Stops scroller function
   */

  LiveComposer.Builder.UI.stopScroller = function () {
    LiveComposer.Utils.publish('LC.sortableOn', {});
    clearInterval(LiveComposer.Builder.Flags.windowScroller);
    LiveComposer.Builder.Flags.windowScroller = false;
  };

  jQuery("#scroller-stopper").on('dragover', function () {
    LiveComposer.Builder.UI.stopScroller();
  });
});

/***/ }),

/***/ "./js/src/editor/backend/section.class.js":
/*!************************************************!*\
  !*** ./js/src/editor/backend/section.class.js ***!
  \************************************************/
/*! exports provided: Section */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Section", function() { return Section; });
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

/**
 * Builder section class
 */
var Section =
/*#__PURE__*/
function () {
  function Section(elem) {
    _classCallCheck(this, Section);

    this.sortable;
    this.sortableContainer = jQuery(elem).find('.dslc-modules-section-wrapper .dslc-modules-section-inner').eq(0)[0];
    this.initSortable(elem);
    this.initDropable(elem);
    this.reactToSortableOnOff(); // Mark section as initialized

    jQuery(elem).attr('data-jsinit', 'initialized');
  }

  _createClass(Section, [{
    key: "initDropable",
    value: function initDropable(elem) {
      jQuery(elem).droppable({
        drop: function drop(event, ui) {
          var modulesSection = jQuery(this).find('.dslc-modules-section-inner');
          var moduleID = ui.draggable.data('id');

          if (moduleID == 'DSLC_M_A') {
            dslc_modules_area_add(modulesSection);
          }
        }
      });
    }
  }, {
    key: "initSortable",
    value: function initSortable(elem) {
      this.sortable = jQuery(this.sortableContainer).sortable({
        connectWith: '.dslc-modules-section-inner',
        items: ".dslc-modules-area-dnd",
        handle: '.dslca-move-modules-area-hook:not(".dslca-action-disabled")',
        placeholder: 'dslca-modules-area-placeholder',
        cursorAt: {
          top: 0,
          left: 0
        },
        tolerance: 'intersect',
        scroll: true,
        scrollSensitivity: 100,
        scrollSpeed: 15,
        sort: function sort() {
          jQuery(this).removeClass("ui-state-default");
        },
        over: function over(e, ui) {
          var dslcSection = ui.placeholder.closest('.dslc-modules-section');
          jQuery(dslcSection).removeClass('dslc-modules-section-empty').addClass('dslc-modules-section-not-empty');
          dslcSection.siblings('.dslc-modules-section').each(function () {
            if (jQuery('.dslc-modules-area:not(.ui-sortable-helper)', jQuery(this)).length) {
              jQuery(this).removeClass('dslc-modules-section-empty').addClass('dslc-modules-section-not-empty');
            } else {
              jQuery(this).removeClass('dslc-modules-section-not-empty').addClass('dslc-modules-section-empty');
            }
          });
        },
        remove: function remove() {
          jQuery(self.elem).find('.dslc-modules-area').length == 0 && dslc_modules_area_add(jQuery(sortableContainer));
        },
        update: function update(e, ui) {
          window.dslc_generate_code();
          window.dslc_show_publish_button();
        },
        start: function start(e, ui) {
          // Placeholder
          ui.placeholder.html('<span class="dslca-placeholder-help-text"><span class="dslca-placeholder-help-text-inner">' + DSLCString.str_area_helper_text + '</span></span>');

          if (!jQuery(ui.item).hasClass('dslc-12-col')) {
            ui.placeholder.width(ui.item.width() - 10);
          } else {
            ui.placeholder.width(ui.item.width()).css({
              margin: 0
            });
          } // Add drag in progress class


          jQuery('body').removeClass('dslca-drag-not-in-progress').addClass('dslca-drag-in-progress dslca-modules-area-drag-in-progress'); // Refresh positions

          jQuery('.dslc-modules-section-inner').sortable("refreshPositions");
        },
        stop: function stop(e, ui) {
          LiveComposer.Builder.UI.stopScroller();
          jQuery('body').removeClass('dslca-drag-in-progress dslca-modules-area-drag-in-progress').addClass('dslca-drag-not-in-progress');
          jQuery('.dslca-anim-opacity-drop').removeClass('dslca-anim-opacity-drop');
        },
        change: function change(e, ui) {}
      });
    }
  }, {
    key: "reactToSortableOnOff",
    value: function reactToSortableOnOff() {
      self = this.sortable;
      /** Sort option setter */

      jQuery(document).on('LC.sortableOff', function () {
        if (undefined !== self.sortable("instance")) {
          self.sortable('option', 'disabled', true);
        }
      });
      jQuery(document).on('LC.sortableOn', function () {
        if (undefined !== self.sortable("instance")) {
          self.sortable('option', 'disabled', false);
        }
      });
    }
  }]);

  return Section;
}();

/***/ }),

/***/ "./js/src/editor/backend/sections.js":
/*!*******************************************!*\
  !*** ./js/src/editor/backend/sections.js ***!
  \*******************************************/
/*! exports provided: addSection, sectionsInitJS, sectionsInit */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addSection", function() { return addSection; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sectionsInitJS", function() { return sectionsInitJS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sectionsInit", function() { return sectionsInit; });
/* harmony import */ var _section_class_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./section.class.js */ "./js/src/editor/backend/section.class.js");
/* harmony import */ var _dragndrop_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dragndrop.js */ "./js/src/editor/backend/dragndrop.js");
/* harmony import */ var _modulearea_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modulearea.js */ "./js/src/editor/backend/modulearea.js");
/* harmony import */ var _modulearea_class_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modulearea.class.js */ "./js/src/editor/backend/modulearea.class.js");
/* harmony import */ var _modalwindow_class_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./modalwindow.class.js */ "./js/src/editor/backend/modalwindow.class.js");
/* harmony import */ var _uigeneral_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./uigeneral.js */ "./js/src/editor/backend/uigeneral.js");
/* harmony import */ var _module_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./module.js */ "./js/src/editor/backend/module.js");
/* harmony import */ var _codegeneration_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./codegeneration.js */ "./js/src/editor/backend/codegeneration.js");
/* harmony import */ var _modalwindow_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./modalwindow.js */ "./js/src/editor/backend/modalwindow.js");
/*********************************
 *
 * = ROWS =
 *
 * - dslc_row_add ( Add New )
 * - dslc_row_delete ( Delete )
 * - dslc_row_edit ( Edit )
 * - dslc_row_edit_slider_init ( Edit - Initiate Slider )
 * - dslc_row_edit_cancel ( Edit - Cancel Changes )
 * - dslc_row_edit_confirm ( Edit - Confirm Changes )
 * - dslc_row_copy ( Copy )
 * - dslc_row_import ( Import )
 *
 ***********************************/










var sectionsEventsInit = function sectionsEventsInit() {
  var $ = jQuery;

  var actionAvail = function actionAvail() {
    if (LiveComposer.Builder.Flags.panelOpened) {
      LiveComposer.Builder.UI.shakePanelConfirmButton();
      return false;
    }

    return true;
  };

  jQuery(".dslc-modules-section", LiveComposer.Builder.PreviewAreaDocument).each(function () {
    console.log("each section 🎷");
    new _section_class_js__WEBPACK_IMPORTED_MODULE_0__["Section"](this);
  });
  /**
   * Hook - Delete Row
   */

  LiveComposer.Builder.PreviewAreaDocument.on('click', '.dslca-delete-modules-section-hook', function (e) {
    // Check if action can be fired
    if (!actionAvail()) return false;
    e.preventDefault();
    var self = this;

    if (!jQuery(this).hasClass('dslca-action-disabled')) {
      Object(_modalwindow_class_js__WEBPACK_IMPORTED_MODULE_4__["CModalWindow"])({
        title: DSLCString.str_del_row_title,
        content: DSLCString.str_del_row_descr,
        confirm: function confirm() {
          dslc_row_delete(jQuery(self).closest('.dslc-modules-section'));
        }
      });
      /*	dslc_js_confirm( 'delete_modules_section', '<span class="dslca-prompt-modal-title">' + DSLCString.str_del_row_title +
      		'</span><span class="dslca-prompt-modal-descr">' + DSLCString.str_del_row_descr + '</span>', jQuery(this) );*/
    }
  });
  /**
   * Hook - Import Row
   */

  LiveComposer.Builder.PreviewAreaDocument.on('click', '.dslca-import-modules-section-hook', function (e) {
    e.preventDefault(); // Check if action can be fired

    if (!actionAvail()) return false;

    if (!jQuery(this).hasClass('dslca-action-disabled')) {
      Object(_modalwindow_class_js__WEBPACK_IMPORTED_MODULE_4__["CModalWindow"])({
        title: DSLCString.str_import_row_title,
        content: DSLCString.str_import_row_descr + '<br><br><textarea></textarea>',
        confirm: function confirm() {
          dslc_row_import(jQuery('.dslca-prompt-modal textarea').val());
          jQuery('.dslca-prompt-modal-confirm-hook span').css({
            opacity: 0
          });
          jQuery('.dslca-prompt-modal-confirm-hook .dslca-loading').show();
        },
        confirm_title: DSLCString.str_import
      });
      /*jQuery('.dslca-prompt-modal-confirm-hook').html('<span class="dslc-icon dslc-icon-ok"></span><span>' + DSLCString.str_import +
      	'</span><div class="dslca-loading followingBallsGWrap"><div class="followingBallsG_1 followingBallsG"></div>'+
      	'<div class="followingBallsG_2 followingBallsG"></div><div class="followingBallsG_3 followingBallsG"></div><div class="followingBallsG_4 followingBallsG"></div></div>');
      	dslc_js_confirm( 'import_modules_section', '<span class="dslca-prompt-modal-title">' + DSLCString.str_import_row_title +
      	'</span><span class="dslca-prompt-modal-descr">' + DSLCString.str_import_row_descr + ' <br><br><textarea></textarea></span>', jQuery(this) );*/
    }
  });
  /**
   * Hook - Export Row
   */

  LiveComposer.Builder.PreviewAreaDocument.on('click', '.dslca-export-modules-section-hook', function (e) {
    e.preventDefault(); // Check if action can be fired

    if (!actionAvail()) return false;

    if (!jQuery(this).hasClass('dslca-action-disabled')) {
      jQuery('.dslca-prompt-modal-cancel-hook').hide();
      jQuery('.dslca-prompt-modal-confirm-hook').html('<span class="dslc-icon dslc-icon-ok"></span>' + DSLCString.str_ok);
      console.log("CModalWindow>>>>>>>>>>>>");
      Object(_modalwindow_class_js__WEBPACK_IMPORTED_MODULE_4__["CModalWindow"])({
        title: DSLCString.str_export_row_title,
        content: DSLCString.str_export_row_descr + '<br><br><textarea>' + '[' + Object(_codegeneration_js__WEBPACK_IMPORTED_MODULE_7__["generateSectionCode"])(jQuery(this).closest('.dslc-modules-section')) + ']' + '</textarea></span>'
      }); // dslc_js_confirm( 'export_modules_section', '<span class="dslca-prompt-modal-title">' + DSLCString.str_export_row_title +
      // 	'</span><span class="dslca-prompt-modal-descr">' + DSLCString.str_export_row_descr + ' <br><br><textarea></textarea></span>', jQuery(this) );
      // jQuery('.dslca-prompt-modal textarea').val( dslc_generate_section_code( jQuery(this).closest('.dslc-modules-section') ) );
    }
  });
  /**
   * Hook - Copy Row
   */

  LiveComposer.Builder.PreviewAreaDocument.on('click', '.dslca-copy-modules-section-hook', function () {
    // Check if action can be fired
    if (!actionAvail()) return false;

    if (!jQuery(this).hasClass('dslca-action-disabled')) {
      dslc_row_copy(jQuery(this).closest('.dslc-modules-section'));
    }
  });
  /**
   * Hook - Add Row
   */

  LiveComposer.Builder.PreviewAreaDocument.on('click', '.dslca-add-modules-section-hook', function (e) {
    e.preventDefault(); // Check if action can be fired

    if (!actionAvail()) return false;
    var button = jQuery(this);

    if (!jQuery(this).hasClass('dslca-action-disabled')) {
      // Add a loading animation
      button.find('.dslca-icon').removeClass('dslc-icon-align-justify').addClass('dslc-icon-spinner dslc-icon-spin'); // Add a row

      addSection(function () {
        button.find('.dslca-icon').removeClass('dslc-icon-spinner dslc-icon-spin').addClass('dslc-icon-align-justify');
      });
    }
  });
  /**
   * Hook - Edit Row
   */

  LiveComposer.Builder.PreviewAreaDocument.on('click', '.dslca-edit-modules-section-hook', function () {
    // Check if action can be fired
    if (!actionAvail()) return false;
    var self = this;
    var module_edited = jQuery('.dslca-module-being-edited', LiveComposer.Builder.PreviewAreaDocument).length;
    var row_edited = jQuery('.dslca-modules-section-being-edited', LiveComposer.Builder.PreviewAreaDocument).length; /// If settings panel opened - finish func

    if (LiveComposer.Builder.Flags.uiHidden || module_edited > 0 || row_edited > 0) return false; // If not disabled ( disabling used for tutorial )

    if (!jQuery(this).hasClass('dslca-action-disabled')) {
      // Trigger the function to edit
      dslc_row_edit(jQuery(this).closest('.dslc-modules-section'));
    }

    jQuery('body', LiveComposer.Builder.PreviewAreaDocument).addClass('section-editing-in-progress');
  });
};
/**
 * Row - Add New
 */


var addSection = function addSection(callback) {
  if (window.dslcDebug) console.log('dslc_row_add');
  callback = typeof callback !== 'undefined' ? callback : false;
  var defer = jQuery.Deferred();
  var browserCacheTmp = sessionStorage;
  var newRow = jQuery();
  var cachedAjaxRequest = browserCacheTmp.getItem('cache-dslc-ajax-add-modules-section'); // If option 'lc_section_padding_vertical' was update.

  if (null !== cachedAjaxRequest) {
    var current_value, cache_curent_value;
    current_value = DSLCMainOptions.section_padding_vertical;
    cache_curent_value = jQuery(cachedAjaxRequest).find('input[data-id="padding"]').val();

    if (current_value !== cache_curent_value) {
      browserCacheTmp.removeItem('cache-dslc-ajax-add-modules-section');
      cachedAjaxRequest = null;
    }
  } // If no cache for current Ajax request.


  if (null === cachedAjaxRequest) {
    // AJAX Request
    jQuery.post(DSLCAjax.ajaxurl, {
      action: 'dslc-ajax-add-modules-section',
      dslc: 'active'
    }, function (response) {
      // newRow = jQuery(response.output);
      browserCacheTmp.setItem('cache-dslc-ajax-add-modules-section', response.output);
      newRow = dslc_row_after_add(response.output);

      if (callback) {
        callback();
      }

      return defer;
    });
  } else {
    // There is cached version of AJAX request.
    // newRow = jQuery(cachedAjaxRequest);
    newRow = dslc_row_after_add(cachedAjaxRequest);

    if (callback) {
      callback();
    }

    return defer;
  }
};
/**
 * Finish new row creation process.
 *
 * @param  {String} newRowHTML HTML code of the new row.
 * @return {jQuery}            New ROW jQuery object.
 */

function dslc_row_after_add(newRowHTML) {
  var newRow = jQuery(newRowHTML); // Append new row

  newRow.appendTo(LiveComposer.Builder.PreviewAreaDocument.find("#dslc-main")); // Call other functions

  Object(_dragndrop_js__WEBPACK_IMPORTED_MODULE_1__["dragAndDropInit"])();
  window.dslc_generate_code();
  window.dslc_show_publish_button();
  new _section_class_js__WEBPACK_IMPORTED_MODULE_0__["Section"](newRow);
  new _modulearea_class_js__WEBPACK_IMPORTED_MODULE_3__["ModuleArea"](newRow.find('.dslc-modules-area').eq(0)[0]);
  newRow.find('.dslc-modules-area').addClass('dslc-modules-area-empty dslc-last-col');
  return newRow;
}
/**
 * Row - Delete
 */


function dslc_row_delete(row) {
  if (window.dslcDebug) console.log('dslc_row_delete'); // If the row is being edited

  if (row.find('.dslca-module-being-edited')) {
    // Hide the filter hooks
    jQuery('.dslca-header .dslca-options-filter-hook').hide(); // Hide the save/cancel actions

    jQuery('.dslca-module-edit-actions').hide(); // Show the section hooks

    jQuery('.dslca-header .dslca-go-to-section-hook').show();
    Object(_uigeneral_js__WEBPACK_IMPORTED_MODULE_5__["showSection"])('.dslca-modules');
  } // Remove row


  row.trigger('mouseleave').remove(); // Call other functions

  window.dslc_generate_code();
  window.dslc_show_publish_button();
}
/**
 * Row - Edit
 */


function dslc_row_edit(row) {
  if (window.dslcDebug) console.log('dslc_row_edit'); // Vars we will use

  var dslcModulesSectionOpts, dslcVal; // Set editing class

  jQuery('.dslca-module-being-edited', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-module-being-edited');
  jQuery('.dslca-modules-section-being-edited', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-modules-section-being-edited').removeClass('dslca-modules-section-change-made');
  row.addClass('dslca-modules-section-being-edited'); // Hide the section hooks

  jQuery('.dslca-header .dslca-go-to-section-hook').hide(); // Show the styling/responsive tabs

  jQuery('.dslca-row-options-filter-hook[data-section="styling"], .dslca-row-options-filter-hook[data-section="responsive"]').show();
  jQuery('.dslca-row-options-filter-hook[data-section="styling"]').trigger('click'); // Hide the filter hooks

  jQuery('.dslca-header .dslca-options-filter-hook').hide(); // Hide the save/cancel actions

  jQuery('.dslca-module-edit-actions').hide(); // Show the save/cancel actions

  jQuery('.dslca-row-edit-actions').show(); // Set current values

  jQuery('.dslca-modules-section-edit-field').each(function () {
    /**
     * Temporary migration from 'wrapped' value to 'wrapper' in ROW type selector
     * TODO: delete this block in a few versions as problem do not exists on new installs
     *
     * @since ver 1.1
     */
    if ('type' === jQuery(this).data('id')) {
      if ('' === jQuery('.dslca-modules-section-being-edited .dslca-modules-section-settings input[data-id="type"]', LiveComposer.Builder.PreviewAreaDocument).val() || 'wrapped' === jQuery('.dslca-modules-section-being-edited .dslca-modules-section-settings input[data-id="type"]', LiveComposer.Builder.PreviewAreaDocument).val()) {
        jQuery('select[data-id="type"]').val('wrapper').change();
      }
    }

    if (jQuery(this).data('id') == 'border-top') {
      if (jQuery('.dslca-modules-section-being-edited .dslca-modules-section-settings input[data-id="border"]', LiveComposer.Builder.PreviewAreaDocument).val().indexOf('top') >= 0) {
        jQuery(this).prop('checked', true);
        jQuery(this).siblings('.dslca-modules-section-edit-option-checkbox-hook').find('.dslca-icon').removeClass('dslc-icon-check-empty').addClass('dslc-icon-check');
      } else {
        jQuery(this).prop('checked', false);
        jQuery(this).siblings('.dslca-modules-section-edit-option-checkbox-hook').find('.dslca-icon').removeClass('dslc-icon-check').addClass('dslc-icon-check-empty');
      }
    } else if (jQuery(this).data('id') == 'border-right') {
      if (jQuery('.dslca-modules-section-being-edited .dslca-modules-section-settings input[data-id="border"]', LiveComposer.Builder.PreviewAreaDocument).val().indexOf('right') >= 0) {
        jQuery(this).prop('checked', true);
        jQuery(this).siblings('.dslca-modules-section-edit-option-checkbox-hook').find('.dslca-icon').removeClass('dslc-icon-check-empty').addClass('dslc-icon-check');
      } else {
        jQuery(this).prop('checked', false);
        jQuery(this).siblings('.dslca-modules-section-edit-option-checkbox-hook').find('.dslca-icon').removeClass('dslc-icon-check').addClass('dslc-icon-check-empty');
      }
    } else if (jQuery(this).data('id') == 'border-bottom') {
      if (jQuery('.dslca-modules-section-being-edited .dslca-modules-section-settings input[data-id="border"]', LiveComposer.Builder.PreviewAreaDocument).val().indexOf('bottom') >= 0) {
        jQuery(this).prop('checked', true);
        jQuery(this).siblings('.dslca-modules-section-edit-option-checkbox-hook').find('.dslca-icon').removeClass('dslc-icon-check-empty').addClass('dslc-icon-check');
      } else {
        jQuery(this).prop('checked', false);
        jQuery(this).siblings('.dslca-modules-section-edit-option-checkbox-hook').find('.dslca-icon').removeClass('dslc-icon-check').addClass('dslc-icon-check-empty');
      }
    } else if (jQuery(this).data('id') == 'border-left') {
      if (jQuery('.dslca-modules-section-being-edited .dslca-modules-section-settings input[data-id="border"]', LiveComposer.Builder.PreviewAreaDocument).val().indexOf('left') >= 0) {
        jQuery(this).prop('checked', true);
        jQuery(this).siblings('.dslca-modules-section-edit-option-checkbox-hook').find('.dslca-icon').removeClass('dslc-icon-check-empty').addClass('dslc-icon-check');
      } else {
        jQuery(this).prop('checked', false);
        jQuery(this).siblings('.dslca-modules-section-edit-option-checkbox-hook').find('.dslca-icon').removeClass('dslc-icon-check').addClass('dslc-icon-check-empty');
      }
    } else if (jQuery(this).hasClass('dslca-modules-section-edit-field-checkbox')) {
      if (jQuery('.dslca-modules-section-being-edited .dslca-modules-section-settings input[data-id="' + jQuery(this).data('id') + '"]', LiveComposer.Builder.PreviewAreaDocument).val().indexOf(jQuery(this).data('val')) >= 0) {
        jQuery(this).prop('checked', true);
        jQuery(this).siblings('.dslca-modules-section-edit-option-checkbox-hook').find('.dslca-icon').removeClass('dslc-icon-check-empty').addClass('dslc-icon-check');
      } else {
        jQuery(this).prop('checked', false);
        jQuery(this).siblings('.dslca-modules-section-edit-option-checkbox-hook').find('.dslca-icon').removeClass('dslc-icon-check').addClass('dslc-icon-check-empty');
      }
    } else {
      jQuery(this).val(jQuery('.dslca-modules-section-being-edited .dslca-modules-section-settings input[data-id="' + jQuery(this).data('id') + '"]', LiveComposer.Builder.PreviewAreaDocument).val().trim().replace('%(%', '[').replace('%)%', ']'));

      if (jQuery(this).hasClass('dslca-modules-section-edit-field-colorpicker')) {
        var _this = jQuery(this);

        jQuery(this).closest('.dslca-modules-section-edit-option').find('.sp-preview-inner').removeClass('sp-clear-display').css({
          'background-color': _this.val()
        });
        jQuery(this).css({
          'background-color': _this.val()
        });
      }
    }
  });
  jQuery('.dslca-modules-section-edit-field-upload').each(function () {
    var dslcParent = jQuery(this).closest('.dslca-modules-section-edit-option');

    if (jQuery(this).val() && jQuery(this).val() !== 'disabled') {
      jQuery('.dslca-modules-section-edit-field-image-add-hook', dslcParent).hide();
      jQuery('.dslca-modules-section-edit-field-image-remove-hook', dslcParent).show();
    } else {
      jQuery('.dslca-modules-section-edit-field-image-remove-hook', dslcParent).hide();
      jQuery('.dslca-modules-section-edit-field-image-add-hook', dslcParent).show();
    }
  }); // Initiate numeric option sliders
  // dslc_row_edit_slider_init();
  // Show options management

  Object(_uigeneral_js__WEBPACK_IMPORTED_MODULE_5__["showSection"])('.dslca-modules-section-edit');
  LiveComposer.Builder.Flags.panelOpened = true; // Hide the publish button

  Object(_uigeneral_js__WEBPACK_IMPORTED_MODULE_5__["hidePublishButton"])();
}
/**
 * Row - Edit - Cancel Changes
 */


function dslc_row_edit_cancel(callback) {
  if (window.dslcDebug) console.log('dslc_row_cancel_changes');
  callback = typeof callback !== 'undefined' ? callback : false; // Time to generate code optimized {HACK}

  LiveComposer.Builder.Flags.generate_code_after_row_changed = false; // Recover original data from data-def attribute for each control

  jQuery('.dslca-modules-section-being-edited .dslca-modules-section-settings input', LiveComposer.Builder.PreviewAreaDocument).each(function () {
    jQuery(this).val(jQuery(this).data('def')); // Fire change for every ROW control, so it redraw linked CSS properties

    jQuery('.dslca-modules-section-edit-field[data-id="' + jQuery(this).data('id') + '"]').val(jQuery(this).data('def')).trigger('change');
  });
  LiveComposer.Builder.Flags.generate_code_after_row_changed = true;
  window.dslc_generate_code();
  window.dslc_show_publish_button();
  Object(_uigeneral_js__WEBPACK_IMPORTED_MODULE_5__["showSection"])('.dslca-modules'); // Hide the save/cancel actions

  jQuery('.dslca-row-edit-actions').hide(); // Hide the styling/responsive tabs

  jQuery('.dslca-row-options-filter-hook').hide(); // Show the section hooks

  jQuery('.dslca-header .dslca-go-to-section-hook').show(); // Show the publish button

  dslc_show_publish_button; // Remove being edited class

  jQuery('.dslca-modules-section-being-edited', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-modules-section-being-edited dslca-modules-section-change-made');

  if (callback) {
    callback();
  }

  LiveComposer.Builder.Flags.panelOpened = false;
  jQuery("body", LiveComposer.Builder.PreviewAreaDocument).removeClass('section-editing-in-progress');
}
/**
 * Row - Edit - Confirm Changes
 */


function dslc_row_edit_confirm(callback) {
  if (window.dslcDebug) console.log('dslc_confirm_row_changes');
  callback = typeof callback !== 'undefined' ? callback : false;
  jQuery('.dslca-modules-section-being-edited .dslca-modules-section-settings input', LiveComposer.Builder.PreviewAreaDocument).each(function () {
    jQuery(this).data('def', jQuery(this).val());
  });
  Object(_uigeneral_js__WEBPACK_IMPORTED_MODULE_5__["showSection"])('.dslca-modules'); // Hide the save/cancel actions

  jQuery('.dslca-row-edit-actions').hide(); // Hide the styling/responsive tabs

  jQuery('.dslca-row-options-filter-hook').hide(); // Show the section hooks

  jQuery('.dslca-header .dslca-go-to-section-hook').show(); // Remove being edited class

  jQuery('.dslca-modules-section-being-edited', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-modules-section-being-edited dslca-modules-section-change-made');
  window.dslc_generate_code(); // Show the publish button

  window.dslc_show_publish_button();

  if (callback) {
    callback();
  }

  LiveComposer.Builder.Flags.panelOpened = false;
  jQuery("body", LiveComposer.Builder.PreviewAreaDocument).removeClass('section-editing-in-progress');
}
/**
 * Row - Copy
 */


function dslc_row_copy(row) {
  if (window.dslcDebug) console.log('dslc_row_copy'); // Vars that will be used

  var dslc_module_id, dslcModulesSectionCloned, dslcModule; // Clone the row

  dslcModulesSectionCloned = row.clone().appendTo(jQuery('#dslc-main', LiveComposer.Builder.PreviewAreaDocument)); // Mark new ROW as NON initialized

  dslcModulesSectionCloned[0].removeAttribute('data-jsinit'); // Go through each area of the new row and apply correct data-size
  // Mark each module area inside as NON initialized (2)

  dslcModulesSectionCloned.find('.dslc-modules-area').each(function () {
    var dslcIndex = jQuery(this).index();
    jQuery(this).data('size', row.find('.dslc-modules-area:eq( ' + dslcIndex + ' )').data('size'));
    this.removeAttribute('data-jsinit'); // (2)
  });
  new _section_class_js__WEBPACK_IMPORTED_MODULE_0__["Section"](dslcModulesSectionCloned);
  /**
   * Re-render modules inside of the new ROW
   */
  // Remove animations and temporary hide modules inside

  dslcModulesSectionCloned.find('.dslc-module-front').css({
    '-webkit-animation-name': 'none',
    '-moz-animation-name': 'none',
    'animation-name': 'none',
    'animation-duration': '0',
    '-webkit-animation-duration': '0',
    opacity: 0 // Go through each module inside the new ROW

  }).each(function () {
    // Current module
    var dslc_module = jQuery(this); //Generate new ID for the new module and change it in HTML/CSS of the module.

    Object(_module_js__WEBPACK_IMPORTED_MODULE_6__["getNewModuleId"])(dslc_module[0]); // Check init for rows and module areas

    sectionsInitJS();
    Object(_modulearea_js__WEBPACK_IMPORTED_MODULE_2__["moduleareasInitJS"])(); // TODO: the next function contains AJAX call. It needs optimization.

    window.dslc_generate_code();
    /**
     * Re-init drag and drop from modules list into modules areas.
     * Need this function, so we can drop new modules on the cloned areas.
     */

    Object(_dragndrop_js__WEBPACK_IMPORTED_MODULE_1__["dragAndDropInit"])(); // Remove "dslca-module-being-edited" class form any element

    jQuery('.dslca-module-being-edited', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-module-being-edited'); // Show back new created module

    dslc_module.animate({
      opacity: 1
    }, 300);
    window.dslc_show_publish_button();
  }); // Generate new ID for the new section.

  dslc_section_new_id(dslcModulesSectionCloned[0]);
}
/**
 * Generate new ID for the section provided
 *
 *
 * @param DOM section that needs ID updated (new ID).
 * @return void
 */


function dslc_section_new_id(section) {
  if (window.dslcDebug) console.log('dslc_section_new_id');
  var dslc_section_id = LiveComposer.Utils.get_unique_id(); // Generate new section ID.
  // Update section ID in data attribute

  section.setAttribute('data-section-id', dslc_section_id); // Update section ID in raw base64 code (dslc_code) of the section

  LiveComposer.Utils.update_section_property_raw(section, 'section_instance_id', dslc_section_id);
}
/**
 * Row - Import
 */


function dslc_row_import(rowCode) {
  if (window.dslcDebug) console.log('dslc_row_import'); // AJAX Call

  jQuery.post(DSLCAjax.ajaxurl, {
    action: 'dslc-ajax-import-modules-section',
    dslc: 'active',
    dslc_modules_section_code: rowCode
  }, function (response) {
    // Close the import popup/modal
    Object(_modalwindow_js__WEBPACK_IMPORTED_MODULE_8__["confirmClose"])(); // Add the new section

    jQuery('#dslc-main', LiveComposer.Builder.PreviewAreaDocument).append(response.output); // Call other functions

    LiveComposer.Builder.PreviewAreaWindow.dslc_bg_video();
    LiveComposer.Builder.PreviewAreaWindow.dslc_carousel();
    LiveComposer.Builder.PreviewAreaWindow.dslc_masonry(); // Check init for rows and module areas

    sectionsInitJS();
    Object(_modulearea_js__WEBPACK_IMPORTED_MODULE_2__["moduleareasInitJS"])();
    Object(_dragndrop_js__WEBPACK_IMPORTED_MODULE_1__["dragAndDropInit"])();
    window.dslc_generate_code();
    window.dslc_show_publish_button();
  });
}
/**
 * Deprecated Functions and Fallbacks
 */


function dslc_add_modules_section() {
  addSection();
}

function dslc_delete_modules_section(row) {
  dslc_row_delete(row);
}

function dslc_edit_modules_section(row) {
  dslc_row_edit(row);
}

function dslc_copy_modules_section(row) {
  dslc_row_copy(row);
}

function dslc_import_modules_section(rowCode) {
  dslc_row_import(rowCode);
}
/**
 * Check ROWs initialization
 *
 * @return void
 */


var sectionsInitJS = function sectionsInitJS() {
  // Select all the ROWs form the main section of the page
  jQuery('#dslc-main .dslc-modules-section', LiveComposer.Builder.PreviewAreaDocument).each(function () {
    // Check if all the rows have data attribute 'jsinit' set to 'initialized'?
    if (jQuery(this).data('jsinit') !== 'initialized') {
      // Initialize all the rows without 'jsinit' attribute!
      new _section_class_js__WEBPACK_IMPORTED_MODULE_0__["Section"](this);
    }
  });
};
var sectionsInit = function sectionsInit() {
  sectionsInitJS();
  sectionsEventsInit();
  /**
   * Hook - Confirm Row Changes
   */

  jQuery(document).on('click', '.dslca-row-edit-save', function () {
    dslc_row_edit_confirm();
    jQuery(".dslca-currently-editing").removeAttr('style');
    jQuery('.dslca-row-options-filter-hook.dslca-active').removeClass('dslca-active');
    LiveComposer.Builder.PreviewAreaWindow.dslc_responsive_classes(true);
  });
  /**
   * Hook - Cancel Row Changes
   */

  jQuery(document).on('click', '.dslca-row-edit-cancel', function () {
    dslc_row_edit_cancel();
    jQuery(".dslca-currently-editing").removeAttr('style');
    jQuery('.dslca-row-options-filter-hook.dslca-active').removeClass('dslca-active');
    LiveComposer.Builder.PreviewAreaWindow.dslc_responsive_classes(true);
  });
};

/***/ }),

/***/ "./js/src/editor/backend/sectionscontainer.class.js":
/*!**********************************************************!*\
  !*** ./js/src/editor/backend/sectionscontainer.class.js ***!
  \**********************************************************/
/*! exports provided: CSectionsContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CSectionsContainer", function() { return CSectionsContainer; });
/**
 * Sections container class
 */


function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var CSectionsContainer =
/*#__PURE__*/
function () {
  function CSectionsContainer(elem) {
    _classCallCheck(this, CSectionsContainer);

    this.sortable;
    this.initSortable(elem);
    this.reactToSortableOnOff();
  }

  _createClass(CSectionsContainer, [{
    key: "initSortable",
    value: function initSortable(elem) {
      console.log("initSortable!!!!!!!!!!!!!!!!");
      this.sortable = window.jQuery(elem).sortable({
        items: ".dslc-modules-section-dnd",
        handle: '.dslca-move-modules-section-hook:not(".dslca-action-disabled")',
        placeholder: 'dslca-modules-section-placeholder',
        tolerance: 'intersect',
        cursorAt: {
          bottom: 10
        },
        axis: 'y',
        scroll: true,
        scrollSensitivity: 140,
        scrollSpeed: 5,
        sort: function sort() {
          jQuery(this).removeClass("ui-state-default");
        },
        update: function update(e, ui) {
          window.dslc_show_publish_button();
        },
        start: function start(e, ui) {
          jQuery('body').removeClass('dslca-drag-not-in-progress').addClass('dslca-drag-in-progress');
          jQuery('body', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-drag-not-in-progress').addClass('dslca-drag-in-progress');
          ui.placeholder.html('<span class="dslca-placeholder-help-text"><span class="dslca-placeholder-help-text-inner">' + DSLCString.str_row_helper_text + '</span></span>');
          jQuery('.dslc-content').sortable("refreshPositions");
        },
        stop: function stop(e, ui) {
          window.dslc_generate_code();
          LiveComposer.Builder.UI.stopScroller();
          jQuery('body', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-drag-in-progress').addClass('dslca-drag-not-in-progress');
          jQuery('body').removeClass('dslca-drag-in-progress').addClass('dslca-drag-not-in-progress');
          jQuery('.dslca-anim-opacity-drop').removeClass('dslca-anim-opacity-drop');
        }
      });
    }
  }, {
    key: "reactToSortableOnOff",
    value: function reactToSortableOnOff() {
      self = this.sortable;
      /** Sort option setter */

      jQuery(document).on('LC.sortableOff', function () {
        if (undefined !== self.sortable("instance")) {
          self.sortable('option', 'disabled', true);
        }
      });
      jQuery(document).on('LC.sortableOn', function () {
        if (undefined !== self.sortable("instance")) {
          self.sortable('option', 'disabled', false);
        }
      });
    }
  }]);

  return CSectionsContainer;
}();

/***/ }),

/***/ "./js/src/editor/backend/settings.panel.js":
/*!*************************************************!*\
  !*** ./js/src/editor/backend/settings.panel.js ***!
  \*************************************************/
/*! exports provided: settingsPanelInit, elementOptionsTabs */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "settingsPanelInit", function() { return settingsPanelInit; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "elementOptionsTabs", function() { return elementOptionsTabs; });
/* harmony import */ var _uigeneral_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./uigeneral.js */ "./js/src/editor/backend/uigeneral.js");
/* harmony import */ var _module_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./module.js */ "./js/src/editor/backend/module.js");
/* harmony import */ var _presets_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./presets.js */ "./js/src/editor/backend/presets.js");
/* harmony import */ var _modalwindow_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modalwindow.js */ "./js/src/editor/backend/modalwindow.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/**
 * Builder settings panel functions providing work with modules
 */




var dslcRegularFontsArray = window.DSLCFonts.regular;
var dslcGoogleFontsArray = window.DSLCFonts.google;
var dslcAllFontsArray = dslcRegularFontsArray.concat(dslcGoogleFontsArray); // Set current/default icons set

var dslcIconsCurrentSet = window.DSLCIcons.fontawesome;
/**
 * Modules - Document Ready
 */

jQuery(document).ready(function ($) {
  dslc_module_options_tooltip();
  dslc_module_options_font();
  dslc_module_options_icon();
  dslc_module_options_icon_returnid();
  dslc_module_options_text_align();
  dslc_module_options_checkbox();
  dslc_module_options_box_shadow();
  dslc_module_options_text_shadow();
  /* Initiate all the color picker controls on the module/section options panel. */

  var dslca_options_with_colorpicker = '';
  dslca_options_with_colorpicker += '.dslca-module-edit-field-colorpicker';
  dslca_options_with_colorpicker += ', .dslca-modules-section-edit-field-colorpicker';
  dslca_options_with_colorpicker += ', .dslca-module-edit-option-box-shadow-color';
  dslca_options_with_colorpicker += ', .dslca-module-edit-option-text-shadow-color'; // Init color picker on click only to not polute DOM with unwanted elements.
  // It will fire only once (first time) as color picker then put it's own listeners.

  jQuery(document).on('click', dslca_options_with_colorpicker, function () {
    // Call the color picker init function.
    dslc_module_options_color(this); // Make sure the color picker popup appears in the right place.

    var wrapper = jQuery(this).closest('.dslca-color-option');
    var optionsPanel = jQuery('.dslca-module-edit-options-inner');
    var colorpicker = wrapper.find('.wp-picker-holder');
    var offset = wrapper.offset();
    var offsetPopup = offset.left + 15;
    var windoWidth = window.innerWidth;
    var popupWidth = 260;

    if (windoWidth < offsetPopup + popupWidth) {
      offsetPopup = windoWidth - popupWidth;
    } // Set the right position for the color picker popup on first click.


    colorpicker.css('left', offsetPopup + 'px'); // Update position left for the color picker on options scroll.

    jQuery(optionsPanel).on('scroll', function (event) {
      offset = wrapper.offset();
      var offsetPopup = offset.left + 15;
      var windoWidth = window.innerWidth;
      var popupWidth = 260;

      if (windoWidth < offsetPopup + popupWidth) {
        offsetPopup = windoWidth - popupWidth;
      }

      colorpicker.css('left', offsetPopup + 'px');
    });
  });
  /* Initiate all the slider controls on the module options panel. */

  jQuery('.dslca-container').on('mouseenter', '.dslca-module-edit-option-slider', function () {
    // Fixed: https://github.com/live-composer/live-composer-page-builder/issues/740
    if (!jQuery(this).hasClass('dslca-module-edit-option-select')) {
      dslc_module_options_numeric(this);
    }
  });
  /* Initiate all the slider controls on the row options panel. */

  jQuery('.dslca-container').on('mouseenter', '.dslca-modules-section-edit-option-slider', function () {
    dslc_module_options_numeric(this);
  });
  /**
   * Hook - Submit
   */

  jQuery('.dslca-module-edit-form').submit(function (e) {
    e.preventDefault();
    Object(_module_js__WEBPACK_IMPORTED_MODULE_1__["moduleOutputAltered"])();
  });
  /**
   * Hook - Tab Switch
   */

  jQuery(document).on('click', '.dslca-module-edit-options-tab-hook', function (e) {
    e.preventDefault();
    elementOptionsTabs(jQuery(this));
  });
  /**
   * Hook - Option Section Switch
   */

  jQuery(document).on('click', '.dslca-options-filter-hook', function (e) {
    e.preventDefault();
    var dslcPrev = jQuery('.dslca-options-filter-hook.dslca-active').data('section');
    var currentSection = jQuery(this).data('section');
    jQuery('.dslca-options-filter-hook.dslca-active').removeClass('dslca-active');
    jQuery(this).addClass('dslca-active');
    dslc_module_options_section_filter(currentSection); // If previous was responsive reload module

    if (dslcPrev == 'responsive') {
      // Show the loader
      jQuery('.dslca-container-loader').show(); // Reset the responsive classes

      window.LiveComposer.Builder.PreviewAreaWindow.dslc_responsive_classes(); // Reload Module

      Object(_module_js__WEBPACK_IMPORTED_MODULE_1__["moduleOutputAltered"])(function () {
        // Hide the loader
        jQuery('.dslca-container-loader').hide();
      });
      /**
       * Destroy resizable preview functionality
       * when leaving Responsive view.
       */

      jQuery('#page-builder-preview-area').resizable('destroy').attr('style', '');
    }
    /**
     * Make the preview area resizable
     * when entering Responsive view.
     */


    if (currentSection == 'responsive') {
      jQuery('#page-builder-preview-area').resizable();
    }
  });
  /**
   * Hook - Confirm Changes
   */

  jQuery(document).on('click', '.dslca-module-edit-save', function (e) {
    e.preventDefault();
    dslc_module_options_confirm_changes(function () {
      // window.LiveComposer.Builder.UI.initInlineEditors({withRemove:true});
      window.LiveComposer.Builder.UI.unloadOptionsDeps();
      window.LiveComposer.Builder.Flags.panelOpened = false;
      jQuery("body", window.LiveComposer.Builder.PreviewAreaDocument).removeClass('module-editing-in-progress');
    });
    jQuery('.dslca-options-filter-hook.dslca-active').removeClass('dslca-active');
    dslc_disable_responsive_view();
  });
  /**
   * Hook - Cancel Changes
   */

  jQuery(document).on('click', '.dslca-module-edit-cancel', function (e) {
    e.preventDefault();
    dslc_module_options_cancel_changes(function () {
      // window.LiveComposer.Builder.UI.initInlineEditors({withRemove:true});
      window.LiveComposer.Builder.UI.unloadOptionsDeps();
      window.LiveComposer.Builder.Flags.panelOpened = false;
      jQuery("body", window.LiveComposer.Builder.PreviewAreaDocument).removeClass('module-editing-in-progress');
    });
    jQuery('.dslca-options-filter-hook.dslca-active').removeClass('dslca-active');
    dslc_disable_responsive_view();
  });
});
/* Editor scripts */

var settingsPanelInit = function settingsPanelInit() {
  var self = window.LiveComposer.Builder;
  window.LiveComposer.Builder.Helpers.colorpickers = [];
  /*
  	window.LiveComposer.Builder.UI.initInlineEditors = function(params){
  		params = params || {};
  
  		if ( params.withRemove == true ) {
  			try {
  				window.LiveComposer.Builder.PreviewAreaWindow.tinyMCE.remove();
  			} catch(err) {
  				console.info( 'No tinyMCE code found. Error code: 10181116.' );
  			}
  		}
  
  		window.LiveComposer.Builder.PreviewAreaWindow.tinyMCE.init({
  			selector: '.inline-editor.dslca-editable-content',
  			editor_deselector: 'mce-content-body',
  			menubar: false,
  			inline: true,
  			plugins: 'wordpress wplink lists paste',
  			paste_as_text: true, // Paste styled text as plain text only. Requires 'paste' in plugins.
  			paste_block_drop: true, // Disabled drop action for inline editor to prevent js errors in the console. http://archive.tinymce.com/wiki.php/Plugin3x:paste
  			style_formats: [
  					{title: 'Paragraph', format: 'p'},
  					{title: 'Header 1', format: 'h1'},
  					{title: 'Header 2', format: 'h2'},
  					{title: 'Header 3', format: 'h3'},
  					{title: 'Header 4', format: 'h4'},
  					{title: 'Header 5', format: 'h5'},
  					{title: 'Header 6', format: 'h6'},
  			  ],
  			toolbar: 'styleselect | bold italic blockquote | removeformat | bullist numlist '
  		});
  	}
  */

  /* Destroy instanced of sliders, color pickers and other temporary elements */

  window.LiveComposer.Builder.UI.clearUtils = function () {
    if (window.dslcDebug) console.log('window.LiveComposer.Builder.UI.clearUtils'); // Destroy all Color Pickers

    window.LiveComposer.Builder.UI.clearColorPickers(); // Delete module backups form memory.

    if (undefined !== window.LiveComposer.Builder.moduleBackup) {
      window.LiveComposer.Builder.moduleBackup.remove();
    }

    jQuery('.temp-styles-for-module', window.LiveComposer.Builder.PreviewAreaDocument).remove(); // Hide inline editor panel if on [Confirm] or [Cancel] button click.

    jQuery('.mce-tinymce', window.LiveComposer.Builder.PreviewAreaDocument).hide();
  };

  window.LiveComposer.Builder.UI.clearColorPickers = function () {
    if (Array.isArray(self.Helpers.colorpickers)) {
      self.Helpers.colorpickers.forEach(function (item) {
        // Do not delete color picker instance from row settings panel,
        // as it stays on page and not get loaded via Ajax.
        if (!jQuery(item).hasClass('dslca-modules-section-edit-field')) {
          // Destroy color picker instance.
          jQuery(item).remove();
        }
      });
      self.Helpers.colorpickers = [];
    } // Delete the color picker events.


    jQuery('body').off('click.wpcolorpicker');
  };
  /** Options dependencies */


  window.LiveComposer.Builder.Helpers.depsHandlers = [];

  window.LiveComposer.Builder.UI.loadOptionsDeps = function () {
    var self = this;
    jQuery(".dslca-module-edit-option").each(function () {
      var elem = this;
      var parsed = true;

      try {
        var dep = JSON.parse(LiveComposer.Utils.b64_to_utf8(jQuery(this).data('dep')));
      } catch (e) {
        parsed = false;
      }

      if (parsed) {
        var handler = function handler() {
          var optElem = this;
          var localDep = {};

          if ((optElem.type == 'radio' || optElem.type == 'checkbox') && dep[optElem.value] == undefined) {
            return false;
          }

          if (optElem.type == 'checkbox' && dep[optElem.value] != undefined) {
            localDep[optElem.value] = dep[optElem.value];
          } else {
            localDep = dep;
          }

          Object.keys(localDep).forEach(function (opt_val) {
            localDep[opt_val].split(',').forEach(function (item) {
              var opt_wrap = jQuery(".dslca-module-edit-option-" + item.trim()).closest('.dslca-module-edit-option');
              var checkedCheckbox = true;

              if (optElem.type == 'radio' || optElem.type == 'checkbox') {
                checkedCheckbox = jQuery(optElem).is(":checked");
              }

              var section_tab = jQuery('.dslca-module-edit-options-tab-hook.dslca-active').data('id');

              if (optElem.value == opt_val && checkedCheckbox) {
                if (opt_wrap.not(".dependent")) {
                  opt_wrap.addClass('dependent');
                }

                if (opt_wrap.hasClass('dep-hide')) {
                  opt_wrap.removeClass('dep-hide');
                  opt_wrap.addClass('dep-show');
                } else {
                  opt_wrap.addClass('dep-show');
                }

                if (section_tab == opt_wrap.data('tab')) {
                  opt_wrap.show();
                }
              } else {
                if (opt_wrap.not(".dependent")) {
                  opt_wrap.addClass('dependent');
                }

                if (opt_wrap.hasClass('dep-show')) {
                  opt_wrap.removeClass('dep-show');
                  opt_wrap.addClass('dep-hide');
                } else {
                  opt_wrap.addClass('dep-hide');
                }

                opt_wrap.hide();
              }
            });
          });
        };

        jQuery(document).on('change dslc-init-deps', '.dslca-module-edit-option *[data-id="' + jQuery(this).data('id') + '"]', handler);
        window.LiveComposer.Builder.Helpers.depsHandlers.push(handler);
      }
    });
    jQuery(".dslca-module-edit-option input, .dslca-module-edit-option select").trigger('dslc-init-deps');
  };

  window.LiveComposer.Builder.UI.unloadOptionsDeps = function () {
    window.LiveComposer.Builder.Helpers.depsHandlers.forEach(function (handler) {
      jQuery(document).unbind('change', handler);
      jQuery(document).unbind('dslc-init-deps', handler);
    });
    window.LiveComposer.Builder.Helpers.depsHandlers = [];
  };
  /**
   * Creates inline style tag when editing WYSWIG
   *
   * @param  {object} params
   *    params.rule
   *    params.elems
   *    params.module_id
   */


  window.LiveComposer.Builder.Helpers.processInlineStyleTag = function (params) {
    if (_typeof(params) != 'object') return false;
    var resp_prefix = '',
        resp_postfix = '';

    if (params.context.closest(".dslca-module-edit-option").data('tab') == 'tablet_responsive') {
      resp_prefix = '@media only screen and (max-width: 1024px) and (min-width: 768px) {';
      resp_postfix = '}';
    } else if (params.context.closest(".dslca-module-edit-option").data('tab') == 'phone_responsive') {
      resp_prefix = '@media only screen and (max-width: 767px) {';
      resp_postfix = '}';
    }

    params.styleContent = resp_prefix + params.styleContent + resp_postfix;
    var id = resp_prefix + params.rule + params.elems;
    id = id.replace(/ /gi, '');

    if (window.LiveComposer.Builder.PreviewAreaDocument[0].getElementById(id) == null) {
      var styleTag = document.createElement('style');
      styleTag.innerHTML = params.styleContent;
      styleTag.id = id;
      styleTag.className = "temp-styles-for-module";
      window.LiveComposer.Builder.PreviewAreaDocument[0].body.appendChild(styleTag);
    } else {
      window.LiveComposer.Builder.PreviewAreaDocument[0].getElementById(id).innerHTML = params.styleContent;
    }
  };

  window.LiveComposer.Builder.UI.shakePanelConfirmButton = function () {
    jQuery('.dslca-module-edit-save').addClass('lc-shake-effect active');
    setTimeout(function () {
      jQuery('.dslca-module-edit-save').removeClass('lc-shake-effect active');
    }, 1000);
  };

  onModuleOptionsChange();
  onSectionOptionsChange();
  onFileUploadOptionsChange();
};

var onModuleOptionsChange = function onModuleOptionsChange() {
  // Live Preview for Module Settings Change
  jQuery(document).on('change', '.dslca-module-edit-field', function () {
    if (window.dslcDebug) console.log('on change event for .dslca-module-edit-field');
    var dslcOptionValue = '',
        dslcOptionValueOrig = '',
        dslcOption = jQuery(this),
        dslcOptionID = dslcOption.data('id'),
        dslcOptionWrap = dslcOption.closest('.dslca-module-edit-option'),
        dslcModule = jQuery('.dslca-module-being-edited', LiveComposer.Builder.PreviewAreaDocument),
        dslcModuleID = dslcModule.data('module'),
        dslcModuleOptions = jQuery('.dslca-module-options-front textarea', dslcModule); // Add changed class

    dslcModule.addClass('dslca-module-change-made'); // Hide/Show tabs in the module options panel.
    // Required to show/hide particular options tabs based on the current selection.
    // Active only for dropdowns and checkboxes.

    if (dslcOptionWrap.hasClass('dslca-module-edit-option-select') || dslcOptionWrap.hasClass('dslca-module-edit-option-checkbox')) {
      dslc_module_options_hideshow_tabs();
    }
    /**
     * Refresh on change = true
     *
     * Refresh module HTML from the server on every field value change
     */


    if (jQuery(this).closest('.dslca-module-edit-option').data('refresh-on-change') == 'active') {
      /**
       * Get the new value
       */
      if (dslcOptionWrap.find('.dslca-module-edit-option-checkbox-wrapper').length) {
        var dslcOptionChoices = jQuery('input[type="checkbox"]', dslcOptionWrap);
        dslcOptionChoices.each(function () {
          if (jQuery(this).prop('checked')) {
            dslcOptionValue = dslcOptionValue + jQuery(this).val() + ' ';
          }
        });
      } else if (dslcOption.hasClass('dslca-module-edit-option-radio')) {
        var dslcOptionValue = jQuery('.dslca-module-edit-field:checked', dslcOption).val();
      } else {
        var dslcOptionValue = dslcOption.val(); // Post Grid > Thumbnail: Orientation change.
        // Need to change thumbnail width to get it work as expected

        if (dslcOptionID == 'orientation' && dslcOptionValue == 'horizontal') {
          var dslcSliderEl = jQuery('.dslca-module-edit-option-thumb_width .dslca-module-edit-field');
          dslcSliderEl.val('40').trigger('change');
        } else if (dslcOptionID == 'orientation' && dslcOptionValue == 'vertical') {
          var dslcSliderEl = jQuery('.dslca-module-edit-option-thumb_width .dslca-module-edit-field');
          dslcSliderEl.val('100').trigger('change');
        }
      }
      /**
       * Change old value with new value
       */


      if (undefined !== dslcOptionValue) {
        dslcOptionValue = dslcOptionValue.trim().replace(/<textarea/g, '<lctextarea').replace(/<\/textarea/g, '</lctextarea');
      }

      jQuery('.dslca-module-options-front textarea[data-id="' + dslcOptionID + '"]', dslcModule).val(dslcOptionValue);
      jQuery('.dslca-container-loader').show();
      Object(_module_js__WEBPACK_IMPORTED_MODULE_1__["moduleOutputAltered"])(function () {
        jQuery('.dslca-module-being-edited', LiveComposer.Builder.PreviewAreaDocument).addClass('dslca-module-change-made');

        if (dslcOptionID == 'css_load_preset' && !jQuery('body').hasClass('dslca-new-preset-added')) {
          dslc_module_options_show(dslcModuleID);
          jQuery('.dslca-container-loader').hide();
        } else {
          jQuery('.dslca-container-loader').hide();
        }

        jQuery('body').removeClass('dslca-new-preset-added'); // Trigger 'LC.moduleChange' event.
        // This event can be used by 3-rd party developers to re-init
        // some of the JavaScript code on modure re-rendering.

        LiveComposer.Utils.publish('LC.moduleChange', {
          moduleId: dslcModuleID,
          optionID: dslcOptionID,
          optionVal: dslcOption.val()
        });
      });
      /**
       * Refresh on change = false
       *
       * Do not refresh from the server, but using JS
       */
    } else {
      /**
       * Live Preview
       */
      if (dslcOption.hasClass('dslca-module-edit-field-font')) {
        var dslcFontsToLoad = dslcOption.val();
        dslcFontsToLoad = dslcFontsToLoad + ':400,100,200,300,500,600,700,800,900';
        var dslcAffectOnChangeEl = dslcOption.data('affect-on-change-el');
        var dslcAffectOnChangeRule = dslcOption.data('affect-on-change-rule');
        var dslcAffectOnChangeVal = dslcOption.val();
        var dslcAffectOnChangeValOrig = dslcAffectOnChangeVal;
        var module = jQuery(".dslca-module-being-edited", LiveComposer.Builder.PreviewAreaDocument);

        if (dslcOption.val().length && dslcGoogleFontsArray.indexOf(dslcOption.val()) !== -1) {
          // Call WebFont function from the iframe
          document.getElementById('page-builder-frame').contentWindow.WebFont.load({
            google: {
              families: [dslcFontsToLoad]
            },
            active: function active(familyName, fvd) {
              if (jQuery('.dslca-font-loading').closest('.dslca-module-edit-field-font-next').length) {
                jQuery('.dslca-font-loading').removeClass('dslca-font-loading').find('.dslca-icon').removeClass('dslc-icon-spin').addClass('dslc-icon-chevron-right');
              } else {
                jQuery('.dslca-font-loading').removeClass('dslca-font-loading').find('.dslca-icon').removeClass('dslc-icon-spin').addClass('dslc-icon-chevron-left');
              }

              var elems = dslcAffectOnChangeEl.split(',');
              var styleContent = "#" + module[0].id + " " + elems.join(", #" + module[0].id + " ") + " {" + dslcAffectOnChangeRule + ": " + dslcAffectOnChangeVal + "}";
              LiveComposer.Builder.Helpers.processInlineStyleTag({
                context: dslcOption,
                rule: dslcAffectOnChangeRule,
                elems: dslcAffectOnChangeEl,
                styleContent: styleContent
              });
            },
            inactive: function inactive(familyName, fvd) {
              if (jQuery('.dslca-font-loading').closest('.dslca-module-edit-field-font-next').length) {
                jQuery('.dslca-font-loading').removeClass('dslca-font-loading').find('.dslca-icon').removeClass('dslc-icon-spin').addClass('dslc-icon-chevron-right');
              } else {
                jQuery('.dslca-font-loading').removeClass('dslca-font-loading').find('.dslca-icon').removeClass('dslc-icon-spin').addClass('dslc-icon-chevron-left');
              }
            }
          });
        } else {
          setTimeout(function () {
            if (jQuery('.dslca-font-loading.dslca-module-edit-field-font-next').length) {
              jQuery('.dslca-font-loading').removeClass('dslca-font-loading').find('.dslca-icon').removeClass('dslc-icon-spin').addClass('dslc-icon-chevron-right');
            } else {
              jQuery('.dslca-font-loading').removeClass('dslca-font-loading').find('.dslca-icon').removeClass('dslc-icon-spin').addClass('dslc-icon-chevron-left');
            }

            var elems = dslcAffectOnChangeEl.split(',');
            var styleContent = "#" + module[0].id + " " + elems.join(", #" + module[0].id + " ") + " {" + dslcAffectOnChangeRule + ": " + dslcAffectOnChangeVal + "}";
            LiveComposer.Builder.Helpers.processInlineStyleTag({
              context: dslcOption,
              rule: dslcAffectOnChangeRule,
              elems: dslcAffectOnChangeEl,
              styleContent: styleContent
            });
          }, 100);
        }
        /**
         * Checkbox
         */

      } else if (dslcOption.hasClass('dslca-module-edit-field-checkbox')) {
        var dslcOptionChoices = jQuery('input[type="checkbox"]', dslcOptionWrap);
        dslcOptionChoices.each(function () {
          /*
          @todo This function is specific to borders. Needs review.
           */
          if (jQuery(this).prop('checked')) {
            dslcOptionValue = dslcOptionValue + 'solid ';
            dslcOptionValueOrig = dslcOptionValueOrig + jQuery(this).val() + ' ';
          } else {
            dslcOptionValue = dslcOptionValue + 'none ';
          }
        }); // Here dslcOptionValue will look like: none none none solid.
      }
      /**
       * All other option types
       */


      if (!dslcOption.hasClass('dslca-module-edit-field-font') && dslcOption.data('affect-on-change-el') != null && dslcOption.data('affect-on-change-rule') != null) {
        var dslcExt = dslcOption.data('ext') || '';
        var dslcAffectOnChangeEl = dslcOption.data('affect-on-change-el');
        var dslcAffectOnChangeRule = dslcOption.data('affect-on-change-rule');
        var dslcAffectOnChangeVal = dslcOption.val();
        var dslcAffectOnChangeValOrig = dslcAffectOnChangeVal;

        if (dslcOption.hasClass('dslca-module-edit-field-checkbox')) {
          dslcAffectOnChangeVal = dslcOptionValue;
          dslcAffectOnChangeValOrig = dslcOptionValueOrig;
        }

        if (dslcOption.hasClass('dslca-module-edit-field-image')) {
          dslcAffectOnChangeVal = 'url("' + dslcAffectOnChangeVal + '")';
        }

        if (null !== dslcAffectOnChangeVal && dslcAffectOnChangeVal.length < 1 && (dslcAffectOnChangeRule == 'background-color' || dslcAffectOnChangeRule == 'background')) {
          dslcAffectOnChangeVal = 'transparent';
        }

        dslcAffectOnChangeRule.split(',').forEach(function (rule) {
          rule = rule.replace(/\s+/g, '');
          var module = jQuery(".dslca-module-being-edited", LiveComposer.Builder.PreviewAreaDocument);
          var elems = dslcAffectOnChangeEl.split(',');
          var styleContent = "#" + module[0].id + " " + elems.join(", #" + module[0].id + " ") + " {" + rule + ": " + dslcAffectOnChangeVal + dslcExt + "}";
          LiveComposer.Builder.Helpers.processInlineStyleTag({
            context: dslcOption,
            rule: rule,
            elems: dslcAffectOnChangeEl,
            styleContent: styleContent
          });
        });
      }
      /**
       * Update option
       */


      var dslcOptionToApply = ''; // Do we work with CSS control or module property?

      if (dslcOptionID.indexOf('css_') !== -1) {
        // Apply CSS property.
        dslcOptionToApply = dslcAffectOnChangeValOrig;
      } else {
        // Apply module property.
        dslcOptionToApply = dslcOption.val();
      }

      jQuery('.dslca-module-option-front[data-id="' + dslcOptionID + '"]', dslcModule).val(dslcOptionToApply); // Trigger 'LC.moduleChange' event.
      // This event can be used by 3-rd party developers to re-init
      // some of the JavaScript code on modure re-rendering.

      LiveComposer.Utils.publish('LC.moduleChange', {
        moduleId: dslcModule[0].id,
        optionID: dslcOptionID,
        optionVal: dslcAffectOnChangeValOrig || dslcOption.val()
      });
    }
  });
};

var onSectionOptionsChange = function onSectionOptionsChange() {
  // ROW styling option changes
  jQuery(document).on('change', '.dslca-modules-section-edit-field', function () {
    console.log("ROW OPTION CHANGED 🐞");
    var dslcField, dslcFieldID, dslcEl, dslcModulesSection, dslcVal, dslcValReal, dslcValExt, dslcRule, dslcSetting, dslcTargetEl, dslcImgURL;
    dslcField = jQuery(this);
    dslcFieldID = dslcField.data('id');
    dslcVal = dslcField.val();
    dslcValReal = dslcVal;
    dslcValExt = dslcVal + dslcField.data('ext');
    dslcRule = dslcField.data('css-rule');
    dslcEl = jQuery('.dslca-modules-section-being-edited', LiveComposer.Builder.PreviewAreaDocument); // Currently editing element

    dslcTargetEl = dslcEl;
    dslcSetting = jQuery('.dslca-modules-section-settings input[data-id="' + dslcFieldID + '"]', dslcEl);
    dslcEl.addClass('dslca-modules-section-change-made'); // If image/upload field alter the value ( use from data )

    if (dslcField.hasClass('dslca-modules-section-edit-field-upload')) {
      if (dslcVal && dslcVal.length) {
        // dslcVal = dslcField.data('dslca-img-url');
        dslcVal = jQuery('.dslca-modules-section-settings input[data-id="dslca-img-url"]', dslcEl).val();
      }
    }

    if (dslcRule == 'background-image') {
      dslcVal = 'url("' + dslcVal + '")';
      LiveComposer.Builder.PreviewAreaWindow.dslc_bg_video();
    }

    if (dslcFieldID == 'bg_image_attachment') {
      dslcEl.removeClass('dslc-init-parallax');
    }

    console.log("dslcFieldID:");
    console.log(dslcFieldID);

    if (dslcFieldID == 'border-top' || dslcFieldID == 'border-right' || dslcFieldID == 'border-bottom' || dslcFieldID == 'border-left') {
      var dslcBorderStyle = jQuery('.dslca-modules-section-settings input[data-id="border_style"]').val();
      dslcSetting = jQuery('.dslca-modules-section-settings input[data-id="border"]', dslcEl);
      dslcValReal = '';
      var dslcChecboxesWrap = dslcField.closest('.dslca-modules-section-edit-option-checkbox-wrapper');
      dslcChecboxesWrap.find('.dslca-modules-section-edit-field-checkbox').each(function () {
        if (jQuery(this).is(':checked')) {
          if (jQuery(this).data('id') == 'border-top') {
            dslcValReal += 'top ';
          } else if (jQuery(this).data('id') == 'border-right') {
            dslcValReal += 'right ';
          } else if (jQuery(this).data('id') == 'border-bottom') {
            dslcValReal += 'bottom ';
          } else if (jQuery(this).data('id') == 'border-left') {
            dslcValReal += 'left ';
          }
        }
      });

      if (dslcField.is(':checked')) {
        if (dslcField.data('id') == 'border-top') {
          dslcEl.css({
            'border-top-style': dslcBorderStyle
          });
        } else if (dslcField.data('id') == 'border-right') {
          dslcEl.css({
            'border-right-style': dslcBorderStyle
          });
        } else if (dslcField.data('id') == 'border-bottom') {
          dslcEl.css({
            'border-bottom-style': dslcBorderStyle
          });
        } else if (dslcField.data('id') == 'border-left') {
          dslcEl.css({
            'border-left-style': dslcBorderStyle
          });
        }
      } else {
        if (dslcField.data('id') == 'border-top') {
          dslcEl.css({
            'border-top-style': 'hidden'
          });
        } else if (dslcField.data('id') == 'border-right') {
          dslcEl.css({
            'border-right-style': 'hidden'
          });
        } else if (dslcField.data('id') == 'border-bottom') {
          dslcEl.css({
            'border-bottom-style': 'hidden'
          });
        } else if (dslcField.data('id') == 'border-left') {
          dslcEl.css({
            'border-left-style': 'hidden'
          });
        }
      }
    } else if (dslcField.hasClass('dslca-modules-section-edit-field-checkbox')) {
      var checkboxes = jQuery(this).closest('.dslca-modules-section-edit-option-checkbox-wrapper').find('.dslca-modules-section-edit-field-checkbox');
      var checkboxesVal = '';
      checkboxes.each(function () {
        if (jQuery(this).prop('checked')) {
          checkboxesVal += jQuery(this).data('val') + ' ';
        }
      });
      var dslcValReal = checkboxesVal;
      /* Show On */

      if (dslcField.data('id') == 'show_on') {
        if (checkboxesVal.indexOf('desktop') !== -1) {
          jQuery('.dslca-modules-section-being-edited', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslc-hide-on-desktop');
        } else {
          jQuery('.dslca-modules-section-being-edited', LiveComposer.Builder.PreviewAreaDocument).addClass('dslc-hide-on-desktop');
        }

        if (checkboxesVal.indexOf('tablet') !== -1) {
          jQuery('.dslca-modules-section-being-edited', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslc-hide-on-tablet');
        } else {
          jQuery('.dslca-modules-section-being-edited', LiveComposer.Builder.PreviewAreaDocument).addClass('dslc-hide-on-tablet');
        }

        if (checkboxesVal.indexOf('phone') !== -1) {
          jQuery('.dslca-modules-section-being-edited', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslc-hide-on-phone');
        } else {
          jQuery('.dslca-modules-section-being-edited', LiveComposer.Builder.PreviewAreaDocument).addClass('dslc-hide-on-phone');
        }
      }
    } else if (dslcFieldID == 'bg_image_attachment' && dslcVal == 'parallax') {
      dslcEl.addClass('dslc-init-parallax');
      LiveComposer.Builder.PreviewAreaWindow.dslc_parallax();
    } else if (dslcFieldID == 'type') {
      if (dslcVal == 'full') {
        dslcEl.addClass('dslc-full');
      } else {
        dslcEl.removeClass('dslc-full');
      }

      LiveComposer.Builder.PreviewAreaWindow.dslc_masonry();
    } else if (dslcFieldID == 'columns_spacing') {
      if (dslcVal == 'nospacing') {
        dslcEl.addClass('dslc-no-columns-spacing');
      } else {
        dslcEl.removeClass('dslc-no-columns-spacing');
      }
    } else if (dslcFieldID == 'custom_class') {} else if (dslcFieldID == 'custom_id') {} else if (dslcFieldID == 'bg_video') {
      jQuery('.dslc-bg-video video', dslcEl).remove();

      if (dslcVal && dslcVal.length) {
        var dslcVideoVal = dslcVal;
        dslcVideoVal = dslcVideoVal.replace('.webm', '');
        dslcVideoVal = dslcVideoVal.replace('.mp4', '');
        jQuery('.dslc-bg-video-inner', dslcEl).html('<video><source type="video/mp4" src="' + dslcVideoVal + '.mp4" /><source type="video/webm" src="' + dslcVideoVal + '.webm" /></video>');
        LiveComposer.Builder.PreviewAreaWindow.dslc_bg_video();
      }
    } else if (dslcFieldID == 'bg_image_thumb') {
      if (dslcValReal == 'enabled') {
        if (jQuery('#dslca-post-data-thumb').length) {
          var dslcThumbURL = "url('" + jQuery('#dslca-post-data-thumb').val() + "')";
          dslcTargetEl.css(dslcRule, dslcThumbURL);
        }
      } else if (dslcValReal == 'disabled') {
        dslcTargetEl.css(dslcRule, 'none');
      }
    } else {
      if (dslcField.data('css-element')) {
        dslcTargetEl = jQuery(dslcField.data('css-element'), dslcEl);
      }

      dslcRule = dslcRule.replace(/ /g, '').split(',');
      var dslcValToApply;

      if (null != dslcField.data('ext')) {
        dslcValToApply = dslcValExt;
      } else {
        dslcValToApply = dslcVal;
      } // Loop through rules (useful when there are multiple rules)


      for (var i = 0; i < dslcRule.length; i++) {
        dslcTargetEl.css(dslcRule[i], dslcValToApply);
      }
    } // Update hidden input with new value


    dslcSetting.val(dslcValReal);
    if (!LiveComposer.Builder.Flags.generate_code_after_row_changed) return false; // window.dslc_generate_code();
    // window.dslc_show_publish_button();
  });
};

var onFileUploadOptionsChange = function onFileUploadOptionsChange() {
  // Uploading files
  var file_frame;
  jQuery(document).on('click', '.dslca-module-edit-field-image-add-hook, .dslca-modules-section-edit-field-image-add-hook', function () {
    var hook = jQuery(this);

    if (hook.hasClass('dslca-module-edit-field-image-add-hook')) {
      var field = hook.siblings('.dslca-module-edit-field-image');
      var removeHook = hook.siblings('.dslca-module-edit-field-image-remove-hook');
    } else {
      var field = hook.siblings('.dslca-modules-section-edit-field-upload');
      var removeHook = hook.siblings('.dslca-modules-section-edit-field-image-remove-hook');
    } // Whether or not multiple files are allowed


    var multiple = false; // Create the media frame.

    file_frame = wp.media.frames.file_frame = wp.media({
      title: 'Choose Image',
      button: {
        text: 'Confirm'
      },
      multiple: multiple
    }); // When an image is selected, run a callback.

    file_frame.on('select', function () {
      var attachment = file_frame.state().get('selection').first().toJSON();
      /*
      Save image ID as value of the image input.
       */
      // field.val( attachment.id ).data( 'dslca-img-url', attachment.url ).trigger('change'); - previous version

      field.val(attachment.id);
      var dataId = hook.parent().attr("data-id");
      /*
      Save alt as value of the image input.
       */

      if (attachment.alt != '' && dataId == 'image') {
        jQuery('.dslca-module-edit-option-image_alt input[data-id="image_alt"]').val(attachment.alt);
      }
      /*
      Save alt as value of the image input.
       */


      if (attachment.title != '' && dataId == 'image') {
        jQuery('.dslca-module-edit-option-image_title input[data-id="image_title"]').val(attachment.title);
      }
      /*
      Save image URL as data attribute of input in dslca-modules-section-settings set
      We need URL in 'dslca-img-url' for live preview
       */


      jQuery('.dslca-modules-section-being-edited', LiveComposer.Builder.PreviewAreaDocument).find('.dslca-modules-section-settings input[data-id="dslca-img-url"]').val(attachment.url);
      field.trigger('change'); // trigger change only after 'dslca-img-url' is set

      hook.hide();
      removeHook.show();
    }); // Finally, open the modal

    file_frame.open();
  });
  jQuery(document).on('click', '.dslca-module-edit-field-image-remove-hook, .dslca-modules-section-edit-field-image-remove-hook', function () {
    var hook = jQuery(this);

    if (hook.hasClass('dslca-module-edit-field-image-remove-hook')) {
      var field = hook.siblings('.dslca-module-edit-field-image');
      var addHook = hook.siblings('.dslca-module-edit-field-image-add-hook');
    } else {
      var field = hook.siblings('.dslca-modules-section-edit-field-upload');
      var addHook = hook.siblings('.dslca-modules-section-edit-field-image-add-hook');
    }

    field.val('').trigger('change'); // .dslca-modules-section-edit-field

    /*
    Delete alt and title value.
     */

    var dataId = hook.parent().attr("data-id");

    if (dataId == 'image') {
      jQuery('.dslca-module-edit-option-image_alt input').attr('value', '').trigger('change');
      jQuery('.dslca-module-edit-option-image_alt input').attr('data-val-bckp', '').trigger('change');
      jQuery('.dslca-module-edit-option-image_title input').attr('value', '').trigger('change');
      jQuery('.dslca-module-edit-option-image_title input').attr('data-val-bckp', '').trigger('change');
    }

    hook.hide();
    addHook.show();
  });
};
/**
 * MODULES SETTINGS PANEL - Filter Module Options
 */


function dslc_module_options_section_filter(sectionID) {
  if (window.dslcDebug) console.log('dslc_module_options_section_filter'); // Hide all options

  jQuery('.dslca-module-edit-option').hide(); // Show options for current section

  jQuery('.dslca-module-edit-option[data-section="' + sectionID + '"]').show(); // Recall module options tab

  elementOptionsTabs();
}
/**
 * MODULES SETTINGS PANEL - Show module options tab
 */


var elementOptionsTabs = function elementOptionsTabs(dslcTab) {
  if (window.dslcDebug) console.log('elementOptionsTabs'); // Get currently active section

  var dslcSectionID = jQuery('.dslca-options-filter-hook.dslca-active').data('section'); // If tab not supplied set to first

  dslcTab = typeof dslcTab !== 'undefined' ? dslcTab : jQuery('.dslca-module-edit-options-tab-hook[data-section="' + dslcSectionID + '"]:first'); // Get the tab ID

  var dslcTabID = dslcTab.data('id'); // Set active class on tab

  jQuery('.dslca-module-edit-options-tab-hook').removeClass('dslca-active');
  dslcTab.addClass('dslca-active'); // Show tabs container

  jQuery('.dslca-module-edit-options-tabs').show(); // Hide/Show tabs hooks

  jQuery('.dslca-module-edit-options-tab-hook').hide();
  jQuery('.dslca-module-edit-options-tab-hook[data-section="' + dslcSectionID + '"]').show();

  if (dslcTabID) {
    // Hide/Show options
    jQuery('.dslca-module-edit-option').hide();
    jQuery('.dslca-module-edit-option[data-tab="' + dslcTabID + '"]').show(); // Hide/Show Tabs

    dslc_module_options_hideshow_tabs(); // If only one tab hide the tabs container

    if (jQuery('.dslca-module-edit-options-tab-hook:visible').length < 2) {
      jQuery('.dslca-module-edit-options-tabs').hide();
    } else {
      jQuery('.dslca-module-edit-options-tabs').show();
    }
    /**
     * If responsive tab, change the width of the dslc-content div
     */


    dslc_disable_responsive_view(); // Tablet

    if (dslcTabID == DSLCString.str_res_tablet.toLowerCase() + '_responsive') {
      jQuery('body').removeClass('dslc-res-big dslc-res-smaller-monitor dslc-res-phone dslc-res-tablet');
      jQuery('body').addClass('dslc-res-tablet');
      jQuery('html').addClass('dslc-responsive-preview');
    } // Phone


    if (dslcTabID == DSLCString.str_res_phone.toLowerCase() + '_responsive') {
      jQuery('body').removeClass('dslc-res-big dslc-res-smaller-monitor dslc-res-phone dslc-res-tablet');
      jQuery('body').addClass('dslc-res-phone');
      jQuery('html').addClass('dslc-responsive-preview');
    } // If responsive reload module


    if (dslcTabID == DSLCString.str_res_tablet.toLowerCase() + '_responsive' || dslcTabID == DSLCString.str_res_phone.toLowerCase() + '_responsive') {
      // Show the loader
      jQuery('.dslca-container-loader').show(); // Reload Module

      Object(_module_js__WEBPACK_IMPORTED_MODULE_1__["moduleOutputAltered"])(function () {
        // Hide the loader
        jQuery('.dslca-container-loader').hide();
      });
    }
  } // Scroll horizontally options panel to the left (not ready)


  if (jQuery('body').hasClass('rtl')) {
    var totalWidthOption = 0;
    var totalWidthGroup = 0;
    var totalWidth = 0;
    jQuery('.dslca-module-edit-options-wrapper > .dslca-module-edit-option:visible').each(function (index) {
      if (!jQuery(this).hasClass('dslca-module-edit-option-hidden') && !jQuery(this).hasClass('dslca-module-control-group')) {
        totalWidthOption += parseInt(jQuery(this).outerWidth(), 10);
      }
    });
    jQuery('.dslca-module-edit-options-wrapper > .dslca-module-control-group:visible').each(function (index) {
      totalWidthGroup += parseInt(jQuery(this).outerWidth(), 10);
    });
    totalWidth = parseInt(totalWidthOption) + parseInt(totalWidthGroup) + 10;
    jQuery('.dslca-module-edit-options-wrapper').css({
      'width': totalWidth + 'px'
    });
  }
};
/**
 * MODULES SETTINGS PANEL - Hide show tabs based on option choices
 */

function dslc_module_options_hideshow_tabs() {
  if (window.dslcDebug) console.log('dslc_module_options_hideshow_tabs');
  var dslcSectionID = jQuery('.dslca-options-filter-hook.dslca-active').data('section');

  if (dslcSectionID == 'styling') {
    // Vars
    var dslcContainer = jQuery('.dslca-module-edit'),
        dslcHeading = true,
        dslcFilters = true,
        dslcCarArrows = true,
        dslcCarCircles = true,
        dslcPagination = true,
        dslcElThumb = true,
        dslcElTitle = true,
        dslcElExcerpt = true,
        dslcElMeta = true,
        dslcElButton = true,
        dslcElCats = true,
        dslcElCount = true,
        dslcElSeparator = true,
        dslcElTags = true,
        dslcElSocial = true,
        dslcElPosition = true,
        dslcElIcon = true,
        dslcElContent = true,
        dslcElPrice = true,
        dslcElPriceSec = true,
        dslcElAddCart = true,
        dslcElDetails = true,
        dslcElQuote = true,
        dslcElAuthorName = true,
        dslcElAuthorPos = true,
        dslcElImage = true,
        dslcElLogo = true; // Is heading selected?

    if (!jQuery('.dslca-module-edit-field[value="main_heading"]').is(':checked')) dslcHeading = false; // Are filters selected?

    if (!jQuery('.dslca-module-edit-field[value="filters"]').is(':checked')) dslcFilters = false; // Are arrows selected?

    if (!jQuery('.dslca-module-edit-field[value="arrows"]').is(':checked')) dslcCarArrows = false; // Are circles selected?

    if (!jQuery('.dslca-module-edit-field[value="circles"]').is(':checked')) dslcCarCircles = false; // Is it a carousel?

    if (jQuery('.dslca-module-edit-field[data-id="type"]').val() != 'carousel') {
      dslcCarArrows = false;
      dslcCarCircles = false;
    } // Is pagination enabled?


    if (jQuery('.dslca-module-edit-field[data-id="pagination_type"]').val() == 'disabled') {
      dslcPagination = false;
    } // Is thumb enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="thumbnail"]').is(':checked')) {
      dslcElThumb = false;
    } // Is title enabled?


    if (jQuery('.dslca-module-edit-field[data-id*="elements"][value="content"]').length && !jQuery('.dslca-module-edit-field[data-id*="elements"][value="title"]').is(':checked')) {
      dslcElTitle = false;
    } // Is excerpt enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="excerpt"]').is(':checked')) {
      dslcElExcerpt = false;
    } // Is meta enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="meta"]').is(':checked')) {
      dslcElMeta = false;
    } // Is button enabled?


    if (jQuery('.dslca-module-edit-field[data-id*="elements"][value="button"]').length && !jQuery('.dslca-module-edit-field[data-id*="elements"][value="button"]').is(':checked')) {
      dslcElButton = false;
    } // Are cats enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="categories"]').is(':checked')) {
      dslcElCats = false;
    } // Is separator enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="separator"]').is(':checked')) {
      dslcElSeparator = false;
    } // Is count enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="count"]').is(':checked')) {
      dslcElCount = false;
    } // Are tags enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="tags"]').is(':checked')) {
      dslcElTags = false;
    } // Are social link enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="social"]').is(':checked')) {
      dslcElSocial = false;
    } // Is position enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="position"]').is(':checked')) {
      dslcElPosition = false;
    } // Is icon enabled?


    if (jQuery('.dslca-module-edit-field[data-id*="elements"][value="icon"]').length && !jQuery('.dslca-module-edit-field[data-id*="elements"][value="icon"]').is(':checked')) {
      dslcElIcon = false;
    } // Is content enabled?


    if (jQuery('.dslca-module-edit-field[data-id*="elements"][value="content"]').length && !jQuery('.dslca-module-edit-field[data-id*="elements"][value="content"]').is(':checked')) {
      dslcElContent = false;
    } // Is price enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="price"]').is(':checked')) {
      dslcElPrice = false;
    } // Is price secondary enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="price_2"]').is(':checked')) {
      dslcElPriceSec = false;
    } // Is add to cart enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="addtocart"]').is(':checked')) {
      dslcElAddCart = false;
    } // Is add to cart enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="details"]').is(':checked')) {
      dslcElDetails = false;
    } // Is quote enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="quote"]').is(':checked')) {
      dslcElQuote = false;
    } // Is author name enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="author_name"]').is(':checked')) {
      dslcElAuthorName = false;
    } // Is author position enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="author_position"]').is(':checked')) {
      dslcElAuthorPos = false;
    } // Is image enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="image"]').is(':checked')) {
      dslcElImage = false;
    } // Is logo enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="logo"]').is(':checked')) {
      dslcElLogo = false;
    } // Show/Hide Heading


    if (dslcHeading) jQuery('.dslca-module-edit-options-tab-hook[data-id="heading_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="heading_styling"]').hide(); // Show/Hide Filters

    if (dslcFilters) jQuery('.dslca-module-edit-options-tab-hook[data-id="filters_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="filters_styling"]').hide(); // Show/Hide Carousel Arrows

    if (dslcCarArrows) jQuery('.dslca-module-edit-options-tab-hook[data-id="carousel_arrows_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="carousel_arrows_styling"]').hide(); // Show/Hide Carousel Circles

    if (dslcCarCircles) jQuery('.dslca-module-edit-options-tab-hook[data-id="carousel_circles_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="carousel_circles_styling"]').hide(); // Show/Hide Pagination

    if (dslcPagination) jQuery('.dslca-module-edit-options-tab-hook[data-id="pagination_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="pagination_styling"]').hide(); // Show/Hide Thumb

    if (dslcElThumb) jQuery('.dslca-module-edit-options-tab-hook[data-id="thumbnail_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="thumbnail_styling"]').hide(); // Show/Hide Title

    if (dslcElTitle) jQuery('.dslca-module-edit-options-tab-hook[data-id="title_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="title_styling"]').hide(); // Show/Hide Excerpt

    if (dslcElExcerpt) jQuery('.dslca-module-edit-options-tab-hook[data-id="excerpt_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="excerpt_styling"]').hide(); // Show/Hide Meta

    if (dslcElMeta) jQuery('.dslca-module-edit-options-tab-hook[data-id="meta_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="meta_styling"]').hide(); // Show/Hide Button

    if (dslcElButton) jQuery('.dslca-module-edit-options-tab-hook[data-id="button_styling"], .dslca-module-edit-options-tab-hook[data-id="primary_button_styling"],' + ' .dslca-module-edit-options-tab-hook[data-id="secondary_button_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="button_styling"], .dslca-module-edit-options-tab-hook[data-id="primary_button_styling"],' + ' .dslca-module-edit-options-tab-hook[data-id="secondary_button_styling"]').hide(); // Show/Hide Cats

    if (dslcElCats) jQuery('.dslca-module-edit-options-tab-hook[data-id="categories_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="categories_styling"]').hide(); // Show/Hide Separator

    if (dslcElSeparator) jQuery('.dslca-module-edit-options-tab-hook[data-id="separator_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="separator_styling"]').hide(); // Show/Hide Count

    if (dslcElCount) jQuery('.dslca-module-edit-options-tab-hook[data-id="count_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="count_styling"]').hide(); // Show/Hide Tags

    if (dslcElTags) jQuery('.dslca-module-edit-options-tab-hook[data-id="tags_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="tags_styling"]').hide(); // Show/Hide Tags

    if (dslcElPosition) jQuery('.dslca-module-edit-options-tab-hook[data-id="position_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="position_styling"]').hide(); // Show/Hide Tags

    if (dslcElSocial) jQuery('.dslca-module-edit-options-tab-hook[data-id="social_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="social_styling"]').hide(); // Show/Hide Icon

    if (dslcElIcon) jQuery('.dslca-module-edit-options-tab-hook[data-id="icon_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="icon_styling"]').hide(); // Show/Hide Content

    if (dslcElContent) jQuery('.dslca-module-edit-options-tab-hook[data-id="content_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="content_styling"]').hide(); // Show/Hide Price

    if (dslcElPrice) jQuery('.dslca-module-edit-options-tab-hook[data-id="price_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="price_styling"]').hide(); // Show/Hide Price Sec

    if (dslcElPriceSec) jQuery('.dslca-module-edit-options-tab-hook[data-id="price_secondary_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="price_secondary_styling"]').hide(); // Show/Hide Add to Cart

    if (dslcElAddCart || dslcElDetails) jQuery('.dslca-module-edit-options-tab-hook[data-id="other_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="other_styling"]').hide(); // Show/Hide Quote

    if (dslcElQuote) jQuery('.dslca-module-edit-options-tab-hook[data-id="quote_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="quote_styling"]').hide(); // Show/Hide Author Name

    if (dslcElAuthorName) jQuery('.dslca-module-edit-options-tab-hook[data-id="author_name_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="author_name_styling"]').hide(); // Show/Hide Author Position

    if (dslcElAuthorPos) jQuery('.dslca-module-edit-options-tab-hook[data-id="author_position_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="author_position_styling"]').hide(); // Show/Hide Image

    if (dslcElImage) jQuery('.dslca-module-edit-options-tab-hook[data-id="image_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="image_styling"]').hide(); // Show/Hide Quote

    if (dslcElLogo) jQuery('.dslca-module-edit-options-tab-hook[data-id="logo_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="logo_styling"]').hide();
  }
  /**
   * Check 'Enable/Disable Custom CSS' control
   */


  if (jQuery('.dslca-options-filter-hook[data-section="styling"]').hasClass('dslca-active')) {
    var dslcCustomCSS = jQuery('.dslca-module-edit-option[data-id="css_custom"]'),
        dslcCustomCSSVal = dslcCustomCSS.find('select').val();

    if (dslcCustomCSSVal == 'enabled') {
      jQuery('.dslca-module-edit-option[data-section="styling"]').css({
        visibility: 'visible'
      });
      jQuery('.dslca-module-edit-option[data-tab]').css('visibility', 'visible');
      jQuery('.dslca-module-edit-options-tabs').show();
    } else {
      jQuery('.dslca-module-edit-option[data-section="styling"]').css({
        visibility: 'hidden'
      });
      jQuery('.dslca-module-control-group.dslca-module-edit-option').css('visibility', 'hidden');
      jQuery('.dslca-module-edit-options-tabs').hide();
      dslcCustomCSS.css({
        visibility: 'visible'
      });
    }
  } else {
    jQuery('.dslca-module-edit-options-tabs').show();
  }

  if (jQuery('select.dslca-module-edit-field[data-id="css_res_t"]').val() == 'disabled') {
    jQuery('.dslca-module-edit-option[data-id*="css_res_t"]').css('visibility', 'hidden');
    jQuery('.dslca-module-edit-option[data-tab="tablet_responsive"]').css('visibility', 'hidden');
  } else {
    jQuery('.dslca-module-edit-option[data-id*="css_res_t"]').css('visibility', 'visible');
    jQuery('.dslca-module-edit-option[data-tab="tablet_responsive"]').css('visibility', 'visible');
  }

  if (jQuery('select.dslca-module-edit-field[data-id="css_res_p"]').val() == 'disabled') {
    jQuery('.dslca-module-edit-option[data-id*="css_res_p"]').css('visibility', 'hidden');
    jQuery('.dslca-module-edit-option[data-tab="phone_responsive"]').css('visibility', 'hidden');
  } else {
    jQuery('.dslca-module-edit-option[data-id*="css_res_p"]').css('visibility', 'visible');
    jQuery('.dslca-module-edit-option[data-tab="phone_responsive"]').css('visibility', 'visible');
  }

  jQuery('.dslca-module-edit-option[data-id="css_res_p"], .dslca-module-edit-option[data-id="css_res_t"]').css('visibility', 'visible');

  if (jQuery('.dslca-options-filter-hook').hasClass('dslca-active')) {
    var section_tab = jQuery('.dslca-options-filter-hook.dslca-active').data('section');

    if (jQuery('.dslca-module-edit-option[data-section="' + section_tab + '"]').hasClass('dep-show')) {
      jQuery('.dslca-module-edit-option.dep-show').show();
    }

    if (jQuery('.dslca-module-edit-option[data-section="' + section_tab + '"]').hasClass('dep-hide')) {
      jQuery('.dslca-module-edit-option.dep-hide').hide();
    }
  }

  if (jQuery('.dslca-module-edit-options-tab-hook').hasClass('dslca-active')) {
    var data_tab = jQuery('.dslca-module-edit-options-tab-hook.dslca-active').data('id');

    if (jQuery('.dslca-module-edit-option[data-tab="' + data_tab + '"]').hasClass('dependent')) {
      jQuery('.dslca-module-edit-option.dependent').hide();
      jQuery('.dslca-module-edit-option[data-tab="' + data_tab + '"].dep-show').show();
      jQuery('.dslca-module-edit-option[data-tab="' + data_tab + '"].dep-hide').hide();
    } else {
      jQuery('.dslca-module-edit-option.dependent').hide();
    }
  }
}
/**
 * MODULES SETTINGS PANEL - Confirm module options changes
 */


function dslc_module_options_confirm_changes(callback) {
  if (window.dslcDebug) console.log('dslc_module_options_confirm_changes'); // Callback

  callback = typeof callback !== 'undefined' ? callback : false; // If slider module

  if (jQuery('.dslca-module-being-edited', window.LiveComposer.Builder.PreviewAreaDocument).hasClass('dslc-module-DSLC_Sliders')) {
    jQuery('.dslca-module-being-edited', window.LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-module-being-edited'); // If not slider module
  } else {
    // Add class so we know saving is in progress
    jQuery('body').addClass('dslca-module-saving-in-progress'); // Reload module with new settings

    Object(_module_js__WEBPACK_IMPORTED_MODULE_1__["moduleOutputAltered"])(function () {
      // Update preset
      Object(_presets_js__WEBPACK_IMPORTED_MODULE_2__["updatePreset"])();
      window.dslc_generate_code();
      jQuery('.dslca-module-being-edited', window.LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-module-being-edited'); // Remove classes so we know saving finished

      jQuery('body').removeClass('dslca-module-saving-in-progress'); // Clean up options container

      jQuery('.dslca-module-edit-options-inner').html('');
      jQuery('.dslca-module-edit-options-tabs').html('');
      window.LiveComposer.Builder.UI.clearUtils(); // Callback if there's one

      if (callback) {
        callback();
      }
    });
  } // Show modules listing


  Object(_uigeneral_js__WEBPACK_IMPORTED_MODULE_0__["showSection"])('.dslca-modules'); // Hide the filter hooks

  jQuery('.dslca-header .dslca-options-filter-hook').hide(); // Hide the save/cancel actions

  jQuery('.dslca-module-edit-actions').hide(); // Show the section hooks

  jQuery('.dslca-header .dslca-go-to-section-hook').show(); // window.dslc_generate_code();
  // Show the publish button

  window.dslc_show_publish_button();
}
/**
 * MODULES SETTINGS PANEL - Cancel module options changes
 */


function dslc_module_options_cancel_changes(callback) {
  if (window.dslcDebug) console.log('dslc_module_options_cancel_changes'); // Callback

  callback = typeof callback !== 'undefined' ? callback : false; // Vars

  var editedModule = jQuery('.dslca-module-being-edited', window.LiveComposer.Builder.PreviewAreaDocument); // Add backup option values

  jQuery('.dslca-module-options-front', editedModule).html('').append(window.LiveComposer.Builder.moduleBackup); // window.LiveComposer.Builder.moduleBackup = false;
  // Reload module

  Object(_module_js__WEBPACK_IMPORTED_MODULE_1__["moduleOutputAltered"])(function () {
    window.dslc_generate_code();
    jQuery('.dslca-module-being-edited', window.LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-module-being-edited'); // Clean up options container

    jQuery('.dslca-module-edit-options-inner').html('');
    jQuery('.dslca-module-edit-options-tabs').html('');
    window.LiveComposer.Builder.UI.clearUtils();

    if (callback) {
      callback();
    }
  }); // Show modules listing

  Object(_uigeneral_js__WEBPACK_IMPORTED_MODULE_0__["showSection"])('.dslca-modules'); // Hide the filter hooks

  jQuery('.dslca-header .dslca-options-filter-hook').hide(); // Hide the save/cancel actions

  jQuery('.dslca-module-edit-actions').hide(); // Show the section hooks

  jQuery('.dslca-header .dslca-go-to-section-hook').show(); // Show the publish button

  window.dslc_show_publish_button();
  window.LiveComposer.Builder.UI.clearUtils();
}
/**
 * MODULES SETTINGS PANEL - Option Tooltips
 */


function dslc_module_options_tooltip() {
  // Close Tooltip
  jQuery(document).on('click', '.dslca-module-edit-field-ttip-close', function () {
    jQuery('.dslca-module-edit-field-ttip, .dslca-module-edit-field-icon-ttip').hide();
  }); // Show Tooltip

  jQuery(document).on('click', '.dslca-module-edit-field-ttip-hook', function () {
    var dslcTtip = jQuery('.dslca-module-edit-field-ttip'),
        dslcTtipInner = dslcTtip.find('.dslca-module-edit-field-ttip-inner'),
        dslcHook = jQuery(this),
        dslcTtipContent,
        dslcLabel;
    dslcLabel = dslcHook.parent();

    if (dslcLabel.parent().hasClass('dslca-modules-section-edit-option')) {
      dslcTtipContent = dslcHook.closest('.dslca-modules-section-edit-option').find('.dslca-module-edit-field-ttip-content').html();
    } else {
      dslcTtipContent = dslcHook.closest('.dslca-module-edit-option').find('.dslca-module-edit-field-ttip-content').html();
    }

    if (dslcTtip.is(':visible')) {
      jQuery('.dslca-module-edit-field-ttip').hide();
    } else {
      dslcTtipInner.html(dslcTtipContent);
      var dslcOffset = dslcHook.offset();
      var dslcTtipHeight = dslcTtip.outerHeight();
      var dslcTtipWidth = dslcTtip.outerWidth();
      var dslcTtipLeft = dslcOffset.left - dslcTtipWidth / 2 + 6;
      var dslcTtipArrLeft = '50%';

      if (dslcTtipLeft < 0) {
        dslcTtipArrLeft = dslcTtipWidth / 2 + dslcTtipLeft + 'px';
        dslcTtipLeft = 0;
      }

      jQuery('.dslca-module-edit-field-ttip').show().css({
        top: dslcOffset.top - dslcTtipHeight - 20,
        left: dslcTtipLeft
      });
      jQuery("head").append(jQuery('<style>.dslca-module-edit-field-ttip:after, .dslca-module-edit-field-ttip:before { left: ' + dslcTtipArrLeft + ' }</style>'));
    }
  }); // Show Tooltip ( Icon Options )

  jQuery(document).on('click', '.dslca-module-edit-field-icon-ttip-hook', function () {
    var dslcTtip = jQuery('.dslca-module-edit-field-icon-ttip');
    var dslcHook = jQuery(this);

    if (dslcTtip.is(':visible')) {
      jQuery('.dslca-module-edit-field-icon-ttip').hide();
    } else {
      var dslcOffset = dslcHook.offset();
      var dslcTtipHeight = dslcTtip.outerHeight();
      var dslcTtipWidth = dslcTtip.outerWidth();
      var dslcTtipLeft = dslcOffset.left - dslcTtipWidth / 2 + 6;
      var dslcTtipArrLeft = '50%';

      if (dslcTtipLeft < 0) {
        dslcTtipArrLeft = dslcTtipWidth / 2 + dslcTtipLeft + 'px';
        dslcTtipLeft = 0;
      }

      jQuery('.dslca-module-edit-field-icon-ttip').show().css({
        top: dslcOffset.top - dslcTtipHeight - 20,
        left: dslcTtipLeft
      });
      jQuery("head").append(jQuery('<style>.dslca-module-edit-field-icon-ttip:after, .dslca-module-edit-field-icon-ttip:before { left: ' + dslcTtipArrLeft + ' }</style>'));
    }
  });
}
/**
 * MODULES SETTINGS PANEL - Font option type
 */


function dslc_module_options_font() {
  // Next Font
  jQuery(document).on('click', '.dslca-module-edit-field-font-next', function (e) {
    e.preventDefault();

    if (!jQuery(this).hasClass('dslca-font-loading') && !jQuery(this).siblings('.dslca-font-loading').length) {
      var dslcOption = jQuery(this).closest('.dslca-module-edit-option-font');
      var dslcField = jQuery('.dslca-module-edit-field-font', dslcOption);
      var dslcCurrIndex = dslcAllFontsArray.indexOf(dslcField.val());
      var dslcNewIndex = dslcCurrIndex + 1;
      jQuery('.dslca-module-edit-field-font-suggest', dslcOption).text('');
      dslcField.val(dslcAllFontsArray[dslcNewIndex]).trigger('change');
      jQuery(this).addClass('dslca-font-loading').find('.dslca-icon').removeClass('dslc-icon-chevron-right').addClass('dslc-icon-refresh dslc-icon-spin');
    }
  }); // Previous Font

  jQuery(document).on('click', '.dslca-module-edit-field-font-prev', function (e) {
    e.preventDefault();

    if (!jQuery(this).hasClass('dslca-font-loading') && !jQuery(this).siblings('.dslca-font-loading').length) {
      var dslcOption = jQuery(this).closest('.dslca-module-edit-option-font');
      var dslcField = jQuery('.dslca-module-edit-field-font', dslcOption);
      var dslcCurrIndex = dslcAllFontsArray.indexOf(dslcField.val());
      var dslcNewIndex = dslcCurrIndex - 1;
      jQuery('.dslca-module-edit-field-font-suggest', dslcOption).text('');

      if (dslcNewIndex < 0) {
        dslcNewIndex = dslcAllFontsArray.length - 1;
      }

      dslcField.val(dslcAllFontsArray[dslcNewIndex]).trigger('change');
      jQuery(this).addClass('dslca-font-loading').find('.dslca-icon').removeClass('dslc-icon-chevron-left').addClass('dslc-icon-refresh dslc-icon-spin');
    }
  }); // Keyup ( left arrow, right arrow, else )

  jQuery(document).on('keyup', '.dslca-module-edit-field-font', function (e) {
    var dslcField,
        dslcOption,
        dslcVal,
        dslcMatchingFont = false,
        dslcFont;
    dslcField = jQuery(this);
    dslcOption = dslcField.closest('.dslca-module-edit-option');

    if (e.which == 38) {
      jQuery('.dslca-module-edit-field-font-prev', dslcOption).click();
    }

    if (e.which == 40) {
      jQuery('.dslca-module-edit-field-font-next', dslcOption).click();
    }

    if (e.which != 13 && e.which != 38 && e.which != 40) {
      dslcVal = dslcField.val();
      var search = [];
      var re = new RegExp('^' + dslcVal, 'i');
      var dslcFontsAmount = dslcAllFontsArray.length;
      var i = 0;

      do {
        if (re.test(dslcAllFontsArray[i])) {
          if (!dslcMatchingFont) {
            var dslcMatchingFont = dslcAllFontsArray[i];
          }
        }

        i++;
      } while (i < dslcFontsAmount);

      if (!dslcMatchingFont) {
        dslcFont = dslcVal;
        jQuery('.dslca-module-edit-field-font-suggest', dslcOption).hide();
      } else {
        dslcFont = dslcMatchingFont;
        jQuery('.dslca-module-edit-field-font-suggest', dslcOption).show();
      }

      jQuery('.dslca-module-edit-field-font-suggest', dslcOption).text(dslcFont);

      if (dslcFont.length) {
        dslcField.val(dslcFont.substring(0, dslcField.val().length));
      }
    }
  }); // Key press ( enter )

  jQuery(document).on('keypress', '.dslca-module-edit-field-font', function (e) {
    if (e.which == 13) {
      e.preventDefault();
      var dslcField, dslcOption, dslcVal, dslcMatchingFont, dslcFont;
      dslcField = jQuery(this);
      dslcOption = dslcField.closest('.dslca-module-edit-option');
      jQuery(this).val(jQuery('.dslca-module-edit-field-font-suggest', dslcOption).text()).trigger('change');
      jQuery('.dslca-module-edit-field-font-suggest', dslcOption).text('');
    }
  });
}
/*
 * MODULES SETTINGS PANEL - Change icon code based on direction (next/previous)
 */


function dslc_list_icon(object, direction) {
  var dslcOption = jQuery(object).closest('.dslca-module-edit-option-icon');
  var dslcField = jQuery('.dslca-module-edit-field-icon', dslcOption);
  var dslcCurrIndex = dslcIconsCurrentSet.indexOf(dslcField.val());

  if (direction == 'previous') {
    var dslcNewIndex = dslcCurrIndex - 1;
  } else {
    var dslcNewIndex = dslcCurrIndex + 1;
  }

  jQuery('.dslca-module-edit-field-icon-suggest', dslcOption).text('');

  if (dslcNewIndex < 0) {
    dslcNewIndex = dslcIconsCurrentSet.length - 1;
  }

  dslcField.val(dslcIconsCurrentSet[dslcNewIndex]).trigger('change');
}
/**
 * MODULES SETTINGS PANEL - Icon option type
 */


function dslc_module_options_icon() {
  // Key Up ( arrow up, arrow down, else )
  jQuery(document).on('keyup', '.dslca-module-edit-field-icon', function (e) {
    var dslcField, dslcOption, dslcVal, dslcIconsArrayGrep, dslcIcon;
    dslcField = jQuery(this);
    dslcOption = dslcField.closest('.dslca-module-edit-option'); // Key pressed: arrow up

    if (e.which == 38) {
      dslc_list_icon(dslcField, 'previous');
    } // Key pressed: arrow down


    if (e.which == 40) {
      dslc_list_icon(dslcField, 'next');
    }

    if (e.which != 13 && e.which != 38 && e.which != 40) {
      dslcVal = dslcField.val().toLowerCase();
      dslcField.val(dslcVal);
      dslcIconsArrayGrep = jQuery.grep(dslcIconsCurrentSet, function (value, i) {
        return value.indexOf(dslcVal) == 0;
      });
      dslcIcon = dslcIconsArrayGrep[0];
      jQuery('.dslca-module-edit-field-icon-suggest', dslcOption).text(dslcIcon);
    }
  }); // Key Press ( Enter )

  jQuery(document).on('keypress', '.dslca-module-edit-field-icon', function (e) {
    if (e.which == 13) {
      e.preventDefault();
      var dslcField, dslcOption, dslcVal, dslcIconsArrayGrep, dslcIcon;
      dslcField = jQuery(this);
      dslcOption = dslcField.closest('.dslca-module-edit-option');
      jQuery(this).val(jQuery('.dslca-module-edit-field-icon-suggest', dslcOption).text()).trigger('change');
      jQuery('.dslca-module-edit-field-icon-suggest', dslcOption).text('');
    }
  });
}
/**
 * MODULES SETTINGS PANEL - return options id
 */


function dslc_module_options_icon_returnid() {
  jQuery(document).on('click', '.dslca-open-modal-hook[data-modal^=".dslc-list-icons"]', function (el) {
    jQuery(this).closest('.dslca-module-edit-option-icon').find('input').addClass('icon-modal-active');
  });
  jQuery(document).on('click', '.dslca-modal-icons .icon-item', function (el) {
    // Get selected item code
    var selectedIconCode = jQuery(this).find('.icon-item_name').text();
    jQuery('input.icon-modal-active').val(selectedIconCode).change(); // Close modal window

    Object(_modalwindow_js__WEBPACK_IMPORTED_MODULE_3__["hideModal"])('', jQuery('.dslca-modal:visible'));
    jQuery('input.icon-modal-active').removeClass('icon-modal-active');
  });
}
/**
 * MODULES SETTINGS PANEL - Text align option type
 */


function dslc_module_options_text_align() {
  jQuery(document).on('click', '.dslca-module-edit-option-text-align-hook', function () {
    var newOpt = jQuery(this),
        otherOpt = jQuery(this).closest('.dslca-module-edit-option-text-align-wrapper').find('.dslca-module-edit-option-text-align-hook'),
        newVal = newOpt.data('val'),
        realOpt = jQuery(this).closest('.dslca-module-edit-option-text-align-wrapper').siblings('input.dslca-module-edit-field');
    otherOpt.removeClass('dslca-active');
    newOpt.addClass('dslca-active');
    realOpt.val(newVal).trigger('change');
  });
}
/**
 * MODULES SETTINGS PANEL - Checkbox Option Type
 */


function dslc_module_options_checkbox() {
  jQuery(document).on('click', '.dslca-module-edit-option-checkbox-hook, .dslca-modules-section-edit-option-checkbox-hook', function () {
    var checkFake = jQuery(this);
    var checkReal = checkFake.siblings('input[type="checkbox"]');

    if (checkReal.prop('checked')) {
      checkReal.prop('checked', false);
      checkFake.find('.dslca-icon').removeClass('dslc-icon-check').addClass('dslc-icon-check-empty');
    } else {
      checkReal.prop('checked', true);
      checkFake.find('.dslca-icon').removeClass('dslc-icon-check-empty').addClass('dslc-icon-check');
    }

    checkReal.change();
  });
}
/**
 * MODULES SETTINGS PANEL - Box Shadow Option Type
 */


function dslc_module_options_box_shadow() {
  if (window.dslcDebug) console.log('dslc_module_options_box_shadow');
  /**
   * Value Change
   */

  jQuery(document).on('change', '.dslca-module-edit-option-box-shadow-hor, ' + '.dslca-module-edit-option-box-shadow-ver, .dslca-module-edit-option-box-shadow-blur, .dslca-module-edit-option-box-shadow-spread,' + ' .dslca-module-edit-option-box-shadow-color, .dslca-module-edit-option-box-shadow-inset', function () {
    var boxShadowWrapper = jQuery(this).closest('.dslca-module-edit-option'),
        boxShadowInput = boxShadowWrapper.find('.dslca-module-edit-field'),
        boxShadowHor = boxShadowWrapper.find('.dslca-module-edit-option-box-shadow-hor').val(),
        boxShadowVer = boxShadowWrapper.find('.dslca-module-edit-option-box-shadow-ver').val(),
        boxShadowBlur = boxShadowWrapper.find('.dslca-module-edit-option-box-shadow-blur').val(),
        boxShadowSpread = boxShadowWrapper.find('.dslca-module-edit-option-box-shadow-spread').val(),
        boxShadowColor = boxShadowWrapper.find('.dslca-module-edit-option-box-shadow-color').val(),
        boxShadowInset = boxShadowWrapper.find('.dslca-module-edit-option-box-shadow-inset').is(':checked');

    if (boxShadowInset) {
      boxShadowInset = ' inset';
    } else {
      boxShadowInset = '';
    }

    var boxShadowVal = boxShadowHor + 'px ' + boxShadowVer + 'px ' + boxShadowBlur + 'px ' + boxShadowSpread + 'px ' + boxShadowColor + boxShadowInset;
    boxShadowInput.val(boxShadowVal).trigger('change');
  });
}
/**
 * MODULES SETTINGS PANEL - Text Shadow Option Type
 */


function dslc_module_options_text_shadow() {
  if (window.dslcDebug) console.log('dslc_module_options_text_shadow');
  /**
   * Value Change
   */

  jQuery(document).on('change', '.dslca-module-edit-option-text-shadow-hor, .dslca-module-edit-option-text-shadow-ver,' + '.dslca-module-edit-option-text-shadow-blur, .dslca-module-edit-option-text-shadow-color', function () {
    var textShadowWrapper = jQuery(this).closest('.dslca-module-edit-option'),
        textShadowInput = textShadowWrapper.find('.dslca-module-edit-field'),
        textShadowHor = textShadowWrapper.find('.dslca-module-edit-option-text-shadow-hor').val(),
        textShadowVer = textShadowWrapper.find('.dslca-module-edit-option-text-shadow-ver').val(),
        textShadowBlur = textShadowWrapper.find('.dslca-module-edit-option-text-shadow-blur').val(),
        textShadowColor = textShadowWrapper.find('.dslca-module-edit-option-text-shadow-color').val();
    var textShadowVal = textShadowHor + 'px ' + textShadowVer + 'px ' + textShadowBlur + 'px ' + textShadowColor;
    textShadowInput.val(textShadowVal).trigger('change');
  });
}
/**
 * MODULES SETTINGS PANEL - Color Option Type
 */


function dslc_module_options_color(field) {
  if (window.dslcDebug) console.log('dslc_module_options_color');
  var dslcColorField, dslcAffectOnChangeEl, dslcAffectOnChangeRule, dslcColorFieldVal, dslcModule, dslcOptionID, dslcCurrColor;
  /**
   * Color Pallete.
   *
   * Last three selected colors get stored in the local storage
   * of the browser under the key 'dslcColors-example.com'.
   *
   * Beside latest three custom colors, color palette includes
   * three predefined/fixed colors: white, black and transparent.
   */

  var dslcColorPallete = [],
      currStorage,
      index;
  var palleteCurrentDommain = 'dslcColors-' + document.domain; // Get three recent colors from the local storage.

  if (undefined !== localStorage[palleteCurrentDommain]) {
    currStorage = JSON.parse(localStorage[palleteCurrentDommain]);
    dslcColorPallete = currStorage;
  } // Set default colors if not enough custom colors. Should be six.


  if (1 > dslcColorPallete.length) {
    dslcColorPallete.push('#78b');
  }

  if (2 > dslcColorPallete.length) {
    dslcColorPallete.push('#ab0');
  }

  if (3 > dslcColorPallete.length) {
    dslcColorPallete.push('#de3');
  } // Add the next "fixed" colors to the end of the pallete.


  dslcColorPallete.push('#fff');
  dslcColorPallete.push('#000');
  dslcColorPallete.push('rgba(0,0,0,0)');
  var query = field; // For each color picker input field.

  jQuery(query).each(function () {
    // Set setting the conotrol wrapper.
    var wrapper = jQuery(this).closest('.dslca-color-option');
    var input = jQuery(this);
    dslcCurrColor = jQuery(this).val();
    /**
     * Init standard WP color pickers (Iris).
     *
     * See: http://automattic.github.io/Iris/
     * See: https://github.com/23r9i0/wp-color-picker-alpha
     */

    input.wpColorPicker({
      mode: 'hsl',
      palettes: dslcColorPallete,
      change: function change(event, ui) {
        console.log("wpColorPicker > change"); // @todo: get the code below into a separate function!
        // The option field

        dslcColorField = input;
        var color = input.wpColorPicker('color'); // The new color

        if (color == null) {
          dslcColorFieldVal = '';
        } else {
          dslcColorFieldVal = color;
        } // Change current value of option


        dslcColorField.val(dslcColorFieldVal).trigger('change'); // Change input field background.

        dslcColorField.css('background', dslcColorFieldVal); // Live change

        dslcAffectOnChangeEl = dslcColorField.data('affect-on-change-el');
        dslcAffectOnChangeRule = dslcColorField.data('affect-on-change-rule');
        console.log("dslcColorField:");
        console.log(dslcColorField);
        console.log("dslcAffectOnChangeEl:");
        console.log(dslcAffectOnChangeEl); // ROWs doesn't have 'dslcAffectOnChangeEl' defined

        if (null != dslcAffectOnChangeEl && '.dslca-modules-section-being-edited' !== dslcAffectOnChangeEl) {
          jQuery(dslcAffectOnChangeEl, window.LiveComposer.Builder.PreviewAreaDocument.find('.dslca-module-being-edited')).css(dslcAffectOnChangeRule, dslcColorFieldVal);
        } // Update option


        dslcModule = jQuery('.dslca-module-being-edited', window.LiveComposer.Builder.PreviewAreaDocument);
        dslcOptionID = dslcColorField.data('id');
        jQuery('.dslca-module-option-front[data-id="' + dslcOptionID + '"]', dslcModule).val(dslcColorFieldVal); // Add changed class

        dslcModule.addClass('dslca-module-change-made');
      }
    });
    var colorPickerPopup = wrapper.find('.wp-picker-holder .iris-picker');
    colorPickerPopup.append('<button type="button" class="dslca-colorpicker-apply">Apply</button>');
    var apply = wrapper.find('.dslca-colorpicker-apply');
    input.wpColorPicker('open'); // If [APPLY] button clicked...

    jQuery(apply).on('click', function () {
      // If new color is not one of the "fixed" colors...
      if ('#fff' !== dslcColorFieldVal && '#ffffff' !== dslcColorFieldVal && '#000' !== dslcColorFieldVal && '#000000' !== dslcColorFieldVal && 'rgba(0,0,0,0)' !== dslcColorFieldVal) {
        // Update pallete colors in the local storage.
        if (undefined === localStorage[palleteCurrentDommain]) {
          // Create new record if no local storage found.
          var newStorage = [dslcColorFieldVal];
          localStorage[palleteCurrentDommain] = JSON.stringify(newStorage);
        } else {
          // Update existing record in the local storage.
          var newStorage = JSON.parse(localStorage[palleteCurrentDommain]);

          if (newStorage.indexOf(dslcColorFieldVal) == -1) {
            // Add new color to the head of the pallete array.
            newStorage.unshift(dslcColorFieldVal);

            if (3 < newStorage.length) {
              // Remove the last color from the pallete.
              newStorage.pop();
            }
          }

          localStorage[palleteCurrentDommain] = JSON.stringify(newStorage);
        }
      }

      input.wpColorPicker('close');
    }); // Save this element to destroy on panel closed.

    window.LiveComposer.Builder.Helpers.colorpickers.push(jQuery(this));
  });
}
/**
 * MODULES SETTINGS PANEL - Numeric Option Type
 */


function dslc_module_options_numeric(fieldWrapper) {
  console.log('dslc_module_options_numeric');
  if (window.dslcDebug) console.log('dslc_module_options_numeric');
  var query = fieldWrapper; // || '.dslca-module-edit-option-slider';

  jQuery(query).each(function () {
    var controlWrapper = jQuery(this);
    /* Create an empty div to be uses by jQuery as the slider container. */

    if (0 === jQuery('.dslca-module-edit-field-slider', controlWrapper).length) {
      controlWrapper.append('<div class="dslca-module-edit-field-slider"></div>');
    }

    var workingWithModule = true;
    /* Is the control part of the module setting panel or section settings? */

    if (controlWrapper.hasClass('dslca-modules-section-edit-option')) {
      // We are working with seciton.
      workingWithModule = false;
    } else {
      // We are working with module.
      workingWithModule = true;
    }

    if (workingWithModule) {
      var sliderInput = controlWrapper.find('.dslca-module-edit-field');
    } else {
      var sliderInput = controlWrapper.find('.dslca-modules-section-edit-field');
    }
    /* Is the control part of the module setting panel or section settings? */


    if (controlWrapper.hasClass('dslca-modules-section-edit-option')) {
      // We are working with seciton.
      var sliderInput = controlWrapper.find('.dslca-modules-section-edit-field');
    } else {
      // We are working with module.
      var sliderInput = controlWrapper.find('.dslca-module-edit-field');
    }

    var sliderExt = '',
        sliderControl = controlWrapper.find('.dslca-module-edit-field-slider'),
        currentVal = parseFloat(sliderInput.val()),
        // Max value. By default max is 100.
    max = parseFloat(sliderInput.data('max')),
        // Min value. By default min is 0.
    min = parseFloat(sliderInput.data('min')),
        // Increment value. By default increment is 1.
    inc = parseFloat(sliderInput.data('increment')),
        // Backup values.
    max_orig = max,
        min_orig = min;
    /**
     * Check if value can't be negative according to module settings.
     */

    var onlypositive = false;

    if (undefined !== sliderInput.data('onlypositive') && 1 === sliderInput.data('onlypositive')) {
      onlypositive = true;
    }
    /**
     * If the current slider value gets to the max or min,
     * we set new 'wider' max/min values.
     *
     * This way slider has no fixed top or bottom limit one one hand
     * and works precise enough for both small and big values.
     */


    if (currentVal >= max) {
      max = currentVal * 2;
    }

    if (!onlypositive && currentVal <= min) {
      min = currentVal * 2;
    }

    sliderControl.slider({
      min: min,
      max: max,
      step: inc,
      value: sliderInput.val(),
      slide: function slide(event, ui) {
        console.log("slide");
        sliderInput.val(ui.value + sliderExt);
        sliderInput.trigger('change');
      },
      change: function change(event, ui) {
        console.log("change");
        /**
         * If the current slider value gets to the max or min,
         * we reset the slider (destroy/call again) so script above
         * set new bigger max/min values.
         *
         * This way slider has no top or bottom limit one one hand
         * and precise enough for both small and big values.
         */

        if (ui.value >= max || ui.value <= min) {
          sliderControl.slider("destroy");
          dslc_module_options_numeric(controlWrapper);
        }
      }
      /*
      stop: function( event, ui ) {
      },
      start: function( event, ui ) {
      }
      */

    });
    /**
     * Once the slider initiated, show it in HTML.
     * Slider control is hidden by default. We show it on hover only.
     */

    sliderControl.show();
    /* On mouse leave: Remove empty DIV and destroy the slider. */

    jQuery(controlWrapper).on('mouseleave', function () {
      if (undefined !== sliderControl.slider('instance')) {
        jQuery(sliderControl).slider('destroy');
      }

      sliderControl.remove();
    });
    if (sliderInput[0].classList.contains('slider-initiated')) return;
    sliderInput[0].classList.add("slider-initiated");
    sliderInput.on('keyup', function (e) {
      // In some rare cases we have the next error:
      // TypeError: undefined is not an object (evaluating 'a.key.match')
      if (undefined === e) {
        return false;
      } // Shift + Up/Down


      if (e.shiftKey) {
        if (e.keyCode == 38) {
          this.value = (parseInt(this.value) || 0) + 9;
          sliderInput.trigger('change');
        }

        if (e.keyCode == 40) {
          this.value = parseInt(this.value) + 0 - 9;
          sliderInput.trigger('change');
        }
      } // Backspace, "-"


      if (e.keyCode == 8 || e.keyCode == 45) {
        sliderInput.trigger('change');
      } // If number key pressed


      if (e.keyCode >= 48 && e.keyCode <= 57 || e.keyCode >= 96 && e.keyCode <= 105) {
        sliderInput.trigger('change');
      }

      var charCode = e.which ? e.which : e.keyCode; //@todo more work here

      if ((charCode >= 48 && charCode <= 57 || charCode >= 96 && charCode <= 105) && e.keyCode != 8 && e.keyCode != 39 && e.keyCode != 37 && e.keyCode != 46) {
        return false;
      }
    }); // sliderInput.unbind('change');

    sliderInput.on('change', function (e) {
      if (onlypositive && this.value < 0) {
        this.value = 0;
      }

      var containerWrapper;

      if (workingWithModule) {
        containerWrapper = jQuery(e.target.closest('.dslca-module-edit-option-slider'));
      } else {
        containerWrapper = jQuery(e.target.closest('.dslca-modules-section-edit-option-slider'));
      }
      /**
       * Move the slider needle to reflect the value changes
       * made via direct input of via keyboard arrow keys.
       */


      var currentSliderInstance = containerWrapper.find('.dslca-module-edit-field-slider');

      if (undefined !== currentSliderInstance.slider('instance')) {
        currentSliderInstance.slider('value', this.value);
      }

      if (workingWithModule) {
        // Add changed class to the module.
        var module = jQuery('.dslca-module-being-edited', window.LiveComposer.Builder.PreviewAreaDocument);
        module.addClass('dslca-module-change-made');
      }
    });
    return false;
  }); // .each
}

function dslc_disable_responsive_view() {
  jQuery('html').removeClass('dslc-responsive-preview');
  jQuery('body').removeClass('dslc-res-big dslc-res-smaller-monitor dslc-res-phone dslc-res-tablet');
}

function dslc_filter_module_options(sectionID) {
  dslc_module_options_section_filter(sectionID);
}

function dslc_confirm_changes(callback) {
  dslc_module_options_confirm_changes(callback);
}

function dslc_cancel_changes(callback) {
  dslc_module_options_cancel_changes(callback);
}

function dslc_init_colorpicker() {
  dslc_module_options_color();
}

function dslc_init_options_slider() {
  dslc_module_options_numeric();
}

function dslc_module_edit_options_hideshow_tabs() {
  dslc_module_options_hideshow_tabs();
}

/***/ }),

/***/ "./js/src/editor/backend/templates.js":
/*!********************************************!*\
  !*** ./js/src/editor/backend/templates.js ***!
  \********************************************/
/*! exports provided: templatesPanelInit */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "templatesPanelInit", function() { return templatesPanelInit; });
/* harmony import */ var _sections_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sections.js */ "./js/src/editor/backend/sections.js");
/* harmony import */ var _dragndrop_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dragndrop.js */ "./js/src/editor/backend/dragndrop.js");
/* harmony import */ var _modulearea_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modulearea.js */ "./js/src/editor/backend/modulearea.js");
/* harmony import */ var _modalwindow_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modalwindow.js */ "./js/src/editor/backend/modalwindow.js");
/*********************************
 *
 * = TEMPLATES =
 *
 * - dslc_load_template ( Load Template )
 * - dslc_import_template ( Import Template )
 * - dslc_save_template ( Save TEmplate )
 * - dslc_delete_template ( Delete Template )
 *
 ***********************************/




/**
 * TEMPLATES - Load
 */

var loadTemplateById = function loadTemplateById(template) {
  if (window.dslcDebug) console.log('dslc_load_template'); // Vars

  var dslcModule, dslcModuleID; // Template preloader

  jQuery('#wpcontent').prepend('<div class="lc-template-loader"></div>');
  var block = '<div class="lc-loader lds-css"><div class="lds-spinner"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>';
  jQuery('.lc-template-loader').prepend(block); // Ajax call to get template's HTML

  jQuery.post(DSLCAjax.ajaxurl, {
    action: 'dslc-ajax-load-template',
    dslc: 'active',
    dslc_template_id: template
  }, function (response) {
    // Apply the template's HTML
    jQuery('#dslc-main', LiveComposer.Builder.PreviewAreaDocument).html(response.output);
    jQuery('.lc-template-loader').remove(); // Call other functions

    LiveComposer.Builder.PreviewAreaWindow.dslc_carousel(); // Check init for rows and module areas

    Object(_sections_js__WEBPACK_IMPORTED_MODULE_0__["sectionsInitJS"])();
    Object(_modulearea_js__WEBPACK_IMPORTED_MODULE_2__["moduleareasInitJS"])();
    Object(_dragndrop_js__WEBPACK_IMPORTED_MODULE_1__["dragAndDropInit"])();
    window.dslc_show_publish_button();
    window.dslc_generate_code();
  });
};
/**
 * TEMPLATES - Import
 */


function dslc_template_import() {
  if (window.dslcDebug) console.log('dslc_import_template'); // Vars

  var dslcModule, dslcModuleID; // Hide the title on the button and show loading animation

  jQuery('.dslca-modal-templates-import .dslca-modal-title').css({
    opacity: 0
  });
  jQuery('.dslca-modal-templates-import .dslca-loading').show(); // Ajax call to load template's HTML

  jQuery.post(DSLCAjax.ajaxurl, {
    action: 'dslc-ajax-import-template',
    dslc: 'active',
    dslc_template_code: jQuery('#dslca-import-code').val()
  }, function (response) {
    // Apply the template's HTML
    jQuery('#dslc-main', LiveComposer.Builder.PreviewAreaDocument).html(response.output); // Hide the loading on the button and show the title

    jQuery('.dslca-modal-templates-import .dslca-loading').hide();
    jQuery('.dslca-modal-templates-import .dslca-modal-title').css({
      opacity: 1
    }); // Hide the modal

    Object(_modalwindow_js__WEBPACK_IMPORTED_MODULE_3__["hideModal"])('', '.dslca-modal-templates-import'); // Call other functions

    LiveComposer.Builder.PreviewAreaWindow.dslc_bg_video();
    Object(_dragndrop_js__WEBPACK_IMPORTED_MODULE_1__["dragAndDropInit"])();
    window.dslc_show_publish_button();
    window.dslc_generate_code();
  });
}
/**
 * TEMPLATES - SAVE
 */


function dslc_template_save() {
  if (window.dslcDebug) console.log('dslc_save_template'); // AJAX call to save the template

  jQuery.post(DSLCAjax.ajaxurl, {
    action: 'dslc-ajax-save-template',
    dslc: 'active',
    dslc_template_code: jQuery('#dslca-code').val(),
    dslc_template_title: jQuery('#dslca-save-template-title').val()
  }, function (response) {
    // Hide the modal
    Object(_modalwindow_js__WEBPACK_IMPORTED_MODULE_3__["hideModal"])('', '.dslca-modal-templates-save');
  });
}
/**
 * TEMPLATES - DELETE
 */


function dslc_template_delete(template) {
  if (window.dslcDebug) console.log('dslc_delete_template'); // AJAX call to delete template

  jQuery.post(DSLCAjax.ajaxurl, {
    action: 'dslc-ajax-delete-template',
    dslc: 'active',
    dslc_template_id: template
  }, function (response) {
    // Remove template from the template listing
    jQuery('.dslca-template[data-id="' + template + '"]').fadeOut(200, function () {
      jQuery(this).remove();
    });
  });
}
/**
 * Deprecated Functions and Fallbacks
 */


function dslc_import_template() {
  dslc_template_import();
}

function dslc_save_template() {
  dslc_template_save();
}

function dslc_delete_template(template) {
  dslc_template_delete(template);
}
/**
 * TEMPLATES - Document Ready
 */


var templatesPanelInit = function templatesPanelInit() {
  /**
   * Hook - Load Template
   */
  var templateItem = document.querySelectorAll('.dslca-template'); // Attach import function to each template item.

  templateItem.forEach(function (element) {
    element.addEventListener('click', function (event) {
      event.preventDefault();
      var importButton = event.target.closest("[data-id]");
      loadTemplateById(importButton.dataset.id);
    });
  });
  /**
   * Hook - Import Template
   */

  jQuery('.dslca-template-import-form').submit(function (e) {
    e.preventDefault();
    dslc_template_import();
  });
  /**
   * Hook - Save Template
   */

  jQuery('.dslca-template-save-form').submit(function (e) {
    e.preventDefault();
    dslc_template_save();
  });
  /**
   * Hook - Delete Template
   */

  jQuery(document).on('click', '.dslca-delete-template-hook', function (e) {
    e.stopPropagation();
    dslc_template_delete(jQuery(this).data('id'));
  });
};

/***/ }),

/***/ "./js/src/editor/backend/uigeneral.js":
/*!********************************************!*\
  !*** ./js/src/editor/backend/uigeneral.js ***!
  \********************************************/
/*! exports provided: hidePublishButton, showSection, fixContenteditable, keypressEvents */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hidePublishButton", function() { return hidePublishButton; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "showSection", function() { return showSection; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fixContenteditable", function() { return fixContenteditable; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "keypressEvents", function() { return keypressEvents; });
/* harmony import */ var _settings_panel_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./settings.panel.js */ "./js/src/editor/backend/settings.panel.js");
/* harmony import */ var _modalwindow_class_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modalwindow.class.js */ "./js/src/editor/backend/modalwindow.class.js");
/* harmony import */ var sortablejs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sortablejs */ "./node_modules/sortablejs/modular/sortable.esm.js");
/*********************************
 *
 * = UI - GENERAL =
 *
 * - dslc_hide_composer ( Hides the composer elements )
 * - dslc_show_composer ( Shows the composer elements )
 * - dslc_show_publish_button ( Shows the publish button )
 * - dslc_show_section now showSection ( Show a specific section )
 * - dslc_generate_filters ( Generate origin filters )
 * - dslc_filter_origin ( Origin filtering for templates/modules listing )
 * - dragAndDropInit ( Initiate drag and drop functionality )
 ***********************************/



/**
 * Try to detect JS errors in WP Admin part.
 */

window.onerror = function (error, file, line, char) {
  dslca_generate_error_report(error, file, line, char);
};
/**
 * Hook - Open Error Log button
 */


jQuery(document).on('click', '.dslca-show-js-error-hook', function (e) {
  e.preventDefault();
  var errors_container = document.getElementById('dslca-js-errors-report');

  if (!jQuery('body').hasClass('dslca-saving-in-progress')) {
    Object(_modalwindow_class_js__WEBPACK_IMPORTED_MODULE_1__["CModalWindow"])({
      title: '<a href="https://livecomposerplugin.com/support/" target="_blank"><span class="dslca-icon dslc-icon-comment"></span> &nbsp; Get Support Info</a>',
      content: '<span class="dslca-error-report">' + errors_container.value + '</span>'
    });
  }
});
/**
 * UI - GENERAL - Document Ready
 */

jQuery(document).ready(function ($) {
  /**
   * Try to detect JS errors in preview area.
   */
  jQuery("#page-builder-frame")[0].contentWindow.onerror = function (error, file, line, char) {
    dslca_generate_error_report(error, file, line, char);
  }; // Put JS error log data in a hidden textarea.


  dslca_update_report_log();
  jQuery('body').addClass('dslca-enabled dslca-drag-not-in-progress');
  jQuery('.dslca-invisible-overlay').hide();
  jQuery('.dslca-section').eq(0).show();
});
/**
 * Action - "Currently Editing" scroll on click
 */

jQuery(document).on('click', '.dslca-currently-editing', function () {
  var activeElement = false,
      newOffset = false,
      outlineColor;

  if (jQuery('.dslca-module-being-edited', LiveComposer.Builder.PreviewAreaDocument).length) {
    activeElement = jQuery('.dslca-module-being-edited', LiveComposer.Builder.PreviewAreaDocument);
    outlineColor = '#5890e5';
  } else if (jQuery('.dslca-modules-section-being-edited', LiveComposer.Builder.PreviewAreaDocument).length) {
    activeElement = jQuery('.dslca-modules-section-being-edited', LiveComposer.Builder.PreviewAreaDocument);
    outlineColor = '#eabba9';
  }

  if (activeElement) {
    newOffset = activeElement.offset().top - 100;

    if (newOffset < 0) {
      newOffset = 0;
    }

    var callbacks = [];
    jQuery('html, body', LiveComposer.Builder.PreviewAreaDocument).animate({
      scrollTop: newOffset
    }, 300, function () {
      activeElement.removeAttr('style');
    });
  }
});
/**
 * Save composer code with CMD+S or Ctrl+S
 */

jQuery(window).keypress(function (e) {
  if ((e.metaKey || e.ctrlKey) && e.keyCode == 83) {
    dslc_ajax_save_composer();
    e.preventDefault();
    return false;
  }
});
/**
 * Hook - Hide Composer
 */

jQuery(document).on('click', '.dslca-hide-composer-hook', function (e) {
  e.preventDefault();
  dslc_hide_composer();
});
/**
 * Hook - Show Composer
 */

jQuery(document).on('click', '.dslca-show-composer-hook', function (e) {
  e.preventDefault();
  dslc_show_composer();
});
/**
 * Hook - Section Show - Modules Listing
 */

jQuery(document).on('click', '.dslca-go-to-modules-hook', function (e) {
  e.preventDefault();
  showSection('.dslca-modules');
});
/**
 * Hook - Section Show - Dynamic
 */

jQuery(document).on('click', '.dslca-go-to-section-hook', function (e) {
  e.preventDefault(); // Do nothing if clicked on active tab

  if (jQuery(this).hasClass('dslca-active')) {
    return;
  }

  var sectionTitle = jQuery(this).data('section');
  showSection(sectionTitle);

  if (jQuery(this).hasClass('dslca-go-to-section-modules') || jQuery(this).hasClass('dslca-go-to-section-templates')) {
    jQuery(this).addClass('dslca-active').siblings('.dslca-go-to-section-hook').removeClass('dslca-active');
  }
});
/**
 * Hook - Close Composer
 */

jQuery(document).on('click', '.dslca-close-composer-hook', function (e) {
  e.preventDefault();
  var redirect_url = jQuery(this).attr('href');

  if (!jQuery('body').hasClass('dslca-saving-in-progress') && jQuery('.dslca-save-composer').is(':visible')) {
    // Show warning if changes weren't saved.
    Object(_modalwindow_class_js__WEBPACK_IMPORTED_MODULE_1__["CModalWindow"])({
      title: DSLCString.str_exit_title,
      content: DSLCString.str_exit_descr,
      confirm: function confirm() {
        window.location = redirect_url;
      }
    });
  } else {
    window.location = redirect_url;
  }
});
/**
 * Submit Form
 */

jQuery(document).on('click', '.dslca-submit', function () {
  jQuery(this).closest('form').submit();
});
/**
 * Hook - Show Origin Filters
 */

jQuery(document).on('click', '.dslca-section-title', function (e) {
  e.stopPropagation();

  if (jQuery('.dslca-section-title-filter', this).length) {
    dslc_generate_filters(); // Open filter panel

    jQuery('.dslca-section-title-filter-options').slideToggle(300);
  }
});
/**
 * Hook - Apply Filter Origin
 */

jQuery(document).on('click', '.dslca-section-title-filter-options a', function (e) {
  e.preventDefault();
  e.stopPropagation();
  var origin = jQuery(this).data('origin');
  var section = jQuery(this).closest('.dslca-section');

  if (section.hasClass('dslca-templates-load')) {
    jQuery('.dslca-section-title-filter-curr', section).text(jQuery(this).text());
  } else {
    jQuery('.dslca-section-title-filter-curr', section).text(jQuery(this).text());
  }

  jQuery('.dslca-section-scroller-inner').css({
    left: 0
  });
  dslc_filter_origin(origin, section); // Close filter panel

  jQuery('.dslca-section-title-filter-options').slideToggle(300);
});
/**
 * UI - GENERAL - Hide Composer
 */

function dslc_hide_composer() {
  if (window.dslcDebug) console.log('dslc_hide_composer'); // Hide "hide" button and show "show" button

  jQuery('.dslca-hide-composer-hook').hide();
  jQuery('.dslca-show-composer-hook').show(); // Add class to know it's hidden

  jQuery('body').addClass('dslca-composer-hidden');
  jQuery('body', LiveComposer.Builder.PreviewAreaDocument).addClass('dslca-composer-hidden');
  LiveComposer.Builder.Flags.uiHidden = true; // Hide ( animation ) the main composer area ( at the bottom )

  jQuery('.dslca-container').css({
    bottom: jQuery('.dslca-container').outerHeight() * -1
  }); // Hide the header  part of the main composer area ( at the bottom )

  jQuery('.dslca-header').hide();
}
/**
 * UI - GENERAL - Show Composer
 */


function dslc_show_composer() {
  if (window.dslcDebug) console.log('dslc_show_composer'); // Hide the "show" button and show the "hide" button

  jQuery('.dslca-show-composer-hook').hide();
  jQuery('.dslca-hide-composer-hook').show(); // Remove the class from the body so we know it's not hidden

  jQuery('body').removeClass('dslca-composer-hidden');
  jQuery('body', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-composer-hidden');
  LiveComposer.Builder.Flags.uiHidden = false; // Show ( animate ) the main composer area ( at the bottom )

  jQuery('.dslca-container').css({
    bottom: 0
  }); // Show the header of the main composer area ( at the bottom )

  jQuery('.dslca-header').show();
}
/**
 * UI - GENERAL - Show Publish Button
 */


window.dslc_show_publish_button = function () {
  if (window.dslcDebug) console.log('dslc_show_publish_button');
  jQuery('.dslca-save-composer').show().addClass('dslca-init-animation');
  jQuery('.dslca-save-draft-composer').show().addClass('dslca-init-animation');
};

var hidePublishButton = function hidePublishButton() {
  if (window.dslcDebug) console.log('hidePublishButton');
  jQuery('.dslca-save-composer').hide();
  jQuery('.dslca-save-draft-composer').hide();
};
/**
 * UI - GENERAL - Show Section
 */

var showSection = function showSection(section) {
  if (window.dslcDebug) console.log('showSection'); // Add class to body so we know it's in progress
  // jQuery('body').addClass('dslca-anim-in-progress');
  // Get vars

  var sectionTitle = jQuery(section).data('title'),
      newColor = jQuery(section).data('bg'); // Hide ( animate ) the container

  jQuery('.dslca-container').css({
    bottom: -500
  }); // Hide all sections and show specific section

  jQuery('.dslca-section').hide();
  jQuery(section).show(); // Change "currently editing"

  if (section == '.dslca-module-edit') {
    jQuery('.dslca-currently-editing').show().find('strong').text(jQuery('.dslca-module-being-edited', LiveComposer.Builder.PreviewAreaDocument).attr('title') + ' element');
  } else if (section == '.dslca-modules-section-edit') {
    jQuery('.dslca-currently-editing').show().css('background-color', '#e5855f').find('strong').text('Row');
  } else {
    jQuery('.dslca-currently-editing').hide().find('strong').text('');
  } // Filter module option tabs


  Object(_settings_panel_js__WEBPACK_IMPORTED_MODULE_0__["elementOptionsTabs"])(); // Show ( animate ) the container
  // setTimeout( function() {

  jQuery('.dslca-container').css({
    bottom: 0
  }); // }, 300 );
  // Remove class from body so we know it's finished
  // jQuery('body').removeClass('dslca-anim-in-progress');
  // Set initial background color for the color picker fields
  // Fixes the bug with section color pickers to keep values from the previously
  // edited section.

  jQuery(section).find('input.dslca-module-edit-field-colorpicker').each(function (item) {
    jQuery(this).css('background', jQuery(this).val());
  });
};
/**
 * UI - GENERAL - Generate Origin Filters
 */

function dslc_generate_filters() {
  if (window.dslcDebug) console.log('dslc_generate_filters'); // Vars

  var el,
      filters = [],
      filtersHTML = '<a html="#" data-origin="">Show All</a>',
      els = jQuery('.dslca-section:visible .dslca-origin'); // Go through each and generate the filters

  els.each(function () {
    el = jQuery(this);

    if (jQuery.inArray(el.data('origin'), filters) == -1) {
      filters.push(el.data('origin'));
      filtersHTML += '<a href="#" data-origin="' + el.data('origin') + '">' + el.data('origin') + '</a>';
    }
  });
  jQuery('.dslca-section:visible .dslca-section-title-filter-options').html(filtersHTML).css('background', jQuery('.dslca-section:visible').data('bg'));
}
/**
 * UI - GENERAL - Origin Filter
 */


function dslc_filter_origin(origin, section) {
  if (window.dslcDebug) console.log('dslc_filter_origin');
  jQuery('.dslca-origin', section).attr('data-display-module', 'false');
  jQuery('.dslca-origin[data-origin="' + origin + '"]', section).attr('data-display-module', 'true');

  if (origin == '') {
    jQuery('.dslca-origin', section).attr('data-display-module', 'true');
    jQuery('.dslca-origin.dslca-exclude', section).attr('data-display-module', 'false');
  }
}
/**
 * Prevent drag and drop of the modules
 * into the inner content areas of the other modules
 */


var fixContenteditable = function fixContenteditable() {
  window.LiveComposer.Builder.PreviewAreaDocument.on('dragstart', '.dslca-module, .dslc-module-front, .dslc-modules-area, .dslc-modules-section', function (e) {
    jQuery('[contenteditable]', window.LiveComposer.Builder.PreviewAreaDocument).attr('contenteditable', false);
  });
  window.LiveComposer.Builder.PreviewAreaDocument.on('dragend mousedown', '.dslca-module, .dslc-module-front, .dslc-modules-area, .dslc-modules-section', function (e) {
    jQuery('[contenteditable]', window.LiveComposer.Builder.PreviewAreaDocument).attr('contenteditable', true);
  });
};
/**
 * Disable/Enable module control.
 *
 * @param  {string} control_id CSS ID of the control we are toggling
 * @return {void}
 */

function dslc_toogle_control(control_id) {
  if (control_id === undefined) control_id = false;
  if (!control_id) return;
  var control = jQuery('.dslca-module-edit-option-' + control_id);
  var control_storage = control.find('.dslca-module-edit-field'); // Get the element we are editing

  var module = jQuery('.dslca-module-being-edited', LiveComposer.Builder.PreviewAreaDocument); // Get the element id

  var module_id = module[0].id;
  var responsive_prefix = '';

  if ('tablet_responsive' === control.data('tab')) {
    responsive_prefix = 'body.dslc-res-tablet ';
  } else if ('phone_responsive' === control.data('tab')) {
    responsive_prefix = 'body.dslc-res-phone ';
  }

  var affect_on_change_el = control_storage.data('affect-on-change-el');
  if (affect_on_change_el === undefined) return;
  var affect_on_change_elmts = affect_on_change_el.split(',');
  affect_on_change_el = ''; // Loop through elements (useful when there are multiple elements)

  for (var i = 0; i < affect_on_change_elmts.length; i++) {
    if (i > 0) {
      affect_on_change_el += ', ';
    }

    affect_on_change_el += responsive_prefix + '#' + module_id + ' ' + affect_on_change_elmts[i];
  }

  var affect_on_change_rule = control_storage.data('affect-on-change-rule').replace(/ /g, '');
  var affect_on_change_rules = affect_on_change_rule.split(',');
  var control_value;
  var control_data_ext = control_storage.data('ext');
  control.toggleClass('dslca-option-off');

  if (control.hasClass('dslca-option-off')) {
    // Disable
    control_value = dslc_get_control_value(control_id); // Temporary backup the current value as data attribute

    control_storage.data('val-bckp', control_value); // control_value = dslc_combine_value_and_extension( control_value, control_data_ext);
    // Loop through rules (useful when there are multiple rules)

    for (var i = 0; i < affect_on_change_rules.length; i++) {
      // remove css rule in element inline style
      jQuery(affect_on_change_el, LiveComposer.Builder.PreviewAreaDocument).css(affect_on_change_rules[i], ''); // remove css rule in css block

      disable_css_rule(affect_on_change_el, affect_on_change_rules[i], module_id); // PROBLEM do not work with multiply rules ex.: .dslc-text-module-content,.dslc-text-module-content p
    }

    control_storage.val('').trigger('change');
  } else {
    // Enable
    // Restore value of the data backup attribute
    control_storage.val(control_storage.data('val-bckp')).trigger('change');
    control_value = dslc_get_control_value(control_id);
    control_value = dslc_combine_value_and_extension(control_value, control_data_ext || ''); // Loop through rules (useful when there are multiple rules)

    for (var i = 0; i < affect_on_change_rules.length; i++) {
      var styleContent = affect_on_change_el + "{" + affect_on_change_rules[i] + ": " + control_value + "}";
      LiveComposer.Builder.Helpers.processInlineStyleTag({
        context: control,
        rule: affect_on_change_rules[i],
        elems: affect_on_change_el.replace(new RegExp('#' + module_id, 'gi'), '').trim(),
        styleContent: styleContent
      });
    }
  }
}

jQuery(document).ready(function ($) {
  // Option Control Toggle
  jQuery(document).on('click', '.dslca-module-edit-option .dslc-control-toggle', function (e) {
    e.preventDefault();
    var control_id = jQuery(e.target).closest('.dslca-module-edit-option').find('.dslca-module-edit-field').data('id');
    dslc_toogle_control(control_id);
  }); // Disable Toggle If the Control Focused

  jQuery(document).on('mousedown', '.dslca-module-edit-option', function (e) {
    var toggle = jQuery('.dslc-control-toggle');

    if (!toggle.is(e.target) // if the target of the click isn't the container...
    && toggle.has(e.target).length === 0) // ... nor a descendant of the container
      {
        if (jQuery(e.target).closest('.dslca-module-edit-option').hasClass('dslca-option-off')) {
          var control_id = jQuery(e.target).closest('.dslca-module-edit-option').find('.dslca-module-edit-field').data('id');
          dslc_toogle_control(control_id);
        }
      }
  });
});

function disable_css_rule(selectorCSS, ruleCSS, moduleID) {
  var cssRules;
  var target_stylsheet_ID = 'css-for-' + moduleID;
  var stylesheet = document.getElementById('page-builder-frame').contentWindow.document.getElementById(target_stylsheet_ID);
  selectorCSS = selectorCSS.replace(/\s\s+/g, ' ');

  if (stylesheet) {
    stylesheet = stylesheet.sheet;

    if (stylesheet['rules']) {
      cssRules = 'rules';
    } else if (stylesheet['cssRules']) {
      cssRules = 'cssRules';
    } else {} //no rules found... browser unknown
    // Go through each CSS rule (ex.: .content h1 {...})


    for (var R = 0; R < stylesheet[cssRules].length; R++) {
      // Is current CSS rule equal to the selectorCSS we are looking for?
      // (ex.: '.content h1' == '.content h1' )
      if (stylesheet[cssRules][R].selectorText == selectorCSS) {
        // Get CSS property we are looking for... (ex.: font-size : ...; )
        if (stylesheet[cssRules][R].style[ruleCSS]) {
          stylesheet[cssRules][R].style[ruleCSS] = '';
          break;
        }
      }
    }
  }
}

function dslc_combine_value_and_extension(value, extension) {
  if ('' === value || null === value) {
    return value;
  } // Check if value do not already include extension


  if (value.indexOf(extension) == -1) {
    value = value + extension;
  }

  return value;
}

function dslc_get_control_value(control_id) {
  var control = jQuery('.dslca-module-edit-option-' + control_id);
  var control_type = 'text';
  var control_storage = control.find('.dslca-module-edit-field');
  var value;
  /*
  	if ( control.hasClass('dslca-module-edit-option-select') ) {
  
  	} else {
  		// text based controls
  		value = control_storage.val();
  	}
  */

  value = control_storage.val();
  return value;
}
/**
 * Bind keypress events with both parent and iframe pages.
 * Function called when content inside iframe is loaded.
 *
 * @return {void}
 */


var keypressEvents = function keypressEvents() {
  jQuery([document, LiveComposer.Builder.PreviewAreaWindow.document]).unbind('keydown').bind('keydown', function (keydown_event) {
    // Modal window [ESC]/[Enter]
    window.dslc_modal_keypress_events(keydown_event); // Prevent backspace from navigating back

    dslc_disable_backspace_navigation(keydown_event); // Prompt Modal on F5

    dslc_notice_on_refresh(keydown_event); // Save Page

    dslc_save_page(keydown_event);
  });
};
/**
 * Action - Prevent backspace from navigating back
 */

function dslc_disable_backspace_navigation(event) {
  var doPrevent = false;

  if (event.keyCode === 8) {
    var d = event.srcElement || event.target;

    if (d.tagName.toUpperCase() === 'INPUT' && (d.type.toUpperCase() === 'TEXT' || d.type.toUpperCase() === 'PASSWORD' || d.type.toUpperCase() === 'NUMBER' || d.type.toUpperCase() === 'FILE') || d.tagName.toUpperCase() === 'TEXTAREA' || jQuery(d).hasClass('dslca-editable-content') || jQuery(d).hasClass('dslc-tabs-nav-hook-title') || jQuery(d).hasClass('dslc-accordion-title')) {
      doPrevent = d.readOnly || d.disabled;
    } else {
      doPrevent = true;
    }
  }

  if (doPrevent) {
    event.preventDefault();
  }
}
/**
 * Actions - Prompt Modal on F5
 *
 * 116 – F5
 * 81 + event.metaKey = CMD + R
 */


function dslc_notice_on_refresh(e) {
  if (e.which == 116 || e.which === 82 && e.metaKey) {
    if (jQuery('.dslca-save-composer-hook').offsetParent !== null || jQuery('.dslca-module-edit-save').offsetParent !== null) {
      e.preventDefault();
      Object(_modalwindow_class_js__WEBPACK_IMPORTED_MODULE_1__["CModalWindow"])({
        title: DSLCString.str_refresh_title,
        content: DSLCString.str_refresh_descr,
        confirm: function confirm() {
          window.location.reload();
        }
      });
      /*dslc_js_confirm( 'disable_lc', '<span class="dslca-prompt-modal-title">' + DSLCString.str_refresh_title +
       '</span><span class="dslca-prompt-modal-descr">' + DSLCString.str_refresh_descr + '</span>', document.URL );*/
    }
  }
}
/**
 * If Control or Command key is pressed and the S key is pressed run dslc_save_composer.
 * 83 is the key code for S.
 */


function dslc_save_page(e) {
  if (e.which == 83 && (e.metaKey || e.ctrlKey)) {
    if (jQuery('.dslca-save-composer-hook').css('display') == 'block') {
      dslc_save_composer();
      e.preventDefault();
      return false;
    }
  }
}
/**
 * Generate report about JS error and save it in a local storage.
 * @param  String error Error text
 * @param  String file  File with error
 * @param  String line  Line with error
 * @param  String char  Column with error
 * @return void
 */


function dslca_generate_error_report(error, file, line, char) {
  var title = 'JavaScript error detected in a third-party plugin';

  if (file.match("wp-content\/plugins\/live-composer-page-builder\/js") != null) {
    title = 'Live Composer returned JS error';
  }

  var error_report = '';
  error_report += '<br /><strong style="color:#E55F5F;">' + title + '</strong><br />';
  error_report += error + '<br /> File "' + file + '", line ' + line + ', char ' + char + '<br />';

  if ('undefined' !== typeof Storage) {
    localStorage.setItem('js_errors_report', error_report);
  }
}
/**
 * Put in a hidden div#dslca-js-errors-report information from local storage
 * @return void
 */


function dslca_update_report_log() {
  var errors_container = document.getElementById('dslca-js-errors-report');
  var error_report = localStorage.getItem('js_errors_report');

  if (null !== error_report) {
    errors_container.value = error_report;
    localStorage.removeItem('js_errors_report');
    document.querySelector('.dslca-show-js-error-hook').setAttribute('style', 'visibility:visible');
  }
} // ============================================================


jQuery(document).on('editorFrameLoaded', function () {
  var $ = jQuery;
  var headerFooter = jQuery('div[data-hf]', LiveComposer.Builder.PreviewAreaDocument);
  var overlay = '';
  headerFooter.each(function (index, el) {
    var linkToEdit = jQuery(el).data('editing-link');
    var hfType = jQuery(el).data('editing-type');
    var editingLabel = jQuery(el).data('editing-label');
    var editingSubLabel = jQuery(el).data('editing-sublabel');
    overlay += '<div class="dslc-hf-block-overlay"><a target="_blank" href="' + linkToEdit + '" class="dslc-hf-block-overlay-button dslca-link">' + editingLabel + '</a>';

    if (editingSubLabel !== undefined) {
      overlay += ' <span class="dslc-hf-block-overlay-text">' + editingSubLabel + '</span>';
    }

    overlay += '</div>';
    var htmlObject = document.createElement('div');
    htmlObject.innerHTML = overlay;
    el.append(htmlObject);
  });
});

/***/ }),

/***/ "./js/src/editor/backend/utils.class.js":
/*!**********************************************!*\
  !*** ./js/src/editor/backend/utils.class.js ***!
  \**********************************************/
/*! exports provided: untilsInitJs */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "untilsInitJs", function() { return untilsInitJs; });
/**
 * Custom utils
 */


function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

var Utils = {
  addslashes: function addslashes(str) {
    str = str.replace(/\\/g, '\\\\');
    str = str.replace(/\'/g, '\\\'');
    str = str.replace(/\"/g, '\\"');
    str = str.replace(/\0/g, '\\0');
    return str;
  },
  basename: function basename(path) {
    return path.split(/[\\/]/).pop();
  },

  /**
   * Check if browser is IE
   */
  msieversion: function msieversion() {
    var ua = window.navigator.userAgent;
    var msie = ua.indexOf("MSIE ");

    if (msie > 0 || !!navigator.userAgent.match(/Trident.*rv\:11\./)) // If Internet Explorer, return version number
      {
        return parseInt(ua.substring(msie + 5, ua.indexOf(".", msie)));
      } else // If another browser, return 0
      {
        return false;
      }
  },

  /**
   * Check if variables in array is desired types
   * @param  {array} array
   * @return {boolean}
   */
  checkParams: function checkParams(array) {
    if (!Array.isArray(array)) {
      throw 'Param is not array';
    } /// Instead of switch construction


    var types = {
      integer: function integer(param) {
        return isNaN(parseInt(param));
      },
      float: function float(param) {
        return isNaN(parseFloat(param));
      },
      string: function string(param) {
        return param != null && param != undefined && typeof param == 'string';
      },
      array: function array(param) {
        return Array.isArray(param);
      },
      object: function object(param) {
        return _typeof(param) == 'object';
      } /// Check it!

    };
    array.map(function (item) {
      if (!types[item[1]](item[0])) {
        throw 'Param ' + item[0] + ' is not ' + item[1];
      }
    });
  },

  /**
   * Converts UTF-8 to base64
   *
   * @param  {string} t utf-8
   * @return {string}   b64
   */
  utf8_to_b64: function utf8_to_b64(t) {
    return window.btoa(unescape(encodeURIComponent(t)));
  },

  /**
   * Converts base64 to UTF-8
   *
   * @param  {string} str in b64
   * @return {string}   in utf-8
   */
  b64_to_utf8: function b64_to_utf8(str) {
    return decodeURIComponent(escape(window.atob(str)));
  },

  /**
   * Get Page Params
   *
   * @return {array}
   */
  get_page_params: function get_page_params() {
    return decodeURIComponent(window.location.search.slice(1)).split('&').reduce(function _reduce(a, b) {
      b = b.split('=');
      a[b[0]] = b[1];
      return a;
    }, {});
  },
  get_unique_id: function get_unique_id() {
    return Math.random().toString(32).slice(2);
  },

  /**
   * Update module option in raw JSON code (dslc_code) of the module
   *
   * @param  {DOM element} module    Module Element
   * @param  {string} property_name  Name of the option we change
   * @param  {string} property_value Value of the option we change
   * @return {void}
   */
  update_module_property_raw: function update_module_property_raw(module, property_name, property_value) {
    // Hidden textarea element with raw base64 code of the module
    // <textarea class="dslca-module-code">YTo2On....iOjE7fQ==</textarea>
    var module_code_container = module.getElementsByClassName('dslca-module-code')[0]; // Hidden textarea element with value of this particular setting
    // <textarea data-id="property_name">property_value</textarea>

    var property_container = module.querySelector('.dslca-module-option-front[data-id="' + property_name + '"]'); // Get module raw code

    var module_code = module_code_container.value;
    module_code = JSON.parse(module_code);
    module_code[property_name] = property_value;
    module_code = JSON.stringify(module_code); // Update raw code

    module_code_container.value = module_code;
    module_code_container.innerHTML = module_code; // See comment block below
    // Change the property in hidden textarea as well

    property_container.value = property_value;
    property_container.innerHTML = property_value; // See comment block below

    /**
     * FireFox will not duplicate textarea value properly using .cloneNode(true)
     * if we don't use .innerHTML statement (Chrome works fine with .value only).
     *
     * See bug report: https://bugzilla.mozilla.org/show_bug.cgi?id=237783
     */
  },

  /**
   * Update section option in raw JSON code (dslc_code) of the section
   *
   * @param  {DOM element} section    `section Element
   * @param  {string} property_name  Name of the option we change
   * @param  {string} property_value Value of the option we change
   * @return {void}
   */
  update_section_property_raw: function update_section_property_raw(section, property_name, property_value) {
    // Hidden textarea element with raw base64 code of the roq
    // <textarea class="dslca-section-code"></textarea>
    var section_code_container = section.getElementsByClassName('dslca-section-code')[0]; // Hidden input element with value of this particular setting
    // <input data-id="property_name">property_value</textarea>

    var property_container = section.querySelector('.dslca-modules-section-settings input[data-id="' + property_name + '"]'); // Get module raw code

    var section_code = section_code_container.value;
    section_code = JSON.parse(section_code);
    section_code[property_name] = property_value;
    section_code = JSON.stringify(section_code); // Update raw code

    section_code_container.value = section_code;
    section_code_container.innerHTML = section_code; // See comment block below
    // Change the property in hidden textarea as well

    property_container.setAttribute('value', property_value);
    property_container.setAttribute('data-def', property_value);
  },

  /**
   * Provide custom events publish.
   * Also echoes all the custom events in the preview iframe as well.
   *
   * @param  {string} eventName
   * @param  {object||string||null||numeric} eventData [description]
   */
  publish: function publish(eventName, eventData) {
    eventData = eventData ? eventData : {};
    this.checkParams([[eventName, 'string'], [eventData, 'object']]);
    jQuery(document).trigger({
      type: eventName,
      message: {
        details: eventData
      }
    });
    LiveComposer.Builder.PreviewAreaWindow.dslca_publish_event(eventName, eventData);
  }
};
var untilsInitJs = function untilsInitJs() {
  window.LiveComposer.Utils = Utils;
};

/***/ }),

/***/ "./node_modules/animejs/lib/anime.es.js":
/*!**********************************************!*\
  !*** ./node_modules/animejs/lib/anime.es.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/*
 * anime.js v3.0.1
 * (c) 2019 Julian Garnier
 * Released under the MIT license
 * animejs.com
 */

// Defaults

var defaultInstanceSettings = {
  update: null,
  begin: null,
  loopBegin: null,
  changeBegin: null,
  change: null,
  changeComplete: null,
  loopComplete: null,
  complete: null,
  loop: 1,
  direction: 'normal',
  autoplay: true,
  timelineOffset: 0
};

var defaultTweenSettings = {
  duration: 1000,
  delay: 0,
  endDelay: 0,
  easing: 'easeOutElastic(1, .5)',
  round: 0
};

var validTransforms = ['translateX', 'translateY', 'translateZ', 'rotate', 'rotateX', 'rotateY', 'rotateZ', 'scale', 'scaleX', 'scaleY', 'scaleZ', 'skew', 'skewX', 'skewY', 'perspective'];

// Caching

var cache = {
  CSS: {},
  springs: {}
};

// Utils

function minMax(val, min, max) {
  return Math.min(Math.max(val, min), max);
}

function stringContains(str, text) {
  return str.indexOf(text) > -1;
}

function applyArguments(func, args) {
  return func.apply(null, args);
}

var is = {
  arr: function (a) { return Array.isArray(a); },
  obj: function (a) { return stringContains(Object.prototype.toString.call(a), 'Object'); },
  pth: function (a) { return is.obj(a) && a.hasOwnProperty('totalLength'); },
  svg: function (a) { return a instanceof SVGElement; },
  inp: function (a) { return a instanceof HTMLInputElement; },
  dom: function (a) { return a.nodeType || is.svg(a); },
  str: function (a) { return typeof a === 'string'; },
  fnc: function (a) { return typeof a === 'function'; },
  und: function (a) { return typeof a === 'undefined'; },
  hex: function (a) { return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a); },
  rgb: function (a) { return /^rgb/.test(a); },
  hsl: function (a) { return /^hsl/.test(a); },
  col: function (a) { return (is.hex(a) || is.rgb(a) || is.hsl(a)); },
  key: function (a) { return !defaultInstanceSettings.hasOwnProperty(a) && !defaultTweenSettings.hasOwnProperty(a) && a !== 'targets' && a !== 'keyframes'; }
};

// Easings

function parseEasingParameters(string) {
  var match = /\(([^)]+)\)/.exec(string);
  return match ? match[1].split(',').map(function (p) { return parseFloat(p); }) : [];
}

// Spring solver inspired by Webkit Copyright © 2016 Apple Inc. All rights reserved. https://webkit.org/demos/spring/spring.js

function spring(string, duration) {

  var params = parseEasingParameters(string);
  var mass = minMax(is.und(params[0]) ? 1 : params[0], .1, 100);
  var stiffness = minMax(is.und(params[1]) ? 100 : params[1], .1, 100);
  var damping = minMax(is.und(params[2]) ? 10 : params[2], .1, 100);
  var velocity =  minMax(is.und(params[3]) ? 0 : params[3], .1, 100);
  var w0 = Math.sqrt(stiffness / mass);
  var zeta = damping / (2 * Math.sqrt(stiffness * mass));
  var wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;
  var a = 1;
  var b = zeta < 1 ? (zeta * w0 + -velocity) / wd : -velocity + w0;

  function solver(t) {
    var progress = duration ? (duration * t) / 1000 : t;
    if (zeta < 1) {
      progress = Math.exp(-progress * zeta * w0) * (a * Math.cos(wd * progress) + b * Math.sin(wd * progress));
    } else {
      progress = (a + b * progress) * Math.exp(-progress * w0);
    }
    if (t === 0 || t === 1) { return t; }
    return 1 - progress;
  }

  function getDuration() {
    var cached = cache.springs[string];
    if (cached) { return cached; }
    var frame = 1/6;
    var elapsed = 0;
    var rest = 0;
    while(true) {
      elapsed += frame;
      if (solver(elapsed) === 1) {
        rest++;
        if (rest >= 16) { break; }
      } else {
        rest = 0;
      }
    }
    var duration = elapsed * frame * 1000;
    cache.springs[string] = duration;
    return duration;
  }

  return duration ? solver : getDuration;

}

// Elastic easing adapted from jQueryUI http://api.jqueryui.com/easings/

function elastic(amplitude, period) {
  if ( amplitude === void 0 ) amplitude = 1;
  if ( period === void 0 ) period = .5;

  var a = minMax(amplitude, 1, 10);
  var p = minMax(period, .1, 2);
  return function (t) {
    return (t === 0 || t === 1) ? t : 
      -a * Math.pow(2, 10 * (t - 1)) * Math.sin((((t - 1) - (p / (Math.PI * 2) * Math.asin(1 / a))) * (Math.PI * 2)) / p);
  }
}

// Basic steps easing implementation https://developer.mozilla.org/fr/docs/Web/CSS/transition-timing-function

function steps(steps) {
  if ( steps === void 0 ) steps = 10;

  return function (t) { return Math.round(t * steps) * (1 / steps); };
}

// BezierEasing https://github.com/gre/bezier-easing

var bezier = (function () {

  var kSplineTableSize = 11;
  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);

  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1 }
  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1 }
  function C(aA1)      { return 3.0 * aA1 }

  function calcBezier(aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT }
  function getSlope(aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1) }

  function binarySubdivide(aX, aA, aB, mX1, mX2) {
    var currentX, currentT, i = 0;
    do {
      currentT = aA + (aB - aA) / 2.0;
      currentX = calcBezier(currentT, mX1, mX2) - aX;
      if (currentX > 0.0) { aB = currentT; } else { aA = currentT; }
    } while (Math.abs(currentX) > 0.0000001 && ++i < 10);
    return currentT;
  }

  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {
    for (var i = 0; i < 4; ++i) {
      var currentSlope = getSlope(aGuessT, mX1, mX2);
      if (currentSlope === 0.0) { return aGuessT; }
      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;
      aGuessT -= currentX / currentSlope;
    }
    return aGuessT;
  }

  function bezier(mX1, mY1, mX2, mY2) {

    if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) { return; }
    var sampleValues = new Float32Array(kSplineTableSize);

    if (mX1 !== mY1 || mX2 !== mY2) {
      for (var i = 0; i < kSplineTableSize; ++i) {
        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);
      }
    }

    function getTForX(aX) {

      var intervalStart = 0;
      var currentSample = 1;
      var lastSample = kSplineTableSize - 1;

      for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {
        intervalStart += kSampleStepSize;
      }

      --currentSample;

      var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);
      var guessForT = intervalStart + dist * kSampleStepSize;
      var initialSlope = getSlope(guessForT, mX1, mX2);

      if (initialSlope >= 0.001) {
        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);
      } else if (initialSlope === 0.0) {
        return guessForT;
      } else {
        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);
      }

    }

    return function (x) {
      if (mX1 === mY1 && mX2 === mY2) { return x; }
      if (x === 0 || x === 1) { return x; }
      return calcBezier(getTForX(x), mY1, mY2);
    }

  }

  return bezier;

})();

var penner = (function () {

  var names = ['Quad', 'Cubic', 'Quart', 'Quint', 'Sine', 'Expo', 'Circ', 'Back', 'Elastic'];

  // Approximated Penner equations http://matthewlein.com/ceaser/

  var curves = {
    In: [
      [0.550, 0.085, 0.680, 0.530], /* inQuad */
      [0.550, 0.055, 0.675, 0.190], /* inCubic */
      [0.895, 0.030, 0.685, 0.220], /* inQuart */
      [0.755, 0.050, 0.855, 0.060], /* inQuint */
      [0.470, 0.000, 0.745, 0.715], /* inSine */
      [0.950, 0.050, 0.795, 0.035], /* inExpo */
      [0.600, 0.040, 0.980, 0.335], /* inCirc */
      [0.600,-0.280, 0.735, 0.045], /* inBack */
      elastic /* inElastic */
    ],
    Out: [
      [0.250, 0.460, 0.450, 0.940], /* outQuad */
      [0.215, 0.610, 0.355, 1.000], /* outCubic */
      [0.165, 0.840, 0.440, 1.000], /* outQuart */
      [0.230, 1.000, 0.320, 1.000], /* outQuint */
      [0.390, 0.575, 0.565, 1.000], /* outSine */
      [0.190, 1.000, 0.220, 1.000], /* outExpo */
      [0.075, 0.820, 0.165, 1.000], /* outCirc */
      [0.175, 0.885, 0.320, 1.275], /* outBack */
      function (a, p) { return function (t) { return 1 - elastic(a, p)(1 - t); }; } /* outElastic */
    ],
    InOut: [
      [0.455, 0.030, 0.515, 0.955], /* inOutQuad */
      [0.645, 0.045, 0.355, 1.000], /* inOutCubic */
      [0.770, 0.000, 0.175, 1.000], /* inOutQuart */
      [0.860, 0.000, 0.070, 1.000], /* inOutQuint */
      [0.445, 0.050, 0.550, 0.950], /* inOutSine */
      [1.000, 0.000, 0.000, 1.000], /* inOutExpo */
      [0.785, 0.135, 0.150, 0.860], /* inOutCirc */
      [0.680,-0.550, 0.265, 1.550], /* inOutBack */
      function (a, p) { return function (t) { return t < .5 ? elastic(a, p)(t * 2) / 2 : 1 - elastic(a, p)(t * -2 + 2) / 2; }; } /* inOutElastic */
    ]
  };

  var eases = { 
    linear: [0.250, 0.250, 0.750, 0.750]
  };

  var loop = function ( coords ) {
    curves[coords].forEach(function (ease, i) {
      eases['ease'+coords+names[i]] = ease;
    });
  };

  for (var coords in curves) loop( coords );

  return eases;

})();

function parseEasings(easing, duration) {
  if (is.fnc(easing)) { return easing; }
  var name = easing.split('(')[0];
  var ease = penner[name];
  var args = parseEasingParameters(easing);
  switch (name) {
    case 'spring' : return spring(easing, duration);
    case 'cubicBezier' : return applyArguments(bezier, args);
    case 'steps' : return applyArguments(steps, args);
    default : return is.fnc(ease) ? applyArguments(ease, args) : applyArguments(bezier, ease);
  }
}

// Strings

function selectString(str) {
  try {
    var nodes = document.querySelectorAll(str);
    return nodes;
  } catch(e) {
    return;
  }
}

// Arrays

function filterArray(arr, callback) {
  var len = arr.length;
  var thisArg = arguments.length >= 2 ? arguments[1] : void 0;
  var result = [];
  for (var i = 0; i < len; i++) {
    if (i in arr) {
      var val = arr[i];
      if (callback.call(thisArg, val, i, arr)) {
        result.push(val);
      }
    }
  }
  return result;
}

function flattenArray(arr) {
  return arr.reduce(function (a, b) { return a.concat(is.arr(b) ? flattenArray(b) : b); }, []);
}

function toArray(o) {
  if (is.arr(o)) { return o; }
  if (is.str(o)) { o = selectString(o) || o; }
  if (o instanceof NodeList || o instanceof HTMLCollection) { return [].slice.call(o); }
  return [o];
}

function arrayContains(arr, val) {
  return arr.some(function (a) { return a === val; });
}

// Objects

function cloneObject(o) {
  var clone = {};
  for (var p in o) { clone[p] = o[p]; }
  return clone;
}

function replaceObjectProps(o1, o2) {
  var o = cloneObject(o1);
  for (var p in o1) { o[p] = o2.hasOwnProperty(p) ? o2[p] : o1[p]; }
  return o;
}

function mergeObjects(o1, o2) {
  var o = cloneObject(o1);
  for (var p in o2) { o[p] = is.und(o1[p]) ? o2[p] : o1[p]; }
  return o;
}

// Colors

function rgbToRgba(rgbValue) {
  var rgb = /rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(rgbValue);
  return rgb ? ("rgba(" + (rgb[1]) + ",1)") : rgbValue;
}

function hexToRgba(hexValue) {
  var rgx = /^#?([a-f\d])([a-f\d])([a-f\d])$/i;
  var hex = hexValue.replace(rgx, function (m, r, g, b) { return r + r + g + g + b + b; } );
  var rgb = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
  var r = parseInt(rgb[1], 16);
  var g = parseInt(rgb[2], 16);
  var b = parseInt(rgb[3], 16);
  return ("rgba(" + r + "," + g + "," + b + ",1)");
}

function hslToRgba(hslValue) {
  var hsl = /hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(hslValue) || /hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(hslValue);
  var h = parseInt(hsl[1], 10) / 360;
  var s = parseInt(hsl[2], 10) / 100;
  var l = parseInt(hsl[3], 10) / 100;
  var a = hsl[4] || 1;
  function hue2rgb(p, q, t) {
    if (t < 0) { t += 1; }
    if (t > 1) { t -= 1; }
    if (t < 1/6) { return p + (q - p) * 6 * t; }
    if (t < 1/2) { return q; }
    if (t < 2/3) { return p + (q - p) * (2/3 - t) * 6; }
    return p;
  }
  var r, g, b;
  if (s == 0) {
    r = g = b = l;
  } else {
    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;
    var p = 2 * l - q;
    r = hue2rgb(p, q, h + 1/3);
    g = hue2rgb(p, q, h);
    b = hue2rgb(p, q, h - 1/3);
  }
  return ("rgba(" + (r * 255) + "," + (g * 255) + "," + (b * 255) + "," + a + ")");
}

function colorToRgb(val) {
  if (is.rgb(val)) { return rgbToRgba(val); }
  if (is.hex(val)) { return hexToRgba(val); }
  if (is.hsl(val)) { return hslToRgba(val); }
}

// Units

function getUnit(val) {
  var split = /([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(val);
  if (split) { return split[2]; }
}

function getTransformUnit(propName) {
  if (stringContains(propName, 'translate') || propName === 'perspective') { return 'px'; }
  if (stringContains(propName, 'rotate') || stringContains(propName, 'skew')) { return 'deg'; }
}

// Values

function getFunctionValue(val, animatable) {
  if (!is.fnc(val)) { return val; }
  return val(animatable.target, animatable.id, animatable.total);
}

function getAttribute(el, prop) {
  return el.getAttribute(prop);
}

function convertPxToUnit(el, value, unit) {
  var valueUnit = getUnit(value);
  if (arrayContains([unit, 'deg', 'rad', 'turn'], valueUnit)) { return value; }
  var cached = cache.CSS[value + unit];
  if (!is.und(cached)) { return cached; }
  var baseline = 100;
  var tempEl = document.createElement(el.tagName);
  var parentEl = (el.parentNode && (el.parentNode !== document)) ? el.parentNode : document.body;
  parentEl.appendChild(tempEl);
  tempEl.style.position = 'absolute';
  tempEl.style.width = baseline + unit;
  var factor = baseline / tempEl.offsetWidth;
  parentEl.removeChild(tempEl);
  var convertedUnit = factor * parseFloat(value);
  cache.CSS[value + unit] = convertedUnit;
  return convertedUnit;
}

function getCSSValue(el, prop, unit) {
  if (prop in el.style) {
    var uppercasePropName = prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();
    var value = el.style[prop] || getComputedStyle(el).getPropertyValue(uppercasePropName) || '0';
    return unit ? convertPxToUnit(el, value, unit) : value;
  }
}

function getAnimationType(el, prop) {
  if (is.dom(el) && !is.inp(el) && (getAttribute(el, prop) || (is.svg(el) && el[prop]))) { return 'attribute'; }
  if (is.dom(el) && arrayContains(validTransforms, prop)) { return 'transform'; }
  if (is.dom(el) && (prop !== 'transform' && getCSSValue(el, prop))) { return 'css'; }
  if (el[prop] != null) { return 'object'; }
}

function getElementTransforms(el) {
  if (!is.dom(el)) { return; }
  var str = el.style.transform || '';
  var reg  = /(\w+)\(([^)]*)\)/g;
  var transforms = new Map();
  var m; while (m = reg.exec(str)) { transforms.set(m[1], m[2]); }
  return transforms;
}

function getTransformValue(el, propName, animatable, unit) {
  var defaultVal = stringContains(propName, 'scale') ? 1 : 0 + getTransformUnit(propName);
  var value = getElementTransforms(el).get(propName) || defaultVal;
  if (animatable) {
    animatable.transforms.list.set(propName, value);
    animatable.transforms['last'] = propName;
  }
  return unit ? convertPxToUnit(el, value, unit) : value;
}

function getOriginalTargetValue(target, propName, unit, animatable) {
  switch (getAnimationType(target, propName)) {
    case 'transform': return getTransformValue(target, propName, animatable, unit);
    case 'css': return getCSSValue(target, propName, unit);
    case 'attribute': return getAttribute(target, propName);
    default: return target[propName] || 0;
  }
}

function getRelativeValue(to, from) {
  var operator = /^(\*=|\+=|-=)/.exec(to);
  if (!operator) { return to; }
  var u = getUnit(to) || 0;
  var x = parseFloat(from);
  var y = parseFloat(to.replace(operator[0], ''));
  switch (operator[0][0]) {
    case '+': return x + y + u;
    case '-': return x - y + u;
    case '*': return x * y + u;
  }
}

function validateValue(val, unit) {
  if (is.col(val)) { return colorToRgb(val); }
  var originalUnit = getUnit(val);
  var unitLess = originalUnit ? val.substr(0, val.length - originalUnit.length) : val;
  return unit && !/\s/g.test(val) ? unitLess + unit : unitLess;
}

// getTotalLength() equivalent for circle, rect, polyline, polygon and line shapes
// adapted from https://gist.github.com/SebLambla/3e0550c496c236709744

function getDistance(p1, p2) {
  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));
}

function getCircleLength(el) {
  return Math.PI * 2 * getAttribute(el, 'r');
}

function getRectLength(el) {
  return (getAttribute(el, 'width') * 2) + (getAttribute(el, 'height') * 2);
}

function getLineLength(el) {
  return getDistance(
    {x: getAttribute(el, 'x1'), y: getAttribute(el, 'y1')}, 
    {x: getAttribute(el, 'x2'), y: getAttribute(el, 'y2')}
  );
}

function getPolylineLength(el) {
  var points = el.points;
  var totalLength = 0;
  var previousPos;
  for (var i = 0 ; i < points.numberOfItems; i++) {
    var currentPos = points.getItem(i);
    if (i > 0) { totalLength += getDistance(previousPos, currentPos); }
    previousPos = currentPos;
  }
  return totalLength;
}

function getPolygonLength(el) {
  var points = el.points;
  return getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0));
}

// Path animation

function getTotalLength(el) {
  if (el.getTotalLength) { return el.getTotalLength(); }
  switch(el.tagName.toLowerCase()) {
    case 'circle': return getCircleLength(el);
    case 'rect': return getRectLength(el);
    case 'line': return getLineLength(el);
    case 'polyline': return getPolylineLength(el);
    case 'polygon': return getPolygonLength(el);
  }
}

function setDashoffset(el) {
  var pathLength = getTotalLength(el);
  el.setAttribute('stroke-dasharray', pathLength);
  return pathLength;
}

// Motion path

function getParentSvgEl(el) {
  var parentEl = el.parentNode;
  while (is.svg(parentEl)) {
    parentEl = parentEl.parentNode;
    if (!is.svg(parentEl.parentNode)) { break; }
  }
  return parentEl;
}

function getParentSvg(pathEl, svgData) {
  var svg = svgData || {};
  var parentSvgEl = svg.el || getParentSvgEl(pathEl);
  var rect = parentSvgEl.getBoundingClientRect();
  var viewBoxAttr = getAttribute(parentSvgEl, 'viewBox');
  var width = rect.width;
  var height = rect.height;
  var viewBox = svg.viewBox || (viewBoxAttr ? viewBoxAttr.split(' ') : [0, 0, width, height]);
  return {
    el: parentSvgEl,
    viewBox: viewBox,
    x: viewBox[0] / 1,
    y: viewBox[1] / 1,
    w: width / viewBox[2],
    h: height / viewBox[3]
  }
}

function getPath(path, percent) {
  var pathEl = is.str(path) ? selectString(path)[0] : path;
  var p = percent || 100;
  return function(property) {
    return {
      property: property,
      el: pathEl,
      svg: getParentSvg(pathEl),
      totalLength: getTotalLength(pathEl) * (p / 100)
    }
  }
}

function getPathProgress(path, progress) {
  function point(offset) {
    if ( offset === void 0 ) offset = 0;

    var l = progress + offset >= 1 ? progress + offset : 0;
    return path.el.getPointAtLength(l);
  }
  var svg = getParentSvg(path.el, path.svg);
  var p = point();
  var p0 = point(-1);
  var p1 = point(+1);
  switch (path.property) {
    case 'x': return (p.x - svg.x) * svg.w;
    case 'y': return (p.y - svg.y) * svg.h;
    case 'angle': return Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;
  }
}

// Decompose value

function decomposeValue(val, unit) {
  var rgx = /-?\d*\.?\d+/g;
  var value = validateValue((is.pth(val) ? val.totalLength : val), unit) + '';
  return {
    original: value,
    numbers: value.match(rgx) ? value.match(rgx).map(Number) : [0],
    strings: (is.str(val) || unit) ? value.split(rgx) : []
  }
}

// Animatables

function parseTargets(targets) {
  var targetsArray = targets ? (flattenArray(is.arr(targets) ? targets.map(toArray) : toArray(targets))) : [];
  return filterArray(targetsArray, function (item, pos, self) { return self.indexOf(item) === pos; });
}

function getAnimatables(targets) {
  var parsed = parseTargets(targets);
  return parsed.map(function (t, i) {
    return {target: t, id: i, total: parsed.length, transforms: { list: getElementTransforms(t) } };
  });
}

// Properties

function normalizePropertyTweens(prop, tweenSettings) {
  var settings = cloneObject(tweenSettings);
  // Override duration if easing is a spring
  if (/^spring/.test(settings.easing)) { settings.duration = spring(settings.easing); }
  if (is.arr(prop)) {
    var l = prop.length;
    var isFromTo = (l === 2 && !is.obj(prop[0]));
    if (!isFromTo) {
      // Duration divided by the number of tweens
      if (!is.fnc(tweenSettings.duration)) { settings.duration = tweenSettings.duration / l; }
    } else {
      // Transform [from, to] values shorthand to a valid tween value
      prop = {value: prop};
    }
  }
  var propArray = is.arr(prop) ? prop : [prop];
  return propArray.map(function (v, i) {
    var obj = (is.obj(v) && !is.pth(v)) ? v : {value: v};
    // Default delay value should only be applied to the first tween
    if (is.und(obj.delay)) { obj.delay = !i ? tweenSettings.delay : 0; }
    // Default endDelay value should only be applied to the last tween
    if (is.und(obj.endDelay)) { obj.endDelay = i === propArray.length - 1 ? tweenSettings.endDelay : 0; }
    return obj;
  }).map(function (k) { return mergeObjects(k, settings); });
}


function flattenKeyframes(keyframes) {
  var propertyNames = filterArray(flattenArray(keyframes.map(function (key) { return Object.keys(key); })), function (p) { return is.key(p); })
  .reduce(function (a,b) { if (a.indexOf(b) < 0) { a.push(b); } return a; }, []);
  var properties = {};
  var loop = function ( i ) {
    var propName = propertyNames[i];
    properties[propName] = keyframes.map(function (key) {
      var newKey = {};
      for (var p in key) {
        if (is.key(p)) {
          if (p == propName) { newKey.value = key[p]; }
        } else {
          newKey[p] = key[p];
        }
      }
      return newKey;
    });
  };

  for (var i = 0; i < propertyNames.length; i++) loop( i );
  return properties;
}

function getProperties(tweenSettings, params) {
  var properties = [];
  var keyframes = params.keyframes;
  if (keyframes) { params = mergeObjects(flattenKeyframes(keyframes), params); }
  for (var p in params) {
    if (is.key(p)) {
      properties.push({
        name: p,
        tweens: normalizePropertyTweens(params[p], tweenSettings)
      });
    }
  }
  return properties;
}

// Tweens

function normalizeTweenValues(tween, animatable) {
  var t = {};
  for (var p in tween) {
    var value = getFunctionValue(tween[p], animatable);
    if (is.arr(value)) {
      value = value.map(function (v) { return getFunctionValue(v, animatable); });
      if (value.length === 1) { value = value[0]; }
    }
    t[p] = value;
  }
  t.duration = parseFloat(t.duration);
  t.delay = parseFloat(t.delay);
  return t;
}

function normalizeTweens(prop, animatable) {
  var previousTween;
  return prop.tweens.map(function (t) {
    var tween = normalizeTweenValues(t, animatable);
    var tweenValue = tween.value;
    var to = is.arr(tweenValue) ? tweenValue[1] : tweenValue;
    var toUnit = getUnit(to);
    var originalValue = getOriginalTargetValue(animatable.target, prop.name, toUnit, animatable);
    var previousValue = previousTween ? previousTween.to.original : originalValue;
    var from = is.arr(tweenValue) ? tweenValue[0] : previousValue;
    var fromUnit = getUnit(from) || getUnit(originalValue);
    var unit = toUnit || fromUnit;
    if (is.und(to)) { to = previousValue; }
    tween.from = decomposeValue(from, unit);
    tween.to = decomposeValue(getRelativeValue(to, from), unit);
    tween.start = previousTween ? previousTween.end : 0;
    tween.end = tween.start + tween.delay + tween.duration + tween.endDelay;
    tween.easing = parseEasings(tween.easing, tween.duration);
    tween.isPath = is.pth(tweenValue);
    tween.isColor = is.col(tween.from.original);
    if (tween.isColor) { tween.round = 1; }
    previousTween = tween;
    return tween;
  });
}

// Tween progress

var setProgressValue = {
  css: function (t, p, v) { return t.style[p] = v; },
  attribute: function (t, p, v) { return t.setAttribute(p, v); },
  object: function (t, p, v) { return t[p] = v; },
  transform: function (t, p, v, transforms, manual) {
    transforms.list.set(p, v);
    if (p === transforms.last || manual) {
      var str = '';
      transforms.list.forEach(function (value, prop) { str += prop + "(" + value + ") "; });
      t.style.transform = str;
    }
  }
};

// Set Value helper

function setTargetsValue(targets, properties) {
  var animatables = getAnimatables(targets);
  animatables.forEach(function (animatable) {
    for (var property in properties) {
      var value = getFunctionValue(properties[property], animatable);
      var target = animatable.target;
      var valueUnit = getUnit(value);
      var originalValue = getOriginalTargetValue(target, property, valueUnit, animatable);
      var unit = valueUnit || getUnit(originalValue);
      var to = getRelativeValue(validateValue(value, unit), originalValue);
      var animType = getAnimationType(target, property);
      setProgressValue[animType](target, property, to, animatable.transforms, true);
    }
  });
}

// Animations

function createAnimation(animatable, prop) {
  var animType = getAnimationType(animatable.target, prop.name);
  if (animType) {
    var tweens = normalizeTweens(prop, animatable);
    var lastTween = tweens[tweens.length - 1];
    return {
      type: animType,
      property: prop.name,
      animatable: animatable,
      tweens: tweens,
      duration: lastTween.end,
      delay: tweens[0].delay,
      endDelay: lastTween.endDelay
    }
  }
}

function getAnimations(animatables, properties) {
  return filterArray(flattenArray(animatables.map(function (animatable) {
    return properties.map(function (prop) {
      return createAnimation(animatable, prop);
    });
  })), function (a) { return !is.und(a); });
}

// Create Instance

function getInstanceTimings(animations, tweenSettings) {
  var animLength = animations.length;
  var getTlOffset = function (anim) { return anim.timelineOffset ? anim.timelineOffset : 0; };
  var timings = {};
  timings.duration = animLength ? Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration; })) : tweenSettings.duration;
  timings.delay = animLength ? Math.min.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.delay; })) : tweenSettings.delay;
  timings.endDelay = animLength ? timings.duration - Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration - anim.endDelay; })) : tweenSettings.endDelay;
  return timings;
}

var instanceID = 0;

function createNewInstance(params) {
  var instanceSettings = replaceObjectProps(defaultInstanceSettings, params);
  var tweenSettings = replaceObjectProps(defaultTweenSettings, params);
  var properties = getProperties(tweenSettings, params);
  var animatables = getAnimatables(params.targets);
  var animations = getAnimations(animatables, properties);
  var timings = getInstanceTimings(animations, tweenSettings);
  var id = instanceID;
  instanceID++;
  return mergeObjects(instanceSettings, {
    id: id,
    children: [],
    animatables: animatables,
    animations: animations,
    duration: timings.duration,
    delay: timings.delay,
    endDelay: timings.endDelay
  });
}

// Core

var activeInstances = [];
var pausedInstances = [];
var raf;

var engine = (function () {
  function play() { 
    raf = requestAnimationFrame(step);
  }
  function step(t) {
    var activeInstancesLength = activeInstances.length;
    if (activeInstancesLength) {
      var i = 0;
      while (i < activeInstancesLength) {
        var activeInstance = activeInstances[i];
        if (!activeInstance.paused) {
          activeInstance.tick(t);
        } else {
          var instanceIndex = activeInstances.indexOf(activeInstance);
          if (instanceIndex > -1) {
            activeInstances.splice(instanceIndex, 1);
            activeInstancesLength = activeInstances.length;
          }
        }
        i++;
      }
      play();
    } else {
      raf = cancelAnimationFrame(raf);
    }
  }
  return play;
})();

function handleVisibilityChange() {
  if (document.hidden) {
    activeInstances.forEach(function (ins) { return ins.pause(); });
    pausedInstances = activeInstances.slice(0);
    activeInstances = [];
  } else {
    pausedInstances.forEach(function (ins) { return ins.play(); });
  }
}

if (typeof document !== 'undefined') {
  document.addEventListener('visibilitychange', handleVisibilityChange);
}

// Public Instance

function anime(params) {
  if ( params === void 0 ) params = {};


  var startTime = 0, lastTime = 0, now = 0;
  var children, childrenLength = 0;
  var resolve = null;

  function makePromise(instance) {
    var promise = window.Promise && new Promise(function (_resolve) { return resolve = _resolve; });
    instance.finished = promise;
    return promise;
  }

  var instance = createNewInstance(params);
  var promise = makePromise(instance);

  function toggleInstanceDirection() {
    var direction = instance.direction;
    if (direction !== 'alternate') {
      instance.direction = direction !== 'normal' ? 'normal' : 'reverse';
    }
    instance.reversed = !instance.reversed;
    children.forEach(function (child) { return child.reversed = instance.reversed; });
  }

  function adjustTime(time) {
    return instance.reversed ? instance.duration - time : time;
  }

  function resetTime() {
    startTime = 0;
    lastTime = adjustTime(instance.currentTime) * (1 / anime.speed);
  }

  function seekCild(time, child) {
    if (child) { child.seek(time - child.timelineOffset); }
  }

  function syncInstanceChildren(time) {
    if (!instance.reversePlayback) {
      for (var i = 0; i < childrenLength; i++) { seekCild(time, children[i]); }
    } else {
      for (var i$1 = childrenLength; i$1--;) { seekCild(time, children[i$1]); }
    }
  }

  function setAnimationsProgress(insTime) {
    var i = 0;
    var animations = instance.animations;
    var animationsLength = animations.length;
    while (i < animationsLength) {
      var anim = animations[i];
      var animatable = anim.animatable;
      var tweens = anim.tweens;
      var tweenLength = tweens.length - 1;
      var tween = tweens[tweenLength];
      // Only check for keyframes if there is more than one tween
      if (tweenLength) { tween = filterArray(tweens, function (t) { return (insTime < t.end); })[0] || tween; }
      var elapsed = minMax(insTime - tween.start - tween.delay, 0, tween.duration) / tween.duration;
      var eased = isNaN(elapsed) ? 1 : tween.easing(elapsed);
      var strings = tween.to.strings;
      var round = tween.round;
      var numbers = [];
      var toNumbersLength = tween.to.numbers.length;
      var progress = (void 0);
      for (var n = 0; n < toNumbersLength; n++) {
        var value = (void 0);
        var toNumber = tween.to.numbers[n];
        var fromNumber = tween.from.numbers[n] || 0;
        if (!tween.isPath) {
          value = fromNumber + (eased * (toNumber - fromNumber));
        } else {
          value = getPathProgress(tween.value, eased * toNumber);
        }
        if (round) {
          if (!(tween.isColor && n > 2)) {
            value = Math.round(value * round) / round;
          }
        }
        numbers.push(value);
      }
      // Manual Array.reduce for better performances
      var stringsLength = strings.length;
      if (!stringsLength) {
        progress = numbers[0];
      } else {
        progress = strings[0];
        for (var s = 0; s < stringsLength; s++) {
          var a = strings[s];
          var b = strings[s + 1];
          var n$1 = numbers[s];
          if (!isNaN(n$1)) {
            if (!b) {
              progress += n$1 + ' ';
            } else {
              progress += n$1 + b;
            }
          }
        }
      }
      setProgressValue[anim.type](animatable.target, anim.property, progress, animatable.transforms);
      anim.currentValue = progress;
      i++;
    }
  }

  function setCallback(cb) {
    if (instance[cb] && !instance.passThrough) { instance[cb](instance); }
  }

  function countIteration() {
    if (instance.remaining && instance.remaining !== true) {
      instance.remaining--;
    }
  }

  function setInstanceProgress(engineTime) {
    var insDuration = instance.duration;
    var insDelay = instance.delay;
    var insEndDelay = insDuration - instance.endDelay;
    var insTime = adjustTime(engineTime);
    instance.progress = minMax((insTime / insDuration) * 100, 0, 100);
    instance.reversePlayback = insTime < instance.currentTime;
    if (children) { syncInstanceChildren(insTime); }
    if (!instance.began && instance.currentTime > 0) {
      instance.began = true;
      setCallback('begin');
      setCallback('loopBegin');
    }
    if (insTime <= insDelay && instance.currentTime !== 0) {
      setAnimationsProgress(0);
    }
    if ((insTime >= insEndDelay && instance.currentTime !== insDuration) || !insDuration) {
      setAnimationsProgress(insDuration);
    }
    if (insTime > insDelay && insTime < insEndDelay) {
      if (!instance.changeBegan) {
        instance.changeBegan = true;
        instance.changeCompleted = false;
        setCallback('changeBegin');
      }
      setCallback('change');
      setAnimationsProgress(insTime);
    } else {
      if (instance.changeBegan) {
        instance.changeCompleted = true;
        instance.changeBegan = false;
        setCallback('changeComplete');
      }
    }
    instance.currentTime = minMax(insTime, 0, insDuration);
    if (instance.began) { setCallback('update'); }
    if (engineTime >= insDuration) {
      lastTime = 0;
      countIteration();
      if (instance.remaining) {
        startTime = now;
        setCallback('loopComplete');
        setCallback('loopBegin');
        if (instance.direction === 'alternate') { toggleInstanceDirection(); }
      } else {
        instance.paused = true;
        if (!instance.completed) {
          instance.completed = true;
          setCallback('loopComplete');
          setCallback('complete');
          if (!instance.passThrough && 'Promise' in window) {
            resolve();
            promise = makePromise(instance);
          }
        }
      }
    }
  }

  instance.reset = function() {
    var direction = instance.direction;
    instance.passThrough = false;
    instance.currentTime = 0;
    instance.progress = 0;
    instance.paused = true;
    instance.began = false;
    instance.changeBegan = false;
    instance.completed = false;
    instance.changeCompleted = false;
    instance.reversePlayback = false;
    instance.reversed = direction === 'reverse';
    instance.remaining = instance.loop;
    children = instance.children;
    childrenLength = children.length;
    for (var i = childrenLength; i--;) { instance.children[i].reset(); }
    if (instance.reversed && instance.loop !== true || (direction === 'alternate' && instance.loop === 1)) { instance.remaining++; }
    setAnimationsProgress(0);
  };

  // Set Value helper

  instance.set = function(targets, properties) {
    setTargetsValue(targets, properties);
    return instance;
  };

  instance.tick = function(t) {
    now = t;
    if (!startTime) { startTime = now; }
    setInstanceProgress((now + (lastTime - startTime)) * anime.speed);
  };

  instance.seek = function(time) {
    setInstanceProgress(adjustTime(time));
  };

  instance.pause = function() {
    instance.paused = true;
    resetTime();
  };

  instance.play = function() {
    if (!instance.paused) { return; }
    if (instance.completed) { instance.reset(); }
    instance.paused = false;
    activeInstances.push(instance);
    resetTime();
    if (!raf) { engine(); }
  };

  instance.reverse = function() {
    toggleInstanceDirection();
    resetTime();
  };

  instance.restart = function() {
    instance.reset();
    instance.play();
  };

  instance.reset();

  if (instance.autoplay) { instance.play(); }

  return instance;

}

// Remove targets from animation

function removeTargetsFromAnimations(targetsArray, animations) {
  for (var a = animations.length; a--;) {
    if (arrayContains(targetsArray, animations[a].animatable.target)) {
      animations.splice(a, 1);
    }
  }
}

function removeTargets(targets) {
  var targetsArray = parseTargets(targets);
  for (var i = activeInstances.length; i--;) {
    var instance = activeInstances[i];
    var animations = instance.animations;
    var children = instance.children;
    removeTargetsFromAnimations(targetsArray, animations);
    for (var c = children.length; c--;) {
      var child = children[c];
      var childAnimations = child.animations;
      removeTargetsFromAnimations(targetsArray, childAnimations);
      if (!childAnimations.length && !child.children.length) { children.splice(c, 1); }
    }
    if (!animations.length && !children.length) { instance.pause(); }
  }
}

// Stagger helpers

function stagger(val, params) {
  if ( params === void 0 ) params = {};

  var direction = params.direction || 'normal';
  var easing = params.easing ? parseEasings(params.easing) : null;
  var grid = params.grid;
  var axis = params.axis;
  var fromIndex = params.from || 0;
  var fromFirst = fromIndex === 'first';
  var fromCenter = fromIndex === 'center';
  var fromLast = fromIndex === 'last';
  var isRange = is.arr(val);
  var val1 = isRange ? parseFloat(val[0]) : parseFloat(val);
  var val2 = isRange ? parseFloat(val[1]) : 0;
  var unit = getUnit(isRange ? val[1] : val) || 0;
  var start = params.start || 0 + (isRange ? val1 : 0);
  var values = [];
  var maxValue = 0;
  return function (el, i, t) {
    if (fromFirst) { fromIndex = 0; }
    if (fromCenter) { fromIndex = (t - 1) / 2; }
    if (fromLast) { fromIndex = t - 1; }
    if (!values.length) {
      for (var index = 0; index < t; index++) {
        if (!grid) {
          values.push(Math.abs(fromIndex - index));
        } else {
          var fromX = !fromCenter ? fromIndex%grid[0] : (grid[0]-1)/2;
          var fromY = !fromCenter ? Math.floor(fromIndex/grid[0]) : (grid[1]-1)/2;
          var toX = index%grid[0];
          var toY = Math.floor(index/grid[0]);
          var distanceX = fromX - toX;
          var distanceY = fromY - toY;
          var value = Math.sqrt(distanceX * distanceX + distanceY * distanceY);
          if (axis === 'x') { value = -distanceX; }
          if (axis === 'y') { value = -distanceY; }
          values.push(value);
        }
        maxValue = Math.max.apply(Math, values);
      }
      if (easing) { values = values.map(function (val) { return easing(val / maxValue) * maxValue; }); }
      if (direction === 'reverse') { values = values.map(function (val) { return axis ? (val < 0) ? val * -1 : -val : Math.abs(maxValue - val); }); }
    }
    var spacing = isRange ? (val2 - val1) / maxValue : val1;
    return start + (spacing * (Math.round(values[i] * 100) / 100)) + unit;
  }
}

// Timeline

function timeline(params) {
  if ( params === void 0 ) params = {};

  var tl = anime(params);
  tl.duration = 0;
  tl.add = function(instanceParams, timelineOffset) {
    var tlIndex = activeInstances.indexOf(tl);
    var children = tl.children;
    if (tlIndex > -1) { activeInstances.splice(tlIndex, 1); }
    function passThrough(ins) { ins.passThrough = true; }
    for (var i = 0; i < children.length; i++) { passThrough(children[i]); }
    var insParams = mergeObjects(instanceParams, replaceObjectProps(defaultTweenSettings, params));
    insParams.targets = insParams.targets || params.targets;
    var tlDuration = tl.duration;
    insParams.autoplay = false;
    insParams.direction = tl.direction;
    insParams.timelineOffset = is.und(timelineOffset) ? tlDuration : getRelativeValue(timelineOffset, tlDuration);
    passThrough(tl);
    tl.seek(insParams.timelineOffset);
    var ins = anime(insParams);
    passThrough(ins);
    children.push(ins);
    var timings = getInstanceTimings(children, params);
    tl.delay = timings.delay;
    tl.endDelay = timings.endDelay;
    tl.duration = timings.duration;
    tl.seek(0);
    tl.reset();
    if (tl.autoplay) { tl.play(); }
    return tl;
  };
  return tl;
}

anime.version = '3.0.1';
anime.speed = 1;
anime.running = activeInstances;
anime.remove = removeTargets;
anime.get = getOriginalTargetValue;
anime.set = setTargetsValue;
anime.convertPx = convertPxToUnit;
anime.path = getPath;
anime.setDashoffset = setDashoffset;
anime.stagger = stagger;
anime.timeline = timeline;
anime.easing = parseEasings;
anime.penner = penner;
anime.random = function (min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; };

/* harmony default export */ __webpack_exports__["default"] = (anime);


/***/ }),

/***/ "./node_modules/sortablejs/modular/sortable.esm.js":
/*!*********************************************************!*\
  !*** ./node_modules/sortablejs/modular/sortable.esm.js ***!
  \*********************************************************/
/*! exports provided: default, MultiDrag, Sortable, Swap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MultiDrag", function() { return MultiDragPlugin; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Sortable", function() { return Sortable; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Swap", function() { return SwapPlugin; });
/**!
 * Sortable 1.10.0-rc3
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function _typeof(obj) {
  if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
    _typeof = function (obj) {
      return typeof obj;
    };
  } else {
    _typeof = function (obj) {
      return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
    };
  }

  return _typeof(obj);
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? arguments[i] : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

function _objectWithoutProperties(source, excluded) {
  if (source == null) return {};

  var target = _objectWithoutPropertiesLoose(source, excluded);

  var key, i;

  if (Object.getOwnPropertySymbols) {
    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);

    for (i = 0; i < sourceSymbolKeys.length; i++) {
      key = sourceSymbolKeys[i];
      if (excluded.indexOf(key) >= 0) continue;
      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
      target[key] = source[key];
    }
  }

  return target;
}

function _toConsumableArray(arr) {
  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();
}

function _arrayWithoutHoles(arr) {
  if (Array.isArray(arr)) {
    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];

    return arr2;
  }
}

function _iterableToArray(iter) {
  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter);
}

function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance");
}

var version = "1.10.0-rc3";

function userAgent(pattern) {
  return !!
  /*@__PURE__*/
  navigator.userAgent.match(pattern);
}

var IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i);
var Edge = userAgent(/Edge/i);
var FireFox = userAgent(/firefox/i);
var Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);
var IOS = userAgent(/iP(ad|od|hone)/i);
var ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);

var captureMode = {
  capture: false,
  passive: false
};

function on(el, event, fn) {
  el.addEventListener(event, fn, !IE11OrLess && captureMode);
}

function off(el, event, fn) {
  el.removeEventListener(event, fn, !IE11OrLess && captureMode);
}

function matches(
/**HTMLElement*/
el,
/**String*/
selector) {
  if (!selector) return;
  selector[0] === '>' && (selector = selector.substring(1));

  if (el) {
    try {
      if (el.matches) {
        return el.matches(selector);
      } else if (el.msMatchesSelector) {
        return el.msMatchesSelector(selector);
      } else if (el.webkitMatchesSelector) {
        return el.webkitMatchesSelector(selector);
      }
    } catch (_) {
      return false;
    }
  }

  return false;
}

function getParentOrHost(el) {
  return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;
}

function closest(
/**HTMLElement*/
el,
/**String*/
selector,
/**HTMLElement*/
ctx, includeCTX) {
  if (el) {
    ctx = ctx || document;

    do {
      if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {
        return el;
      }

      if (el === ctx) break;
      /* jshint boss:true */
    } while (el = getParentOrHost(el));
  }

  return null;
}

var R_SPACE = /\s+/g;

function toggleClass(el, name, state) {
  if (el && name) {
    if (el.classList) {
      el.classList[state ? 'add' : 'remove'](name);
    } else {
      var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');
      el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');
    }
  }
}

function css(el, prop, val) {
  var style = el && el.style;

  if (style) {
    if (val === void 0) {
      if (document.defaultView && document.defaultView.getComputedStyle) {
        val = document.defaultView.getComputedStyle(el, '');
      } else if (el.currentStyle) {
        val = el.currentStyle;
      }

      return prop === void 0 ? val : val[prop];
    } else {
      if (!(prop in style) && prop.indexOf('webkit') === -1) {
        prop = '-webkit-' + prop;
      }

      style[prop] = val + (typeof val === 'string' ? '' : 'px');
    }
  }
}

function matrix(el, selfOnly) {
  var appliedTransforms = '';

  do {
    var transform = css(el, 'transform');

    if (transform && transform !== 'none') {
      appliedTransforms = transform + ' ' + appliedTransforms;
    }
    /* jshint boss:true */

  } while (!selfOnly && (el = el.parentNode));

  var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix;
  /*jshint -W056 */

  return matrixFn && new matrixFn(appliedTransforms);
}

function find(ctx, tagName, iterator) {
  if (ctx) {
    var list = ctx.getElementsByTagName(tagName),
        i = 0,
        n = list.length;

    if (iterator) {
      for (; i < n; i++) {
        iterator(list[i], i);
      }
    }

    return list;
  }

  return [];
}

function getWindowScrollingElement() {
  if (IE11OrLess) {
    return document.documentElement;
  } else {
    return document.scrollingElement;
  }
}
/**
 * Returns the "bounding client rect" of given element
 * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted
 * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container
 * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr
 * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone
 * @param  {[HTMLElement]} container              The parent the element will be placed in
 * @return {Object}                               The boundingClientRect of el, with specified adjustments
 */


function getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {
  if (!el.getBoundingClientRect && el !== window) return;
  var elRect, top, left, bottom, right, height, width;

  if (el !== window && el !== getWindowScrollingElement()) {
    elRect = el.getBoundingClientRect();
    top = elRect.top;
    left = elRect.left;
    bottom = elRect.bottom;
    right = elRect.right;
    height = elRect.height;
    width = elRect.width;
  } else {
    top = 0;
    left = 0;
    bottom = window.innerHeight;
    right = window.innerWidth;
    height = window.innerHeight;
    width = window.innerWidth;
  }

  if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {
    // Adjust for translate()
    container = container || el.parentNode; // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)
    // Not needed on <= IE11

    if (!IE11OrLess) {
      do {
        if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {
          var containerRect = container.getBoundingClientRect(); // Set relative to edges of padding box of container

          top -= containerRect.top + parseInt(css(container, 'border-top-width'));
          left -= containerRect.left + parseInt(css(container, 'border-left-width'));
          bottom = top + elRect.height;
          right = left + elRect.width;
          break;
        }
        /* jshint boss:true */

      } while (container = container.parentNode);
    }
  }

  if (undoScale && el !== window) {
    // Adjust for scale()
    var elMatrix = matrix(container || el),
        scaleX = elMatrix && elMatrix.a,
        scaleY = elMatrix && elMatrix.d;

    if (elMatrix) {
      top /= scaleY;
      left /= scaleX;
      width /= scaleX;
      height /= scaleY;
      bottom = top + height;
      right = left + width;
    }
  }

  return {
    top: top,
    left: left,
    bottom: bottom,
    right: right,
    width: width,
    height: height
  };
}
/**
 * Checks if a side of an element is scrolled past a side of its parents
 * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question
 * @param  {[DOMRect]}    rect         Optional rect of `el` to use
 * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')
 * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')
 * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element
 */


function isScrolledPast(el, rect, elSide, parentSide) {
  var parent = getParentAutoScrollElement(el, true),
      elSideVal = (rect ? rect : getRect(el))[elSide];
  /* jshint boss:true */

  while (parent) {
    var parentSideVal = getRect(parent)[parentSide],
        visible = void 0;

    if (parentSide === 'top' || parentSide === 'left') {
      visible = elSideVal >= parentSideVal;
    } else {
      visible = elSideVal <= parentSideVal;
    }

    if (!visible) return parent;
    if (parent === getWindowScrollingElement()) break;
    parent = getParentAutoScrollElement(parent, false);
  }

  return false;
}
/**
 * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)
 * and non-draggable elements
 * @param  {HTMLElement} el       The parent element
 * @param  {Number} childNum      The index of the child
 * @param  {Object} options       Parent Sortable's options
 * @return {HTMLElement}          The child at index childNum, or null if not found
 */


function getChild(el, childNum, options) {
  var currentChild = 0,
      i = 0,
      children = el.children;

  while (i < children.length) {
    if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && children[i] !== Sortable.dragged && closest(children[i], options.draggable, el, false)) {
      if (currentChild === childNum) {
        return children[i];
      }

      currentChild++;
    }

    i++;
  }

  return null;
}
/**
 * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)
 * @param  {HTMLElement} el       Parent element
 * @param  {selector} selector    Any other elements that should be ignored
 * @return {HTMLElement}          The last child, ignoring ghostEl
 */


function lastChild(el, selector) {
  var last = el.lastElementChild;

  while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {
    last = last.previousElementSibling;
  }

  return last || null;
}
/**
 * Returns the index of an element within its parent for a selected set of
 * elements
 * @param  {HTMLElement} el
 * @param  {selector} selector
 * @return {number}
 */


function index(el, selector) {
  var index = 0;

  if (!el || !el.parentNode) {
    return -1;
  }
  /* jshint boss:true */


  while (el = el.previousElementSibling) {
    if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {
      index++;
    }
  }

  return index;
}
/**
 * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.
 * The value is returned in real pixels.
 * @param  {HTMLElement} el
 * @return {Array}             Offsets in the format of [left, top]
 */


function getRelativeScrollOffset(el) {
  var offsetLeft = 0,
      offsetTop = 0,
      winScroller = getWindowScrollingElement();

  if (el) {
    do {
      var elMatrix = matrix(el),
          scaleX = elMatrix.a,
          scaleY = elMatrix.d;
      offsetLeft += el.scrollLeft * scaleX;
      offsetTop += el.scrollTop * scaleY;
    } while (el !== winScroller && (el = el.parentNode));
  }

  return [offsetLeft, offsetTop];
}
/**
 * Returns the index of the object within the given array
 * @param  {Array} arr   Array that may or may not hold the object
 * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find
 * @return {Number}      The index of the object in the array, or -1
 */


function indexOfObject(arr, obj) {
  for (var i in arr) {
    if (!arr.hasOwnProperty(i)) continue;

    for (var key in obj) {
      if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);
    }
  }

  return -1;
}

function getParentAutoScrollElement(el, includeSelf) {
  // skip to window
  if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();
  var elem = el;
  var gotSelf = false;

  do {
    // we don't need to get elem css if it isn't even overflowing in the first place (performance)
    if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {
      var elemCSS = css(elem);

      if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {
        if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();
        if (gotSelf || includeSelf) return elem;
        gotSelf = true;
      }
    }
    /* jshint boss:true */

  } while (elem = elem.parentNode);

  return getWindowScrollingElement();
}

function extend(dst, src) {
  if (dst && src) {
    for (var key in src) {
      if (src.hasOwnProperty(key)) {
        dst[key] = src[key];
      }
    }
  }

  return dst;
}

function isRectEqual(rect1, rect2) {
  return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);
}

var _throttleTimeout;

function throttle(callback, ms) {
  return function () {
    if (!_throttleTimeout) {
      var args = arguments,
          _this = this;

      if (args.length === 1) {
        callback.call(_this, args[0]);
      } else {
        callback.apply(_this, args);
      }

      _throttleTimeout = setTimeout(function () {
        _throttleTimeout = void 0;
      }, ms);
    }
  };
}

function cancelThrottle() {
  clearTimeout(_throttleTimeout);
  _throttleTimeout = void 0;
}

function scrollBy(el, x, y) {
  el.scrollLeft += x;
  el.scrollTop += y;
}

function clone(el) {
  var Polymer = window.Polymer;
  var $ = window.jQuery || window.Zepto;

  if (Polymer && Polymer.dom) {
    return Polymer.dom(el).cloneNode(true);
  } else if ($) {
    return $(el).clone(true)[0];
  } else {
    return el.cloneNode(true);
  }
}

function setRect(el, rect) {
  css(el, 'position', 'absolute');
  css(el, 'top', rect.top);
  css(el, 'left', rect.left);
  css(el, 'width', rect.width);
  css(el, 'height', rect.height);
}

function unsetRect(el) {
  css(el, 'position', '');
  css(el, 'top', '');
  css(el, 'left', '');
  css(el, 'width', '');
  css(el, 'height', '');
}

var expando = 'Sortable' + new Date().getTime();

function AnimationStateManager() {
  var animationStates = [],
      animationCallbackId;
  return {
    captureAnimationState: function captureAnimationState() {
      animationStates = [];
      if (!this.options.animation) return;
      var children = [].slice.call(this.el.children);
      children.forEach(function (child) {
        if (css(child, 'display') === 'none' || child === Sortable.ghost) return;
        animationStates.push({
          target: child,
          rect: getRect(child)
        });
        var fromRect = getRect(child); // If animating: compensate for current animation

        if (child.thisAnimationDuration) {
          var childMatrix = matrix(child, true);

          if (childMatrix) {
            fromRect.top -= childMatrix.f;
            fromRect.left -= childMatrix.e;
          }
        }

        child.fromRect = fromRect;
      });
    },
    addAnimationState: function addAnimationState(state) {
      animationStates.push(state);
    },
    removeAnimationState: function removeAnimationState(target) {
      animationStates.splice(indexOfObject(animationStates, {
        target: target
      }), 1);
    },
    animateAll: function animateAll(callback) {
      var _this = this;

      if (!this.options.animation) {
        clearTimeout(animationCallbackId);
        if (typeof callback === 'function') callback();
        return;
      }

      var animating = false,
          animationTime = 0;
      animationStates.forEach(function (state) {
        var time = 0,
            target = state.target,
            fromRect = target.fromRect,
            toRect = getRect(target),
            prevFromRect = target.prevFromRect,
            prevToRect = target.prevToRect,
            animatingRect = state.rect,
            targetMatrix = matrix(target, true);

        if (targetMatrix) {
          // Compensate for current animation
          toRect.top -= targetMatrix.f;
          toRect.left -= targetMatrix.e;
        }

        target.toRect = toRect; // If element is scrolled out of view: Do not animate

        if ((isScrolledPast(target, toRect, 'bottom', 'top') || isScrolledPast(target, toRect, 'top', 'bottom') || isScrolledPast(target, toRect, 'right', 'left') || isScrolledPast(target, toRect, 'left', 'right')) && (isScrolledPast(target, animatingRect, 'bottom', 'top') || isScrolledPast(target, animatingRect, 'top', 'bottom') || isScrolledPast(target, animatingRect, 'right', 'left') || isScrolledPast(target, animatingRect, 'left', 'right')) && (isScrolledPast(target, fromRect, 'bottom', 'top') || isScrolledPast(target, fromRect, 'top', 'bottom') || isScrolledPast(target, fromRect, 'right', 'left') || isScrolledPast(target, fromRect, 'left', 'right'))) return;

        if (target.thisAnimationDuration) {
          // Could also check if animatingRect is between fromRect and toRect
          if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) && // Make sure animatingRect is on line between toRect & fromRect
          (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {
            // If returning to same place as started from animation and on same axis
            time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);
          }
        } // if fromRect != toRect: animate


        if (!isRectEqual(toRect, fromRect)) {
          target.prevFromRect = fromRect;
          target.prevToRect = toRect;

          if (!time) {
            time = _this.options.animation;
          }

          _this.animate(target, animatingRect, time);
        }

        if (time) {
          animating = true;
          animationTime = Math.max(animationTime, time);
          clearTimeout(target.animationResetTimer);
          target.animationResetTimer = setTimeout(function () {
            target.animationTime = 0;
            target.prevFromRect = null;
            target.fromRect = null;
            target.prevToRect = null;
            target.thisAnimationDuration = null;
          }, time);
          target.thisAnimationDuration = time;
        }
      });
      clearTimeout(animationCallbackId);

      if (!animating) {
        if (typeof callback === 'function') callback();
      } else {
        animationCallbackId = setTimeout(function () {
          if (typeof callback === 'function') callback();
        }, animationTime);
      }

      animationStates = [];
    },
    animate: function animate(target, prev, duration) {
      if (duration) {
        css(target, 'transition', '');
        css(target, 'transform', '');
        var currentRect = getRect(target),
            elMatrix = matrix(this.el),
            scaleX = elMatrix && elMatrix.a,
            scaleY = elMatrix && elMatrix.d,
            translateX = (prev.left - currentRect.left) / (scaleX || 1),
            translateY = (prev.top - currentRect.top) / (scaleY || 1);
        target.animatingX = !!translateX;
        target.animatingY = !!translateY;
        css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');
        repaint(target); // repaint

        css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));
        css(target, 'transform', 'translate3d(0,0,0)');
        typeof target.animated === 'number' && clearTimeout(target.animated);
        target.animated = setTimeout(function () {
          css(target, 'transition', '');
          css(target, 'transform', '');
          target.animated = false;
          target.animatingX = false;
          target.animatingY = false;
        }, duration);
      }
    }
  };
}

function repaint(target) {
  return target.offsetWidth;
}

function calculateRealTime(animatingRect, fromRect, toRect, options) {
  return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;
}

var plugins = [];
var defaults = {
  initializeByDefault: true
};
var PluginManager = {
  mount: function mount(plugin) {
    // Set default static properties
    for (var option in defaults) {
      if (defaults.hasOwnProperty(option) && !(option in plugin)) {
        plugin[option] = defaults[option];
      }
    }

    plugins.push(plugin);
  },
  pluginEvent: function pluginEvent(eventName, sortable, evt) {
    var _this = this;

    this.eventCanceled = false;
    var eventNameGlobal = eventName + 'Global';
    plugins.forEach(function (plugin) {
      if (!sortable[plugin.pluginName]) return; // Fire global events if it exists in this sortable

      if (sortable[plugin.pluginName][eventNameGlobal]) {
        _this.eventCanceled = !!sortable[plugin.pluginName][eventNameGlobal](_objectSpread({
          sortable: sortable
        }, evt));
      } // Only fire plugin event if plugin is enabled in this sortable,
      // and plugin has event defined


      if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {
        _this.eventCanceled = _this.eventCanceled || !!sortable[plugin.pluginName][eventName](_objectSpread({
          sortable: sortable
        }, evt));
      }
    });
  },
  initializePlugins: function initializePlugins(sortable, el, defaults) {
    plugins.forEach(function (plugin) {
      var pluginName = plugin.pluginName;
      if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;
      var initialized = new plugin(sortable, el);
      initialized.sortable = sortable;
      sortable[pluginName] = initialized; // Add default options from plugin

      _extends(defaults, initialized.options);
    });

    for (var option in sortable.options) {
      if (!sortable.options.hasOwnProperty(option)) continue;
      var modified = this.modifyOption(sortable, option, sortable.options[option]);

      if (typeof modified !== 'undefined') {
        sortable.options[option] = modified;
      }
    }
  },
  getEventOptions: function getEventOptions(name, sortable) {
    var eventOptions = {};
    plugins.forEach(function (plugin) {
      if (typeof plugin.eventOptions !== 'function') return;

      _extends(eventOptions, plugin.eventOptions.call(sortable, name));
    });
    return eventOptions;
  },
  modifyOption: function modifyOption(sortable, name, value) {
    var modifiedValue;
    plugins.forEach(function (plugin) {
      // Plugin must exist on the Sortable
      if (!sortable[plugin.pluginName]) return; // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin

      if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {
        modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);
      }
    });
    return modifiedValue;
  }
};

function dispatchEvent(_ref) {
  var sortable = _ref.sortable,
      rootEl = _ref.rootEl,
      name = _ref.name,
      targetEl = _ref.targetEl,
      cloneEl = _ref.cloneEl,
      toEl = _ref.toEl,
      fromEl = _ref.fromEl,
      oldIndex = _ref.oldIndex,
      newIndex = _ref.newIndex,
      oldDraggableIndex = _ref.oldDraggableIndex,
      newDraggableIndex = _ref.newDraggableIndex,
      originalEvent = _ref.originalEvent,
      putSortable = _ref.putSortable,
      eventOptions = _ref.eventOptions;
  sortable = sortable || rootEl[expando];
  var evt,
      options = sortable.options,
      onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1); // Support for new CustomEvent feature

  if (window.CustomEvent && !IE11OrLess && !Edge) {
    evt = new CustomEvent(name, {
      bubbles: true,
      cancelable: true
    });
  } else {
    evt = document.createEvent('Event');
    evt.initEvent(name, true, true);
  }

  evt.to = toEl || rootEl;
  evt.from = fromEl || rootEl;
  evt.item = targetEl || rootEl;
  evt.clone = cloneEl;
  evt.oldIndex = oldIndex;
  evt.newIndex = newIndex;
  evt.oldDraggableIndex = oldDraggableIndex;
  evt.newDraggableIndex = newDraggableIndex;
  evt.originalEvent = originalEvent;
  evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;

  var allEventOptions = _objectSpread({}, eventOptions, PluginManager.getEventOptions(name, sortable));

  for (var option in allEventOptions) {
    evt[option] = allEventOptions[option];
  }

  if (rootEl) {
    rootEl.dispatchEvent(evt);
  }

  if (options[onName]) {
    options[onName].call(sortable, evt);
  }
}

var pluginEvent = function pluginEvent(eventName, sortable) {
  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},
      originalEvent = _ref.evt,
      data = _objectWithoutProperties(_ref, ["evt"]);

  PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread({
    dragEl: dragEl,
    parentEl: parentEl,
    ghostEl: ghostEl,
    rootEl: rootEl,
    nextEl: nextEl,
    lastDownEl: lastDownEl,
    cloneEl: cloneEl,
    cloneHidden: cloneHidden,
    dragStarted: moved,
    putSortable: putSortable,
    activeSortable: Sortable.active,
    originalEvent: originalEvent,
    oldIndex: oldIndex,
    oldDraggableIndex: oldDraggableIndex,
    newIndex: newIndex,
    newDraggableIndex: newDraggableIndex,
    hideGhostForTarget: _hideGhostForTarget,
    unhideGhostForTarget: _unhideGhostForTarget,
    cloneNowHidden: function cloneNowHidden() {
      cloneHidden = true;
    },
    cloneNowShown: function cloneNowShown() {
      cloneHidden = false;
    },
    dispatchSortableEvent: function dispatchSortableEvent(name) {
      _dispatchEvent({
        sortable: sortable,
        name: name,
        originalEvent: originalEvent
      });
    }
  }, data));
};

function _dispatchEvent(info) {
  dispatchEvent(_objectSpread({
    putSortable: putSortable,
    cloneEl: cloneEl,
    targetEl: dragEl,
    rootEl: rootEl,
    oldIndex: oldIndex,
    oldDraggableIndex: oldDraggableIndex,
    newIndex: newIndex,
    newDraggableIndex: newDraggableIndex
  }, info));
}

if (typeof window === "undefined" || !window.document) {
  throw new Error("Sortable.js requires a window with a document");
}

var dragEl,
    parentEl,
    ghostEl,
    rootEl,
    nextEl,
    lastDownEl,
    cloneEl,
    cloneHidden,
    oldIndex,
    newIndex,
    oldDraggableIndex,
    newDraggableIndex,
    activeGroup,
    putSortable,
    awaitingDragStarted = false,
    ignoreNextClick = false,
    sortables = [],
    tapEvt,
    touchEvt,
    moved,
    lastTarget,
    lastDirection,
    pastFirstInvertThresh = false,
    isCircumstantialInvert = false,
    targetMoveDistance,
    // For positioning ghost absolutely
ghostRelativeParent,
    ghostRelativeParentInitialScroll = [],
    // (left, top)
_silent = false,
    savedInputChecked = [];
/** @const */

var PositionGhostAbsolutely = IOS,
    CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',
    // This will not pass for IE9, because IE9 DnD only works on anchors
supportDraggable = !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),
    supportCssPointerEvents = function () {
  // false when <= IE11
  if (IE11OrLess) {
    return false;
  }

  var el = document.createElement('x');
  el.style.cssText = 'pointer-events:auto';
  return el.style.pointerEvents === 'auto';
}(),
    _detectDirection = function _detectDirection(el, options) {
  var elCSS = css(el),
      elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),
      child1 = getChild(el, 0, options),
      child2 = getChild(el, 1, options),
      firstChildCSS = child1 && css(child1),
      secondChildCSS = child2 && css(child2),
      firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,
      secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;

  if (elCSS.display === 'flex') {
    return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';
  }

  if (elCSS.display === 'grid') {
    return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';
  }

  if (child1 && firstChildCSS["float"] !== 'none') {
    var touchingSideChild2 = firstChildCSS["float"] === 'left' ? 'left' : 'right';
    return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';
  }

  return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';
},
    _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {
  var dragElS1Opp = vertical ? dragRect.left : dragRect.top,
      dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,
      dragElOppLength = vertical ? dragRect.width : dragRect.height,
      targetS1Opp = vertical ? targetRect.left : targetRect.top,
      targetS2Opp = vertical ? targetRect.right : targetRect.bottom,
      targetOppLength = vertical ? targetRect.width : targetRect.height;
  return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;
},

/**
 * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.
 * @param  {Number} x      X position
 * @param  {Number} y      Y position
 * @return {HTMLElement}   Element of the first found nearest Sortable
 */
_detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {
  var ret;
  sortables.some(function (sortable) {
    if (lastChild(sortable)) return;
    var rect = getRect(sortable),
        threshold = sortable[expando].options.emptyInsertThreshold,
        insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,
        insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;

    if (threshold && insideHorizontally && insideVertically) {
      return ret = sortable;
    }
  });
  return ret;
},
    _prepareGroup = function _prepareGroup(options) {
  function toFn(value, pull) {
    return function (to, from, dragEl, evt) {
      var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;

      if (value == null && (pull || sameGroup)) {
        // Default pull value
        // Default pull and put value if same group
        return true;
      } else if (value == null || value === false) {
        return false;
      } else if (pull && value === 'clone') {
        return value;
      } else if (typeof value === 'function') {
        return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);
      } else {
        var otherGroup = (pull ? to : from).options.group.name;
        return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;
      }
    };
  }

  var group = {};
  var originalGroup = options.group;

  if (!originalGroup || _typeof(originalGroup) != 'object') {
    originalGroup = {
      name: originalGroup
    };
  }

  group.name = originalGroup.name;
  group.checkPull = toFn(originalGroup.pull, true);
  group.checkPut = toFn(originalGroup.put);
  group.revertClone = originalGroup.revertClone;
  options.group = group;
},
    _hideGhostForTarget = function _hideGhostForTarget() {
  if (!supportCssPointerEvents && ghostEl) {
    css(ghostEl, 'display', 'none');
  }
},
    _unhideGhostForTarget = function _unhideGhostForTarget() {
  if (!supportCssPointerEvents && ghostEl) {
    css(ghostEl, 'display', '');
  }
}; // #1184 fix - Prevent click event on fallback if dragged but item not changed position


document.addEventListener('click', function (evt) {
  if (ignoreNextClick) {
    evt.preventDefault();
    evt.stopPropagation && evt.stopPropagation();
    evt.stopImmediatePropagation && evt.stopImmediatePropagation();
    ignoreNextClick = false;
    return false;
  }
}, true);

var nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {
  if (dragEl) {
    evt = evt.touches ? evt.touches[0] : evt;

    var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);

    if (nearest) {
      // Create imitation event
      var event = {};

      for (var i in evt) {
        if (evt.hasOwnProperty(i)) {
          event[i] = evt[i];
        }
      }

      event.target = event.rootEl = nearest;
      event.preventDefault = void 0;
      event.stopPropagation = void 0;

      nearest[expando]._onDragOver(event);
    }
  }
};

var _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {
  if (dragEl) {
    dragEl.parentNode[expando]._isOutsideThisEl(evt.target);
  }
};
/**
 * @class  Sortable
 * @param  {HTMLElement}  el
 * @param  {Object}       [options]
 */


function Sortable(el, options) {
  if (!(el && el.nodeType && el.nodeType === 1)) {
    throw "Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(el));
  }

  this.el = el; // root element

  this.options = options = _extends({}, options); // Export instance

  el[expando] = this;
  var defaults = {
    group: null,
    sort: true,
    disabled: false,
    store: null,
    handle: null,
    draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',
    swapThreshold: 1,
    // percentage; 0 <= x <= 1
    invertSwap: false,
    // invert always
    invertedSwapThreshold: null,
    // will be set to same as swapThreshold if default
    removeCloneOnHide: true,
    direction: function direction() {
      return _detectDirection(el, this.options);
    },
    ghostClass: 'sortable-ghost',
    chosenClass: 'sortable-chosen',
    dragClass: 'sortable-drag',
    ignore: 'a, img',
    filter: null,
    preventOnFilter: true,
    animation: 0,
    easing: null,
    setData: function setData(dataTransfer, dragEl) {
      dataTransfer.setData('Text', dragEl.textContent);
    },
    dropBubble: false,
    dragoverBubble: false,
    dataIdAttr: 'data-id',
    delay: 0,
    delayOnTouchOnly: false,
    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,
    forceFallback: false,
    fallbackClass: 'sortable-fallback',
    fallbackOnBody: false,
    fallbackTolerance: 0,
    fallbackOffset: {
      x: 0,
      y: 0
    },
    supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window,
    emptyInsertThreshold: 5
  };
  PluginManager.initializePlugins(this, el, defaults); // Set default options

  for (var name in defaults) {
    !(name in options) && (options[name] = defaults[name]);
  }

  _prepareGroup(options); // Bind all private methods


  for (var fn in this) {
    if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {
      this[fn] = this[fn].bind(this);
    }
  } // Setup drag mode


  this.nativeDraggable = options.forceFallback ? false : supportDraggable;

  if (this.nativeDraggable) {
    // Touch start threshold cannot be greater than the native dragstart threshold
    this.options.touchStartThreshold = 1;
  } // Bind events


  if (options.supportPointer) {
    on(el, 'pointerdown', this._onTapStart);
  } else {
    on(el, 'mousedown', this._onTapStart);
    on(el, 'touchstart', this._onTapStart);
  }

  if (this.nativeDraggable) {
    on(el, 'dragover', this);
    on(el, 'dragenter', this);
  }

  sortables.push(this.el); // Restore sorting

  options.store && options.store.get && this.sort(options.store.get(this) || []); // Add animation state manager

  _extends(this, AnimationStateManager());
}

Sortable.prototype =
/** @lends Sortable.prototype */
{
  constructor: Sortable,
  _isOutsideThisEl: function _isOutsideThisEl(target) {
    if (!this.el.contains(target) && target !== this.el) {
      lastTarget = null;
    }
  },
  _getDirection: function _getDirection(evt, target) {
    return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;
  },
  _onTapStart: function _onTapStart(
  /** Event|TouchEvent */
  evt) {
    if (!evt.cancelable) return;

    var _this = this,
        el = this.el,
        options = this.options,
        preventOnFilter = options.preventOnFilter,
        type = evt.type,
        touch = evt.touches && evt.touches[0],
        target = (touch || evt).target,
        originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,
        filter = options.filter;

    _saveInputCheckedState(el); // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.


    if (dragEl) {
      return;
    }

    if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {
      return; // only left button and enabled
    } // cancel dnd if original target is content editable


    if (originalTarget.isContentEditable) {
      return;
    }

    target = closest(target, options.draggable, el, false);

    if (target && target.animated) {
      return;
    }

    if (lastDownEl === target) {
      // Ignoring duplicate `down`
      return;
    } // Get the index of the dragged element within its parent


    oldIndex = index(target);
    oldDraggableIndex = index(target, options.draggable); // Check filter

    if (typeof filter === 'function') {
      if (filter.call(this, evt, target, this)) {
        _dispatchEvent({
          sortable: _this,
          rootEl: originalTarget,
          name: 'filter',
          targetEl: target,
          toEl: el,
          fromEl: el
        });

        pluginEvent('filter', _this, {
          evt: evt
        });
        preventOnFilter && evt.cancelable && evt.preventDefault();
        return; // cancel dnd
      }
    } else if (filter) {
      filter = filter.split(',').some(function (criteria) {
        criteria = closest(originalTarget, criteria.trim(), el, false);

        if (criteria) {
          _dispatchEvent({
            sortable: _this,
            rootEl: criteria,
            name: 'filter',
            targetEl: target,
            fromEl: el,
            toEl: el
          });

          pluginEvent('filter', _this, {
            evt: evt
          });
          return true;
        }
      });

      if (filter) {
        preventOnFilter && evt.cancelable && evt.preventDefault();
        return; // cancel dnd
      }
    }

    if (options.handle && !closest(originalTarget, options.handle, el, false)) {
      return;
    } // Prepare `dragstart`


    this._prepareDragStart(evt, touch, target);
  },
  _prepareDragStart: function _prepareDragStart(
  /** Event */
  evt,
  /** Touch */
  touch,
  /** HTMLElement */
  target) {
    var _this = this,
        el = _this.el,
        options = _this.options,
        ownerDocument = el.ownerDocument,
        dragStartFn;

    if (target && !dragEl && target.parentNode === el) {
      rootEl = el;
      dragEl = target;
      parentEl = dragEl.parentNode;
      nextEl = dragEl.nextSibling;
      lastDownEl = target;
      activeGroup = options.group;
      Sortable.dragged = dragEl;
      tapEvt = {
        target: dragEl,
        clientX: (touch || evt).clientX,
        clientY: (touch || evt).clientY
      };
      this._lastX = (touch || evt).clientX;
      this._lastY = (touch || evt).clientY;
      dragEl.style['will-change'] = 'all';

      dragStartFn = function dragStartFn() {
        pluginEvent('delayEnded', _this, {
          evt: evt
        });

        if (Sortable.eventCanceled) {
          _this._onDrop();

          return;
        } // Delayed drag has been triggered
        // we can re-enable the events: touchmove/mousemove


        _this._disableDelayedDragEvents();

        if (!FireFox && _this.nativeDraggable) {
          dragEl.draggable = true;
        } // Bind the events: dragstart/dragend


        _this._triggerDragStart(evt, touch); // Drag start event


        _dispatchEvent({
          sortable: _this,
          name: 'choose',
          originalEvent: evt
        }); // Chosen item


        toggleClass(dragEl, options.chosenClass, true);
      }; // Disable "draggable"


      options.ignore.split(',').forEach(function (criteria) {
        find(dragEl, criteria.trim(), _disableDraggable);
      });
      on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);
      on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);
      on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);
      on(ownerDocument, 'mouseup', _this._onDrop);
      on(ownerDocument, 'touchend', _this._onDrop);
      on(ownerDocument, 'touchcancel', _this._onDrop); // Make dragEl draggable (must be before delay for FireFox)

      if (FireFox && this.nativeDraggable) {
        this.options.touchStartThreshold = 4;
        dragEl.draggable = true;
      }

      pluginEvent('delayStart', this, {
        evt: evt
      }); // Delay is impossible for native DnD in Edge or IE

      if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {
        if (Sortable.eventCanceled) {
          this._onDrop();

          return;
        } // If the user moves the pointer or let go the click or touch
        // before the delay has been reached:
        // disable the delayed drag


        on(ownerDocument, 'mouseup', _this._disableDelayedDrag);
        on(ownerDocument, 'touchend', _this._disableDelayedDrag);
        on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);
        on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);
        on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);
        options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);
        _this._dragStartTimer = setTimeout(dragStartFn, options.delay);
      } else {
        dragStartFn();
      }
    }
  },
  _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler(
  /** TouchEvent|PointerEvent **/
  e) {
    var touch = e.touches ? e.touches[0] : e;

    if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {
      this._disableDelayedDrag();
    }
  },
  _disableDelayedDrag: function _disableDelayedDrag() {
    dragEl && _disableDraggable(dragEl);
    clearTimeout(this._dragStartTimer);

    this._disableDelayedDragEvents();
  },
  _disableDelayedDragEvents: function _disableDelayedDragEvents() {
    var ownerDocument = this.el.ownerDocument;
    off(ownerDocument, 'mouseup', this._disableDelayedDrag);
    off(ownerDocument, 'touchend', this._disableDelayedDrag);
    off(ownerDocument, 'touchcancel', this._disableDelayedDrag);
    off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);
    off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);
    off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);
  },
  _triggerDragStart: function _triggerDragStart(
  /** Event */
  evt,
  /** Touch */
  touch) {
    touch = touch || evt.pointerType == 'touch' && evt;

    if (!this.nativeDraggable || touch) {
      if (this.options.supportPointer) {
        on(document, 'pointermove', this._onTouchMove);
      } else if (touch) {
        on(document, 'touchmove', this._onTouchMove);
      } else {
        on(document, 'mousemove', this._onTouchMove);
      }
    } else {
      on(dragEl, 'dragend', this);
      on(rootEl, 'dragstart', this._onDragStart);
    }

    try {
      if (document.selection) {
        // Timeout neccessary for IE9
        _nextTick(function () {
          document.selection.empty();
        });
      } else {
        window.getSelection().removeAllRanges();
      }
    } catch (err) {}
  },
  _dragStarted: function _dragStarted(fallback, evt) {

    awaitingDragStarted = false;

    if (rootEl && dragEl) {
      pluginEvent('dragStarted', this, {
        evt: evt
      });

      if (this.nativeDraggable) {
        on(document, 'dragover', _checkOutsideTargetEl);
      }

      var options = this.options; // Apply effect

      !fallback && toggleClass(dragEl, options.dragClass, false);
      toggleClass(dragEl, options.ghostClass, true);
      Sortable.active = this;
      fallback && this._appendGhost(); // Drag start event

      _dispatchEvent({
        sortable: this,
        name: 'start',
        originalEvent: evt
      });
    } else {
      this._nulling();
    }
  },
  _emulateDragOver: function _emulateDragOver() {
    if (touchEvt) {
      this._lastX = touchEvt.clientX;
      this._lastY = touchEvt.clientY;

      _hideGhostForTarget();

      var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);
      var parent = target;

      while (target && target.shadowRoot) {
        target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);
        if (target === parent) break;
        parent = target;
      }

      dragEl.parentNode[expando]._isOutsideThisEl(target);

      if (parent) {
        do {
          if (parent[expando]) {
            var inserted = void 0;
            inserted = parent[expando]._onDragOver({
              clientX: touchEvt.clientX,
              clientY: touchEvt.clientY,
              target: target,
              rootEl: parent
            });

            if (inserted && !this.options.dragoverBubble) {
              break;
            }
          }

          target = parent; // store last element
        }
        /* jshint boss:true */
        while (parent = parent.parentNode);
      }

      _unhideGhostForTarget();
    }
  },
  _onTouchMove: function _onTouchMove(
  /**TouchEvent*/
  evt) {
    if (tapEvt) {
      var options = this.options,
          fallbackTolerance = options.fallbackTolerance,
          fallbackOffset = options.fallbackOffset,
          touch = evt.touches ? evt.touches[0] : evt,
          ghostMatrix = ghostEl && matrix(ghostEl),
          scaleX = ghostEl && ghostMatrix && ghostMatrix.a,
          scaleY = ghostEl && ghostMatrix && ghostMatrix.d,
          relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),
          dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),
          dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1),
          translate3d = evt.touches ? 'translate3d(' + dx + 'px,' + dy + 'px,0)' : 'translate(' + dx + 'px,' + dy + 'px)'; // only set the status to dragging, when we are actually dragging

      if (!Sortable.active && !awaitingDragStarted) {
        if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {
          return;
        }

        this._onDragStart(evt, true);
      }

      touchEvt = touch;
      css(ghostEl, 'webkitTransform', translate3d);
      css(ghostEl, 'mozTransform', translate3d);
      css(ghostEl, 'msTransform', translate3d);
      css(ghostEl, 'transform', translate3d);
      evt.cancelable && evt.preventDefault();
    }
  },
  _appendGhost: function _appendGhost() {
    // Bug if using scale(): https://stackoverflow.com/questions/2637058
    // Not being adjusted for
    if (!ghostEl) {
      var container = this.options.fallbackOnBody ? document.body : rootEl,
          rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),
          options = this.options; // Position absolutely

      if (PositionGhostAbsolutely) {
        // Get relatively positioned parent
        ghostRelativeParent = container;

        while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {
          ghostRelativeParent = ghostRelativeParent.parentNode;
        }

        if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {
          if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();
          rect.top += ghostRelativeParent.scrollTop;
          rect.left += ghostRelativeParent.scrollLeft;
        } else {
          ghostRelativeParent = getWindowScrollingElement();
        }

        ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);
      }

      ghostEl = dragEl.cloneNode(true);
      toggleClass(ghostEl, options.ghostClass, false);
      toggleClass(ghostEl, options.fallbackClass, true);
      toggleClass(ghostEl, options.dragClass, true);
      css(ghostEl, 'transition', '');
      css(ghostEl, 'transform', '');
      css(ghostEl, 'box-sizing', 'border-box');
      css(ghostEl, 'margin', 0);
      css(ghostEl, 'top', rect.top);
      css(ghostEl, 'left', rect.left);
      css(ghostEl, 'width', rect.width);
      css(ghostEl, 'height', rect.height);
      css(ghostEl, 'opacity', '0.8');
      css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');
      css(ghostEl, 'zIndex', '100000');
      css(ghostEl, 'pointerEvents', 'none');
      Sortable.ghost = ghostEl;
      container.appendChild(ghostEl);
    }
  },
  _onDragStart: function _onDragStart(
  /**Event*/
  evt,
  /**boolean*/
  fallback) {
    var _this = this;

    var dataTransfer = evt.dataTransfer;
    var options = _this.options;
    pluginEvent('dragStart', this, {
      evt: evt
    });

    if (Sortable.eventCanceled) {
      this._onDrop();

      return;
    }

    pluginEvent('setupClone', this);

    if (!Sortable.eventCanceled) {
      cloneEl = clone(dragEl);
      cloneEl.draggable = false;
      cloneEl.style['will-change'] = '';

      this._hideClone();

      toggleClass(cloneEl, this.options.chosenClass, false);
      Sortable.clone = cloneEl;
    } // #1143: IFrame support workaround


    _this.cloneId = _nextTick(function () {
      pluginEvent('clone', _this);
      if (Sortable.eventCanceled) return;

      if (!_this.options.removeCloneOnHide) {
        rootEl.insertBefore(cloneEl, dragEl);
      }

      _this._hideClone();

      _dispatchEvent({
        sortable: _this,
        name: 'clone'
      });
    });
    !fallback && toggleClass(dragEl, options.dragClass, true); // Set proper drop events

    if (fallback) {
      ignoreNextClick = true;
      _this._loopId = setInterval(_this._emulateDragOver, 50);
    } else {
      // Undo what was set in _prepareDragStart before drag started
      off(document, 'mouseup', _this._onDrop);
      off(document, 'touchend', _this._onDrop);
      off(document, 'touchcancel', _this._onDrop);

      if (dataTransfer) {
        dataTransfer.effectAllowed = 'move';
        options.setData && options.setData.call(_this, dataTransfer, dragEl);
      }

      on(document, 'drop', _this); // #1276 fix:

      css(dragEl, 'transform', 'translateZ(0)');
    }

    awaitingDragStarted = true;
    _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));
    on(document, 'selectstart', _this);
    moved = true;

    if (Safari) {
      css(document.body, 'user-select', 'none');
    }
  },
  // Returns true - if no further action is needed (either inserted or another condition)
  _onDragOver: function _onDragOver(
  /**Event*/
  evt) {
    var el = this.el,
        target = evt.target,
        dragRect,
        targetRect,
        revert,
        options = this.options,
        group = options.group,
        activeSortable = Sortable.active,
        isOwner = activeGroup === group,
        canSort = options.sort,
        fromSortable = putSortable || activeSortable,
        vertical,
        _this = this,
        completedFired = false;

    if (_silent) return;

    function dragOverEvent(name, extra) {
      pluginEvent(name, _this, _objectSpread({
        evt: evt,
        isOwner: isOwner,
        axis: vertical ? 'vertical' : 'horizontal',
        revert: revert,
        dragRect: dragRect,
        targetRect: targetRect,
        canSort: canSort,
        fromSortable: fromSortable,
        target: target,
        completed: completed,
        onMove: function onMove(target, after) {
          return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);
        },
        changed: changed
      }, extra));
    } // Capture animation state


    function capture() {
      dragOverEvent('dragOverAnimationCapture');

      _this.captureAnimationState();

      if (_this !== fromSortable) {
        fromSortable.captureAnimationState();
      }
    } // Return invocation when dragEl is inserted (or completed)


    function completed(insertion) {
      dragOverEvent('dragOverCompleted', {
        insertion: insertion
      });

      if (insertion) {
        // Clones must be hidden before folding animation to capture dragRectAbsolute properly
        if (isOwner) {
          activeSortable._hideClone();
        } else {
          activeSortable._showClone(_this);
        }

        if (_this !== fromSortable) {
          // Set ghost class to new sortable's ghost class
          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);
          toggleClass(dragEl, options.ghostClass, true);
        }

        if (putSortable !== _this && _this !== Sortable.active) {
          putSortable = _this;
        } else if (_this === Sortable.active && putSortable) {
          putSortable = null;
        } // Animation


        if (fromSortable === _this) {
          _this._ignoreWhileAnimating = target;
        }

        _this.animateAll(function () {
          dragOverEvent('dragOverAnimationComplete');
          _this._ignoreWhileAnimating = null;
        });

        if (_this !== fromSortable) {
          fromSortable.animateAll();
          fromSortable._ignoreWhileAnimating = null;
        }
      } // Null lastTarget if it is not inside a previously swapped element


      if (target === dragEl && !dragEl.animated || target === el && !target.animated) {
        lastTarget = null;
      } // no bubbling and not fallback


      if (!options.dragoverBubble && !evt.rootEl && target !== document) {
        dragEl.parentNode[expando]._isOutsideThisEl(evt.target); // Do not detect for empty insert if already inserted


        !insertion && nearestEmptyInsertDetectEvent(evt);
      }

      !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();
      return completedFired = true;
    } // Call when dragEl has been inserted


    function changed() {
      newIndex = index(dragEl);
      newDraggableIndex = index(dragEl, options.draggable);

      _dispatchEvent({
        sortable: _this,
        name: 'change',
        toEl: el,
        newIndex: newIndex,
        newDraggableIndex: newDraggableIndex,
        originalEvent: evt
      });
    }

    if (evt.preventDefault !== void 0) {
      evt.cancelable && evt.preventDefault();
    }

    target = closest(target, options.draggable, el, true);
    dragOverEvent('dragOver');
    if (Sortable.eventCanceled) return completedFired;

    if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {
      return completed(false);
    }

    ignoreNextClick = false;

    if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list
    : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {
      vertical = this._getDirection(evt, target) === 'vertical';
      dragRect = getRect(dragEl);
      dragOverEvent('dragOverValid');
      if (Sortable.eventCanceled) return completedFired;

      if (revert) {
        parentEl = rootEl; // actualization

        capture();

        this._hideClone();

        dragOverEvent('revert');

        if (!Sortable.eventCanceled) {
          if (nextEl) {
            rootEl.insertBefore(dragEl, nextEl);
          } else {
            rootEl.appendChild(dragEl);
          }
        }

        return completed(true);
      }

      var elLastChild = lastChild(el, options.draggable);

      if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {
        // If already at end of list: Do not insert
        if (elLastChild === dragEl) {
          return completed(false);
        } // assign target only if condition is true


        if (elLastChild && el === evt.target) {
          target = elLastChild;
        }

        if (target) {
          targetRect = getRect(target);
        }

        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {
          capture();
          el.appendChild(dragEl);
          parentEl = el; // actualization

          changed();
          return completed(true);
        }
      } else if (target.parentNode === el) {
        targetRect = getRect(target);
        var direction = 0,
            targetBeforeFirstSwap,
            differentLevel = dragEl.parentNode !== el,
            differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),
            side1 = vertical ? 'top' : 'left',
            scrolledPastTop = isScrolledPast(target, null, 'top', 'top') || isScrolledPast(dragEl, null, 'top', 'top'),
            scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;

        if (lastTarget !== target) {
          targetBeforeFirstSwap = targetRect[side1];
          pastFirstInvertThresh = false;
          isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;
        }

        direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);
        var sibling;

        if (direction !== 0) {
          // Check if target is beside dragEl in respective direction (ignoring hidden elements)
          var dragIndex = index(dragEl);

          do {
            dragIndex -= direction;
            sibling = parentEl.children[dragIndex];
          } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));
        } // If dragEl is already beside target: Do not insert


        if (direction === 0 || sibling === target) {
          return completed(false);
        }

        lastTarget = target;
        lastDirection = direction;
        var nextSibling = target.nextElementSibling,
            after = false;
        after = direction === 1;

        var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);

        if (moveVector !== false) {
          if (moveVector === 1 || moveVector === -1) {
            after = moveVector === 1;
          }

          _silent = true;
          setTimeout(_unsilent, 30);
          capture();

          if (after && !nextSibling) {
            el.appendChild(dragEl);
          } else {
            target.parentNode.insertBefore(dragEl, after ? nextSibling : target);
          } // Undo chrome's scroll adjustment (has no effect on other browsers)


          if (scrolledPastTop) {
            scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);
          }

          parentEl = dragEl.parentNode; // actualization
          // must be done before animation

          if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {
            targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);
          }

          changed();
          return completed(true);
        }
      }

      if (el.contains(dragEl)) {
        return completed(false);
      }
    }

    return false;
  },
  _ignoreWhileAnimating: null,
  _offMoveEvents: function _offMoveEvents() {
    off(document, 'mousemove', this._onTouchMove);
    off(document, 'touchmove', this._onTouchMove);
    off(document, 'pointermove', this._onTouchMove);
    off(document, 'dragover', nearestEmptyInsertDetectEvent);
    off(document, 'mousemove', nearestEmptyInsertDetectEvent);
    off(document, 'touchmove', nearestEmptyInsertDetectEvent);
  },
  _offUpEvents: function _offUpEvents() {
    var ownerDocument = this.el.ownerDocument;
    off(ownerDocument, 'mouseup', this._onDrop);
    off(ownerDocument, 'touchend', this._onDrop);
    off(ownerDocument, 'pointerup', this._onDrop);
    off(ownerDocument, 'touchcancel', this._onDrop);
    off(document, 'selectstart', this);
  },
  _onDrop: function _onDrop(
  /**Event*/
  evt) {
    var el = this.el,
        options = this.options; // Get the index of the dragged element within its parent

    newIndex = index(dragEl);
    newDraggableIndex = index(dragEl, options.draggable);
    pluginEvent('drop', this, {
      evt: evt
    }); // Get again after plugin event

    newIndex = index(dragEl);
    newDraggableIndex = index(dragEl, options.draggable);

    if (Sortable.eventCanceled) {
      this._nulling();

      return;
    }

    awaitingDragStarted = false;
    isCircumstantialInvert = false;
    pastFirstInvertThresh = false;
    clearInterval(this._loopId);
    clearTimeout(this._dragStartTimer);

    _cancelNextTick(this.cloneId);

    _cancelNextTick(this._dragStartId); // Unbind events


    if (this.nativeDraggable) {
      off(document, 'drop', this);
      off(el, 'dragstart', this._onDragStart);
    }

    this._offMoveEvents();

    this._offUpEvents();

    if (Safari) {
      css(document.body, 'user-select', '');
    }

    if (evt) {
      if (moved) {
        evt.cancelable && evt.preventDefault();
        !options.dropBubble && evt.stopPropagation();
      }

      ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);

      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {
        // Remove clone(s)
        cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);
      }

      if (dragEl) {
        if (this.nativeDraggable) {
          off(dragEl, 'dragend', this);
        }

        _disableDraggable(dragEl);

        dragEl.style['will-change'] = ''; // Remove classes
        // ghostClass is added in dragStarted

        if (moved && !awaitingDragStarted) {
          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);
        }

        toggleClass(dragEl, this.options.chosenClass, false); // Drag stop event

        _dispatchEvent({
          sortable: this,
          name: 'unchoose',
          toEl: parentEl,
          newIndex: null,
          newDraggableIndex: null,
          originalEvent: evt
        });

        if (rootEl !== parentEl) {
          if (newIndex >= 0) {
            // Add event
            _dispatchEvent({
              rootEl: parentEl,
              name: 'add',
              toEl: parentEl,
              fromEl: rootEl,
              originalEvent: evt
            }); // Remove event


            _dispatchEvent({
              sortable: this,
              name: 'remove',
              toEl: parentEl,
              originalEvent: evt
            }); // drag from one list and drop into another


            _dispatchEvent({
              rootEl: parentEl,
              name: 'sort',
              toEl: parentEl,
              fromEl: rootEl,
              originalEvent: evt
            });

            _dispatchEvent({
              sortable: this,
              name: 'sort',
              toEl: parentEl,
              originalEvent: evt
            });
          }

          putSortable && putSortable.save();
        } else {
          if (newIndex !== oldIndex) {
            if (newIndex >= 0) {
              // drag & drop within the same list
              _dispatchEvent({
                sortable: this,
                name: 'update',
                toEl: parentEl,
                originalEvent: evt
              });

              _dispatchEvent({
                sortable: this,
                name: 'sort',
                toEl: parentEl,
                originalEvent: evt
              });
            }
          }
        }

        if (Sortable.active) {
          /* jshint eqnull:true */
          if (newIndex == null || newIndex === -1) {
            newIndex = oldIndex;
            newDraggableIndex = oldDraggableIndex;
          }

          _dispatchEvent({
            sortable: this,
            name: 'end',
            toEl: parentEl,
            originalEvent: evt
          }); // Save sorting


          this.save();
        }
      }
    }

    this._nulling();
  },
  _nulling: function _nulling() {
    pluginEvent('nulling', this);
    rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;
    savedInputChecked.forEach(function (el) {
      el.checked = true;
    });
    savedInputChecked.length = 0;
  },
  handleEvent: function handleEvent(
  /**Event*/
  evt) {
    switch (evt.type) {
      case 'drop':
      case 'dragend':
        this._onDrop(evt);

        break;

      case 'dragenter':
      case 'dragover':
        if (dragEl) {
          this._onDragOver(evt);

          _globalDragOver(evt);
        }

        break;

      case 'selectstart':
        evt.preventDefault();
        break;
    }
  },

  /**
   * Serializes the item into an array of string.
   * @returns {String[]}
   */
  toArray: function toArray() {
    var order = [],
        el,
        children = this.el.children,
        i = 0,
        n = children.length,
        options = this.options;

    for (; i < n; i++) {
      el = children[i];

      if (closest(el, options.draggable, this.el, false)) {
        order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));
      }
    }

    return order;
  },

  /**
   * Sorts the elements according to the array.
   * @param  {String[]}  order  order of the items
   */
  sort: function sort(order) {
    var items = {},
        rootEl = this.el;
    this.toArray().forEach(function (id, i) {
      var el = rootEl.children[i];

      if (closest(el, this.options.draggable, rootEl, false)) {
        items[id] = el;
      }
    }, this);
    order.forEach(function (id) {
      if (items[id]) {
        rootEl.removeChild(items[id]);
        rootEl.appendChild(items[id]);
      }
    });
  },

  /**
   * Save the current sorting
   */
  save: function save() {
    var store = this.options.store;
    store && store.set && store.set(this);
  },

  /**
   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.
   * @param   {HTMLElement}  el
   * @param   {String}       [selector]  default: `options.draggable`
   * @returns {HTMLElement|null}
   */
  closest: function closest$1(el, selector) {
    return closest(el, selector || this.options.draggable, this.el, false);
  },

  /**
   * Set/get option
   * @param   {string} name
   * @param   {*}      [value]
   * @returns {*}
   */
  option: function option(name, value) {
    var options = this.options;

    if (value === void 0) {
      return options[name];
    } else {
      var modifiedValue = PluginManager.modifyOption(this, name, value);

      if (typeof modifiedValue !== 'undefined') {
        options[name] = modifiedValue;
      } else {
        options[name] = value;
      }

      if (name === 'group') {
        _prepareGroup(options);
      }
    }
  },

  /**
   * Destroy
   */
  destroy: function destroy() {
    pluginEvent('destroy', this);
    var el = this.el;
    el[expando] = null;
    off(el, 'mousedown', this._onTapStart);
    off(el, 'touchstart', this._onTapStart);
    off(el, 'pointerdown', this._onTapStart);

    if (this.nativeDraggable) {
      off(el, 'dragover', this);
      off(el, 'dragenter', this);
    } // Remove draggable attributes


    Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {
      el.removeAttribute('draggable');
    });

    this._onDrop();

    sortables.splice(sortables.indexOf(this.el), 1);
    this.el = el = null;
  },
  _hideClone: function _hideClone() {
    if (!cloneHidden) {
      pluginEvent('hideClone', this);
      if (Sortable.eventCanceled) return;
      css(cloneEl, 'display', 'none');

      if (this.options.removeCloneOnHide && cloneEl.parentNode) {
        cloneEl.parentNode.removeChild(cloneEl);
      }

      cloneHidden = true;
    }
  },
  _showClone: function _showClone(putSortable) {
    if (putSortable.lastPutMode !== 'clone') {
      this._hideClone();

      return;
    }

    if (cloneHidden) {
      pluginEvent('showClone', this);
      if (Sortable.eventCanceled) return; // show clone at dragEl or original position

      if (rootEl.contains(dragEl) && !this.options.group.revertClone) {
        rootEl.insertBefore(cloneEl, dragEl);
      } else if (nextEl) {
        rootEl.insertBefore(cloneEl, nextEl);
      } else {
        rootEl.appendChild(cloneEl);
      }

      if (this.options.group.revertClone) {
        this._animate(dragEl, cloneEl);
      }

      css(cloneEl, 'display', '');
      cloneHidden = false;
    }
  }
};

function _globalDragOver(
/**Event*/
evt) {
  if (evt.dataTransfer) {
    evt.dataTransfer.dropEffect = 'move';
  }

  evt.cancelable && evt.preventDefault();
}

function _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {
  var evt,
      sortable = fromEl[expando],
      onMoveFn = sortable.options.onMove,
      retVal; // Support for new CustomEvent feature

  if (window.CustomEvent && !IE11OrLess && !Edge) {
    evt = new CustomEvent('move', {
      bubbles: true,
      cancelable: true
    });
  } else {
    evt = document.createEvent('Event');
    evt.initEvent('move', true, true);
  }

  evt.to = toEl;
  evt.from = fromEl;
  evt.dragged = dragEl;
  evt.draggedRect = dragRect;
  evt.related = targetEl || toEl;
  evt.relatedRect = targetRect || getRect(toEl);
  evt.willInsertAfter = willInsertAfter;
  evt.originalEvent = originalEvent;
  fromEl.dispatchEvent(evt);

  if (onMoveFn) {
    retVal = onMoveFn.call(sortable, evt, originalEvent);
  }

  return retVal;
}

function _disableDraggable(el) {
  el.draggable = false;
}

function _unsilent() {
  _silent = false;
}

function _ghostIsLast(evt, vertical, sortable) {
  var rect = getRect(lastChild(sortable.el, sortable.options.draggable));
  var spacer = 10;
  return vertical ? evt.clientX > rect.right + spacer || evt.clientX <= rect.right && evt.clientY > rect.bottom && evt.clientX >= rect.left : evt.clientX > rect.right && evt.clientY > rect.top || evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer;
}

function _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {
  var mouseOnAxis = vertical ? evt.clientY : evt.clientX,
      targetLength = vertical ? targetRect.height : targetRect.width,
      targetS1 = vertical ? targetRect.top : targetRect.left,
      targetS2 = vertical ? targetRect.bottom : targetRect.right,
      invert = false;

  if (!invertSwap) {
    // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold
    if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {
      // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2
      // check if past first invert threshold on side opposite of lastDirection
      if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {
        // past first invert threshold, do not restrict inverted threshold to dragEl shadow
        pastFirstInvertThresh = true;
      }

      if (!pastFirstInvertThresh) {
        // dragEl shadow (target move distance shadow)
        if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow
        : mouseOnAxis > targetS2 - targetMoveDistance) {
          return -lastDirection;
        }
      } else {
        invert = true;
      }
    } else {
      // Regular
      if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {
        return _getInsertDirection(target);
      }
    }
  }

  invert = invert || invertSwap;

  if (invert) {
    // Invert of regular
    if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {
      return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;
    }
  }

  return 0;
}
/**
 * Gets the direction dragEl must be swapped relative to target in order to make it
 * seem that dragEl has been "inserted" into that element's position
 * @param  {HTMLElement} target       The target whose position dragEl is being inserted at
 * @return {Number}                   Direction dragEl must be swapped
 */


function _getInsertDirection(target) {
  if (index(dragEl) < index(target)) {
    return 1;
  } else {
    return -1;
  }
}
/**
 * Generate id
 * @param   {HTMLElement} el
 * @returns {String}
 * @private
 */


function _generateId(el) {
  var str = el.tagName + el.className + el.src + el.href + el.textContent,
      i = str.length,
      sum = 0;

  while (i--) {
    sum += str.charCodeAt(i);
  }

  return sum.toString(36);
}

function _saveInputCheckedState(root) {
  savedInputChecked.length = 0;
  var inputs = root.getElementsByTagName('input');
  var idx = inputs.length;

  while (idx--) {
    var _el = inputs[idx];
    _el.checked && savedInputChecked.push(_el);
  }
}

function _nextTick(fn) {
  return setTimeout(fn, 0);
}

function _cancelNextTick(id) {
  return clearTimeout(id);
} // Fixed #973:


on(document, 'touchmove', function (evt) {
  if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {
    evt.preventDefault();
  }
}); // Export utils

Sortable.utils = {
  on: on,
  off: off,
  css: css,
  find: find,
  is: function is(el, selector) {
    return !!closest(el, selector, el, false);
  },
  extend: extend,
  throttle: throttle,
  closest: closest,
  toggleClass: toggleClass,
  clone: clone,
  index: index,
  nextTick: _nextTick,
  cancelNextTick: _cancelNextTick,
  detectDirection: _detectDirection,
  getChild: getChild
};
/**
 * Mount a plugin to Sortable
 * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted
 */

Sortable.mount = function () {
  for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {
    plugins[_key] = arguments[_key];
  }

  if (plugins[0].constructor === Array) plugins = plugins[0];
  plugins.forEach(function (plugin) {
    if (!plugin.prototype || !plugin.prototype.constructor) {
      throw "Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(el));
    }

    if (plugin.utils) Sortable.utils = _objectSpread({}, Sortable.utils, plugin.utils);
    PluginManager.mount(plugin);
  });
};
/**
 * Create sortable instance
 * @param {HTMLElement}  el
 * @param {Object}      [options]
 */


Sortable.create = function (el, options) {
  return new Sortable(el, options);
}; // Export


Sortable.version = version;

var autoScrolls = [],
    scrollEl,
    scrollRootEl,
    scrolling = false,
    lastAutoScrollX,
    lastAutoScrollY,
    touchEvt$1,
    pointerElemChangedInterval;

function AutoScrollPlugin() {
  function AutoScroll() {
    this.options = {
      scroll: true,
      scrollSensitivity: 30,
      scrollSpeed: 10,
      bubbleScroll: true
    }; // Bind all private methods

    for (var fn in this) {
      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {
        this[fn] = this[fn].bind(this);
      }
    }
  }

  AutoScroll.prototype = {
    dragStarted: function dragStarted(_ref) {
      var originalEvent = _ref.originalEvent;

      if (this.sortable.nativeDraggable) {
        on(document, 'dragover', this._handleAutoScroll);
      } else {
        if (this.sortable.options.supportPointer) {
          on(document, 'pointermove', this._handleFallbackAutoScroll);
        } else if (originalEvent.touches) {
          on(document, 'touchmove', this._handleFallbackAutoScroll);
        } else {
          on(document, 'mousemove', this._handleFallbackAutoScroll);
        }
      }
    },
    dragOverCompleted: function dragOverCompleted(_ref2) {
      var originalEvent = _ref2.originalEvent;

      // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)
      if (!this.sortable.options.dragOverBubble && !originalEvent.rootEl) {
        this._handleAutoScroll(originalEvent);
      }
    },
    drop: function drop() {
      if (this.sortable.nativeDraggable) {
        off(document, 'dragover', this._handleAutoScroll);
      } else {
        off(document, 'pointermove', this._handleFallbackAutoScroll);
        off(document, 'touchmove', this._handleFallbackAutoScroll);
        off(document, 'mousemove', this._handleFallbackAutoScroll);
      }

      clearPointerElemChangedInterval();
      clearAutoScrolls();
      cancelThrottle();
    },
    nulling: function nulling() {
      touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;
      autoScrolls.length = 0;
    },
    _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {
      this._handleAutoScroll(evt, true);
    },
    _handleAutoScroll: function _handleAutoScroll(evt, fallback) {
      var _this = this;

      var x = evt.clientX,
          y = evt.clientY,
          elem = document.elementFromPoint(x, y);
      touchEvt$1 = evt; // IE does not seem to have native autoscroll,
      // Edge's autoscroll seems too conditional,
      // MACOS Safari does not have autoscroll,
      // Firefox and Chrome are good

      if (fallback || Edge || IE11OrLess || Safari) {
        autoScroll(evt, this.options, elem, fallback); // Listener for pointer element change

        var ogElemScroller = getParentAutoScrollElement(elem, true);

        if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {
          pointerElemChangedInterval && clearPointerElemChangedInterval(); // Detect for pointer elem change, emulating native DnD behaviour

          pointerElemChangedInterval = setInterval(function () {
            var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);

            if (newElem !== ogElemScroller) {
              ogElemScroller = newElem;
              clearAutoScrolls();
            }

            autoScroll(evt, _this.options, newElem, fallback);
          }, 10);
          lastAutoScrollX = x;
          lastAutoScrollY = y;
        }
      } else {
        // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll
        if (!this.sortable.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {
          clearAutoScrolls();
          return;
        }

        autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);
      }
    }
  };
  return _extends(AutoScroll, {
    pluginName: 'scroll',
    initializeByDefault: true
  });
}

function clearAutoScrolls() {
  autoScrolls.forEach(function (autoScroll) {
    clearInterval(autoScroll.pid);
  });
  autoScrolls = [];
}

function clearPointerElemChangedInterval() {
  clearInterval(pointerElemChangedInterval);
}

var autoScroll = throttle(function (evt, options, rootEl, isFallback) {
  // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521
  if (!options.scroll) return;
  var sens = options.scrollSensitivity,
      speed = options.scrollSpeed,
      winScroller = getWindowScrollingElement();
  var scrollThisInstance = false,
      scrollCustomFn; // New scroll root, set scrollEl

  if (scrollRootEl !== rootEl) {
    scrollRootEl = rootEl;
    clearAutoScrolls();
    scrollEl = options.scroll;
    scrollCustomFn = options.scrollFn;

    if (scrollEl === true) {
      scrollEl = getParentAutoScrollElement(rootEl, true);
    }
  }

  var layersOut = 0;
  var currentParent = scrollEl;

  do {
    var el = currentParent,
        rect = getRect(el),
        top = rect.top,
        bottom = rect.bottom,
        left = rect.left,
        right = rect.right,
        width = rect.width,
        height = rect.height,
        canScrollX = void 0,
        canScrollY = void 0,
        scrollWidth = el.scrollWidth,
        scrollHeight = el.scrollHeight,
        elCSS = css(el),
        scrollPosX = el.scrollLeft,
        scrollPosY = el.scrollTop;

    if (el === winScroller) {
      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');
      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');
    } else {
      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');
      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');
    }

    var vx = canScrollX && (Math.abs(right - evt.clientX) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - evt.clientX) <= sens && !!scrollPosX);
    var vy = canScrollY && (Math.abs(bottom - evt.clientY) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - evt.clientY) <= sens && !!scrollPosY);

    if (!autoScrolls[layersOut]) {
      for (var i = 0; i <= layersOut; i++) {
        if (!autoScrolls[i]) {
          autoScrolls[i] = {};
        }
      }
    }

    if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {
      autoScrolls[layersOut].el = el;
      autoScrolls[layersOut].vx = vx;
      autoScrolls[layersOut].vy = vy;
      clearInterval(autoScrolls[layersOut].pid);

      if (vx != 0 || vy != 0) {
        scrollThisInstance = true;
        /* jshint loopfunc:true */

        autoScrolls[layersOut].pid = setInterval(function () {
          // emulate drag over during autoscroll (fallback), emulating native DnD behaviour
          if (isFallback && this.layer === 0) {
            Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely

          }

          var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;
          var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;

          if (typeof scrollCustomFn === 'function') {
            if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {
              return;
            }
          }

          scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);
        }.bind({
          layer: layersOut
        }), 24);
      }
    }

    layersOut++;
  } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));

  scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not
}, 30);

var drop = function drop(_ref) {
  var originalEvent = _ref.originalEvent,
      putSortable = _ref.putSortable,
      dragEl = _ref.dragEl,
      activeSortable = _ref.activeSortable,
      dispatchSortableEvent = _ref.dispatchSortableEvent,
      hideGhostForTarget = _ref.hideGhostForTarget,
      unhideGhostForTarget = _ref.unhideGhostForTarget;
  var toSortable = putSortable || activeSortable;
  hideGhostForTarget();
  var target = document.elementFromPoint(originalEvent.clientX, originalEvent.clientY);
  unhideGhostForTarget();

  if (toSortable && !toSortable.el.contains(target)) {
    dispatchSortableEvent('spill');
    this.onSpill(dragEl);
  }
};

function Revert() {}

Revert.prototype = {
  startIndex: null,
  dragStart: function dragStart(_ref2) {
    var oldDraggableIndex = _ref2.oldDraggableIndex;
    this.startIndex = oldDraggableIndex;
  },
  onSpill: function onSpill(dragEl) {
    this.sortable.captureAnimationState();
    var nextSibling = getChild(this.sortable.el, this.startIndex, this.sortable.options);

    if (nextSibling) {
      this.sortable.el.insertBefore(dragEl, nextSibling);
    } else {
      this.sortable.el.appendChild(dragEl);
    }

    this.sortable.animateAll();
  },
  drop: drop
};

_extends(Revert, {
  pluginName: 'revertOnSpill'
});

function Remove() {}

Remove.prototype = {
  onSpill: function onSpill(dragEl) {
    this.sortable.captureAnimationState();
    dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);
    this.sortable.animateAll();
  },
  drop: drop
};

_extends(Remove, {
  pluginName: 'removeOnSpill'
});

var lastSwapEl;

function SwapPlugin() {
  function Swap() {
    this.options = {
      swapClass: 'sortable-swap-highlight'
    };
  }

  Swap.prototype = {
    dragStart: function dragStart(_ref) {
      var dragEl = _ref.dragEl;
      lastSwapEl = dragEl;
    },
    dragOverValid: function dragOverValid(_ref2) {
      var completed = _ref2.completed,
          target = _ref2.target,
          onMove = _ref2.onMove,
          activeSortable = _ref2.activeSortable,
          changed = _ref2.changed;
      if (!activeSortable.options.swap) return;
      var el = this.sortable.el,
          options = this.sortable.options;

      if (target && target !== el) {
        var prevSwapEl = lastSwapEl;

        if (onMove(target) !== false) {
          toggleClass(target, options.swapClass, true);
          lastSwapEl = target;
        } else {
          lastSwapEl = null;
        }

        if (prevSwapEl && prevSwapEl !== lastSwapEl) {
          toggleClass(prevSwapEl, options.swapClass, false);
        }
      }

      changed();
      return completed(true);
    },
    drop: function drop(_ref3) {
      var activeSortable = _ref3.activeSortable,
          putSortable = _ref3.putSortable,
          dragEl = _ref3.dragEl;
      var toSortable = putSortable || this.sortable;
      var options = this.sortable.options;
      lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);

      if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {
        if (dragEl !== lastSwapEl) {
          toSortable.captureAnimationState();
          if (toSortable !== activeSortable) activeSortable.captureAnimationState();
          swapNodes(dragEl, lastSwapEl);
          toSortable.animateAll();
          if (toSortable !== activeSortable) activeSortable.animateAll();
        }
      }
    },
    nulling: function nulling() {
      lastSwapEl = null;
    }
  };
  return _extends(Swap, {
    pluginName: 'swap',
    eventOptions: function eventOptions() {
      return {
        swapItem: lastSwapEl
      };
    }
  });
}

function swapNodes(n1, n2) {
  var p1 = n1.parentNode,
      p2 = n2.parentNode,
      i1,
      i2;
  if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;
  i1 = index(n1);
  i2 = index(n2);

  if (p1.isEqualNode(p2) && i1 < i2) {
    i2++;
  }

  p1.insertBefore(n2, p1.children[i1]);
  p2.insertBefore(n1, p2.children[i2]);
}

var multiDragElements = [],
    multiDragClones = [],
    lastMultiDragSelect,
    // for selection with modifier key down (SHIFT)
multiDragSortable,
    initialFolding = false,
    // Initial multi-drag fold when drag started
folding = false,
    // Folding any other time
dragStarted = false,
    dragEl$1,
    clonesFromRect,
    clonesHidden;

function MultiDragPlugin() {
  function MultiDrag(sortable) {
    // Bind all private methods
    for (var fn in this) {
      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {
        this[fn] = this[fn].bind(this);
      }
    }

    if (sortable.options.supportPointer) {
      on(document, 'pointerup', this._deselectMultiDrag);
    } else {
      on(document, 'mouseup', this._deselectMultiDrag);
      on(document, 'touchend', this._deselectMultiDrag);
    }

    on(document, 'keydown', this._checkKeyDown);
    on(document, 'keyup', this._checkKeyUp);
    this.options = {
      selectedClass: 'sortable-selected',
      multiDragKey: null,
      setData: function setData(dataTransfer, dragEl) {
        var data = '';

        if (multiDragElements.length && multiDragSortable === sortable) {
          multiDragElements.forEach(function (multiDragElement, i) {
            data += (!i ? '' : ', ') + multiDragElement.textContent;
          });
        } else {
          data = dragEl.textContent;
        }

        dataTransfer.setData('Text', data);
      }
    };
  }

  MultiDrag.prototype = {
    multiDragKeyDown: false,
    isMultiDrag: false,
    delayStartGlobal: function delayStartGlobal(_ref) {
      var dragged = _ref.dragEl;
      dragEl$1 = dragged;
    },
    delayEnded: function delayEnded() {
      this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);
    },
    setupClone: function setupClone(_ref2) {
      var sortable = _ref2.sortable;
      if (!this.isMultiDrag) return;

      for (var _i = 0; _i < multiDragElements.length; _i++) {
        multiDragClones.push(clone(multiDragElements[_i]));
        multiDragClones[_i].sortableIndex = multiDragElements[_i].sortableIndex;
        multiDragClones[_i].draggable = false;
        multiDragClones[_i].style['will-change'] = '';
        toggleClass(multiDragClones[_i], sortable.options.selectedClass, false);
        multiDragElements[_i] === dragEl$1 && toggleClass(multiDragClones[_i], sortable.options.chosenClass, false);
      }

      sortable._hideClone();

      return true;
    },
    clone: function clone(_ref3) {
      var sortable = _ref3.sortable,
          rootEl = _ref3.rootEl,
          dispatchSortableEvent = _ref3.dispatchSortableEvent;
      if (!this.isMultiDrag) return;

      if (!sortable.options.removeCloneOnHide) {
        if (multiDragElements.length && multiDragSortable === sortable) {
          insertMultiDragClones(true, rootEl);
          dispatchSortableEvent('clone');
          return true;
        }
      }
    },
    showClone: function showClone(_ref4) {
      var cloneNowShown = _ref4.cloneNowShown,
          rootEl = _ref4.rootEl;
      if (!this.isMultiDrag) return;
      insertMultiDragClones(false, rootEl);
      multiDragClones.forEach(function (clone) {
        css(clone, 'display', '');
      });
      cloneNowShown();
      clonesHidden = false;
      return true;
    },
    hideClone: function hideClone(_ref5) {
      var sortable = _ref5.sortable,
          cloneNowHidden = _ref5.cloneNowHidden;
      if (!this.isMultiDrag) return;
      multiDragClones.forEach(function (clone) {
        css(clone, 'display', 'none');

        if (sortable.options.removeCloneOnHide && clone.parentNode) {
          clone.parentNode.removeChild(clone);
        }
      });
      cloneNowHidden();
      clonesHidden = true;
      return true;
    },
    dragStartGlobal: function dragStartGlobal(_ref6) {
      var sortable = _ref6.sortable;

      if (!this.isMultiDrag && multiDragSortable) {
        multiDragSortable.multiDrag._deselectMultiDrag();
      }

      multiDragElements.forEach(function (multiDragElement) {
        multiDragElement.sortableIndex = index(multiDragElement);
      }); // Sort multi-drag elements

      multiDragElements = multiDragElements.sort(function (a, b) {
        return a.sortableIndex - b.sortableIndex;
      });
      dragStarted = true;
    },
    dragStarted: function dragStarted(_ref7) {
      var sortable = _ref7.sortable;
      if (!this.isMultiDrag) return;

      if (sortable.options.sort) {
        // Capture rects,
        // hide multi drag elements (by positioning them absolute),
        // set multi drag elements rects to dragRect,
        // show multi drag elements,
        // animate to rects,
        // unset rects & remove from DOM
        sortable.captureAnimationState();

        if (sortable.options.animation) {
          multiDragElements.forEach(function (multiDragElement) {
            if (multiDragElement === dragEl$1) return;
            css(multiDragElement, 'position', 'absolute');
          });
          var dragRect = getRect(dragEl$1, false, true, true);
          multiDragElements.forEach(function (multiDragElement) {
            if (multiDragElement === dragEl$1) return;
            setRect(multiDragElement, dragRect);
          });
          folding = true;
          initialFolding = true;
        }
      }

      sortable.animateAll(function () {
        folding = false;
        initialFolding = false;

        if (sortable.options.animation) {
          multiDragElements.forEach(function (multiDragElement) {
            unsetRect(multiDragElement);
          });
        } // Remove all auxiliary multidrag items from el, if sorting enabled


        if (sortable.options.sort) {
          removeMultiDragElements();
        }
      });
    },
    dragOver: function dragOver(_ref8) {
      var target = _ref8.target,
          completed = _ref8.completed;

      if (folding && ~multiDragElements.indexOf(target)) {
        return completed(false);
      }
    },
    revert: function revert(_ref9) {
      var fromSortable = _ref9.fromSortable,
          rootEl = _ref9.rootEl,
          sortable = _ref9.sortable,
          dragRect = _ref9.dragRect;

      if (multiDragElements.length > 1) {
        // Setup unfold animation
        multiDragElements.forEach(function (multiDragElement) {
          sortable.addAnimationState({
            target: multiDragElement,
            rect: folding ? getRect(multiDragElement) : dragRect
          });
          unsetRect(multiDragElement);
          multiDragElement.fromRect = dragRect;
          fromSortable.removeAnimationState(multiDragElement);
        });
        folding = false;
        insertMultiDragElements(!sortable.options.removeCloneOnHide, rootEl);
      }
    },
    dragOverCompleted: function dragOverCompleted(_ref10) {
      var sortable = _ref10.sortable,
          isOwner = _ref10.isOwner,
          insertion = _ref10.insertion,
          activeSortable = _ref10.activeSortable,
          parentEl = _ref10.parentEl,
          putSortable = _ref10.putSortable;
      var options = sortable.options;

      if (insertion) {
        // Clones must be hidden before folding animation to capture dragRectAbsolute properly
        if (isOwner) {
          activeSortable._hideClone();
        }

        initialFolding = false; // If leaving sort:false root, or already folding - Fold to new location

        if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {
          // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible
          var dragRectAbsolute = getRect(dragEl$1, false, true, true);
          multiDragElements.forEach(function (multiDragElement) {
            if (multiDragElement === dragEl$1) return;
            setRect(multiDragElement, dragRectAbsolute); // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted
            // while folding, and so that we can capture them again because old sortable will no longer be fromSortable

            parentEl.appendChild(multiDragElement);
          });
          folding = true;
        } // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out


        if (!isOwner) {
          // Only remove if not folding (folding will remove them anyways)
          if (!folding) {
            removeMultiDragElements();
          }

          if (multiDragElements.length > 1) {
            var clonesHiddenBefore = clonesHidden;

            activeSortable._showClone(sortable); // Unfold animation for clones if showing from hidden


            if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {
              multiDragClones.forEach(function (clone) {
                activeSortable.addAnimationState({
                  target: clone,
                  rect: clonesFromRect
                });
                clone.fromRect = clonesFromRect;
                clone.thisAnimationDuration = null;
              });
            }
          } else {
            activeSortable._showClone(sortable);
          }
        }
      }
    },
    dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {
      var dragRect = _ref11.dragRect,
          isOwner = _ref11.isOwner,
          activeSortable = _ref11.activeSortable;
      multiDragElements.forEach(function (multiDragElement) {
        multiDragElement.thisAnimationDuration = null;
      });

      if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {
        clonesFromRect = _extends({}, dragRect);
        var dragMatrix = matrix(dragEl$1, true);
        clonesFromRect.top -= dragMatrix.f;
        clonesFromRect.left -= dragMatrix.e;
      }
    },
    dragOverAnimationComplete: function dragOverAnimationComplete() {
      if (folding) {
        folding = false;
        removeMultiDragElements();
      }
    },
    drop: function drop(_ref12) {
      var evt = _ref12.originalEvent,
          rootEl = _ref12.rootEl,
          parentEl = _ref12.parentEl,
          sortable = _ref12.sortable,
          dispatchSortableEvent = _ref12.dispatchSortableEvent,
          oldIndex = _ref12.oldIndex,
          putSortable = _ref12.putSortable;
      var toSortable = putSortable || this.sortable;
      if (!evt) return;
      var options = sortable.options,
          children = parentEl.children; // Multi-drag selection

      if (!dragStarted) {
        if (options.multiDragKey && !this.multiDragKeyDown) {
          this._deselectMultiDrag();
        }

        toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));

        if (!~multiDragElements.indexOf(dragEl$1)) {
          multiDragElements.push(dragEl$1);
          dispatchEvent({
            sortable: sortable,
            rootEl: rootEl,
            name: 'select',
            targetEl: dragEl$1,
            originalEvt: evt
          }); // Modifier activated, select from last to dragEl

          if ((!options.multiDragKey || this.multiDragKeyDown) && evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {
            var lastIndex = index(lastMultiDragSelect),
                currentIndex = index(dragEl$1);

            if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {
              // Must include lastMultiDragSelect (select it), in case modified selection from no selection
              // (but previous selection existed)
              var n, _i2;

              if (currentIndex > lastIndex) {
                _i2 = lastIndex;
                n = currentIndex;
              } else {
                _i2 = currentIndex;
                n = lastIndex + 1;
              }

              for (; _i2 < n; _i2++) {
                if (~multiDragElements.indexOf(children[_i2])) continue;
                toggleClass(children[_i2], options.selectedClass, true);
                multiDragElements.push(children[_i2]);
                dispatchEvent({
                  sortable: sortable,
                  rootEl: rootEl,
                  name: 'select',
                  targetEl: children[_i2],
                  originalEvt: evt
                });
              }
            }
          } else {
            lastMultiDragSelect = dragEl$1;
          }

          multiDragSortable = toSortable;
        } else {
          multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);
          lastMultiDragSelect = null;
          dispatchEvent({
            sortable: sortable,
            rootEl: rootEl,
            name: 'deselect',
            targetEl: dragEl$1,
            originalEvt: evt
          });
        }
      } // Multi-drag drop


      if (dragStarted && this.isMultiDrag) {
        // Do not "unfold" after around dragEl if reverted
        if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {
          var dragRect = getRect(dragEl$1),
              multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');
          if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;
          toSortable.captureAnimationState();

          if (!initialFolding) {
            if (options.animation) {
              dragEl$1.fromRect = dragRect;
              multiDragElements.forEach(function (multiDragElement) {
                multiDragElement.thisAnimationDuration = null;

                if (multiDragElement !== dragEl$1) {
                  var rect = folding ? getRect(multiDragElement) : dragRect;
                  multiDragElement.fromRect = rect; // Prepare unfold animation

                  toSortable.addAnimationState({
                    target: multiDragElement,
                    rect: rect
                  });
                }
              });
            } // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert
            // properly they must all be removed


            removeMultiDragElements();
            multiDragElements.forEach(function (multiDragElement) {
              if (children[multiDragIndex]) {
                parentEl.insertBefore(multiDragElement, children[multiDragIndex]);
              } else {
                parentEl.appendChild(multiDragElement);
              }

              multiDragIndex++;
            }); // If initial folding is done, the elements may have changed position because they are now
            // unfolding around dragEl, even though dragEl may not have his index changed, so update event
            // must be fired here as Sortable will not.

            if (oldIndex === index(dragEl$1)) {
              var update = false;
              multiDragElements.forEach(function (multiDragElement) {
                if (multiDragElement.sortableIndex !== index(multiDragElement)) {
                  update = true;
                  return;
                }
              });

              if (update) {
                dispatchSortableEvent('update');
              }
            }
          } // Must be done after capturing individual rects (scroll bar)


          multiDragElements.forEach(function (multiDragElement) {
            unsetRect(multiDragElement);
          });
          toSortable.animateAll();
        }

        multiDragSortable = toSortable;
      } // Remove clones if necessary


      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {
        multiDragClones.forEach(function (clone) {
          clone.parentNode && clone.parentNode.removeChild(clone);
        });
      }
    },
    nullingGlobal: function nullingGlobal() {
      this.isMultiDrag = dragStarted = false;
      multiDragClones.length = 0;
    },
    destroy: function destroy() {
      this._deselectMultiDrag();

      off(document, 'pointerup', this._deselectMultiDrag);
      off(document, 'mouseup', this._deselectMultiDrag);
      off(document, 'touchend', this._deselectMultiDrag);
      off(document, 'keydown', this._checkKeyDown);
      off(document, 'keyup', this._checkKeyUp);
    },
    _deselectMultiDrag: function _deselectMultiDrag(evt) {
      if (dragStarted) return; // Only deselect if selection is in this sortable

      if (multiDragSortable !== this.sortable) return; // Only deselect if target is not item in this sortable

      if (evt && closest(evt.target, this.sortable.options.draggable, this.sortable.el, false)) return; // Only deselect if left click

      if (evt && evt.button !== 0) return;

      while (multiDragElements.length) {
        var el = multiDragElements[0];
        toggleClass(el, this.sortable.options.selectedClass, false);
        multiDragElements.shift();
        dispatchEvent({
          sortable: this.sortable,
          rootEl: this.sortable.el,
          name: 'deselect',
          targetEl: el,
          originalEvt: evt
        });
      }
    },
    _checkKeyDown: function _checkKeyDown(evt) {
      if (evt.key === this.sortable.options.multiDragKey) {
        this.multiDragKeyDown = true;
      }
    },
    _checkKeyUp: function _checkKeyUp(evt) {
      if (evt.key === this.sortable.options.multiDragKey) {
        this.multiDragKeyDown = false;
      }
    }
  };
  return _extends(MultiDrag, {
    // Static methods & properties
    pluginName: 'multiDrag',
    utils: {
      /**
       * Selects the provided multi-drag item
       * @param  {HTMLElement} el    The element to be selected
       */
      select: function select(el) {
        var sortable = el.parentNode[expando];
        if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;

        if (multiDragSortable && multiDragSortable !== sortable) {
          multiDragSortable.multiDrag._deselectMultiDrag();

          multiDragSortable = sortable;
        }

        toggleClass(el, sortable.options.selectedClass, true);
        multiDragElements.push(el);
      },

      /**
       * Deselects the provided multi-drag item
       * @param  {HTMLElement} el    The element to be deselected
       */
      deselect: function deselect(el) {
        var sortable = el.parentNode[expando],
            index = multiDragElements.indexOf(el);
        if (!sortable || !sortable.options.multiDrag || !~index) return;
        toggleClass(el, sortable.options.selectedClass, false);
        multiDragElements.splice(index, 1);
      }
    },
    eventOptions: function eventOptions() {
      var _this = this;

      var oldIndicies = [],
          newIndicies = [];
      multiDragElements.forEach(function (multiDragElement) {
        oldIndicies.push({
          multiDragElement: multiDragElement,
          index: multiDragElement.sortableIndex
        }); // multiDragElements will already be sorted if folding

        var newIndex;

        if (folding && multiDragElement !== dragEl$1) {
          newIndex = -1;
        } else if (folding) {
          newIndex = index(multiDragElement, ':not(.' + _this.options.selectedClass + ')');
        } else {
          newIndex = index(multiDragElement);
        }

        newIndicies.push({
          multiDragElement: multiDragElement,
          index: newIndex
        });
      });
      return {
        items: _toConsumableArray(multiDragElements),
        clones: [].concat(multiDragClones),
        oldIndicies: oldIndicies,
        newIndicies: newIndicies
      };
    },
    optionListeners: {
      multiDragKey: function multiDragKey(key) {
        key = key.toLowerCase();

        if (key === 'ctrl') {
          key = 'Control';
        } else if (key.length > 1) {
          key = key.charAt(0).toUpperCase() + key.substr(1);
        }

        return key;
      }
    }
  });
}

function insertMultiDragElements(clonesInserted, rootEl) {
  multiDragElements.forEach(function (multiDragElement) {
    var target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];

    if (target) {
      rootEl.insertBefore(multiDragElement, target);
    } else {
      rootEl.appendChild(multiDragElement);
    }
  });
}
/**
 * Insert multi-drag clones
 * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted
 * @param  {HTMLElement} rootEl
 */


function insertMultiDragClones(elementsInserted, rootEl) {
  multiDragClones.forEach(function (clone) {
    var target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];

    if (target) {
      rootEl.insertBefore(clone, target);
    } else {
      rootEl.appendChild(clone);
    }
  });
}

function removeMultiDragElements() {
  multiDragElements.forEach(function (multiDragElement) {
    if (multiDragElement === dragEl$1) return;
    multiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);
  });
}

Sortable.mount(new AutoScrollPlugin());
Sortable.mount(Remove, Revert);

/* harmony default export */ __webpack_exports__["default"] = (Sortable);



/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vanMvc3JjL2VkaXRvci9iYWNrZW5kL2NvZGVnZW5lcmF0aW9uLmpzIiwid2VicGFjazovLy8uL2pzL3NyYy9lZGl0b3IvYmFja2VuZC9kcmFnbmRyb3AuanMiLCJ3ZWJwYWNrOi8vLy4vanMvc3JjL2VkaXRvci9iYWNrZW5kL2V2ZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9qcy9zcmMvZWRpdG9yL2JhY2tlbmQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vanMvc3JjL2VkaXRvci9iYWNrZW5kL21vZGFsd2luZG93LmNsYXNzLmpzIiwid2VicGFjazovLy8uL2pzL3NyYy9lZGl0b3IvYmFja2VuZC9tb2RhbHdpbmRvdy5qcyIsIndlYnBhY2s6Ly8vLi9qcy9zcmMvZWRpdG9yL2JhY2tlbmQvbW9kdWxlLmpzIiwid2VicGFjazovLy8uL2pzL3NyYy9lZGl0b3IvYmFja2VuZC9tb2R1bGVhcmVhLmNsYXNzLmpzIiwid2VicGFjazovLy8uL2pzL3NyYy9lZGl0b3IvYmFja2VuZC9tb2R1bGVhcmVhLmpzIiwid2VicGFjazovLy8uL2pzL3NyYy9lZGl0b3IvYmFja2VuZC9wcmVzZXRzLmpzIiwid2VicGFjazovLy8uL2pzL3NyYy9lZGl0b3IvYmFja2VuZC9zY3JvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9qcy9zcmMvZWRpdG9yL2JhY2tlbmQvc2VjdGlvbi5jbGFzcy5qcyIsIndlYnBhY2s6Ly8vLi9qcy9zcmMvZWRpdG9yL2JhY2tlbmQvc2VjdGlvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vanMvc3JjL2VkaXRvci9iYWNrZW5kL3NlY3Rpb25zY29udGFpbmVyLmNsYXNzLmpzIiwid2VicGFjazovLy8uL2pzL3NyYy9lZGl0b3IvYmFja2VuZC9zZXR0aW5ncy5wYW5lbC5qcyIsIndlYnBhY2s6Ly8vLi9qcy9zcmMvZWRpdG9yL2JhY2tlbmQvdGVtcGxhdGVzLmpzIiwid2VicGFjazovLy8uL2pzL3NyYy9lZGl0b3IvYmFja2VuZC91aWdlbmVyYWwuanMiLCJ3ZWJwYWNrOi8vLy4vanMvc3JjL2VkaXRvci9iYWNrZW5kL3V0aWxzLmNsYXNzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbmltZWpzL2xpYi9hbmltZS5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc29ydGFibGVqcy9tb2R1bGFyL3NvcnRhYmxlLmVzbS5qcyJdLCJuYW1lcyI6WyJkc2xjX3NhdmVfY29tcG9zZXIiLCJ3aW5kb3ciLCJkc2xjRGVidWciLCJjb25zb2xlIiwibG9nIiwiZHNsY19nZW5lcmF0ZV9jb2RlIiwiZHNsY2FfZ2VuX2NvbnRlbnRfZm9yX3NlYXJjaCIsImNvbXBvc2VyQ29kZSIsImpRdWVyeSIsInZhbCIsImNvbnRlbnRGb3JTZWFyY2giLCJwb3N0SUQiLCJkYXRhIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImFqYXgiLCJtZXRob2QiLCJ0eXBlIiwidXJsIiwiRFNMQ0FqYXgiLCJhamF4dXJsIiwiYWN0aW9uIiwiZHNsYyIsImRzbGNfcG9zdF9pZCIsImRzbGNfY29kZSIsImRzbGNfY29udGVudF9mb3Jfc2VhcmNoIiwidGltZW91dCIsImRvbmUiLCJyZXNwb25zZSIsInN0YXR1cyIsImZhZGVPdXQiLCJhcHBlbmQiLCJEU0xDU2l0ZURhdGEiLCJzaXRldXJsIiwiZWFjaCIsImluZGV4IiwiZWwiLCJsb2FkIiwicmVtb3ZlIiwiYWxlcnQiLCJmYWlsIiwic3RhdHVzVGV4dCIsImFsd2F5cyIsInJlc2Vwb25zZSIsImRzbGNfc2F2ZV9kcmFmdF9jb21wb3NlciIsInBvc3QiLCJtb2R1bGVDb2RlIiwibW9kdWxlX3NpemUiLCJwYWdlQ29kZUluSnNvbiIsIm1heFBlclJvdyIsIm1heFBlclJvd0EiLCJjdXJyUGVyUm93IiwiY3VyclBlclJvd0EiLCJtb2R1bGVzQXJlYVNpemUiLCJtb2R1bGVzQXJlYSIsIm1vZHVsZXNBcmVhTGFzdFN0YXRlIiwibW9kdWxlc0FyZWFGaXJzdFN0YXRlIiwibW9kdWxlc1NlY3Rpb24iLCJtb2R1bGVzU2VjdGlvbkF0dHMiLCJtb2R1bGVzU2VjdGlvbkpzb24iLCJMaXZlQ29tcG9zZXIiLCJCdWlsZGVyIiwiUHJldmlld0FyZWFEb2N1bWVudCIsImxlbmd0aCIsImhpZGUiLCJzaG93IiwiY3NzIiwicGFkZGluZyIsImFuaW1hdGUiLCJnZW5lcmF0ZVNlY3Rpb25Db2RlIiwiZmluZCIsInNsaWNlIiwidGhlTW9kdWxlc1NlY3Rpb24iLCJtb2R1bGVzU2VjdGlvbkpzb25TdHJpbmciLCJKU09OIiwicGFyc2UiLCJjdXJyZW50SW5wdXQiLCJjdXJyZW50QXR0cktleSIsImN1cnJlbnRBdHRyVmFsIiwidW5kZWZpbmVkIiwicGFyc2VJbnQiLCJuZXh0IiwibW9kdWxlQXJlYUpTT04iLCJjb250ZW50IiwiZHNsY19tb2R1bGUiLCJnZXRBdHRyaWJ1dGUiLCJtb2R1bGVMYXN0U3RhdGUiLCJtb2R1bGVGaXJzdFN0YXRlIiwicXVlcnlTZWxlY3RvciIsInZhbHVlIiwiZXJyIiwiaW5mbyIsIm1vZHVsZUNvZGVKU09OIiwibGFzdCIsInJlcGxhY2UiLCJzdHJpbmdpZnkiLCJwdXNoIiwiZ2VuZXJhdGVkQ29kZSIsInNldEV2ZW50TGlzdGVuZXJzIiwiZG9jdW1lbnQiLCJvbiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImhhc0NsYXNzIiwiaG9sZGVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJwcmV2Q29udGVudCIsImVsZW1lbnRzIiwiUHJldmlld0FyZWFXaW5kb3ciLCJxdWVyeVNlbGVjdG9yQWxsIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJmb3JFYWNoIiwiY2FsbCIsImkiLCJleHRyYWN0ZWRfaHRtbF9jb2RlIiwid3JhcHBlcl90YWciLCJpbm5lckhUTUwiLCJ0cmltIiwiZHNsY19zaG93X3B1Ymxpc2hfYnV0dG9uIiwiZWRpdGFibGVDb250ZW50Q29kZUdlbmVyYXRpb24iLCJkc2xjRmllbGQiLCJkc2xjTW9kdWxlIiwiZHNsY0NvbnRlbnQiLCJkc2xjRmllbGRJRCIsImNsb3Nlc3QiLCJodG1sIiwiY29kZUdlbmVyYXRpb25Jbml0SlMiLCJkcmFnQW5kRHJvcEluaXQiLCJtb2R1bGVJRCIsIm1vZHVsZU91dHB1dCIsIm1vZHVsZXNfbGlzdCIsImNyZWF0ZUVsZW1lbnQiLCJtb2R1bGVzX2xpc3Rfc29ydGFibGUiLCJTb3J0YWJsZSIsImNyZWF0ZSIsInNvcnQiLCJncm91cCIsIm5hbWUiLCJwdWxsIiwicHV0IiwiYW5pbWF0aW9uIiwiaGFuZGxlIiwiZHJhZ2dhYmxlIiwiY2hvc2VuQ2xhc3MiLCJzY3JvbGwiLCJzY3JvbGxTZW5zaXRpdml0eSIsInNjcm9sbFNwZWVkIiwic2V0RGF0YSIsImRhdGFUcmFuc2ZlciIsImRyYWdFbCIsIlV0aWxzIiwibXNpZXZlcnNpb24iLCJvblN0YXJ0IiwiZXZ0Iiwib2xkSW5kZXgiLCJvbkVuZCIsIm5ld0luZGV4IiwiaXRlbUVsIiwiaXRlbSIsInBhcmVudE5vZGUiLCJkYXRhc2V0IiwiaWQiLCJtb2R1bGVPdXRwdXREZWZhdWx0Iiwib3V0cHV0IiwiZHNsY0p1c3RBZGRlZCIsIkhlbHBlcnMiLCJpbnNlcnRNb2R1bGUiLCJzZXRUaW1lb3V0IiwiZHNsY19tYXNvbnJ5IiwidmlzaWJpbGl0eSIsImRzbGNfY2Fyb3VzZWwiLCJkc2xjX3RhYnMiLCJkc2xjX2luaXRfYWNjb3JkaW9uIiwiYXR0ciIsIlVJIiwic3RvcFNjcm9sbGVyIiwib25BZGQiLCJmcm9tIiwib25VcGRhdGUiLCJvblNvcnQiLCJvblJlbW92ZSIsIm9uRmlsdGVyIiwib25Nb3ZlIiwiZHJhZ2dlZCIsImRyYWdnZWRSZWN0IiwicmVsYXRlZCIsInJlbGF0ZWRSZWN0IiwidG8iLCJldmVudHNJbml0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwidGFyZ2V0IiwibWF0Y2hlcyIsIm1vZGFsV3lzaXd5Z0NhbmNlbCIsIkN1c3RvbUV2ZW50IiwiZGV0YWlsIiwiZGlzcGF0Y2hFdmVudCIsIm1vZGFsV3lzaXd5Z0NvbmZpcm0iLCJtb2R1bGVFZGl0IiwibW9kdWxlRHVwbGljYXRlIiwibW9kdWxlRGVsZXRlIiwibW9kdWxlQ2hhbmdlV2lkdGgiLCJ3eXNpd3lnRWRpdCIsIkVsZW1lbnRzIiwiQWN0aW9ucyIsIkZsYWdzIiwiUHJldmlld0ZyYW1lIiwiUHJvZHVjdGlvbiIsIndpbmRvd1Njcm9sbGVyIiwicGFuZWxPcGVuZWQiLCJ1aUhpZGRlbiIsIm1vZGFsT3BlbiIsImdlbmVyYXRlX2NvZGVfYWZ0ZXJfcm93X2NoYW5nZWQiLCJwb3N0cG9uZWRfYWN0aW9uc19xdWV1ZSIsImFkZF9wb3N0cG9uZWRfYWN0aW9uIiwiYWN0aW9uX25hbWUiLCJpc05hTiIsInJlbGVhc2VfcG9zdHBvbmVkX2FjdGlvbnMiLCJzZWxmIiwib3B0aW9uc0NoYW5nZWQiLCJtb2R1bGVIVE1MIiwiYWZ0ZXJPYmplY3QiLCJuZXdNb2R1bGUiLCJzY3JpcHRzIiwicmVtb3ZlQ2hpbGQiLCJhZnRlciIsInNjcmlwdCIsImFwcGVuZENoaWxkIiwicHJldmlld0FyZWFUaW55TUNFTG9hZGVkIiwid2luZG93T2JqIiwiZml4Q29udGVudGVkaXRhYmxlIiwidGVtcGxhdGVzUGFuZWxJbml0Iiwic2V0dGluZ3NQYW5lbEluaXQiLCJzZWN0aW9uc0luaXQiLCJtYWluRHJhZ2dhYmxlIiwiZXEiLCJDU2VjdGlvbnNDb250YWluZXIiLCJ0cmlnZ2VyIiwia2V5cHJlc3NFdmVudHMiLCJpbml0UHJldmlld0FyZWFTY3JvbGxlciIsIm1vZGFsd2luZG93SW5pdEpTIiwibW9kdWxlSW5pdEpTIiwidW50aWxzSW5pdEpzIiwicHJlc2V0c0luaXQiLCJvbmJlZm9yZXVubG9hZCIsIkNNb2RhbFdpbmRvdyIsInBhcmFtcyIsIm1vZGFsV2luZG93V3JhcCIsInRpdGxlIiwibW9kYWxXaW5kb3dBY3Rpb25zIiwiY29uZmlybSIsImNhbmNlbCIsImNvbmZpcm1fdGl0bGUiLCJjYW5jZWxfdGl0bGUiLCJva190aXRsZSIsImNsaWNrIiwic3RvcFByb3BhZ2F0aW9uIiwidG9wIiwib3BhY2l0eSIsImRzbGNfc2hvd19tb2RhbCIsImhvb2siLCJtb2RhbCIsImhpZGVNb2RhbCIsImNvbnRhaW5lckhlaWdodCIsImhlaWdodCIsIm91dGVySGlkZSIsImNsYmsiLCJwb3NpdGlvbiIsImRpZmYiLCJvdXRlcldpZHRoIiwib2Zmc2V0IiwibGVmdCIsImluc2VydEFmdGVyIiwiZmFkZUluIiwicmVhZHkiLCIkIiwiZHNsY19qc19jb25maXJtIiwiZHNsY0lEIiwiZHNsY1RhcmdldCIsImNvbmZpcm1DbG9zZSIsIkRTTENTdHJpbmciLCJzdHJfY29uZmlybSIsImRzbGNfbW9kYWxfa2V5cHJlc3NfZXZlbnRzIiwid2hpY2giLCJkc2xjQWN0aW9uIiwiZHNsY19tb2R1bGVfb3B0aW9uc19jYW5jZWxfY2hhbmdlcyIsImNsb3NlQXRFbmQiLCJkc2xjX21vZHVsZV9vcHRpb25zX2NvbmZpcm1fY2hhbmdlcyIsImxvY2F0aW9uIiwibW9kdWxlIiwiZHNsY19tb2R1bGVfZGVsZXRlIiwicGFyZW50U2VjdGlvbkNvbnRhaW5lciIsImRzbGNfbW9kdWxlc19hcmVhX2RlbGV0ZSIsImRzbGNfcm93X2RlbGV0ZSIsImRzbGNfcm93X2ltcG9ydCIsImZuIiwidW5iaW5kIiwiYmluZCIsImluQXJyYXkiLCJjbGlja09iaiIsImN1c3RvbUV2ZW50IiwidGlueW1jZSIsImVkaXRvciIsImdldCIsImdldENvbnRlbnQiLCJzaWJsaW5ncyIsImRzbGNBY2NvcmRpb24iLCJkc2xjX2FjY29yZGlvbl9nZW5lcmF0ZV9jb2RlIiwiZHNsY1RhYnMiLCJkc2xjX3RhYnNfZ2VuZXJhdGVfY29kZSIsImFjdGlvbkF2YWlsIiwic2hha2VQYW5lbENvbmZpcm1CdXR0b24iLCJlbENsaWNrZWQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInN0cl9kZWxfbW9kdWxlX3RpdGxlIiwic3RyX2RlbF9tb2R1bGVfZGVzY3IiLCJjdXJyZW50TW9kdWxlRWwiLCJjdXJyZW50TW9kdWxlSWQiLCJlbEVkaXRpbmciLCJyb3dfZWRpdGVkIiwidW5tYXJrTW9kdWxlc0JlaW5nRWRpdGVkIiwiYWRkIiwiZHNsY19tb2R1bGVfb3B0aW9uc19zaG93IiwiYm9keSIsImFkanVzdFppbmRleCIsIm1vdXNlZW50ZXIiLCJtb3VzZWxlYXZlIiwib2xkU2l6ZSIsImRzbGNNb2R1bGVTaXplIiwibmV3U2l6ZSIsInNpemUiLCJOdW1iZXIiLCJkc2xjX21vZHVsZV93aWR0aF9zZXQiLCJpZFRvRWRpdCIsImVkaXRhYmxlRWwiLCJpbmNsdWRlcyIsInNldENvbnRlbnQiLCJmb3JtYXQiLCJlZGl0YWJsZUNvbnRlbnRUZXh0RXZlbnRzIiwiZHNsY1JlYWxJbnB1dCIsInRleHQiLCJzaG93U2VjdGlvbiIsImFuaW1lIiwidGFyZ2V0cyIsImVhc2luZyIsInNjYWxlIiwiZHVyYXRpb24iLCJkZWxheSIsImVuZERlbGF5IiwiY29tcGxldGUiLCJhbmltIiwibW9kdWxlX25ldyIsImNsb25lTm9kZSIsImFwcGVuZFRvIiwiZ2V0TmV3TW9kdWxlSWQiLCJkc2xjX21vZHVsZV9pZCIsImdldF91bmlxdWVfaWQiLCJkc2xjX21vZHVsZV9pZF9vcmlnaW5hbCIsInNldEF0dHJpYnV0ZSIsImlubGluZV9jc3NfZWwiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImlubGluZV9jc3NfY29kZSIsInRleHRDb250ZW50Iiwic3BsaXQiLCJqb2luIiwidXBkYXRlX21vZHVsZV9wcm9wZXJ0eV9yYXciLCJtb2R1bGVFbCIsIm5ld193aWR0aCIsIm5ld0NsYXNzIiwid2FybiIsImRzbGNNb2R1bGVPcHRpb25zIiwiZHNsY0RlZmF1bHRTZWN0aW9uIiwicHNldWRvUGFuZWwiLCJkc2xjU2V0dGluZ3MiLCJkc2xjX3VybF92YXJzIiwiZ2V0X3BhZ2VfcGFyYW1zIiwiZHNsY09wdGlvbiIsImRzbGNPcHRpb25JRCIsImRzbGNPcHRpb25WYWx1ZSIsImhpZGVQdWJsaXNoQnV0dG9uIiwibW9kdWxlQmFja3VwIiwiY2hpbGRyZW4iLCJjbG9uZSIsIm91dHB1dF90YWJzIiwic2VjdGlvbnNVc2VkIiwiY3VycmVudE9wdGlvblNlY3Rpb24iLCJpbmRleE9mIiwidGFic190b3RhbCIsImxvYWRPcHRpb25zRGVwcyIsImNhbGxiYWNrIiwiZHNsY19uZXdfbW9kdWxlIiwibW9kdWxlT3V0cHV0QWx0ZXJlZCIsImRzbGNNb2R1bGVJbnN0YW5jZUlEIiwiRXZlbnQiLCJkc2xjX21vZHVsZV9vdXRwdXRfcmVsb2FkIiwiZHNsY19kbV9nZXRfZGVmYXVsdHMiLCJvcHRpb25zQ29kZSIsImRzbGNfbW9kdWxlc19vcHRpb25zIiwiZHNsY19jb3B5X21vZHVsZSIsImRzbGNfZGlzcGxheV9tb2R1bGVfb3B0aW9ucyIsImRzbGNfcHJldmlld19jaGFuZ2UiLCJkc2xjX3JlbG9hZF9tb2R1bGUiLCJNb2R1bGVBcmVhIiwiZWxlbSIsInNlY3Rpb24iLCJvYnNlcnZlciIsIm1xTXV0YXRpb25PYnNlcnZlciIsImNoaWxkTGlzdCIsInNvcnRhYmxlIiwiZ2hvc3RDbGFzcyIsImRzbGNfbW9kdWxlc19hcmVhX2FkZCIsIm9wdGlvbiIsImluaXRfc29ydGFibGVzIiwiYWRkU2VjdGlvbiIsImRzbGNfY29weV9tb2R1bGVzX2FyZWEiLCJtb2R1bGVzQXJlYUVtcHR5Iiwic3RyX2RlbF9hcmVhX3RpdGxlIiwic3RyX2RlbF9hcmVhX2Rlc2NyIiwiZHNsY19kZWxldGVfbW9kdWxlc19hcmVhIiwibW9kdWxlQXJlYUpRIiwiZHNsY19tb2R1bGVzX2FyZWFfd2lkdGhfc2V0Iiwicm93IiwiZW1wdHlNb2R1bGVBcmVhcyIsImFyZWEiLCJkc2xjRGVsZXRlU2VjdGlvblRvbyIsIm1hcmdpbkJvdHRvbSIsImRzbGNfbW9kdWxlc19hcmVhX2NvcHkiLCJkc2xjX21vZHVsZUlEIiwiZHNsY19tb2R1bGVzQXJlYUNsb25lZCIsIm5ld1dpZHRoIiwibW9kdWxlYXJlYXNJbml0SlMiLCJkc2xjX2FkZF9tb2R1bGVzX2FyZWEiLCJ1cGRhdGVQcmVzZXQiLCJwcmVzZXROYW1lIiwicHJlc2V0Q29kZSIsImRzbGNfcHJlc2V0X25hbWUiLCJkc2xjX3ByZXNldF9jb2RlIiwicHJlc2V0X3NldHRpbmciLCJwcmVzZXRJRCIsInRvTG93ZXJDYXNlIiwic2Nyb2xsZXJQbHVnaW4iLCJjb250YWluZXIiLCJkZWx0YUtvZWYiLCJpbmNyZW1lbnQiLCJzY3JvbGxpbmMiLCJzY3JvbGxlciIsInNjcm9sbElubmVyIiwic2Nyb2xsX3RvIiwib3JpZ2luYWxFdmVudCIsImRlbHRhWSIsImRlbHRhWCIsImRlbHRhIiwibGlzdFdpZHRoIiwid2lkdGgiLCJjb250ZW50V2lkdGgiLCJzY3JvbGxNYXgiLCJzdHlsZSIsInJlc2l6ZSIsInB4SW5UaWsiLCJ0aW1lclRpayIsInB1Ymxpc2giLCJzZXRJbnRlcnZhbCIsInNjcm9sbEJ5IiwiY2xlYXJJbnRlcnZhbCIsIlNlY3Rpb24iLCJzb3J0YWJsZUNvbnRhaW5lciIsImluaXRTb3J0YWJsZSIsImluaXREcm9wYWJsZSIsInJlYWN0VG9Tb3J0YWJsZU9uT2ZmIiwiZHJvcHBhYmxlIiwiZHJvcCIsInVpIiwiY29ubmVjdFdpdGgiLCJpdGVtcyIsInBsYWNlaG9sZGVyIiwiY3Vyc29yQXQiLCJ0b2xlcmFuY2UiLCJvdmVyIiwiZHNsY1NlY3Rpb24iLCJ1cGRhdGUiLCJzdGFydCIsInN0cl9hcmVhX2hlbHBlcl90ZXh0IiwibWFyZ2luIiwic3RvcCIsImNoYW5nZSIsInNlY3Rpb25zRXZlbnRzSW5pdCIsInN0cl9kZWxfcm93X3RpdGxlIiwic3RyX2RlbF9yb3dfZGVzY3IiLCJzdHJfaW1wb3J0X3Jvd190aXRsZSIsInN0cl9pbXBvcnRfcm93X2Rlc2NyIiwic3RyX2ltcG9ydCIsInN0cl9vayIsInN0cl9leHBvcnRfcm93X3RpdGxlIiwic3RyX2V4cG9ydF9yb3dfZGVzY3IiLCJkc2xjX3Jvd19jb3B5IiwiYnV0dG9uIiwibW9kdWxlX2VkaXRlZCIsImRzbGNfcm93X2VkaXQiLCJkZWZlciIsIkRlZmVycmVkIiwiYnJvd3NlckNhY2hlVG1wIiwic2Vzc2lvblN0b3JhZ2UiLCJuZXdSb3ciLCJjYWNoZWRBamF4UmVxdWVzdCIsImdldEl0ZW0iLCJjdXJyZW50X3ZhbHVlIiwiY2FjaGVfY3VyZW50X3ZhbHVlIiwiRFNMQ01haW5PcHRpb25zIiwic2VjdGlvbl9wYWRkaW5nX3ZlcnRpY2FsIiwicmVtb3ZlSXRlbSIsInNldEl0ZW0iLCJkc2xjX3Jvd19hZnRlcl9hZGQiLCJuZXdSb3dIVE1MIiwiZHNsY01vZHVsZXNTZWN0aW9uT3B0cyIsImRzbGNWYWwiLCJwcm9wIiwiX3RoaXMiLCJkc2xjUGFyZW50IiwiZHNsY19yb3dfZWRpdF9jYW5jZWwiLCJkc2xjX3Jvd19lZGl0X2NvbmZpcm0iLCJkc2xjTW9kdWxlc1NlY3Rpb25DbG9uZWQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJkc2xjSW5kZXgiLCJzZWN0aW9uc0luaXRKUyIsImRzbGNfc2VjdGlvbl9uZXdfaWQiLCJkc2xjX3NlY3Rpb25faWQiLCJ1cGRhdGVfc2VjdGlvbl9wcm9wZXJ0eV9yYXciLCJyb3dDb2RlIiwiZHNsY19tb2R1bGVzX3NlY3Rpb25fY29kZSIsImRzbGNfYmdfdmlkZW8iLCJkc2xjX2FkZF9tb2R1bGVzX3NlY3Rpb24iLCJkc2xjX2RlbGV0ZV9tb2R1bGVzX3NlY3Rpb24iLCJkc2xjX2VkaXRfbW9kdWxlc19zZWN0aW9uIiwiZHNsY19jb3B5X21vZHVsZXNfc2VjdGlvbiIsImRzbGNfaW1wb3J0X21vZHVsZXNfc2VjdGlvbiIsInJlbW92ZUF0dHIiLCJkc2xjX3Jlc3BvbnNpdmVfY2xhc3NlcyIsImJvdHRvbSIsImF4aXMiLCJzdHJfcm93X2hlbHBlcl90ZXh0IiwiZHNsY1JlZ3VsYXJGb250c0FycmF5IiwiRFNMQ0ZvbnRzIiwicmVndWxhciIsImRzbGNHb29nbGVGb250c0FycmF5IiwiZ29vZ2xlIiwiZHNsY0FsbEZvbnRzQXJyYXkiLCJjb25jYXQiLCJkc2xjSWNvbnNDdXJyZW50U2V0IiwiRFNMQ0ljb25zIiwiZm9udGF3ZXNvbWUiLCJkc2xjX21vZHVsZV9vcHRpb25zX3Rvb2x0aXAiLCJkc2xjX21vZHVsZV9vcHRpb25zX2ZvbnQiLCJkc2xjX21vZHVsZV9vcHRpb25zX2ljb24iLCJkc2xjX21vZHVsZV9vcHRpb25zX2ljb25fcmV0dXJuaWQiLCJkc2xjX21vZHVsZV9vcHRpb25zX3RleHRfYWxpZ24iLCJkc2xjX21vZHVsZV9vcHRpb25zX2NoZWNrYm94IiwiZHNsY19tb2R1bGVfb3B0aW9uc19ib3hfc2hhZG93IiwiZHNsY19tb2R1bGVfb3B0aW9uc190ZXh0X3NoYWRvdyIsImRzbGNhX29wdGlvbnNfd2l0aF9jb2xvcnBpY2tlciIsImRzbGNfbW9kdWxlX29wdGlvbnNfY29sb3IiLCJ3cmFwcGVyIiwib3B0aW9uc1BhbmVsIiwiY29sb3JwaWNrZXIiLCJvZmZzZXRQb3B1cCIsIndpbmRvV2lkdGgiLCJpbm5lcldpZHRoIiwicG9wdXBXaWR0aCIsImRzbGNfbW9kdWxlX29wdGlvbnNfbnVtZXJpYyIsInN1Ym1pdCIsImVsZW1lbnRPcHRpb25zVGFicyIsImRzbGNQcmV2IiwiY3VycmVudFNlY3Rpb24iLCJkc2xjX21vZHVsZV9vcHRpb25zX3NlY3Rpb25fZmlsdGVyIiwicmVzaXphYmxlIiwidW5sb2FkT3B0aW9uc0RlcHMiLCJkc2xjX2Rpc2FibGVfcmVzcG9uc2l2ZV92aWV3IiwiY29sb3JwaWNrZXJzIiwiY2xlYXJVdGlscyIsImNsZWFyQ29sb3JQaWNrZXJzIiwiaXNBcnJheSIsIm9mZiIsImRlcHNIYW5kbGVycyIsInBhcnNlZCIsImRlcCIsImI2NF90b191dGY4IiwiaGFuZGxlciIsIm9wdEVsZW0iLCJsb2NhbERlcCIsIk9iamVjdCIsImtleXMiLCJvcHRfdmFsIiwib3B0X3dyYXAiLCJjaGVja2VkQ2hlY2tib3giLCJpcyIsInNlY3Rpb25fdGFiIiwibm90IiwicHJvY2Vzc0lubGluZVN0eWxlVGFnIiwicmVzcF9wcmVmaXgiLCJyZXNwX3Bvc3RmaXgiLCJjb250ZXh0Iiwic3R5bGVDb250ZW50IiwicnVsZSIsImVsZW1zIiwic3R5bGVUYWciLCJjbGFzc05hbWUiLCJvbk1vZHVsZU9wdGlvbnNDaGFuZ2UiLCJvblNlY3Rpb25PcHRpb25zQ2hhbmdlIiwib25GaWxlVXBsb2FkT3B0aW9uc0NoYW5nZSIsImRzbGNPcHRpb25WYWx1ZU9yaWciLCJkc2xjT3B0aW9uV3JhcCIsImRzbGNNb2R1bGVJRCIsImRzbGNfbW9kdWxlX29wdGlvbnNfaGlkZXNob3dfdGFicyIsImRzbGNPcHRpb25DaG9pY2VzIiwiZHNsY1NsaWRlckVsIiwibW9kdWxlSWQiLCJvcHRpb25JRCIsIm9wdGlvblZhbCIsImRzbGNGb250c1RvTG9hZCIsImRzbGNBZmZlY3RPbkNoYW5nZUVsIiwiZHNsY0FmZmVjdE9uQ2hhbmdlUnVsZSIsImRzbGNBZmZlY3RPbkNoYW5nZVZhbCIsImRzbGNBZmZlY3RPbkNoYW5nZVZhbE9yaWciLCJjb250ZW50V2luZG93IiwiV2ViRm9udCIsImZhbWlsaWVzIiwiYWN0aXZlIiwiZmFtaWx5TmFtZSIsImZ2ZCIsImluYWN0aXZlIiwiZHNsY0V4dCIsImRzbGNPcHRpb25Ub0FwcGx5IiwiZHNsY0VsIiwiZHNsY01vZHVsZXNTZWN0aW9uIiwiZHNsY1ZhbFJlYWwiLCJkc2xjVmFsRXh0IiwiZHNsY1J1bGUiLCJkc2xjU2V0dGluZyIsImRzbGNUYXJnZXRFbCIsImRzbGNJbWdVUkwiLCJkc2xjQm9yZGVyU3R5bGUiLCJkc2xjQ2hlY2JveGVzV3JhcCIsImNoZWNrYm94ZXMiLCJjaGVja2JveGVzVmFsIiwiZHNsY19wYXJhbGxheCIsImRzbGNWaWRlb1ZhbCIsImRzbGNUaHVtYlVSTCIsImRzbGNWYWxUb0FwcGx5IiwiZmlsZV9mcmFtZSIsImZpZWxkIiwicmVtb3ZlSG9vayIsIm11bHRpcGxlIiwid3AiLCJtZWRpYSIsImZyYW1lcyIsImF0dGFjaG1lbnQiLCJzdGF0ZSIsImZpcnN0IiwidG9KU09OIiwiZGF0YUlkIiwicGFyZW50IiwiYWx0Iiwib3BlbiIsImFkZEhvb2siLCJzZWN0aW9uSUQiLCJkc2xjVGFiIiwiZHNsY1NlY3Rpb25JRCIsImRzbGNUYWJJRCIsInN0cl9yZXNfdGFibGV0Iiwic3RyX3Jlc19waG9uZSIsInRvdGFsV2lkdGhPcHRpb24iLCJ0b3RhbFdpZHRoR3JvdXAiLCJ0b3RhbFdpZHRoIiwiZHNsY0NvbnRhaW5lciIsImRzbGNIZWFkaW5nIiwiZHNsY0ZpbHRlcnMiLCJkc2xjQ2FyQXJyb3dzIiwiZHNsY0NhckNpcmNsZXMiLCJkc2xjUGFnaW5hdGlvbiIsImRzbGNFbFRodW1iIiwiZHNsY0VsVGl0bGUiLCJkc2xjRWxFeGNlcnB0IiwiZHNsY0VsTWV0YSIsImRzbGNFbEJ1dHRvbiIsImRzbGNFbENhdHMiLCJkc2xjRWxDb3VudCIsImRzbGNFbFNlcGFyYXRvciIsImRzbGNFbFRhZ3MiLCJkc2xjRWxTb2NpYWwiLCJkc2xjRWxQb3NpdGlvbiIsImRzbGNFbEljb24iLCJkc2xjRWxDb250ZW50IiwiZHNsY0VsUHJpY2UiLCJkc2xjRWxQcmljZVNlYyIsImRzbGNFbEFkZENhcnQiLCJkc2xjRWxEZXRhaWxzIiwiZHNsY0VsUXVvdGUiLCJkc2xjRWxBdXRob3JOYW1lIiwiZHNsY0VsQXV0aG9yUG9zIiwiZHNsY0VsSW1hZ2UiLCJkc2xjRWxMb2dvIiwiZHNsY0N1c3RvbUNTUyIsImRzbGNDdXN0b21DU1NWYWwiLCJkYXRhX3RhYiIsImVkaXRlZE1vZHVsZSIsImRzbGNUdGlwIiwiZHNsY1R0aXBJbm5lciIsImRzbGNIb29rIiwiZHNsY1R0aXBDb250ZW50IiwiZHNsY0xhYmVsIiwiZHNsY09mZnNldCIsImRzbGNUdGlwSGVpZ2h0Iiwib3V0ZXJIZWlnaHQiLCJkc2xjVHRpcFdpZHRoIiwiZHNsY1R0aXBMZWZ0IiwiZHNsY1R0aXBBcnJMZWZ0IiwiZHNsY0N1cnJJbmRleCIsImRzbGNOZXdJbmRleCIsImRzbGNNYXRjaGluZ0ZvbnQiLCJkc2xjRm9udCIsInNlYXJjaCIsInJlIiwiUmVnRXhwIiwiZHNsY0ZvbnRzQW1vdW50IiwidGVzdCIsInN1YnN0cmluZyIsImRzbGNfbGlzdF9pY29uIiwib2JqZWN0IiwiZGlyZWN0aW9uIiwiZHNsY0ljb25zQXJyYXlHcmVwIiwiZHNsY0ljb24iLCJncmVwIiwic2VsZWN0ZWRJY29uQ29kZSIsIm5ld09wdCIsIm90aGVyT3B0IiwibmV3VmFsIiwicmVhbE9wdCIsImNoZWNrRmFrZSIsImNoZWNrUmVhbCIsImJveFNoYWRvd1dyYXBwZXIiLCJib3hTaGFkb3dJbnB1dCIsImJveFNoYWRvd0hvciIsImJveFNoYWRvd1ZlciIsImJveFNoYWRvd0JsdXIiLCJib3hTaGFkb3dTcHJlYWQiLCJib3hTaGFkb3dDb2xvciIsImJveFNoYWRvd0luc2V0IiwiYm94U2hhZG93VmFsIiwidGV4dFNoYWRvd1dyYXBwZXIiLCJ0ZXh0U2hhZG93SW5wdXQiLCJ0ZXh0U2hhZG93SG9yIiwidGV4dFNoYWRvd1ZlciIsInRleHRTaGFkb3dCbHVyIiwidGV4dFNoYWRvd0NvbG9yIiwidGV4dFNoYWRvd1ZhbCIsImRzbGNDb2xvckZpZWxkIiwiZHNsY0NvbG9yRmllbGRWYWwiLCJkc2xjQ3VyckNvbG9yIiwiZHNsY0NvbG9yUGFsbGV0ZSIsImN1cnJTdG9yYWdlIiwicGFsbGV0ZUN1cnJlbnREb21tYWluIiwiZG9tYWluIiwibG9jYWxTdG9yYWdlIiwicXVlcnkiLCJpbnB1dCIsIndwQ29sb3JQaWNrZXIiLCJtb2RlIiwicGFsZXR0ZXMiLCJjb2xvciIsImNvbG9yUGlja2VyUG9wdXAiLCJhcHBseSIsIm5ld1N0b3JhZ2UiLCJ1bnNoaWZ0IiwicG9wIiwiZmllbGRXcmFwcGVyIiwiY29udHJvbFdyYXBwZXIiLCJ3b3JraW5nV2l0aE1vZHVsZSIsInNsaWRlcklucHV0Iiwic2xpZGVyRXh0Iiwic2xpZGVyQ29udHJvbCIsImN1cnJlbnRWYWwiLCJwYXJzZUZsb2F0IiwibWF4IiwibWluIiwiaW5jIiwibWF4X29yaWciLCJtaW5fb3JpZyIsIm9ubHlwb3NpdGl2ZSIsInNsaWRlciIsInN0ZXAiLCJzbGlkZSIsInNoaWZ0S2V5Iiwia2V5Q29kZSIsImNoYXJDb2RlIiwiY29udGFpbmVyV3JhcHBlciIsImN1cnJlbnRTbGlkZXJJbnN0YW5jZSIsImRzbGNfZmlsdGVyX21vZHVsZV9vcHRpb25zIiwiZHNsY19jb25maXJtX2NoYW5nZXMiLCJkc2xjX2NhbmNlbF9jaGFuZ2VzIiwiZHNsY19pbml0X2NvbG9ycGlja2VyIiwiZHNsY19pbml0X29wdGlvbnNfc2xpZGVyIiwiZHNsY19tb2R1bGVfZWRpdF9vcHRpb25zX2hpZGVzaG93X3RhYnMiLCJsb2FkVGVtcGxhdGVCeUlkIiwidGVtcGxhdGUiLCJwcmVwZW5kIiwiYmxvY2siLCJkc2xjX3RlbXBsYXRlX2lkIiwiZHNsY190ZW1wbGF0ZV9pbXBvcnQiLCJkc2xjX3RlbXBsYXRlX2NvZGUiLCJkc2xjX3RlbXBsYXRlX3NhdmUiLCJkc2xjX3RlbXBsYXRlX3RpdGxlIiwiZHNsY190ZW1wbGF0ZV9kZWxldGUiLCJkc2xjX2ltcG9ydF90ZW1wbGF0ZSIsImRzbGNfc2F2ZV90ZW1wbGF0ZSIsImRzbGNfZGVsZXRlX3RlbXBsYXRlIiwidGVtcGxhdGVJdGVtIiwiZWxlbWVudCIsImltcG9ydEJ1dHRvbiIsIm9uZXJyb3IiLCJlcnJvciIsImZpbGUiLCJsaW5lIiwiY2hhciIsImRzbGNhX2dlbmVyYXRlX2Vycm9yX3JlcG9ydCIsImVycm9yc19jb250YWluZXIiLCJkc2xjYV91cGRhdGVfcmVwb3J0X2xvZyIsImFjdGl2ZUVsZW1lbnQiLCJuZXdPZmZzZXQiLCJvdXRsaW5lQ29sb3IiLCJjYWxsYmFja3MiLCJzY3JvbGxUb3AiLCJrZXlwcmVzcyIsIm1ldGFLZXkiLCJjdHJsS2V5IiwiZHNsY19hamF4X3NhdmVfY29tcG9zZXIiLCJkc2xjX2hpZGVfY29tcG9zZXIiLCJkc2xjX3Nob3dfY29tcG9zZXIiLCJzZWN0aW9uVGl0bGUiLCJyZWRpcmVjdF91cmwiLCJzdHJfZXhpdF90aXRsZSIsInN0cl9leGl0X2Rlc2NyIiwiZHNsY19nZW5lcmF0ZV9maWx0ZXJzIiwic2xpZGVUb2dnbGUiLCJvcmlnaW4iLCJkc2xjX2ZpbHRlcl9vcmlnaW4iLCJuZXdDb2xvciIsImZpbHRlcnMiLCJmaWx0ZXJzSFRNTCIsImVscyIsImRzbGNfdG9vZ2xlX2NvbnRyb2wiLCJjb250cm9sX2lkIiwiY29udHJvbCIsImNvbnRyb2xfc3RvcmFnZSIsIm1vZHVsZV9pZCIsInJlc3BvbnNpdmVfcHJlZml4IiwiYWZmZWN0X29uX2NoYW5nZV9lbCIsImFmZmVjdF9vbl9jaGFuZ2VfZWxtdHMiLCJhZmZlY3Rfb25fY2hhbmdlX3J1bGUiLCJhZmZlY3Rfb25fY2hhbmdlX3J1bGVzIiwiY29udHJvbF92YWx1ZSIsImNvbnRyb2xfZGF0YV9leHQiLCJ0b2dnbGVDbGFzcyIsImRzbGNfZ2V0X2NvbnRyb2xfdmFsdWUiLCJkaXNhYmxlX2Nzc19ydWxlIiwiZHNsY19jb21iaW5lX3ZhbHVlX2FuZF9leHRlbnNpb24iLCJ0b2dnbGUiLCJoYXMiLCJzZWxlY3RvckNTUyIsInJ1bGVDU1MiLCJjc3NSdWxlcyIsInRhcmdldF9zdHlsc2hlZXRfSUQiLCJzdHlsZXNoZWV0Iiwic2hlZXQiLCJSIiwic2VsZWN0b3JUZXh0IiwiZXh0ZW5zaW9uIiwiY29udHJvbF90eXBlIiwia2V5ZG93bl9ldmVudCIsImRzbGNfZGlzYWJsZV9iYWNrc3BhY2VfbmF2aWdhdGlvbiIsImRzbGNfbm90aWNlX29uX3JlZnJlc2giLCJkc2xjX3NhdmVfcGFnZSIsImRvUHJldmVudCIsImQiLCJzcmNFbGVtZW50IiwidGFnTmFtZSIsInRvVXBwZXJDYXNlIiwicmVhZE9ubHkiLCJkaXNhYmxlZCIsIm9mZnNldFBhcmVudCIsInN0cl9yZWZyZXNoX3RpdGxlIiwic3RyX3JlZnJlc2hfZGVzY3IiLCJyZWxvYWQiLCJtYXRjaCIsImVycm9yX3JlcG9ydCIsIlN0b3JhZ2UiLCJoZWFkZXJGb290ZXIiLCJvdmVybGF5IiwibGlua1RvRWRpdCIsImhmVHlwZSIsImVkaXRpbmdMYWJlbCIsImVkaXRpbmdTdWJMYWJlbCIsImh0bWxPYmplY3QiLCJhZGRzbGFzaGVzIiwic3RyIiwiYmFzZW5hbWUiLCJwYXRoIiwidWEiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJtc2llIiwiY2hlY2tQYXJhbXMiLCJhcnJheSIsInR5cGVzIiwiaW50ZWdlciIsInBhcmFtIiwiZmxvYXQiLCJzdHJpbmciLCJtYXAiLCJ1dGY4X3RvX2I2NCIsInQiLCJidG9hIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJkZWNvZGVVUklDb21wb25lbnQiLCJlc2NhcGUiLCJhdG9iIiwicmVkdWNlIiwiX3JlZHVjZSIsImEiLCJiIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwicHJvcGVydHlfbmFtZSIsInByb3BlcnR5X3ZhbHVlIiwibW9kdWxlX2NvZGVfY29udGFpbmVyIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInByb3BlcnR5X2NvbnRhaW5lciIsIm1vZHVsZV9jb2RlIiwic2VjdGlvbl9jb2RlX2NvbnRhaW5lciIsInNlY3Rpb25fY29kZSIsImV2ZW50TmFtZSIsImV2ZW50RGF0YSIsIm1lc3NhZ2UiLCJkZXRhaWxzIiwiZHNsY2FfcHVibGlzaF9ldmVudCJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0RBQTBDLGdDQUFnQztBQUMxRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdFQUF3RCxrQkFBa0I7QUFDMUU7QUFDQSx5REFBaUQsY0FBYztBQUMvRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQXlDLGlDQUFpQztBQUMxRSx3SEFBZ0gsbUJBQW1CLEVBQUU7QUFDckk7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBMkIsMEJBQTBCLEVBQUU7QUFDdkQseUNBQWlDLGVBQWU7QUFDaEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0EsOERBQXNELCtEQUErRDs7QUFFckg7QUFDQTs7O0FBR0E7QUFDQTs7Ozs7Ozs7Ozs7OztBQ2xGQTtB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QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxzQ0FBc0M7O0FBRXRDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsK0JBQStCOztBQUUvQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7OztBQUdUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qjs7QUFFeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsK0NBQStDOztBQUUvQztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qzs7QUFFekM7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQzs7QUFFL0M7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRUFBb0U7O0FBRXBFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0NBQXdDOztBQUV4QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUZBQW1GO0FBQ25GO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkIsWUFBWSxPQUFPO0FBQ25CLFlBQVksWUFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOzs7QUFHRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCLFlBQVksT0FBTztBQUNuQjs7O0FBR0E7QUFDQTtBQUNBLGlFQUFpRTtBQUNqRTs7QUFFQSxlQUFlOztBQUVmLHNDQUFzQyxXQUFXOztBQUVqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esc0RBQXNEOztBQUV0RDtBQUNBO0FBQ0E7O0FBRUEseUJBQXlCOzs7QUFHekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwwQkFBMEI7O0FBRTFCLGlGQUFpRjs7QUFFakY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLCtCQUErQjs7O0FBRy9CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGFBQWE7QUFDYixLQUFLOzs7QUFHTDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7OztBQUdMO0FBQ0EseURBQXlEOztBQUV6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxlQUFlO0FBQ2Y7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7O0FBR0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7OztBQUdULDRDQUE0Qzs7O0FBRzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxFQUFFOzs7QUFHWDtBQUNBLFFBQVE7OztBQUdSO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRDs7QUFFdEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU8sRUFBRTs7QUFFVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBOztBQUVBLGlDQUFpQzs7QUFFakM7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDOztBQUV0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEhBQTBIOztBQUUxSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQzs7QUFFakM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEtBQUs7OztBQUdMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCw4REFBOEQ7O0FBRTlEO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQ0FBa0M7O0FBRWxDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQLEtBQUs7OztBQUdMO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7O0FBR0w7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7OztBQUdUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7O0FBR1A7QUFDQTtBQUNBLE9BQU87OztBQUdQO0FBQ0EsZ0VBQWdFOzs7QUFHaEU7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7O0FBR0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBCQUEwQjs7QUFFMUI7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7O0FBR1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7O0FBRXhCO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7OztBQUdUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsV0FBVzs7O0FBR1g7QUFDQTtBQUNBOztBQUVBLHVDQUF1QztBQUN2Qzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjs7QUFFL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLEVBQUU7O0FBRVA7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSx1Q0FBdUM7OztBQUd2QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSx5Q0FBeUM7QUFDekM7O0FBRUE7QUFDQTtBQUNBOztBQUVBLDZEQUE2RDs7QUFFN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsRUFBRTs7O0FBR2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsRUFBRTs7O0FBR2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlOztBQUVmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFOzs7QUFHYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxVQUFVLE9BQU87QUFDakI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxjQUFjLFNBQVM7QUFDdkI7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxlQUFlLFlBQVk7QUFDM0IsZUFBZSxPQUFPO0FBQ3RCLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsZUFBZSxFQUFFO0FBQ2pCLGVBQWU7QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7OztBQUdMO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EseUNBQXlDOztBQUV6QztBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksWUFBWTtBQUN4QixZQUFZLE9BQU87QUFDbkI7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxZQUFZO0FBQ3pCLGFBQWE7QUFDYjtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUU7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLG1DQUFtQztBQUMvQzs7QUFFQTtBQUNBLHdFQUF3RSxhQUFhO0FBQ3JGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EscUZBQXFGO0FBQ3JGOztBQUVBLHVEQUF1RDtBQUN2RDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxXQUFXLFlBQVk7QUFDdkIsV0FBVyxPQUFPO0FBQ2xCOzs7QUFHQTtBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzREFBc0Q7O0FBRXREOztBQUVBO0FBQ0EsMEVBQTBFOztBQUUxRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjs7QUFFckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHFCQUFxQixnQkFBZ0I7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQ7O0FBRXJEOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSCxpQ0FBaUM7QUFDakMsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0IsK0JBQStCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPLEVBQUU7O0FBRVQ7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7OztBQUdUO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrQkFBK0I7O0FBRS9CO0FB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QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCLFlBQVksWUFBWTtBQUN4Qjs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVlLHVFQUFRLEVBQUM7QUFDOEMiLCJmaWxlIjoiZWRpdG9yX2JhY2tlbmQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9qcy9zcmMvZWRpdG9yL2JhY2tlbmQvaW5kZXguanNcIik7XG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKlxuICogPSBDT0RFIEdFTkVSQVRJT04gPVxuICpcbiAqIC0gZHNsY19zYXZlX2NvbXBvc2VyICggU2F2ZSB0aGUgUGFnZSBDaGFuZ2VzIClcbiAqIC0gZHNsY19zYXZlX2RyYWZ0X2NvbXBvc2VyICggU2F2ZSB0aGUgY2hhbmdlcyBhcyBkcmFmdCwgbm90IHB1Ymxpc2ggKVxuICogLSBkc2xjX2dlbmVyYXRlX2NvZGUgKCBHZW5lcmF0ZXMgUGFnZSdzIExDIGRhdGEgKVxuICogLSBnZW5lcmF0ZVNlY3Rpb25Db2RlICggR2VuZXJhdGUgTEMgZGF0YSBmb3IgYSBzcGVjaWZpYyByb3cvc2VjdGlvbiApXG4gKiAtIGRzbGNhX2dlbl9jb250ZW50X2Zvcl9zZWFyY2ggKCBHZW5lcmF0ZSBSZWFkYWJsZSBDb250ZW50IEZvciBTZWFyY2ggKVxuICpcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENPREUgR0VORVJBVElPTiAtIFNhdmUgUGFnZSBDaGFuZ2VzXG4gKi9cbmZ1bmN0aW9uIGRzbGNfc2F2ZV9jb21wb3NlcigpIHtcblxuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2RzbGNfc2F2ZV9jb21wb3NlcicgKTtcblxuXHQvKipcblx0ICogQmVmb3JlIHNhdmluZyBjb2RlIHZpYSBhamF4XG5cdCAqIHJlZnJlc2ggdGhlIHBhZ2Ugc291cmNlIGluIGEgaGlkZGVuICNkc2xjYS1jb2RlXG5cdCAqL1xuXHR3aW5kb3cuZHNsY19nZW5lcmF0ZV9jb2RlKCk7XG5cblx0Ly8gR2VuZXJhdGUgY29udGVudCBmb3Igc2VhcmNoXG5cdGRzbGNhX2dlbl9jb250ZW50X2Zvcl9zZWFyY2goKTtcblxuXHQvLyBWYXJzXG5cdHZhciBjb21wb3NlckNvZGUgPSBqUXVlcnkoJyNkc2xjYS1jb2RlJykudmFsKCksXG5cdGNvbnRlbnRGb3JTZWFyY2ggPSBqUXVlcnkoJyNkc2xjYS1jb250ZW50LWZvci1zZWFyY2gnKS52YWwoKSxcblx0cG9zdElEID0galF1ZXJ5KCcuZHNsY2EtY29udGFpbmVyJykuZGF0YSgncG9zdC1pZCcpO1xuXG5cdC8vIEFwcGx5IGNsYXNzIHRvIGJvZHkgdG8ga25vdyBzYXZpbmcgaXMgaW4gcHJvZ3Jlc3Ncblx0alF1ZXJ5KCdib2R5JykuYWRkQ2xhc3MoJ2RzbGNhLXNhdmluZy1pbi1wcm9ncmVzcycpO1xuXG5cdC8vIFJlcGxhY2UgdGhlIGNoZWNrIGluIHB1Ymxpc2ggYnV0dG9uIHdpdGggYSBsb2FkaW5nIGFuaW1hdGlvblxuXHRqUXVlcnkoJy5kc2xjYS1zYXZlLWNvbXBvc2VyIC5kc2xjYS1pY29uJykucmVtb3ZlQ2xhc3MoJ2RzbGMtaWNvbi1vaycpLmFkZENsYXNzKCdkc2xjLWljb24tc3BpbiBkc2xjLWljb24tc3Bpbm5lcicpO1xuXG5cdC8vIEFqYXggY2FsbCB0byBzYXZlIHRoZSBuZXcgY29udGVudFxuXHRqUXVlcnkuYWpheCh7XG5cdFx0bWV0aG9kOiAnUE9TVCcsXG5cdFx0dHlwZTogJ1BPU1QnLFxuXHRcdHVybDogRFNMQ0FqYXguYWpheHVybCxcblx0XHRkYXRhOiB7XG5cdFx0XHRhY3Rpb24gOiAnZHNsYy1hamF4LXNhdmUtY29tcG9zZXInLFxuXHRcdFx0ZHNsYyA6ICdhY3RpdmUnLFxuXHRcdFx0ZHNsY19wb3N0X2lkIDogcG9zdElELFxuXHRcdFx0ZHNsY19jb2RlIDogY29tcG9zZXJDb2RlLFxuXHRcdFx0ZHNsY19jb250ZW50X2Zvcl9zZWFyY2ggOiBjb250ZW50Rm9yU2VhcmNoXG5cdFx0fSxcblx0XHR0aW1lb3V0OiAzMDAwMFxuXHR9KS5kb25lKGZ1bmN0aW9uKCByZXNwb25zZSApIHtcblxuXHRcdC8vIE9uIHN1Y2Nlc3MgaGlkZSB0aGUgcHVibGlzaCBidXR0b25cblx0XHRpZiAoIHJlc3BvbnNlLnN0YXR1cyA9PSAnc3VjY2VzcycgKSB7XG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1zYXZlLWNvbXBvc2VyJykuZmFkZU91dCgyNTApO1xuXHRcdFx0alF1ZXJ5KCcuZHNsY2Etc2F2ZS1kcmFmdC1jb21wb3NlcicpLmZhZGVPdXQoMjUwKTtcblxuXHRcdFx0Ly8gQ3JlYXRlIG5ldyBjYWNoZSB2ZXJzaW9uIGFmdGVyIGl0J3Mgc2F2ZWQuXG5cdFx0XHRqUXVlcnkoJ2JvZHknKS5hcHBlbmQoICc8aWZyYW1lIGNsYXNzPVwibGJtbi1jYWNoZS1pZnJhbWVcIiBpZD1cImxibW4tY2FjaGUtaWZyYW1lLScgKyBwb3N0SUQgKyAnXCIgc3JjPVwiJysgRFNMQ1NpdGVEYXRhLnNpdGV1cmwgKyAnLz9wPScgKyBwb3N0SUQgKydcIiA+PC9pZnJhbWU+JyApO1xuXG5cdFx0XHRqUXVlcnkoJy5sYm1uLWNhY2hlLWlmcmFtZScpLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsKSB7XG5cdFx0XHRcdGpRdWVyeShlbCkubG9hZChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRqUXVlcnkoZWwpLnJlbW92ZSgpO1xuXHRcdFx0XHRcdC8vIENhY2hlIGJ1aWx0IGF0IHRoaXMgcG9pbnQuIFJlbW92ZSBpZnJhbWUuXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cblx0XHQvLyBPbiBmYWlsIHNob3cgYW4gYWxlcnQgbWVzc2FnZVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRhbGVydCggJ1NvbWV0aGluZyB3ZW50IHdyb25nLCBwbGVhc2UgdHJ5IHRvIHNhdmUgYWdhaW4uIEFyZSB5b3Ugc3VyZSB0byBtYWtlIGFueSBjaGFuZ2VzPyBFcnJvciBDb2RlOiAnICsgcmVzcG9uc2Uuc3RhdHVzKTtcblx0XHR9XG5cdH0pLmZhaWwoZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuXG5cdFx0aWYgKCByZXNwb25zZS5zdGF0dXNUZXh0ID09ICd0aW1lb3V0JyApIHtcblx0XHRcdGFsZXJ0KCAnVGhlIHJlcXVlc3QgdGltZWQgb3V0IGFmdGVyIDMwIHNlY29uZHMuIFNlcnZlciBkbyBub3QgcmVzcG9uZCBpbiB0aW1lLiBQbGVhc2UgdHJ5IGFnYWluLicgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YWxlcnQoICdTb21ldGhpbmcgd2VudCB3cm9uZy4gUGxlYXNlIHRyeSBhZ2Fpbi4gRXJyb3IgQ29kZTogJyArIHJlc3BvbnNlLnN0YXR1c1RleHQgICk7XG5cdFx0fVxuXHR9KS5hbHdheXMoZnVuY3Rpb24oIHJlc2Vwb25zZSApIHtcblxuXHRcdC8vIFJlcGxhY2UgdGhlIGxvYWRpbmcgYW5pbWF0aW9uIHdpdGggYSBjaGVjayBpY29uXG5cdFx0alF1ZXJ5KCcuZHNsY2Etc2F2ZS1jb21wb3NlciAuZHNsY2EtaWNvbicpLnJlbW92ZUNsYXNzKCdkc2xjLWljb24tc3BpbiBkc2xjLWljb24tc3Bpbm5lcicpLmFkZENsYXNzKCdkc2xjLWljb24tb2snKVxuXG5cdFx0Ly8gUmVtb3ZlIHRoZSBjbGFzcyBwcmV2aW91c2x5IGFkZGVkIHNvIHdlIGtub3cgc2F2aW5nIGlzIGZpbmlzaGVkXG5cdFx0alF1ZXJ5KCdib2R5JykucmVtb3ZlQ2xhc3MoJ2RzbGNhLXNhdmluZy1pbi1wcm9ncmVzcycpO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBDT0RFIEdFTkVSQVRJT04gLSBTYXZlIERyYWZ0XG4gKi9cbmZ1bmN0aW9uIGRzbGNfc2F2ZV9kcmFmdF9jb21wb3NlcigpIHtcblxuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2RzbGNfc2F2ZV9kcmFmdF9jb21wb3NlcicgKTtcblxuXHQvLyBWYXJzXG5cdHZhciBjb21wb3NlckNvZGUgPSBqUXVlcnkoJyNkc2xjYS1jb2RlJykudmFsKCksXG5cdHBvc3RJRCA9IGpRdWVyeSgnLmRzbGNhLWNvbnRhaW5lcicpLmRhdGEoJ3Bvc3QtaWQnKTtcblxuXHQvLyBBcHBseSBjbGFzcyB0byBib2R5IHRvIGtub3cgc2F2aW5nIGlzIGluIHByb2dyZXNzXG5cdGpRdWVyeSgnYm9keScpLmFkZENsYXNzKCdkc2xjYS1zYXZpbmctaW4tcHJvZ3Jlc3MnKTtcblxuXHQvLyBSZXBsYWNlIHRoZSBjaGVjayBpbiBwdWJsaXNoIGJ1dHRvbiB3aXRoIGEgbG9hZGluZyBhbmltYXRpb25cblx0alF1ZXJ5KCcuZHNsY2Etc2F2ZS1kcmFmdC1jb21wb3NlciAuZHNsY2EtaWNvbicpLnJlbW92ZUNsYXNzKCdkc2xjLWljb24tb2snKS5hZGRDbGFzcygnZHNsYy1pY29uLXNwaW4gZHNsYy1pY29uLXNwaW5uZXInKTtcblxuXHQvLyBBamF4IGNhbGwgdG8gc2F2ZSB0aGUgbmV3IGNvbnRlbnRcblx0alF1ZXJ5LnBvc3QoXG5cblx0XHREU0xDQWpheC5hamF4dXJsLFxuXHRcdHtcblx0XHRcdGFjdGlvbiA6ICdkc2xjLWFqYXgtc2F2ZS1kcmFmdC1jb21wb3NlcicsXG5cdFx0XHRkc2xjIDogJ2FjdGl2ZScsXG5cdFx0XHRkc2xjX3Bvc3RfaWQgOiBwb3N0SUQsXG5cdFx0XHRkc2xjX2NvZGUgOiBjb21wb3NlckNvZGUsXG5cdFx0fSxcblx0XHRmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cblx0XHRcdC8vIFJlcGxhY2UgdGhlIGxvYWRpbmcgYW5pbWF0aW9uIHdpdGggYSBjaGVjayBpY29uXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1zYXZlLWRyYWZ0LWNvbXBvc2VyIC5kc2xjYS1pY29uJykucmVtb3ZlQ2xhc3MoJ2RzbGMtaWNvbi1zcGluIGRzbGMtaWNvbi1zcGlubmVyJykuYWRkQ2xhc3MoJ2RzbGMtaWNvbi1zYXZlJylcblxuXHRcdFx0Ly8gT24gc3VjY2VzcyBoaWRlIHRoZSBwdWJsaXNoIGJ1dHRvblxuXHRcdFx0aWYgKCByZXNwb25zZS5zdGF0dXMgPT0gJ3N1Y2Nlc3MnICkge1xuXHRcdFx0XHRqUXVlcnkoJy5kc2xjYS1zYXZlLWRyYWZ0LWNvbXBvc2VyJykuZmFkZU91dCgyNTApO1xuXG5cdFx0XHQvLyBPbiBmYWlsIHNob3cgYW4gYWxlcnQgbWVzc2FnZVxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRhbGVydCggJ1NvbWV0aGluZyB3ZW50IHdyb25nLCBwbGVhc2UgdHJ5IHRvIHNhdmUgYWdhaW4uJyApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZW1vdmUgdGhlIGNsYXNzIHByZXZpb3VzbHkgYWRkZWQgc28gd2Uga25vdyBzYXZpbmcgaXMgZmluaXNoZWRcblx0XHRcdGpRdWVyeSgnYm9keScpLnJlbW92ZUNsYXNzKCdkc2xjYS1zYXZpbmctaW4tcHJvZ3Jlc3MnKTtcblx0XHR9XG5cdCk7XG59XG5cbi8qKlxuICogQ09ERSBHRU5FUkFUSU9OIC0gR2VuZXJhdGUgTEMgRGF0YVxuICogQHBhcmFtIHNlY3Rpb24gaXMgbm90IHJlcXVpcmVkLiBJZiBubyBwYXJhbWV0ZXIgcHJvdmlkZWQgZnVuY3Rpb24gZ2VuZXJhdGVzXG4gKi9cbndpbmRvdy5kc2xjX2dlbmVyYXRlX2NvZGUgPSBmdW5jdGlvbigpIHtcblx0aWYgKCB3aW5kb3cuZHNsY0RlYnVnICkgY29uc29sZS5sb2coICdkc2xjX2dlbmVyYXRlX2NvZGUnICk7XG5cblx0Ly8gVmFyc1xuXHR2YXIgbW9kdWxlQ29kZSA9ICcnLFxuXHRtb2R1bGVfc2l6ZSxcblx0Y29tcG9zZXJDb2RlID0gJycsXG5cdHBhZ2VDb2RlSW5Kc29uID0gJycsXG5cdG1heFBlclJvdyA9IDEyLFxuXHRtYXhQZXJSb3dBID0gMTIsXG5cdGN1cnJQZXJSb3cgPSAwLFxuXHRjdXJyUGVyUm93QSA9IDAsXG5cdG1vZHVsZXNBcmVhU2l6ZSxcblx0bW9kdWxlc0FyZWEsXG5cdG1vZHVsZXNBcmVhTGFzdFN0YXRlLFxuXHRtb2R1bGVzQXJlYUZpcnN0U3RhdGUsXG5cdG1vZHVsZXNTZWN0aW9uLFxuXHRtb2R1bGVzU2VjdGlvbkF0dHMgPSAnJyxcblx0bW9kdWxlc1NlY3Rpb25Kc29uO1xuXG5cdC8qKlxuXHQgKiBHbyB0aHJvdWdoIG1vZHVsZSBhcmVhcyAoZW1wdHkgb3Igbm90IGVtcHR5KVxuXHQgKiBUT0RPOiBPcHRpbWl6ZSBjb2RlIHRvIGdvIHRob3VnaCB0aGUgc2VjdGlvbi9hcmVhIG5lZWRlZCBvbmx5LFxuXHQgKiBub3QgdGhlIHdob2xlIHBhZ2UuXG5cdCAqL1xuXG5cdGpRdWVyeSgnI2RzbGMtbWFpbiAuZHNsYy1tb2R1bGVzLWFyZWEnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5lYWNoKGZ1bmN0aW9uKCl7XG5cblx0XHRpZiAoIGpRdWVyeSgnLmRzbGMtbW9kdWxlLWZyb250JywgdGhpcykubGVuZ3RoICkge1xuXG5cdFx0XHRqUXVlcnkodGhpcykucmVtb3ZlQ2xhc3MoJ2RzbGMtbW9kdWxlcy1hcmVhLWVtcHR5JykuYWRkQ2xhc3MoJ2RzbGMtbW9kdWxlcy1hcmVhLW5vdC1lbXB0eScpO1xuXHRcdFx0alF1ZXJ5KCcuZHNsY2Etbm8tY29udGVudCcsIHRoaXMpLmhpZGUoKTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdGpRdWVyeSh0aGlzKS5yZW1vdmVDbGFzcygnZHNsYy1tb2R1bGVzLWFyZWEtbm90LWVtcHR5JykuYWRkQ2xhc3MoJ2RzbGMtbW9kdWxlcy1hcmVhLWVtcHR5Jyk7XG5cblx0XHRcdGpRdWVyeSgnLmRzbGNhLW5vLWNvbnRlbnQ6bm90KDp2aXNpYmxlKScsIHRoaXMpLnNob3coKS5jc3Moe1xuXHRcdFx0XHQnLXdlYmtpdC1hbmltYXRpb24tbmFtZScgOiAnZHNsY0JvdW5jZUluJyxcblx0XHRcdFx0Jy1tb3otYW5pbWF0aW9uLW5hbWUnIDogJ2RzbGNCb3VuY2VJbicsXG5cdFx0XHRcdCdhbmltYXRpb24tbmFtZScgOiAnZHNsY0JvdW5jZUluJyxcblx0XHRcdFx0J2FuaW1hdGlvbi1kdXJhdGlvbicgOiAnMC42cycsXG5cdFx0XHRcdCctd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbicgOiAnMC42cycsXG5cdFx0XHRcdHBhZGRpbmcgOiAwXG5cdFx0XHR9KS5hbmltYXRlKHsgcGFkZGluZyA6ICczNXB4IDAnIH0sIDMwMCk7XG5cdFx0fVxuXHR9KTtcblxuXHQvKipcblx0ICogR28gdGhyb3VnaCBlYWNoIHJvdyAoZW1wdHkgb3Igbm90IGVtcHR5KVxuXHQgKi9cblxuXHRqUXVlcnkoJyNkc2xjLW1haW4gLmRzbGMtbW9kdWxlcy1zZWN0aW9uJywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkuZWFjaChmdW5jdGlvbigpe1xuXG5cdFx0bW9kdWxlc1NlY3Rpb24gPSBqUXVlcnkodGhpcyk7XG5cblx0XHRtb2R1bGVzU2VjdGlvbkpzb24gPSBnZW5lcmF0ZVNlY3Rpb25Db2RlKCBtb2R1bGVzU2VjdGlvbiApO1xuXG5cdFx0Ly8gVXBkYXRlIEpTT04gaW4gaGlkZGVuIHRleHQgYXJlYSB3aXRoIHVwZGF0ZWQgY29kZS5cblx0XHRtb2R1bGVzU2VjdGlvbi5maW5kKCcuZHNsY2Etc2VjdGlvbi1jb2RlJykudmFsKCBtb2R1bGVzU2VjdGlvbkpzb24gKTtcblxuXHRcdC8vIEFkZCByb3cgY29kZSBpbnRvIHRoZSB0aGUgd2hvbGUgcGFnZSBjb2RlLlxuXHRcdHBhZ2VDb2RlSW5Kc29uID0gcGFnZUNvZGVJbkpzb24gKyBtb2R1bGVzU2VjdGlvbkpzb24gKyAnLCc7XG5cblx0XHQvLyBDbG9zZSByb3cgKCBzZWN0aW9uICkgc2hvcnRjb2RlXG5cdFx0Ly8gY29tcG9zZXJDb2RlID0gY29tcG9zZXJDb2RlICsgJ1svZHNsY19tb2R1bGVzX3NlY3Rpb25dICc7XG5cdH0pO1xuXG5cblx0Ly8gUmVtb3ZlIHRoZSBsYXN0IGNvbW1hIGluIHRoZSBjb2RlLlxuXHRwYWdlQ29kZUluSnNvbiA9IHBhZ2VDb2RlSW5Kc29uLnNsaWNlKDAsIC0xKTtcblxuXHQvLyBwYWdlQ29kZUluSnNvbiA9IHBhZ2VDb2RlSW5Kc29uO1xuXHRwYWdlQ29kZUluSnNvbiA9ICdbJyArIHBhZ2VDb2RlSW5Kc29uICsgJ10nO1xuXG5cdC8vIEFwcGx5IHRoZSBuZXcgY29kZSB2YWx1ZXMgdG8gdGhlIHNldHRpbmcgY29udGFpbmVyc1xuXHRqUXVlcnkoJyNkc2xjYS1jb2RlJykudmFsKHBhZ2VDb2RlSW5Kc29uKTtcblxuXHRqUXVlcnkoJyNkc2xjYS1leHBvcnQtY29kZScpLnZhbChwYWdlQ29kZUluSnNvbik7XG59XG5cblxuLyoqXG4gKiBDT0RFIEdFTkVSQVRJT04gLSBHZW5lcmF0ZSBMQyBEYXRhIGZvciBTZWN0aW9uXG4gKlxuICogQHBhcmFtICB7alF1ZXJ5IE9iamVjdH0gdGhlTW9kdWxlc1NlY3Rpb24galF1ZXJ5IGVsZW1lbnQgZm9yIHRoZSBzZWN0aW9uIHRvIHByb2Nlc3NcbiAqIEByZXR1cm4ge1N0cmluZ30gICAgICAgICAgICAgICAgICAgXHRcdFx0SlNPTiBjb2RlIGZvciB0aGUgc2VjdGlvblxuICovXG4vLyBleC4gZHNsY19nZW5lcmF0ZV9zZWN0aW9uX2NvZGVcbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVNlY3Rpb25Db2RlID0gKCB0aGVNb2R1bGVzU2VjdGlvbiApID0+IHtcblxuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2dlbmVyYXRlU2VjdGlvbkNvZGUnICk7XG5cblx0Ly8gVmFyc1xuXHR2YXIgbW9kdWxlQ29kZSA9ICcnLFxuXHRtb2R1bGVfc2l6ZSxcblx0Y29tcG9zZXJDb2RlID0gJycsXG5cdHBhZ2VDb2RlSW5Kc29uID0gJycsXG5cdG1heFBlclJvdyA9IDEyLFxuXHRtYXhQZXJSb3dBID0gMTIsXG5cdGN1cnJQZXJSb3cgPSAwLFxuXHRjdXJyUGVyUm93QSA9IDAsXG5cdG1vZHVsZXNBcmVhU2l6ZSxcblx0bW9kdWxlc0FyZWEsXG5cdG1vZHVsZXNBcmVhTGFzdFN0YXRlLFxuXHRtb2R1bGVzQXJlYUZpcnN0U3RhdGUsXG5cdG1vZHVsZXNTZWN0aW9uLFxuXHRtb2R1bGVzU2VjdGlvbkF0dHMgPSAnJyxcblx0bW9kdWxlc1NlY3Rpb25Kc29uU3RyaW5nID0gJycsXG5cdG1vZHVsZXNTZWN0aW9uSnNvbjtcblxuXHRtb2R1bGVzU2VjdGlvbiA9IHRoZU1vZHVsZXNTZWN0aW9uO1xuXG5cdC8vIFVwZGF0ZSBkc2xjLW1vZHVsZXMtc2VjdGlvbi0obm90KWVtcHR5IGNsYXNzZXNcblx0aWYgKCBqUXVlcnkoJy5kc2xjLW1vZHVsZXMtYXJlYScsIG1vZHVsZXNTZWN0aW9uKS5sZW5ndGggKSB7XG5cdFx0bW9kdWxlc1NlY3Rpb24ucmVtb3ZlQ2xhc3MoJ2RzbGMtbW9kdWxlcy1zZWN0aW9uLWVtcHR5JykuYWRkQ2xhc3MoJ2RzbGMtbW9kdWxlcy1zZWN0aW9uLW5vdC1lbXB0eScpO1xuXHR9IGVsc2Uge1xuXHRcdG1vZHVsZXNTZWN0aW9uLnJlbW92ZUNsYXNzKCdkc2xjLW1vZHVsZXMtc2VjdGlvbi1ub3QtZW1wdHknKS5hZGRDbGFzcygnZHNsYy1tb2R1bGVzLXNlY3Rpb24tZW1wdHknKTtcblx0fVxuXG5cdC8vIFJlbW92ZSBsYXN0IGFuZCBmaXJzdCBjbGFzc2VzIGZyb20gbW9kdWxlIGFyZWFzIGFuZCBtb2R1bGVzXG5cdGpRdWVyeSgnLmRzbGMtbW9kdWxlcy1hcmVhLmRzbGMtbGFzdC1jb2wsIC5kc2xjLW1vZHVsZXMtYXJlYS5kc2xjLWZpcnN0LWNvbCcsIHRoaXMpLnJlbW92ZUNsYXNzKCdkc2xjLWxhc3QtY29sIGRzbGMtZmlyc3QtY29sJyk7XG5cdGpRdWVyeSgnLmRzbGMtbW9kdWxlLWZyb250LmRzbGMtbGFzdC1jb2wsIC5kc2xjLW1vZHVsZS1mcm9udC5kc2xjLWZpcnN0LWNvbCcsIHRoaXMpLnJlbW92ZUNsYXNzKCdkc2xjLWxhc3QtY29sIGRzbGMtZmlyc3QtY29sJyk7XG5cblx0Ly8gVmFyc1xuXHRjdXJyUGVyUm93QSA9IDA7XG5cblx0Ly8gR2V0IGN1cnJlbnQgSlNPTi5cblx0bW9kdWxlc1NlY3Rpb25Kc29uU3RyaW5nID0gbW9kdWxlc1NlY3Rpb24uZmluZCgnLmRzbGNhLXNlY3Rpb24tY29kZScpLnZhbCgpO1xuXHRtb2R1bGVzU2VjdGlvbkpzb24gPSBKU09OLnBhcnNlKG1vZHVsZXNTZWN0aW9uSnNvblN0cmluZyk7XG5cblx0Ly8gR2VuZXJhdGUgYXR0cmlidXRlcyBmb3IgdGhlIHJvdyBzaG9ydGNvZGVcblx0bW9kdWxlc1NlY3Rpb25BdHRzID0gJyc7XG5cblx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlcy1zZWN0aW9uLXNldHRpbmdzIGlucHV0JywgbW9kdWxlc1NlY3Rpb24pLmVhY2goZnVuY3Rpb24oKXtcblxuXHRcdHZhciBjdXJyZW50SW5wdXQgPSBqUXVlcnkodGhpcyk7XG5cdFx0dmFyIGN1cnJlbnRBdHRyS2V5ID0gY3VycmVudElucHV0LmRhdGEoJ2lkJyk7XG5cdFx0dmFyIGN1cnJlbnRBdHRyVmFsID0gY3VycmVudElucHV0LnZhbCgpO1xuXG5cdFx0Ly8gVXBkYXRlIGhpZGRlbiB0ZXh0IGZpZWxkcyB3aXRoIHJvdyBhdHRyaWJ1dGVzLlxuXHRcdG1vZHVsZXNTZWN0aW9uQXR0cyA9IG1vZHVsZXNTZWN0aW9uQXR0cyArIGN1cnJlbnRBdHRyS2V5ICsgJz1cIicgKyBjdXJyZW50QXR0clZhbCArICdcIiAnO1xuXG5cdFx0Ly8gVXBkYXRlIEpTT04gb2JqZWN0LlxuXHRcdG1vZHVsZXNTZWN0aW9uSnNvbltjdXJyZW50QXR0cktleV0gPSBjdXJyZW50QXR0clZhbDtcblx0fSk7XG5cblx0Ly8gRGVsZXRlIGF0dHJpYnV0ZSAnZ2l2ZV9uZXdfaWQnLlxuXHQvLyBJdCBzdXBwb3NlZCB0byBiZSB1c2VkIG9ubHkgb25jZSBhbmQgYnkgdGhpcyB0aW1lIGl0IHdhcyBhbHJlYWR5IGFwcGxpZWQuXG5cdGlmICggIHVuZGVmaW5lZCAhPT0gbW9kdWxlc1NlY3Rpb25Kc29uWydnaXZlX25ld19pZCddICkge1xuXHRcdGRlbGV0ZSBtb2R1bGVzU2VjdGlvbkpzb25bJ2dpdmVfbmV3X2lkJ107XG5cdH1cblxuXHQvLyBQcmVwYXJlIHBsYWNlIGZvciBtb2R1bGUgYXJlYXMuXG5cdG1vZHVsZXNTZWN0aW9uSnNvblsnY29udGVudCddID0gW107XG5cblx0Ly8gT3BlbiB0aGUgbW9kdWxlIHNlY3Rpb24gKCByb3cgKSBzaG9ydGNvZGVcblx0Ly8gY29tcG9zZXJDb2RlID0gY29tcG9zZXJDb2RlICsgJ1tkc2xjX21vZHVsZXNfc2VjdGlvbiAnICsgbW9kdWxlc1NlY3Rpb25BdHRzICsgJ10gJztcblxuXHQvKipcblx0ICogR28gdGhyb3VnaCBlYWNoIGNvbHVtbiBvZiBjdXJyZW50IHJvd1xuXHQgKi9cblx0alF1ZXJ5KCcuZHNsYy1tb2R1bGVzLWFyZWEnLCBtb2R1bGVzU2VjdGlvbikuZWFjaChmdW5jdGlvbigpe1xuXG5cdFx0Ly8gUmVzZXQgd2lkdGggY291bnRlciBmb3IgbW9kdWxlc1xuXHRcdGN1cnJQZXJSb3cgPSAwO1xuXG5cdFx0Ly8gVmFyc1xuXHRcdG1vZHVsZXNBcmVhID0galF1ZXJ5KHRoaXMpO1xuXHRcdG1vZHVsZXNBcmVhU2l6ZSA9IHBhcnNlSW50KCBtb2R1bGVzQXJlYS5kYXRhKCdzaXplJykgKTtcblx0XHRtb2R1bGVzQXJlYUxhc3RTdGF0ZSA9ICdubyc7XG5cdFx0bW9kdWxlc0FyZWFGaXJzdFN0YXRlID0gJ25vJztcblxuXHRcdC8vIEluY3JlbWVudCBhcmVhIGNvbHVtbiBjb3VudGVyXG5cdFx0Y3VyclBlclJvd0EgKz0gbW9kdWxlc0FyZWFTaXplO1xuXG5cdFx0alF1ZXJ5KHRoaXMpLnJlbW92ZUNsYXNzKCdkc2xjLWZpcnN0LWNvbCcpO1xuXHRcdGpRdWVyeSh0aGlzKS5yZW1vdmVDbGFzcygnZHNsYy1sYXN0LWNvbCcpO1xuXG5cdFx0Ly8gSWYgYXJlYSBjb2x1bW4gY291bnRlciBzYW1lIGFzIG1heGltdW1cblx0XHRpZiAoIGN1cnJQZXJSb3dBID09IG1heFBlclJvd0EgKSB7XG5cblx0XHRcdC8vIEFwcGx5IGNsYXNzZXMgdG8gY3VycmVudCBhbmQgbmV4dCBjb2x1bW5cblx0XHRcdGpRdWVyeSh0aGlzKS5hZGRDbGFzcygnZHNsYy1sYXN0LWNvbCcpLm5leHQoJy5kc2xjLW1vZHVsZXMtYXJlYScpLmFkZENsYXNzKCdkc2xjLWZpcnN0LWNvbCcpO1xuXG5cdFx0XHQvLyBSZXNldCBhcmVhIGNvbHVtbiBjb3VudGVyXG5cdFx0XHRjdXJyUGVyUm93QSA9IDA7XG5cblx0XHRcdC8vIFNldCBzaG9ydGNvZGUncyBcImxhc3RcIiBhdHRyaWJ1dGUgdG8gXCJ5ZXNcIlxuXHRcdFx0bW9kdWxlc0FyZWFMYXN0U3RhdGUgPSAneWVzJztcblxuXHRcdC8vIElmIGFyZWEgY29sdW1uIGNvdW50ZXIgYmlnZ2VyIHRoYW4gbWF4aW11bVxuXHRcdH0gZWxzZSBpZiAoIGN1cnJQZXJSb3dBID4gbWF4UGVyUm93QSApIHtcblxuXHRcdFx0Ly8gQXBwbHkgY2xhc3NlcyB0byBjdXJyZW50IGFuZCBwcmV2aW91cyBjb2x1bW5cblx0XHRcdGpRdWVyeSh0aGlzKS5yZW1vdmVDbGFzcygnZHNsYy1sYXN0LWNvbCcpLmFkZENsYXNzKCdkc2xjLWZpcnN0LWNvbCcpO1xuXG5cdFx0XHQvLyBTZXQgYXJlYSBjb2x1bW4gY291bnRlciB0byB0aGUgc2l6ZSBvZiB0aGUgY3VycmVudCBhcmVhXG5cdFx0XHRjdXJyUGVyUm93QSA9IG1vZHVsZXNBcmVhU2l6ZTtcblxuXHRcdFx0Ly8gU2V0IHNob3J0Y29kZSdzIFwiZmlyc3RcIiBhdHRyaWJ1dGUgdG8geWVzXG5cdFx0XHRtb2R1bGVzQXJlYUZpcnN0U3RhdGUgPSAneWVzJztcblx0XHR9XG5cblx0XHQvLyBJZiBhcmVhIGNvbHVtbiBjb3VudGVyIHNhbWUgYXMgY3VycmVudCBhcmVhIHNpemVcblx0XHRpZiAoIGN1cnJQZXJSb3dBID09IG1vZHVsZXNBcmVhU2l6ZSApIHtcblxuXHRcdFx0Ly8gU2V0IHNob3J0Y29kZSdzIFwiZmlyc3RcIiBhdHRyaWJ1dGUgdG8geWVzXG5cdFx0XHRtb2R1bGVzQXJlYUZpcnN0U3RhdGUgPSAneWVzJztcblxuXHRcdFx0Ly8gQXBwbHkgY2xhc3NlcyB0byBjdXJyZW50IGFuZCBwcmV2aW91cyBjb2x1bW5cblx0XHRcdGpRdWVyeSh0aGlzKS5yZW1vdmVDbGFzcygnZHNsYy1sYXN0LWNvbCcpLmFkZENsYXNzKCdkc2xjLWZpcnN0LWNvbCcpO1xuXG5cdFx0fVxuXG5cdFx0Ly8gT3BlbiB0aGUgbW9kdWxlcyBhcmVhICggYXJlYSApIHNob3J0Y29kZVxuXHRcdC8vIGNvbXBvc2VyQ29kZSA9IGNvbXBvc2VyQ29kZSArICdbZHNsY19tb2R1bGVzX2FyZWEgbGFzdD1cIicgKyBtb2R1bGVzQXJlYUxhc3RTdGF0ZSArICdcIiBmaXJzdD1cIicgKyBtb2R1bGVzQXJlYUZpcnN0U3RhdGUgKyAnXCIgc2l6ZT1cIicgKyBtb2R1bGVzQXJlYVNpemUgKyAnXCJdICc7XG5cblx0XHR2YXIgbW9kdWxlQXJlYUpTT04gPSAne1wiZWxlbWVudF90eXBlXCI6XCJtb2R1bGVfYXJlYVwiLFwibGFzdFwiOlwiJyArIG1vZHVsZXNBcmVhTGFzdFN0YXRlICsgJ1wiLFwiZmlyc3RcIjpcIicgKyBtb2R1bGVzQXJlYUZpcnN0U3RhdGUgKyAnXCIsXCJzaXplXCI6XCInICsgbW9kdWxlc0FyZWFTaXplICsgJ1wifSc7XG5cblx0XHQvLyBwYWdlQ29kZUluSnNvbiA9IHBhZ2VDb2RlSW5Kc29uICsgIG1vZHVsZUFyZWFKU09OICsgJywnO1xuXG5cdFx0bW9kdWxlQXJlYUpTT04gPSBKU09OLnBhcnNlKCBtb2R1bGVBcmVhSlNPTiApO1xuXG5cdFx0Ly8gRGVsZXRlIGF0dHJpYnV0ZSAnZ2l2ZV9uZXdfaWQnLlxuXHRcdC8vIEl0IHN1cHBvc2VkIHRvIGJlIHVzZWQgb25seSBvbmNlIGFuZCBieSB0aGlzIHRpbWUgaXQgd2FzIGFscmVhZHkgYXBwbGllZC5cblx0XHRpZiAoICB1bmRlZmluZWQgIT09IG1vZHVsZUFyZWFKU09OWydnaXZlX25ld19pZCddICkge1xuXHRcdFx0ZGVsZXRlIG1vZHVsZUFyZWFKU09OWydnaXZlX25ld19pZCddO1xuXHRcdH1cblxuXHRcdG1vZHVsZUFyZWFKU09OLmNvbnRlbnQgPSBbXTtcblxuXHRcdC8qKlxuXHRcdCAqIEdvIHRocm91Z2ggZWFjaCBtb2R1bGUgb2YgY3VycmVudCBhcmVhXG5cdFx0ICovXG5cblx0XHRqUXVlcnkoJy5kc2xjLW1vZHVsZS1mcm9udCcsIG1vZHVsZXNBcmVhKS5lYWNoKGZ1bmN0aW9uKCl7XG5cblx0XHRcdHZhciBkc2xjX21vZHVsZSA9IGpRdWVyeSh0aGlzKTtcblxuXHRcdFx0Ly8gVmFyc1xuXHRcdFx0bW9kdWxlX3NpemUgPSBwYXJzZUludCggZHNsY19tb2R1bGVbMF0uZ2V0QXR0cmlidXRlKCdkYXRhLWRzbGMtbW9kdWxlLXNpemUnKSApO1xuXHRcdFx0dmFyIG1vZHVsZUxhc3RTdGF0ZSA9ICdubyc7XG5cdFx0XHR2YXIgbW9kdWxlRmlyc3RTdGF0ZSA9ICdubyc7XG5cblx0XHRcdGpRdWVyeSh0aGlzKS5yZW1vdmVDbGFzcygnZHNsYy1maXJzdC1jb2wnKTtcblx0XHRcdGpRdWVyeSh0aGlzKS5yZW1vdmVDbGFzcygnZHNsYy1sYXN0LWNvbCcpO1xuXG5cdFx0XHQvLyBJbmNyZW1lbnQgbW9kdWxlcyBjb2x1bW4gY291bnRlclxuXHRcdFx0Y3VyclBlclJvdyArPSBtb2R1bGVfc2l6ZTtcblxuXHRcdFx0Ly8gSWYgbW9kdWxlcyBjb2x1bW4gY291bnRlciBzYW1lIGFzIG1heGltdW1cblx0XHRcdGlmICggY3VyclBlclJvdyA9PSBtYXhQZXJSb3cgKSB7XG5cblx0XHRcdFx0Ly8gQWRkIGNsYXNzZXMgdG8gY3VycmVudCBhbmQgbmV4dCBtb2R1bGVcblx0XHRcdFx0alF1ZXJ5KHRoaXMpLmFkZENsYXNzKCdkc2xjLWxhc3QtY29sJyk7XG5cdFx0XHRcdGpRdWVyeSh0aGlzKS5uZXh0KCcuZHNsYy1tb2R1bGUtZnJvbnQnKS5hZGRDbGFzcygnZHNsYy1maXJzdC1jb2wnKTtcblxuXHRcdFx0XHQvLyBSZXNldCBtb2R1bGVzIGNvbHVtbiBjb3VudGVyXG5cdFx0XHRcdGN1cnJQZXJSb3cgPSAwO1xuXG5cdFx0XHRcdC8vIFNldCBzaG9ydGNvZGUncyBcImxhc3RcIiBzdGF0ZSB0byBcInllc1wiXG5cdFx0XHRcdG1vZHVsZUxhc3RTdGF0ZSA9ICd5ZXMnO1xuXG5cdFx0XHRcdC8vIFNldCBzaG9yY29kZSdzIFwiZmlyc3RcIiBzdGF0ZSB0byBcInllc1wiXG5cdFx0XHRcdG1vZHVsZUZpcnN0U3RhdGUgPSAneWVzJztcblxuXG5cdFx0XHQvLyBJZiBtb2R1bGVzIGNvbHVtbiBjb3VudGVyIGJpZ2dlciB0aGFuIG1heGltdW1cblx0XHRcdH0gZWxzZSBpZiAoIGN1cnJQZXJSb3cgPiBtYXhQZXJSb3cgKSB7XG5cblx0XHRcdFx0Ly8gQWRkIGNsYXNzZXMgdG8gY3VycmVudCBhbmQgcHJldmlvdXMgbW9kdWxlXG5cdFx0XHRcdGpRdWVyeSh0aGlzKS5yZW1vdmVDbGFzcygnZHNsYy1sYXN0LWNvbCcpLmFkZENsYXNzKCdkc2xjLWZpcnN0LWNvbCcpO1xuXG5cdFx0XHRcdC8vIFNldCBtb2R1bGVzIGNvbHVtbiBjb3VudGVyIHRvIHRoZSBzaXplIG9mIGN1cnJlbnQgbW9kdWxlXG5cdFx0XHRcdGN1cnJQZXJSb3cgPSBtb2R1bGVfc2l6ZTtcblxuXHRcdFx0XHQvLyBTZXQgc2hvcnRjb2RlJ3MgXCJmaXJzdFwiIHN0YXRlIHRvIFwieWVzXCJcblx0XHRcdFx0bW9kdWxlRmlyc3RTdGF0ZSA9ICd5ZXMnO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBtb2R1bGVzIGNvbHVtbiBjb3VudGVyIHNhbWUgYXMgY3VycmVudCBtb2R1bGUgc2l6ZVxuXHRcdFx0aWYgKCBjdXJyUGVyUm93ID09IG1vZHVsZV9zaXplICkge1xuXG5cdFx0XHRcdC8vIFNldCBzaG9ydGNvZGUncyBcImZpcnN0XCIgYXR0cmlidXRlIHRvIHllc1xuXHRcdFx0XHRtb2R1bGVGaXJzdFN0YXRlID0gJ3llcyc7XG5cblx0XHRcdFx0Ly8gQXBwbHkgY2xhc3NlcyB0byBjdXJyZW50IGFuZCBwcmV2aW91cyBjb2x1bW5cblx0XHRcdFx0alF1ZXJ5KHRoaXMpLnJlbW92ZUNsYXNzKCdkc2xjLWxhc3QtY29sJykuYWRkQ2xhc3MoJ2RzbGMtZmlyc3QtY29sJyk7XG5cblx0XHRcdH1cblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Ly8gR2V0IG1vZHVsZSdzIExDIGRhdGFcblx0XHRcdFx0bW9kdWxlQ29kZSA9IGRzbGNfbW9kdWxlWzBdLnF1ZXJ5U2VsZWN0b3IoJy5kc2xjYS1tb2R1bGUtY29kZScpLnZhbHVlO1xuXG5cdFx0XHR9IGNhdGNoKGVycikge1xuXHRcdFx0XHRjb25zb2xlLmluZm8oICdObyBEU0xDIGNvZGUgZm91bmQgaW4gbW9kdWxlOiAnICsgZHNsY19tb2R1bGVbMF0uZ2V0QXR0cmlidXRlKCdpZCcpICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggJycgIT09IG1vZHVsZUNvZGUgKSB7XG5cdFx0XHRcdC8vIEFkZCB0aGUgbW9kdWxlIHNob3J0Y29kZSBjb250YWluaW5nIHRoZSBkYXRhXG5cdFx0XHRcdC8vIGNvbXBvc2VyQ29kZSA9IGNvbXBvc2VyQ29kZSArICdbZHNsY19tb2R1bGUgbGFzdD1cIicgKyBtb2R1bGVMYXN0U3RhdGUgKyAnXCJdJyArIG1vZHVsZUNvZGUgKyAnWy9kc2xjX21vZHVsZV0gJztcblxuXHRcdFx0XHR2YXIgbW9kdWxlQ29kZUpTT04gPSBKU09OLnBhcnNlKG1vZHVsZUNvZGUpO1xuXHRcdFx0XHQvLyBBZGQgaWRpY2F0b3IgZm9yIHRoZSBsYXN0IG1vZHVsZSBpbiB0aGUgcm93LlxuXHRcdFx0XHRtb2R1bGVDb2RlSlNPTi5sYXN0ID0gbW9kdWxlTGFzdFN0YXRlO1xuXG5cdFx0XHRcdC8vIFJBVyBDT0RFIENMRUFOVVA6IENsZWFuIHRoZSBtb2R1bGUgY29kZSBmcm9tIGtleXMgd2l0aCBlbXB0eSB2YWx1ZXMuXG5cdFx0XHRcdGpRdWVyeS5lYWNoKG1vZHVsZUNvZGVKU09OLCBmdW5jdGlvbihpbmRleCwgZWwpIHtcblx0XHRcdFx0XHRpZiAoIGZhbHNlID09PSBlbCB8fCAnJyA9PT0gZWwgKSB7XG5cdFx0XHRcdFx0XHRkZWxldGUgbW9kdWxlQ29kZUpTT05baW5kZXhdO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmICggJ2NvbnRlbnQnID09PSBpbmRleCApIHtcblx0XHRcdFx0XHRcdG1vZHVsZUNvZGVKU09OW2luZGV4XSA9IGVsLnJlcGxhY2UoL1xcXFwnL2csIFwiJ1wiKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoICdnaXZlX25ld19pZCcgPT09IGluZGV4ICkge1xuXHRcdFx0XHRcdFx0ZGVsZXRlIG1vZHVsZUNvZGVKU09OW2luZGV4XTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdC8vIFB1dCBvcHRpbWl6ZWQgY29kZSBiYWNrIGludG8gdGhlIGhpZGRlbiB0ZXh0YXJlYS5cblx0XHRcdFx0ZHNsY19tb2R1bGVbMF0ucXVlcnlTZWxlY3RvcignLmRzbGNhLW1vZHVsZS1jb2RlJykudmFsdWUgPSBKU09OLnN0cmluZ2lmeShtb2R1bGVDb2RlSlNPTik7XG5cblx0XHRcdFx0Ly8gQWRkIHRoZSBtb2R1bGUgSlNPTiBhcyBhcnJheSBpdGVtXG5cdFx0XHRcdG1vZHVsZUFyZWFKU09OWydjb250ZW50J10ucHVzaCggbW9kdWxlQ29kZUpTT04gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRml4IGJ1ZyB3aXRoIG1vZHVsZXMgZHVwbGljYXRpb24gaWYgYnJva2VuIG1vZHVsZSBzYXZlZC5cblx0XHRcdG1vZHVsZUNvZGUgPSAnJztcblxuXHRcdH0pO1xuXG5cdFx0bW9kdWxlc1NlY3Rpb25Kc29uWydjb250ZW50J10ucHVzaChtb2R1bGVBcmVhSlNPTik7XG5cblx0XHQvLyBDbG9zZSBhcmVhIHNob3J0Y29kZVxuXHRcdC8vIGNvbXBvc2VyQ29kZSA9IGNvbXBvc2VyQ29kZSArICdbL2RzbGNfbW9kdWxlc19hcmVhXSAnO1xuXHR9KTtcblxuXHR2YXIgZ2VuZXJhdGVkQ29kZSA9IEpTT04uc3RyaW5naWZ5KCBtb2R1bGVzU2VjdGlvbkpzb24gKTtcblxuXHRyZXR1cm4gZ2VuZXJhdGVkQ29kZTtcbn1cblxuLyoqXG4gKiBDT0RFIEdFTkVSQVRJT04gLSBEb2N1bWVudCBSZWFkeVxuICovXG5jb25zdCBzZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcblxuXHQvKipcblx0ICogSG9vayAtIFNhdmUgUGFnZVxuXHQgKi9cblx0alF1ZXJ5KGRvY3VtZW50KS5vbiggJ2NsaWNrJywgJy5kc2xjYS1zYXZlLWNvbXBvc2VyLWhvb2snLCBmdW5jdGlvbihlKXtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRjb25zb2xlLmxvZyggXCJkc2xjYS1zYXZlLWNvbXBvc2VyLWhvb2tcIiApO1xuXHRcdC8vIElmIHNvbWUgc2F2aW5nIGFjdGlvbiBub3QgYWxyZWFkeSBpbiBwcm9ncmVzc1xuXHRcdGlmICggISBqUXVlcnkoJ2JvZHknKS5oYXNDbGFzcygnZHNsY2EtbW9kdWxlLXNhdmluZy1pbi1wcm9ncmVzcycpICYmICEgalF1ZXJ5KCdib2R5JykuaGFzQ2xhc3MoJ2RzbGNhLXNhdmluZy1pbi1wcm9ncmVzcycpICkge1xuXHRcdFx0Ly8gQ2FsbCB0aGUgZnVuY3Rpb24gdG8gc2F2ZVxuXHRcdFx0ZHNsY19zYXZlX2NvbXBvc2VyKCk7XG5cdFx0fVxuXHR9KTtcblxuXHQvKipcblx0ICogSG9vayAtIFNhdmUgRHJhZnRcblx0ICovXG5cdGpRdWVyeShkb2N1bWVudCkub24oICdjbGljaycsICcuZHNsY2Etc2F2ZS1kcmFmdC1jb21wb3Nlci1ob29rJywgZnVuY3Rpb24oZSl7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0Ly8gSWYgc29tZSBzYXZpbmcgYWN0aW9uIG5vdCBhbHJlYWR5IGluIHByb2dyZXNzXG5cdFx0aWYgKCAhIGpRdWVyeSgnYm9keScpLmhhc0NsYXNzKCdkc2xjYS1tb2R1bGUtc2F2aW5nLWluLXByb2dyZXNzJykgJiYgISBqUXVlcnkoJ2JvZHknKS5oYXNDbGFzcygnZHNsY2Etc2F2aW5nLWluLXByb2dyZXNzJykgKSB7XG5cdFx0XHQvLyBDYWxsIHRoZSBmdW5jdGlvbiB0byBzYXZlXG5cdFx0XHRkc2xjX3NhdmVfZHJhZnRfY29tcG9zZXIoKTtcblx0XHR9XG5cdH0pO1xufVxuXG4vKipcbiogT3RoZXIgLSBHZW5lcmF0ZSBSZWFkYWJsZSBDb250ZW50IEZvciBTZWFyY2hcbiovXG5cbmZ1bmN0aW9uIGRzbGNhX2dlbl9jb250ZW50X2Zvcl9zZWFyY2goKSB7XG5cblx0aWYgKCB3aW5kb3cuZHNsY0RlYnVnICkgY29uc29sZS5sb2coICdkc2xjYV9nZW5fY29udGVudF9mb3Jfc2VhcmNoJyApO1xuXG5cdC8vIFZhcnNcblx0dmFyIGhvbGRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkc2xjYS1jb250ZW50LWZvci1zZWFyY2gnKTtcblxuXHRpZiAobnVsbCA9PT0gaG9sZGVyKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0dmFyIHByZXZDb250ZW50ID0gaG9sZGVyLnZhbHVlO1xuXHR2YXIgY29udGVudCA9ICcnO1xuXG5cdC8vIEdvIHRocm91Z2ggZWFjaCBjb250ZW50IGVsZW1lbnRcblxuXHR2YXIgZWxlbWVudHMgPSBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYVdpbmRvdy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjZHNsYy1tYWluIC5kc2xjLW1vZHVsZS1mcm9udCBbZGF0YS1leHBvcnRhYmxlLWNvbnRlbnRdJyk7XG5cblx0aWYgKCB1bmRlZmluZWQgIT09IGVsZW1lbnRzICkge1xuXHRcdEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZWxlbWVudHMsIGZ1bmN0aW9uKGVsLCBpKXtcblx0XHRcdC8vIGVsIC0gY3VycmVudCBET00gZWxlbWVudCwgaSDigJMgY291bnRlclxuXHRcdFx0dmFyIGV4dHJhY3RlZF9odG1sX2NvZGU7XG5cblx0XHRcdGlmICggZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWV4cG9ydGFibGUtY29udGVudCcpICE9PSAnJyApIHtcblxuXHRcdFx0XHR2YXIgd3JhcHBlcl90YWcgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZXhwb3J0YWJsZS1jb250ZW50Jyk7XG5cdFx0XHRcdGV4dHJhY3RlZF9odG1sX2NvZGUgPSAnPCcgKyB3cmFwcGVyX3RhZyArICc+JyArIGVsLmlubmVySFRNTCArICc8LycgKyB3cmFwcGVyX3RhZyArICc+Jztcblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0ZXh0cmFjdGVkX2h0bWxfY29kZSA9IGVsLmlubmVySFRNTDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBleHRyYWN0ZWRfaHRtbF9jb2RlICE9PSBudWxsICkge1xuXG5cdFx0XHRcdGNvbnRlbnQgKz0gZXh0cmFjdGVkX2h0bWxfY29kZS5yZXBsYWNlKC9cXHMrL2csICcgJykudHJpbSgpICsgJ1xcbic7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBTZXQgdGhlIHZhbHVlIG9mIHRoZSBjb250ZW50IGZpZWxkXG5cdGhvbGRlci52YWx1ZSA9IGNvbnRlbnQ7XG5cblx0Ly8gVXNlZCB0byBzaG93IHRoZSBwdWJsaXNoIGJ1dHRvbiBmb3IgcGFnZXMgbWFkZSBiZWZvcmUgdGhpcyBmZWF0dXJlXG5cdGlmICggcHJldkNvbnRlbnQgIT09IGNvbnRlbnQgKSB7XG5cblx0XHR3aW5kb3cuZHNsY19zaG93X3B1Ymxpc2hfYnV0dG9uKCk7XG5cdH1cbn1cblxuLyoqXG4gKiBPdGhlciAtIEdlbmVyYXRlIGNvZGUgb2YgZWRpdGFibGUgY29udGVudFxuICovXG5leHBvcnQgY29uc3QgZWRpdGFibGVDb250ZW50Q29kZUdlbmVyYXRpb24gPSAoIGRzbGNGaWVsZCApID0+IHtcblxuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2VkaXRhYmxlQ29udGVudENvZGVHZW5lcmF0aW9uJyApO1xuXG5cdC8vIEluIHNvbWUgcmFyZSBjYXNlcyB3ZSBoYXZlIHRoZSBuZXh0IGVycm9yOlxuXHQvLyBUeXBlRXJyb3I6IHVuZGVmaW5lZCBpcyBub3QgYW4gb2JqZWN0IChldmFsdWF0aW5nICdkc2xjRmllbGQuaHRtbCgpLnRyaW0oKS4uLicpXG5cdGlmICggdW5kZWZpbmVkID09PSBkc2xjRmllbGQgKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0dmFyIGRzbGNNb2R1bGUsIGRzbGNDb250ZW50LCBkc2xjRmllbGRJRDtcblxuXHRkc2xjTW9kdWxlID0gZHNsY0ZpZWxkLmNsb3Nlc3QoJy5kc2xjLW1vZHVsZS1mcm9udCcpO1xuXHRkc2xjQ29udGVudCA9IGRzbGNGaWVsZC5odG1sKCkudHJpbSgpLnJlcGxhY2UoLzx0ZXh0YXJlYS9nLCAnPGxjdGV4dGFyZWEnKS5yZXBsYWNlKC88XFwvdGV4dGFyZWEvZywgJzwvbGN0ZXh0YXJlYScpO1xuXHRkc2xjRmllbGRJRCA9IGRzbGNGaWVsZC5kYXRhKCdpZCcpO1xuXG5cdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1vcHRpb24tZnJvbnRbZGF0YS1pZD1cIicgKyBkc2xjRmllbGRJRCArICdcIl0nLCBkc2xjTW9kdWxlKS52YWwoIGRzbGNDb250ZW50ICk7XG59XG5cbmV4cG9ydCBjb25zdCBjb2RlR2VuZXJhdGlvbkluaXRKUyA9ICgpID0+IHtcblx0c2V0RXZlbnRMaXN0ZW5lcnMoKTtcbn0iLCIvKipcbiAqIFVJIC0gR2VuZXJhbCAtIEluaXRpYXRlIERyYWcgYW5kIERyb3AgRnVuY3RvbmFsaXR5XG4gKi9cblxuaW1wb3J0IHsgbW9kdWxlT3V0cHV0RGVmYXVsdCB9IGZyb20gXCIuL21vZHVsZS5qc1wiO1xuaW1wb3J0IFNvcnRhYmxlIGZyb20gJ3NvcnRhYmxlanMnO1xuXG5leHBvcnQgY29uc3QgZHJhZ0FuZERyb3BJbml0ID0gKCkgPT4ge1xuXG5cdGlmICggd2luZG93LmRzbGNEZWJ1ZyApIGNvbnNvbGUubG9nKCAnZHNsY19kcmFnX2FuZF9kcm9wJyApO1xuXG5cdHZhciBtb2R1bGVzU2VjdGlvbiwgbW9kdWxlc0FyZWEsIG1vZHVsZUlELCBtb2R1bGVPdXRwdXQ7XG5cblx0Ly8gRHJhZyBhbmQgRHJvcCBmb3IgbW9kdWxlIGljb25zIGZyb20gdGhlIGxpc3Qgb2YgbW9kdWxlc1xuXHR2YXIgbW9kdWxlc19saXN0ID0galF1ZXJ5KCcuZHNsY2EtbW9kdWxlcyAuZHNsY2Etc2VjdGlvbi1zY3JvbGxlci1jb250ZW50Jyk7IC8vIEdyb3VwcyB0aGF0IGNhbiBob2xkIG1vZHVsZXNcblx0Ly8galF1ZXJ5KG1vZHVsZXNfbGlzdCkuZWFjaChmdW5jdGlvbiAoaSxlKSB7XG5cblx0aWYoIG1vZHVsZXNfbGlzdC5sZW5ndGggPT0gMCApIHtcblxuXHRcdG1vZHVsZXNfbGlzdCA9IFsgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2RpdicgKSBdO1xuXHR9XG5cblx0dmFyIG1vZHVsZXNfbGlzdF9zb3J0YWJsZSA9IFNvcnRhYmxlLmNyZWF0ZShtb2R1bGVzX2xpc3RbMF0sIHtcblx0XHRzb3J0OiBmYWxzZSwgLy8gZG8gbm90IGFsbG93IHNvcnRpbmcgaW5zaWRlIHRoZSBsaXN0IG9mIG1vZHVsZXNcblx0XHRncm91cDogeyBuYW1lOiAnbW9kdWxlcycsIHB1bGw6ICdjbG9uZScsIHB1dDogZmFsc2UgfSxcblx0XHRhbmltYXRpb246IDE1MCxcblx0XHRoYW5kbGU6ICcuZHNsY2EtbW9kdWxlJyxcblx0XHRkcmFnZ2FibGU6ICcuZHNsY2EtbW9kdWxlJyxcblx0XHQvLyBnaG9zdENsYXNzOiAnZHNsY2EtbW9kdWxlLXBsYWNlaG9sZGVyJyxcblx0XHRjaG9zZW5DbGFzczogJ2RzbGNhLW1vZHVsZS1kcmFnZ2luZycsXG5cdFx0c2Nyb2xsOiB0cnVlLCAvLyBvciBIVE1MRWxlbWVudFxuXHRcdHNjcm9sbFNlbnNpdGl2aXR5OiAxNTAsIC8vIHB4LCBob3cgbmVhciB0aGUgbW91c2UgbXVzdCBiZSB0byBhbiBlZGdlIHRvIHN0YXJ0IHNjcm9sbGluZy5cblx0XHRzY3JvbGxTcGVlZDogMTUsIC8vIHB4XG5cblxuXHRcdHNldERhdGE6IGZ1bmN0aW9uIChkYXRhVHJhbnNmZXIsIGRyYWdFbCkge1xuXHRcdC8vZHJhZ0VsIOKAkyBjb250YWlucyBodG1sIG9mIHRoZSBkcmFnZ2FibGUgZWxlbWVudCBsaWtlOlxuXHRcdC8vPGRpdiBjbGFzcz1cImRzbGNhLW1vZHVsZSBkc2xjYS1zY3JvbGxlci1pdGVtIGRzbGNhLW9yaWdpbiBkc2xjYS1vcmlnaW4tR2VuZXJhbFwiIGRhdGEtaWQ9XCJEU0xDX0J1dHRvblwiIGRhdGEtb3JpZ2luPVwiR2VuZXJhbFwiIGRyYWdnYWJsZT1cImZhbHNlXCIgc3R5bGU9XCJcIj5cblxuXHRcdFx0ICAvLyBkYXRhVHJhbnNmZXIuc2V0RGF0YSgnVGV4dCcsIGRyYWdFbC50ZXh0Q29udGVudCk7XG5cdFx0XHRkYXRhVHJhbnNmZXIuc2V0RGF0YShMaXZlQ29tcG9zZXIuVXRpbHMubXNpZXZlcnNpb24oKSAhPT0gZmFsc2UgPyAnVGV4dCcgOiAndGV4dC9odG1sJywgZHJhZ0VsLmlubmVySFRNTCk7XG5cdFx0fSxcblxuXHRcdC8vIGRyYWdnaW5nIHN0YXJ0ZWRcblx0XHRvblN0YXJ0OiBmdW5jdGlvbiAoLyoqRXZlbnQqL2V2dCkge1xuXHRcdFx0ZXZ0Lm9sZEluZGV4OyAgLy8gZWxlbWVudCBpbmRleCB3aXRoaW4gcGFyZW50XG5cblx0XHRcdC8vIGpRdWVyeSggJy5kc2xjLW1vZHVsZXMtYXJlYScgKS5zb3J0YWJsZSggXCJyZWZyZXNoUG9zaXRpb25zXCIgKTtcblx0XHRcdGpRdWVyeSgnYm9keScpLnJlbW92ZUNsYXNzKCdkc2xjYS1uZXctbW9kdWxlLWRyYWctbm90LWluLXByb2dyZXNzJykuYWRkQ2xhc3MoJ2RzbGNhLW5ldy1tb2R1bGUtZHJhZy1pbi1wcm9ncmVzcycpO1xuXHRcdFx0alF1ZXJ5KCdib2R5JywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkucmVtb3ZlQ2xhc3MoJ2RzbGNhLW5ldy1tb2R1bGUtZHJhZy1ub3QtaW4tcHJvZ3Jlc3MnKS5hZGRDbGFzcygnZHNsY2EtbmV3LW1vZHVsZS1kcmFnLWluLXByb2dyZXNzJyk7XG5cdFx0XHRqUXVlcnkoJyNkc2xjLWhlYWRlcicpLmFkZENsYXNzKCdkc2xjYS1oZWFkZXItbG93LXotaW5kZXgnKTtcblx0XHR9LFxuXG5cdFx0Ly8gZHJhZ2dpbmcgZW5kZWRcblx0XHRvbkVuZDogZnVuY3Rpb24gKC8qKkV2ZW50Ki9ldnQpIHtcblx0XHRcdGV2dC5vbGRJbmRleDsgIC8vIGVsZW1lbnQncyBvbGQgaW5kZXggd2l0aGluIHBhcmVudFxuXHRcdFx0ZXZ0Lm5ld0luZGV4OyAgLy8gZWxlbWVudCdzIG5ldyBpbmRleCB3aXRoaW4gcGFyZW50XG5cblx0XHRcdHZhciBpdGVtRWwgPSBldnQuaXRlbTsgIC8vIGRyYWdnZWQgSFRNTFxuXHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHQvLyBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHQvL3JldHVybiBmYWxzZTtcblxuXHRcdFx0Ly8gUHJldmVudCBkcm9wIGludG8gbW9kdWxlcyBsaXN0aW5nXG5cdFx0XHRpZihqUXVlcnkoaXRlbUVsKS5jbG9zZXN0KCcuZHNsY2Etc2VjdGlvbi1zY3JvbGxlci1jb250ZW50JykubGVuZ3RoID4gMCkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0XHRqUXVlcnkoICcuZHNsY2Etb3B0aW9ucy1ob3ZlcmVkJywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCApLnJlbW92ZUNsYXNzKCdkc2xjYS1vcHRpb25zLWhvdmVyZWQnKTtcblxuXHRcdFx0Ly8gVmFyc1xuXHRcdFx0bW9kdWxlc0FyZWEgPSBqUXVlcnkoaXRlbUVsLnBhcmVudE5vZGUpOyAvL2pRdWVyeSh0aGlzKTtcblx0XHRcdG1vZHVsZUlEID0gaXRlbUVsLmRhdGFzZXQuaWQ7IC8vIGdldCB2YWx1ZSBvZiBkYXRhLWlkIGF0dHIuXG5cblx0XHRcdHdpbmRvdy5kc2xjX2dlbmVyYXRlX2NvZGUoKTtcblxuXHRcdFx0aWYgKCBtb2R1bGVJRCA9PSAnRFNMQ19NX0EnIHx8IGpRdWVyeSgnYm9keScpLmhhc0NsYXNzKCdkc2xjYS1tb2R1bGUtZHJvcC1pbi1wcm9ncmVzcycpIHx8XG5cdFx0XHRcdG1vZHVsZXNBcmVhLmNsb3Nlc3QoJyNkc2xjLWhlYWRlcicpLmxlbmd0aCB8fCBtb2R1bGVzQXJlYS5jbG9zZXN0KCcjZHNsYy1mb290ZXInKS5sZW5ndGggKSB7XG5cblx0XHRcdFx0Ly8gbm90aGluZ1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdGpRdWVyeSgnYm9keScpLmFkZENsYXNzKCdkc2xjYS1tb2R1bGUtZHJvcC1pbi1wcm9ncmVzcycpO1xuXG5cdFx0XHRcdC8vIEFkZCBwYWRkaW5nIHRvIG1vZHVsZXMgYXJlYVxuXHRcdFx0XHQvKlxuXHRcdFx0XHRpZiAoIG1vZHVsZXNBcmVhLmhhc0NsYXNzKCdkc2xjLW1vZHVsZXMtYXJlYS1ub3QtZW1wdHknKSApXG5cdFx0XHRcdFx0bW9kdWxlc0FyZWEuYW5pbWF0ZSh7IHBhZGRpbmdCb3R0b20gOiA1MCB9LCAxNTApO1xuXHRcdFx0XHQqL1xuXG5cdFx0XHRcdC8vIFRPRE86IE9wdGltaXplIGV4cGVuc2l2ZSBhamF4IGNhbGwgaW4gdGhpcyBmdW5jdGlvbiFcblx0XHRcdFx0Ly8gTG9hZCBPdXRwdXRcblx0XHRcdFx0bW9kdWxlT3V0cHV0RGVmYXVsdCggbW9kdWxlSUQsIGZ1bmN0aW9uKCByZXNwb25zZSApe1xuXG5cdFx0XHRcdFx0Ly8gQXBwZW5kIENvbnRlbnRcblx0XHRcdFx0XHRtb2R1bGVPdXRwdXQgPSByZXNwb25zZS5vdXRwdXQ7XG5cblx0XHRcdFx0XHQvLyBSZW1vdmUgZXh0cmEgcGFkZGluZyBmcm9tIGFyZWFcblx0XHRcdFx0XHQvLyBtb2R1bGVzQXJlYS5jc3MoeyBwYWRkaW5nQm90dG9tIDogMCB9KTtcblxuXHRcdFx0XHRcdC8vIEFkZCBvdXRwdXRcblx0XHRcdFx0XHQvLyBUT0RPOiBvcHRpbWl6ZSBqUXVlcnkgaW4gdGhlIHN0cmluZyBiZWxvd1xuXG5cdFx0XHRcdFx0dmFyIGRzbGNKdXN0QWRkZWQgPSBMaXZlQ29tcG9zZXIuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdEJ1aWxkZXIuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdEhlbHBlcnMuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGluc2VydE1vZHVsZSggbW9kdWxlT3V0cHV0LCBqUXVlcnkoJy5kc2xjYS1tb2R1bGUnLCBtb2R1bGVzQXJlYSkgKTtcblxuXG5cdFx0XHRcdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRcdExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhV2luZG93LmRzbGNfbWFzb25yeSgpO1xuXHRcdFx0XHRcdFx0alF1ZXJ5KCdib2R5JykucmVtb3ZlQ2xhc3MoJ2RzbGNhLW1vZHVsZS1kcm9wLWluLXByb2dyZXNzJyk7XG5cdFx0XHRcdFx0fSwgNzAwICk7XG5cblx0XHRcdFx0XHQvLyBcIlNob3dcIiBubyBjb250ZW50IHRleHQgLy8gTm90IHVzZWQgYW55bW9yZT9cblx0XHRcdFx0XHQvLyBqUXVlcnkoJy5kc2xjYS1uby1jb250ZW50LXByaW1hcnknLCBtb2R1bGVzQXJlYSApLmNzcyh7IG9wYWNpdHkgOiAxIH0pO1xuXG5cdFx0XHRcdFx0Ly8gXCJTaG93XCIgbW9kdWxlcyBhcmVhIG1hbmFnZW1lbnRcblx0XHRcdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGVzLWFyZWEtbWFuYWdlJywgbW9kdWxlc0FyZWEpLmNzcyAoeyB2aXNpYmlsaXR5IDogJ3Zpc2libGUnIH0pO1xuXG5cdFx0XHRcdFx0Ly8gR2VuZXJldGVcblx0XHRcdFx0XHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYVdpbmRvdy5kc2xjX2Nhcm91c2VsKCk7XG5cdFx0XHRcdFx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFXaW5kb3cuZHNsY190YWJzKCk7XG5cdFx0XHRcdFx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFXaW5kb3cuZHNsY19pbml0X2FjY29yZGlvbigpO1xuXG5cdFx0XHRcdFx0d2luZG93LmRzbGNfZ2VuZXJhdGVfY29kZSgpO1xuXHRcdFx0XHRcdC8vIFNob3cgcHVibGlzaFxuXHRcdFx0XHRcdHdpbmRvdy5kc2xjX3Nob3dfcHVibGlzaF9idXR0b24oKTtcblxuXHRcdFx0XHRcdC8vIExpdmVDb21wb3Nlci5CdWlsZGVyLlVJLmluaXRJbmxpbmVFZGl0b3JzKCk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdC8vIExvYWRpbmcgYW5pbWF0aW9uXG5cblx0XHRcdFx0Ly8gU2hvdyBsb2FkZXIg4oCTIE5vdCB1c2VkIGFueW1vcmUuXG5cdFx0XHRcdC8vIGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1sb2FkaW5nJywgbW9kdWxlc0FyZWEpLnNob3coKTtcblxuXHRcdFx0XHQvLyBDaGFuZ2UgbW9kdWxlIGljb24gdG8gdGhlIHNwaW5uaW5nIGxvYWRlci5cblx0XHRcdFx0alF1ZXJ5KGl0ZW1FbCkuZmluZCgnLmRzbGNhLWljb24nKS5hdHRyKCdjbGFzcycsICcnKS5hdHRyKCdjbGFzcycsICdkc2xjYS1pY29uIGRzbGMtaWNvbi1yZWZyZXNoIGRzbGMtaWNvbi1zcGluJyk7XG5cblxuXHRcdFx0XHQvLyBIaWRlIG5vIGNvbnRlbnQgdGV4dCAvLyBOb3QgdXNlZCBhbnltb3JlP1xuXHRcdFx0XHQvLyBqUXVlcnkoJy5kc2xjYS1uby1jb250ZW50LXByaW1hcnknLCBtb2R1bGVzQXJlYSkuY3NzKHsgb3BhY2l0eSA6IDAgfSk7XG5cblx0XHRcdFx0Ly8gSGlkZSBtb2R1bGVzIGFyZWEgbWFuYWdlbWVudFxuXHRcdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGVzLWFyZWEtbWFuYWdlJywgbW9kdWxlc0FyZWEpLmNzcyAoeyB2aXNpYmlsaXR5IDogJ2hpZGRlbicgfSk7XG5cblx0XHRcdFx0Ly8gQW5pbWF0ZSBsb2FkaW5nXG5cdFx0XHRcdC8qXG5cdFx0XHRcdHZhciByYW5kb21Mb2FkaW5nVGltZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgxMDAgLSA1MCArIDEpICsgNTApICogMTAwO1xuXHRcdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtbG9hZGluZy1pbm5lcicsIG1vZHVsZXNBcmVhKS5jc3MoeyB3aWR0aCA6IDAgfSkuYW5pbWF0ZSh7XG5cdFx0XHRcdFx0d2lkdGggOiAnMTAwJSdcblx0XHRcdFx0fSwgcmFuZG9tTG9hZGluZ1RpbWUsICdsaW5lYXInICk7XG5cdFx0XHRcdCovXG5cdFx0XHR9XG5cblx0XHRcdExpdmVDb21wb3Nlci5CdWlsZGVyLlVJLnN0b3BTY3JvbGxlcigpO1xuXHRcdFx0alF1ZXJ5KCdib2R5JykucmVtb3ZlQ2xhc3MoJ2RzbGNhLW5ldy1tb2R1bGUtZHJhZy1pbi1wcm9ncmVzcycpLmFkZENsYXNzKCdkc2xjYS1uZXctbW9kdWxlLWRyYWctbm90LWluLXByb2dyZXNzJyk7XG5cdFx0XHRqUXVlcnkoJ2JvZHknLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5yZW1vdmVDbGFzcygnZHNsY2EtbmV3LW1vZHVsZS1kcmFnLWluLXByb2dyZXNzJykuYWRkQ2xhc3MoJ2RzbGNhLW5ldy1tb2R1bGUtZHJhZy1ub3QtaW4tcHJvZ3Jlc3MnKTtcblx0XHRcdGpRdWVyeSgnI2RzbGMtaGVhZGVyJykucmVtb3ZlQ2xhc3MoJ2RzbGNhLWhlYWRlci1sb3ctei1pbmRleCcpO1xuXHRcdH0sXG5cblx0XHQvLyBFbGVtZW50IGlzIGRyb3BwZWQgaW50byB0aGUgbGlzdCBmcm9tIGFub3RoZXIgbGlzdFxuXHRcdG9uQWRkOiBmdW5jdGlvbiAoLyoqRXZlbnQqL2V2dCkge1xuXHRcdFx0dmFyIGl0ZW1FbCA9IGV2dC5pdGVtOyAgLy8gZHJhZ2dlZCBIVE1MRWxlbWVudFxuXHRcdFx0ZXZ0LmZyb207ICAvLyBwcmV2aW91cyBsaXN0XG5cdFx0XHQvLyArIGluZGV4ZXMgZnJvbSBvbkVuZFxuXHRcdFx0Ly8gZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fSxcblxuXHRcdC8vIENoYW5nZWQgc29ydGluZyB3aXRoaW4gbGlzdFxuXHRcdG9uVXBkYXRlOiBmdW5jdGlvbiAoLyoqRXZlbnQqL2V2dCkge1xuXHRcdFx0dmFyIGl0ZW1FbCA9IGV2dC5pdGVtOyAgLy8gZHJhZ2dlZCBIVE1MRWxlbWVudFxuXHRcdFx0Ly8gKyBpbmRleGVzIGZyb20gb25FbmRcblx0XHRcdHdpbmRvdy5kc2xjX3Nob3dfcHVibGlzaF9idXR0b24oKTtcblx0XHRcdC8vIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH0sXG5cblx0XHQvLyBDYWxsZWQgYnkgYW55IGNoYW5nZSB0byB0aGUgbGlzdCAoYWRkIC8gdXBkYXRlIC8gcmVtb3ZlKVxuXHRcdG9uU29ydDogZnVuY3Rpb24gKC8qKkV2ZW50Ki9ldnQpIHtcblx0XHRcdC8vIHNhbWUgcHJvcGVydGllcyBhcyBvblVwZGF0ZVxuXHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHQvLyBldnQuc3RvcFByb3BhZ2F0aW9uKCk7IHJldHVybiBmYWxzZTtcblx0XHR9LFxuXG5cdFx0Ly8gRWxlbWVudCBpcyByZW1vdmVkIGZyb20gdGhlIGxpc3QgaW50byBhbm90aGVyIGxpc3Rcblx0XHRvblJlbW92ZTogZnVuY3Rpb24gKC8qKkV2ZW50Ki9ldnQpIHtcblx0XHRcdCAgLy8gc2FtZSBwcm9wZXJ0aWVzIGFzIG9uVXBkYXRlXG5cdFx0fSxcblxuXHRcdC8vIEF0dGVtcHQgdG8gZHJhZyBhIGZpbHRlcmVkIGVsZW1lbnRcblx0XHRvbkZpbHRlcjogZnVuY3Rpb24gKC8qKkV2ZW50Ki9ldnQpIHtcblx0XHRcdHZhciBpdGVtRWwgPSBldnQuaXRlbTsgIC8vIEhUTUxFbGVtZW50IHJlY2VpdmluZyB0aGUgYG1vdXNlZG93bnx0YXBzdGFydGAgZXZlbnQuXG5cdFx0fSxcblxuXHRcdC8vIEV2ZW50IHdoZW4geW91IG1vdmUgYW4gaXRlbSBpbiB0aGUgbGlzdCBvciBiZXR3ZWVuIGxpc3RzXG5cdFx0b25Nb3ZlOiBmdW5jdGlvbiAoLyoqRXZlbnQqL2V2dCkge1xuXHRcdFx0Ly8gRXhhbXBsZTogaHR0cDovL2pzYmluLmNvbS90dXlhZmUvMS9lZGl0P2pzLG91dHB1dFxuXHRcdFx0ZXZ0LmRyYWdnZWQ7IC8vIGRyYWdnZWQgSFRNTEVsZW1lbnRcblx0XHRcdGV2dC5kcmFnZ2VkUmVjdDsgLy8gVGV4dFJlY3RhbmdsZSB7bGVmdCwgdG9wLCByaWdodCDQuCBib3R0b219XG5cdFx0XHRldnQucmVsYXRlZDsgLy8gSFRNTEVsZW1lbnQgb24gd2hpY2ggaGF2ZSBndWlkZWRcblx0XHRcdGV2dC5yZWxhdGVkUmVjdDsgLy8gVGV4dFJlY3RhbmdsZVxuXHRcdFx0Ly8gcmV0dXJuIGZhbHNlOyDigJQgZm9yIGNhbmNlbFxuXHRcdFx0alF1ZXJ5KCBldnQudG8gKS5hZGRDbGFzcygnZHNsY2Etb3B0aW9ucy1ob3ZlcmVkJyk7XG5cdFx0fVxuXHR9KTtcbn1cbiIsIi8qKlxuICogVGhlIHBsYWNlIHRvIGRvIGFsbCB0aGUgZXZlbnRzIGJpbmRpbmdzLlxuICovXG5cbmV4cG9ydCBjb25zdCBldmVudHNJbml0ID0gKCkgPT57XG5cdGNvbnNvbGUubG9nKCBcImV2ZW50c0luaXQ6XCIgKTtcblx0Ly8gUGFyZW50IHBhZ2UgZXZlbnRzLlxuXHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuXG5cdFx0Y29uc29sZS5sb2coIFwiUEFSRU5UIGV2ZW50LnRhcmdldDpcIiApOyBjb25zb2xlLmxvZyggZXZlbnQudGFyZ2V0ICk7XG5cblx0XHRpZiAoIGV2ZW50LnRhcmdldC5tYXRjaGVzKCAnW2RhdGEtZXZlbnQ9XCJtb2RhbC13eXNpd3lnLWNhbmNlbFwiXScgKSApIHtcblx0XHRcdC8vIENyZWF0ZSBhIG5ldyBcIk1vZGFsIENhbmNlbFwiIGV2ZW50XG5cdFx0XHRjb25zdCBtb2RhbFd5c2l3eWdDYW5jZWwgPSBuZXcgQ3VzdG9tRXZlbnQoJ21vZGFsV3lzaXd5Z0NhbmNlbCcsIHsgZGV0YWlsOiBldmVudC50YXJnZXQgfSk7XG5cdFx0XHRkb2N1bWVudC5kaXNwYXRjaEV2ZW50KCBtb2RhbFd5c2l3eWdDYW5jZWwgKTtcblx0XHR9XG5cblx0XHRpZiAoIGV2ZW50LnRhcmdldC5tYXRjaGVzKCAnW2RhdGEtZXZlbnQ9XCJtb2RhbC13eXNpd3lnLWNvbmZpcm1cIl0nICkgKSB7XG5cdFx0XHQvLyBDcmVhdGUgYSBuZXcgXCJNb2RhbCBDYW5jZWxcIiBldmVudFxuXHRcdFx0Y29uc3QgbW9kYWxXeXNpd3lnQ29uZmlybSA9IG5ldyBDdXN0b21FdmVudCgnbW9kYWxXeXNpd3lnQ29uZmlybScsIHsgZGV0YWlsOiBldmVudC50YXJnZXQgfSk7XG5cdFx0XHRkb2N1bWVudC5kaXNwYXRjaEV2ZW50KCBtb2RhbFd5c2l3eWdDb25maXJtICk7XG5cdFx0fVxuXHR9LCBmYWxzZSk7XG5cblx0Ly8gUHJldmlldyBpZnJhbWUgZXZlbnRzLlxuXHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYVdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0Y29uc29sZS5sb2coIFwiaUZSQU1FIGV2ZW50LnRhcmdldDpcIiApOyBjb25zb2xlLmxvZyggZXZlbnQudGFyZ2V0ICk7XG5cblx0XHRpZiAoIGV2ZW50LnRhcmdldC5tYXRjaGVzKCAnW2RhdGEtZXZlbnQ9XCJtb2R1bGUtZWRpdFwiXScgKSApIHtcblx0XHRcdC8vIENyZWF0ZSBhIG5ldyBcIk9wZW4gTW9kdWxlIEVkaXRpbmdcIiBldmVudFxuXHRcdFx0Y29uc3QgbW9kdWxlRWRpdCA9IG5ldyBDdXN0b21FdmVudCgnbW9kdWxlRWRpdCcsIHsgZGV0YWlsOiBldmVudC50YXJnZXQgfSk7XG5cdFx0XHRkb2N1bWVudC5kaXNwYXRjaEV2ZW50KCBtb2R1bGVFZGl0ICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBldmVudC50YXJnZXQubWF0Y2hlcyggJ1tkYXRhLWV2ZW50PVwibW9kdWxlLWR1cGxpY2F0ZVwiXScgKSApIHtcblx0XHRcdC8vIENyZWF0ZSBhIG5ldyBcIkR1cGxpY2F0ZSBNb2R1bGVcIiBldmVudFxuXHRcdFx0Y29uc3QgbW9kdWxlRHVwbGljYXRlID0gbmV3IEN1c3RvbUV2ZW50KCdtb2R1bGVEdXBsaWNhdGUnLCB7IGRldGFpbDogZXZlbnQudGFyZ2V0IH0pO1xuXHRcdFx0ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudCggbW9kdWxlRHVwbGljYXRlICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBldmVudC50YXJnZXQubWF0Y2hlcyggJ1tkYXRhLWV2ZW50PVwibW9kdWxlLWRlbGV0ZVwiXScgKSApIHtcblx0XHRcdC8vIENyZWF0ZSBhIG5ldyBcIkRlbGV0ZSBNb2R1bGVcIiBldmVudFxuXHRcdFx0Y29uc3QgbW9kdWxlRGVsZXRlID0gbmV3IEN1c3RvbUV2ZW50KCdtb2R1bGVEZWxldGUnLCB7IGRldGFpbDogZXZlbnQudGFyZ2V0IH0pO1xuXHRcdFx0ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudCggbW9kdWxlRGVsZXRlICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBldmVudC50YXJnZXQubWF0Y2hlcyggJy5kc2xjYS1jaGFuZ2Utd2lkdGgtbW9kdWxlLW9wdGlvbnMgW2RhdGEtc2l6ZV0nICkgKSB7XG5cdFx0XHQvLyBDcmVhdGUgYSBuZXcgXCJDaGFuZ2UgTW9kdWxlIFdpZHRoXCIgZXZlbnRcblx0XHRcdGNvbnN0IG1vZHVsZUNoYW5nZVdpZHRoID0gbmV3IEN1c3RvbUV2ZW50KCdtb2R1bGVDaGFuZ2VXaWR0aCcsIHsgZGV0YWlsOiBldmVudC50YXJnZXQgfSk7XG5cdFx0XHRkb2N1bWVudC5kaXNwYXRjaEV2ZW50KCBtb2R1bGVDaGFuZ2VXaWR0aCApO1xuXHRcdH1cblxuXHRcdGlmICggZXZlbnQudGFyZ2V0Lm1hdGNoZXMoICdbZGF0YS1ldmVudD1cInd5c2l3eWctZWRpdFwiXScgKSApIHtcblx0XHRcdC8vIENyZWF0ZSBhIG5ldyBcIk1vZHVsZSBXWVNJV1lHIEVkaXRpbmdcIiBldmVudFxuXHRcdFx0Y29uc3Qgd3lzaXd5Z0VkaXQgPSBuZXcgQ3VzdG9tRXZlbnQoJ3d5c2l3eWdFZGl0JywgeyBkZXRhaWw6IGV2ZW50LnRhcmdldCB9KTtcblx0XHRcdGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoIHd5c2l3eWdFZGl0ICk7XG5cdFx0fVxuXG5cdH0sIGZhbHNlKTtcbn0iLCIvKipcbiAqIE1haW4gYnVpbGRlciBmaWxlXG4gKi9cblxuaW1wb3J0IHsgdGVtcGxhdGVzUGFuZWxJbml0IH0gZnJvbSAnLi90ZW1wbGF0ZXMuanMnO1xuaW1wb3J0IHsgZml4Q29udGVudGVkaXRhYmxlLCBrZXlwcmVzc0V2ZW50cyB9IGZyb20gJy4vdWlnZW5lcmFsLmpzJztcbmltcG9ydCB7IENTZWN0aW9uc0NvbnRhaW5lciB9IGZyb20gJy4vc2VjdGlvbnNjb250YWluZXIuY2xhc3MuanMnO1xuaW1wb3J0IHsgc2V0dGluZ3NQYW5lbEluaXQgfSBmcm9tICcuL3NldHRpbmdzLnBhbmVsLmpzJztcbmltcG9ydCB7IHNlY3Rpb25zSW5pdCB9IGZyb20gJy4vc2VjdGlvbnMuanMnO1xuaW1wb3J0IHsgZHJhZ0FuZERyb3BJbml0IH0gZnJvbSAnLi9kcmFnbmRyb3AuanMnO1xuaW1wb3J0IHsgY29kZUdlbmVyYXRpb25Jbml0SlMgfSBmcm9tICcuL2NvZGVnZW5lcmF0aW9uLmpzJztcbmltcG9ydCB7IGluaXRQcmV2aWV3QXJlYVNjcm9sbGVyIH0gZnJvbSAnLi9zY3JvbGxlci5qcyc7XG5pbXBvcnQgeyB1bnRpbHNJbml0SnMgfSBmcm9tICcuL3V0aWxzLmNsYXNzLmpzJztcbmltcG9ydCB7IG1vZGFsd2luZG93SW5pdEpTIH0gZnJvbSAnLi9tb2RhbHdpbmRvdy5qcyc7XG5pbXBvcnQgeyBtb2R1bGVJbml0SlMgfSBmcm9tICcuL21vZHVsZS5qcyc7XG5pbXBvcnQgeyBwcmVzZXRzSW5pdCB9IGZyb20gXCIuL3ByZXNldHMuanNcIjtcbmltcG9ydCB7IGV2ZW50c0luaXQgfSBmcm9tICcuL2V2ZW50cy5qcyc7XG5cblxudmFyIGRzbGNEZWJ1ZyA9IGZhbHNlO1xuLy8gZHNsY0RlYnVnID0gdHJ1ZTtcblxuLy8gR2xvYmFsIFBsdWdpbiBPYmplY3RcbndpbmRvdy5MaXZlQ29tcG9zZXIgPSB7XG5cbiAgICBCdWlsZGVyOiB7XG5cbiAgICAgICAgRWxlbWVudHM6IHt9LFxuICAgICAgICBVSToge30sXG4gICAgICAgIEFjdGlvbnM6IHt9LFxuICAgICAgICBGbGFnczoge30sXG4gICAgICAgIFByZXZpZXdGcmFtZToge30sXG4gICAgICAgIEhlbHBlcnM6IHt9XG4gICAgfSxcbiAgICBQcm9kdWN0aW9uOiB7XG5cbiAgICB9LFxuICAgIFV0aWxzOiB7fVxufTtcblxuKGZ1bmN0aW9uKCl7XG5cblx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuRmxhZ3MgPSB7XG5cblx0XHR3aW5kb3dTY3JvbGxlcjogZmFsc2UsXG5cdFx0cGFuZWxPcGVuZWQ6IGZhbHNlLCAvLyBTZXR0aW5ncyBwYW5lbCBvcGVuZWRcblx0XHR1aUhpZGRlbjogZmFsc2UsIC8vIGV4IGNvbXBvc2VyLWhpZGRlblxuXHRcdG1vZGFsT3BlbjogZmFsc2UsXG5cblx0XHQvLyBVc2VkIHRvIHByZXZlbnQgbXVsdGlwbGUgY29kZSBnZW5lcmF0aW9uIHdoZW5cblx0XHQvLyBjYW5jZWxsaW5nIHJvdyBlZGl0c1xuXHRcdGdlbmVyYXRlX2NvZGVfYWZ0ZXJfcm93X2NoYW5nZWQ6IHRydWVcblx0fTtcblxuXHRMaXZlQ29tcG9zZXIuQnVpbGRlci5BY3Rpb25zID0ge1xuXG5cdFx0cG9zdHBvbmVkX2FjdGlvbnNfcXVldWU6IHt9LFxuXHRcdGFkZF9wb3N0cG9uZWRfYWN0aW9uOiBmdW5jdGlvbiggYWN0aW9uX25hbWUgKSB7XG5cblx0XHRcdGlmIChhY3Rpb25fbmFtZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHQgICByZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICggaXNOYU4gKCB0aGlzLnBvc3Rwb25lZF9hY3Rpb25zX3F1ZXVlWyBhY3Rpb25fbmFtZSBdICkgKSB7XG5cdFx0XHRcdHRoaXMucG9zdHBvbmVkX2FjdGlvbnNfcXVldWVbIGFjdGlvbl9uYW1lIF0gPSAwO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLnBvc3Rwb25lZF9hY3Rpb25zX3F1ZXVlWyBhY3Rpb25fbmFtZSBdICs9IDE7XG5cdFx0fSxcblxuXHRcdHJlbGVhc2VfcG9zdHBvbmVkX2FjdGlvbnM6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdGpRdWVyeS5lYWNoKCB0aGlzLnBvc3Rwb25lZF9hY3Rpb25zX3F1ZXVlLCBmdW5jdGlvbihpbmRleCwgdmFsdWUpIHtcblxuXHRcdFx0XHRpZiAoIDEgPCB2YWx1ZSApIHtcblx0XHRcdFx0XHRzZWxmLnBvc3Rwb25lZF9hY3Rpb25zX3F1ZXVlW2luZGV4XSAtPSAxO1xuXHRcdFx0XHR9IGVsc2UgaWYgKCAxID09IHZhbHVlICkge1xuXHRcdFx0XHRcdHdpbmRvd1tpbmRleF0oKTsgLy8gUnVuIGZ1bmN0aW9uIHdpdGggYWN0aW9uIG5hbWVcblx0XHRcdFx0XHRzZWxmLnBvc3Rwb25lZF9hY3Rpb25zX3F1ZXVlW2luZGV4XSAtPSAxO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0Ly8gTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuQWN0aW9ucy5vcHRpb25zQ2hhbmdlZCgpIC0gaWYgY2FsbGluZyBmcm9tIHBhcmVudC5cblx0XHQvLyBwYXJlbnQuTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuQWN0aW9ucy5vcHRpb25zQ2hhbmdlZCgpIC0gaWYgY2FsbGluZyBmcm9tIGlmcmFtZS5cblx0XHRvcHRpb25zQ2hhbmdlZDogZnVuY3Rpb24gKCkge1xuXHRcdFx0d2luZG93LmRzbGNfc2hvd19wdWJsaXNoX2J1dHRvbigpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBJbnNlcnRzIG1vZHVsZSBmaXhpbmcgaW5saW5lIHNjcmlwdHMgYnVnXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBtb2R1bGVIVE1MXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBhZnRlck9iamVjdCBhZnRlciB3aGF0IG1vZHVsZSBzaG91bGQgYmUgaW5zZXJ0ZWRcblx0ICpcblx0ICogQHJldHVybiB7RE9NfSBpbnNlcnRlZCBvYmplY3Rcblx0ICovXG5cdExpdmVDb21wb3Nlci5CdWlsZGVyLkhlbHBlcnMuaW5zZXJ0TW9kdWxlID0gZnVuY3Rpb24oIG1vZHVsZUhUTUwsIGFmdGVyT2JqZWN0ICkge1xuXG5cdFx0dmFyIG5ld01vZHVsZSA9IGpRdWVyeShtb2R1bGVIVE1MKSxcblx0XHRcdGFmdGVyT2JqZWN0ID0galF1ZXJ5KGFmdGVyT2JqZWN0KTtcblxuXHRcdHZhciBzY3JpcHRzID0gW107XG5cblx0XHRuZXdNb2R1bGUuZmluZCgnc2NyaXB0JykuZWFjaChmdW5jdGlvbigpe1xuXG5cdFx0XHRzY3JpcHRzLnB1c2godGhpcy5pbm5lckhUTUwpO1xuXHRcdFx0dGhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMpO1xuXHRcdH0pO1xuXG5cdFx0Ly8gSW5zZXJ0ICd1cGRhdGVkJyBtb2R1bGUgb3V0cHV0IGFmdGVyIG1vZHVsZSB3ZSBhcmUgZWRpdGluZy5cblx0XHQvLyAmJiBEZWxldGUgJ29sZCcgaW5zdGFuY2Ugb2YgdGhlIG1vZHVsZSB3ZSBhcmUgZWRpdGluZy5cblx0XHRhZnRlck9iamVjdFxuXHRcdFx0LmFmdGVyKG5ld01vZHVsZSlcblx0XHRcdC5yZW1vdmUoKTtcblxuXHRcdHNjcmlwdHMuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG5cblx0XHRcdHZhciBzY3JpcHQgPSBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50WzBdLmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuXHRcdFx0c2NyaXB0LmlubmVySFRNTCA9IGl0ZW07XG5cdFx0XHRzY3JpcHQudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnO1xuXG5cdFx0XHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50WzBdLmdldEVsZW1lbnRCeUlkKG5ld01vZHVsZVswXS5pZCkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcblx0XHR9KTtcblxuXHRcdHNjcmlwdHMgPSBudWxsO1xuXHRcdGFmdGVyT2JqZWN0ID0gbnVsbDtcblxuXHRcdHJldHVybiBuZXdNb2R1bGU7XG5cdH1cbn0oKSk7XG5cbi8qKiBXYWl0IHRpbGwgdGlueU1DRSBsb2FkZWQgKi9cbndpbmRvdy5wcmV2aWV3QXJlYVRpbnlNQ0VMb2FkZWQgPSBmdW5jdGlvbiggd2luZG93T2JqICl7XG5cblx0Y29uc29sZS5sb2coIFwid2luZG93LnByZXZpZXdBcmVhVGlueU1DRUxvYWRlZCFcIiApO1xuXG5cdExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhV2luZG93ID0gd2luZG93T2JqO1xuXHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50ID0galF1ZXJ5KHdpbmRvd09iai5kb2N1bWVudCk7XG5cblx0Ly8gRGlzYWJsZSBXUCBhZG1pbiBiYXIgaW4gZWRpdGluZyBtb2RlXG5cdGpRdWVyeSgnI3dwYWRtaW5iYXInLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5yZW1vdmUoKTtcblxuXHQvLyBMaXZlQ29tcG9zZXIuQnVpbGRlci5VSS5pbml0SW5saW5lRWRpdG9ycygpO1xuXHRmaXhDb250ZW50ZWRpdGFibGUoKTtcblxuXHR0ZW1wbGF0ZXNQYW5lbEluaXQoKTtcblx0c2V0dGluZ3NQYW5lbEluaXQoKTtcblxuXHRzZWN0aW9uc0luaXQoKTtcblxuXHR2YXIgbWFpbkRyYWdnYWJsZSA9IExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQuZmluZChcIiNkc2xjLW1haW5cIikuZXEoMClbMF07XG5cdG5ldyBDU2VjdGlvbnNDb250YWluZXIoIG1haW5EcmFnZ2FibGUgKTtcblxuXHRqUXVlcnkoZG9jdW1lbnQpLnRyaWdnZXIoJ2VkaXRvckZyYW1lTG9hZGVkJyk7XG5cdGRyYWdBbmREcm9wSW5pdCgpO1xuXHRjb2RlR2VuZXJhdGlvbkluaXRKUygpO1xuXHR3aW5kb3cuZHNsY19nZW5lcmF0ZV9jb2RlKCk7XG5cblx0Ly8gQ2F0Y2gga2V5cHJlc3MgZXZlbnRzIChmcm9tIGJvdGggcGFyZW50IGFuZCBpZnJhbWUpIHRvIGFkZCBrZXlib2FyZCBzdXBwb3J0XG5cdGtleXByZXNzRXZlbnRzKCk7XG5cdGluaXRQcmV2aWV3QXJlYVNjcm9sbGVyKCk7XG5cdG1vZGFsd2luZG93SW5pdEpTKCk7XG5cdG1vZHVsZUluaXRKUygpO1xuXHR1bnRpbHNJbml0SnMoKTtcblx0cHJlc2V0c0luaXQoKTtcblx0ZXZlbnRzSW5pdCgpO1xufTtcblxuLy8gRGlzYWJsZSB0aGUgcHJvbXB0ICggYXJlIHlvdSBzdXJlICkgb24gcmVmcmVzaFxud2luZG93Lm9uYmVmb3JldW5sb2FkID0gZnVuY3Rpb24gKCkgeyByZXR1cm47IH07XG4iLCIvKipcbiAqIE1vZGFsIFdpbmRvdyBDbGFzcyBmaWxlXG4gKi9cblxuLyoqXG4gKiBTaG93cyBtb2RhbCB3aW5kb3dcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gcGFyYW1zXG4gKiBAcGFyYW1zLnRpdGxlICAgICAgICAge3N0cmluZ30gLSBtb2RhbCB3aW5kb3cgdGl0bGVcbiAqIEBwYXJhbXMuY29udGVudCAgICAgICB7c3RyaW5nfS0gbW9kYWwgd2luZG93IGRlc2NyaXB0aW9uXG4gKiBAcGFyYW1zLmNvbmZpcm0gICAgICAge2Z1bmN0aW9ufSAtIG1vZGFsIHdpbmRvdyBjb25maXJtIGFjdGlvblxuICogQHBhcmFtcy5jYW5jZWwgICAgICAgIHtmdW5jdGlvbn0gLSBtb2RhbCB3aW5kb3cgY2FuY2VsIGFjdGlvblxuICogQHBhcmFtcy5jYW5jZWxfdGl0bGUgIHtzdHJpbmd9IC0gbW9kYWwgd2luZG93IGNhbmNlbCB0aXRsZVxuICogQHBhcmFtcy5jb25maXJtX3RpdGxlIHtzdHJpbmd9IC0gbW9kYWwgd2luZG93IGNvbmZpcm0gdGl0bGVcbiAqIEBwYXJhbXMub2tfdGl0bGUge3N0cmluZ30gLSBtb2RhbCB3aW5kb3cgT0sgdGl0bGVcbiAqL1xuZXhwb3J0IGNvbnN0IENNb2RhbFdpbmRvdyA9IGZ1bmN0aW9uKHBhcmFtcykge1xuXG4gICAgaWYoIHR5cGVvZiBwYXJhbXMgIT0gJ29iamVjdCcgfHwgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuRmxhZ3MubW9kYWxPcGVuID09PSB0cnVlICkgcmV0dXJuIGZhbHNlO1xuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gU2hvdyBNb2RhbCBXaW5kb3dcbiAgICB2YXIgbW9kYWxXaW5kb3dXcmFwID0gJzxkaXYgY2xhc3M9XCJkc2xjYS1wcm9tcHQtbW9kYWwgZHNsY2EtcHJvbXB0LW1vZGFsLWFjdGl2ZVwiPicgK1xuICAgICc8ZGl2IGNsYXNzPVwiZHNsY2EtcHJvbXB0LW1vZGFsLWNvbnRlbnRcIj48ZGl2IGNsYXNzPVwiZHNsY2EtcHJvbXB0LW1vZGFsLW1zZ1wiPicgK1xuICAgICAnPHNwYW4gY2xhc3M9XCJkc2xjYS1wcm9tcHQtbW9kYWwtdGl0bGVcIj4nICsgcGFyYW1zLnRpdGxlICsgJzwvc3Bhbj4nICtcbiAgICAgICc8c3BhbiBjbGFzcz1cImRzbGNhLXByb21wdC1tb2RhbC1kZXNjclwiPicgKyBwYXJhbXMuY29udGVudCArICc8L3NwYW4+PC9kaXY+JztcblxuICAgICAgdmFyIG1vZGFsV2luZG93QWN0aW9ucyA9ICcnO1xuXG4gICAgaWYgKHBhcmFtcy5jb25maXJtIHx8IHBhcmFtcy5jYW5jZWwpIHtcblxuICAgICAgICBtb2RhbFdpbmRvd0FjdGlvbnMgPSAnPGRpdiBjbGFzcz1cImRzbGNhLXByb21wdC1tb2RhbC1hY3Rpb25zXCI+JyArXG4gICAgICAgICc8YSBocmVmPVwiI1wiIGNsYXNzPVwiZHNsY2EtcHJvbXB0LW1vZGFsLWNvbmZpcm0taG9va1wiPjxzcGFuIGNsYXNzPVwiZHNsYy1pY29uIGRzbGMtaWNvbi1va1wiPicgK1xuICAgICAgICAnPC9zcGFuPicgKyAocGFyYW1zLmNvbmZpcm1fdGl0bGUgPyBwYXJhbXMuY29uZmlybV90aXRsZSA6ICdDb25maXJtJykgKyAnPC9hPjxzcGFuIGNsYXNzPVwiZHNsY2EtcHJvbXB0LW1vZGFsLWNhbmNlbC1ob29rXCI+PHNwYW4gY2xhc3M9XCJkc2xjLWljb24gZHNsYy1pY29uLXJlbW92ZVwiPicgK1xuICAgICAgICAnPC9zcGFuPicgKyAocGFyYW1zLmNhbmNlbF90aXRsZSA/IHBhcmFtcy5jYW5jZWxfdGl0bGUgOiAnQ2FuY2VsJykgKyc8L3NwYW4+PC9kaXY+JztcbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIG1vZGFsV2luZG93QWN0aW9ucyA9ICc8ZGl2IGNsYXNzPVwiZHNsY2EtcHJvbXB0LW1vZGFsLWFjdGlvbnNcIj4nICtcbiAgICAgICAgJzxhIGhyZWY9XCIjXCIgY2xhc3M9XCJkc2xjYS1wcm9tcHQtbW9kYWwtY29uZmlybS1ob29rXCI+PHNwYW4gY2xhc3M9XCJkc2xjLWljb24gZHNsYy1pY29uLW9rXCI+JyArXG4gICAgICAgICc8L3NwYW4+JyArIChwYXJhbXMub2tfdGl0bGUgPyBwYXJhbXMub2tfdGl0bGUgOiAnT0snKSArICc8L2E+PC9kaXY+JztcbiAgICB9XG5cbiAgICBtb2RhbFdpbmRvd1dyYXAgKz0gbW9kYWxXaW5kb3dBY3Rpb25zICsgJzwvZGl2Pic7XG4gICAgbW9kYWxXaW5kb3dXcmFwID0galF1ZXJ5KG1vZGFsV2luZG93V3JhcCk7XG5cbiAgICBpZiAodHlwZW9mIHBhcmFtcy5jb25maXJtICE9ICdmdW5jdGlvbicpIHBhcmFtcy5jb25maXJtID0gZnVuY3Rpb24oKXt9O1xuICAgIGlmICh0eXBlb2YgcGFyYW1zLmNhbmNlbCAhPSAnZnVuY3Rpb24nKSBwYXJhbXMuY2FuY2VsID0gZnVuY3Rpb24oKXt9O1xuXG4gICAgLy8gQ29uZmlybSBoYW5kbGVyIChmdW5jdGlvbilcblxuICAgIG1vZGFsV2luZG93V3JhcC5maW5kKCcuZHNsY2EtcHJvbXB0LW1vZGFsLWNvbmZpcm0taG9vaycpXG4gICAgLmNsaWNrKGZ1bmN0aW9uKGUpXG4gICAge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgIG1vZGFsV2luZG93V3JhcC5maW5kKCcuZHNsY2EtcHJvbXB0LW1vZGFsLWNvbnRlbnQnKS5hbmltYXRlKHtcbiAgICAgICAgICAgIHRvcDogJzU1JSdcbiAgICAgICAgfSwgNDAwKTtcblxuICAgICAgICBtb2RhbFdpbmRvd1dyYXAuYW5pbWF0ZShcbiAgICAgICAgICAgIHtvcGFjaXR5OiAwfSxcbiAgICAgICAgICAgIDQwMCxcbiAgICAgICAgICAgIGZ1bmN0aW9uKClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMuY29uZmlybSgpO1xuICAgICAgICAgICAgICAgIExpdmVDb21wb3Nlci5CdWlsZGVyLkZsYWdzLm1vZGFsT3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGpRdWVyeSh0aGlzKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAvLyDigJMgbW92ZWQgaGVyZSBhcyBpdCBwcmV2ZW50IHNvbWUgSlMgdG8gZ2V0IHZhbHVlIG9uIHRpbWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG5cbiAgICAvLyBDYW5jZWwgaGFuZGxlciAoZnVuY3Rpb24pXG5cbiAgICBtb2RhbFdpbmRvd1dyYXAuZmluZCgnLmRzbGNhLXByb21wdC1tb2RhbC1jYW5jZWwtaG9vaycpXG4gICAgLmNsaWNrKGZ1bmN0aW9uKGUpe1xuXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgbW9kYWxXaW5kb3dXcmFwLmZpbmQoJy5kc2xjYS1wcm9tcHQtbW9kYWwtY29udGVudCcpLmFuaW1hdGUoe1xuICAgICAgICAgICAgdG9wOiAnNTUlJ1xuICAgICAgICB9LCA0MDApO1xuXG4gICAgICAgIG1vZGFsV2luZG93V3JhcC5hbmltYXRlKFxuICAgICAgICAgICAge29wYWNpdHk6IDB9LFxuICAgICAgICAgICAgNDAwLFxuICAgICAgICAgICAgZnVuY3Rpb24oKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGpRdWVyeSh0aGlzKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBMaXZlQ29tcG9zZXIuQnVpbGRlci5GbGFncy5tb2RhbE9wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBwYXJhbXMuY2FuY2VsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuXG4gICAgbW9kYWxXaW5kb3dXcmFwLmhpZGUoKTtcbiAgICBqUXVlcnkoXCJib2R5XCIpLmFwcGVuZChtb2RhbFdpbmRvd1dyYXApO1xuXG4gICAgbW9kYWxXaW5kb3dXcmFwLmNzcyh7b3BhY2l0eTogMH0pLnNob3coKS5hbmltYXRlKHtcbiAgICAgICAgb3BhY2l0eTogMSxcbiAgICB9LCA0MDApO1xuXG4gICAgLy8gQW5pbWF0ZSBtb2RhbFxuICAgIG1vZGFsV2luZG93V3JhcC5maW5kKCcuZHNsY2EtcHJvbXB0LW1vZGFsLWNvbnRlbnQnKS5jc3Moe3RvcDogJzU1JSd9KS5hbmltYXRlKHtcbiAgICAgICAgdG9wOiAnNTAlJ1xuICAgIH0sIDQwMCk7XG5cbiAgICBMaXZlQ29tcG9zZXIuQnVpbGRlci5GbGFncy5tb2RhbE9wZW4gPSB0cnVlO1xufSIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqXG4gKiA9IFVJIC0gTU9EQUwgPVxuICogTm90ZTogVXNlZCBmb3IgdGhlIHRlbXBsYXRlcyBzYXZlL2V4cG9ydC9pbXBvcnQgYW5kIGljb25zXG4gKlxuICogLSBkc2xjX3Nob3dfbW9kYWwgKCBTaG93IE1vZGFsIClcbiAqIC0gZHNsY19oaWRlX21vZGFsICggSGlkZSBNb2RhbCApXG4gKlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuaW1wb3J0IHsgZWRpdGFibGVDb250ZW50Q29kZUdlbmVyYXRpb24gfSBmcm9tIFwiLi9jb2RlZ2VuZXJhdGlvbi5qc1wiO1xuXG4vKipcbiAqIE1PREFMIC0gU2hvd1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBob29rIC0gQnV0dG9uIHRoYXQgd2FzIGNsaWNrZWQgdG8gb3BlbiBtb2RhbFxuICogQHBhcmFtIHtzdHJpbmd9IG1vZGFsIC0gQ1NTIGFkZHJlc3Mgb2YgdGhlIG1vZGFsLCBsaWtlICcubW9kYWwtaWNvbnMnXG4gKi9cblxuZnVuY3Rpb24gZHNsY19zaG93X21vZGFsKCBob29rLCBtb2RhbCApIHtcblxuXHRpZiAoIHR5cGVvZiBkc2xjRGVidWcgIT09ICd1bmRlZmluZWQnICYmIGRzbGNEZWJ1ZyApIGNvbnNvbGUubG9nKCAnZHNsY19zaG93X21vZGFsJyApO1xuXG5cdGlmICggalF1ZXJ5KCcuZHNsY2EtbW9kYWw6dmlzaWJsZScpLmxlbmd0aCApIHtcblx0XHQvLyBJZiBhIG1vZGFsIGFscmVhZHkgdmlzaWJpbGUgaGlkZSBpdFxuXHRcdGhpZGVNb2RhbCggJycsIGpRdWVyeSgnLmRzbGNhLW1vZGFsOnZpc2libGUnKSApO1xuXHR9XG5cblx0Ly8gVmFyc1xuXHR2YXIgbW9kYWwgPSBqUXVlcnkobW9kYWwpO1xuXG5cdC8vIENhbGMgcG9wdXAgaGVpZ2h0XG5cdHZhciBjb250YWluZXJIZWlnaHQgPSBqUXVlcnkoJy5kc2xjYS1jb250YWluZXInKS5oZWlnaHQoKTtcblx0bW9kYWwub3V0ZXJIaWRlKHtcblx0XHRjbGJrOiBmdW5jdGlvbigpe1xuXG5cdFx0XHRoaWRlTW9kYWwoICcnLCBqUXVlcnkoJy5kc2xjYS1tb2RhbDp2aXNpYmxlJykgKTtcblx0XHR9XG5cdH0pO1xuXG5cdC8vIFZhcnMgKCBDYWxjIE9mZnNldCApXG5cdHZhciBwb3NpdGlvbiA9IGpRdWVyeShob29rKS5wb3NpdGlvbigpLFxuXHRkaWZmID0gbW9kYWwub3V0ZXJXaWR0aCgpIC8gMiAtIGhvb2sub3V0ZXJXaWR0aCgpIC8gMixcblx0b2Zmc2V0ID0gcG9zaXRpb24ubGVmdCAtIGRpZmY7XG5cblx0Ly8gU2hvdyBNb2RhbFxuXHRtb2RhbC5jc3MoeyBsZWZ0IDogb2Zmc2V0IH0pO1xuXHRqUXVlcnkoXCIuZHNsY2EtcHJvbXB0LW1vZGFsLWN1c3RvbVwiKS5pbnNlcnRBZnRlciggbW9kYWwgKTtcblx0aWYgKCBqUXVlcnkoXCIuZHNsY2EtcHJvbXB0LW1vZGFsLWN1c3RvbVwiKS5sZW5ndGggPiAwICkge1xuXHRcdGpRdWVyeShcIi5kc2xjYS1wcm9tcHQtbW9kYWwtY3VzdG9tXCIpLmZhZGVJbigpO1xuXHR9XG5cdG1vZGFsLmFkZENsYXNzKCdkc2xjYS1tb2RhbC1vcGVuJykuc2hvdygpO1xuXG5cdC8vIEFuaW1hdGUgTW9kYWxcblx0Ly8gbW9kYWwuY3NzKHtcblx0XHQvLyAnLXdlYmtpdC1hbmltYXRpb24tbmFtZScgOiAnZHNsY0JvdW5jZUluJyxcblx0XHQvLyAnLW1vei1hbmltYXRpb24tbmFtZScgOiAnZHNsY0JvdW5jZUluJyxcblx0XHQvLyAnYW5pbWF0aW9uLW5hbWUnIDogJ2RzbGNCb3VuY2VJbicsXG5cdFx0Ly8gJ2FuaW1hdGlvbi1kdXJhdGlvbicgOiAnMC42cycsXG5cdFx0Ly8gJy13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uJyA6ICcwLjZzJ1xuXHQvLyB9KS5mYWRlSW4oNjAwKTtcbn1cblxuLyoqXG4gKiBNT0RBTCAtIEhpZGVcbiAqL1xuXG4gLy8gZXguIGRzbGNfaGlkZV9tb2RhbFxuZXhwb3J0IGNvbnN0IGhpZGVNb2RhbCA9ICggaG9vaywgbW9kYWwgKSA9PiB7XG5cblx0aWYgKCB0eXBlb2YgZHNsY0RlYnVnICE9PSAndW5kZWZpbmVkJyAmJiBkc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2hpZGVNb2RhbCcgKTtcblxuXHQvLyBWYXJzXG5cdHZhciBtb2RhbCA9IGpRdWVyeShtb2RhbCk7XG5cblx0Ly8gSGlkZSAoIHdpdGggYW5pbWF0aW9uIClcblx0bW9kYWwub3V0ZXJIaWRlKCAnZGVzdHJveScgKTtcblx0bW9kYWwuaGlkZSgpO1xuXHRpZiAoIGpRdWVyeShcIi5kc2xjYS1wcm9tcHQtbW9kYWwtY3VzdG9tXCIpLmxlbmd0aCA+IDAgKSB7XG5cdFx0alF1ZXJ5KFwiLmRzbGNhLXByb21wdC1tb2RhbC1jdXN0b21cIikuZmFkZU91dCgpO1xuXHR9XG5cdG1vZGFsLnJlbW92ZUNsYXNzKCdkc2xjYS1tb2RhbC1vcGVuJyk7XG5cdC8qXG5cdG1vZGFsLmNzcyh7XG5cdFx0Jy13ZWJraXQtYW5pbWF0aW9uLW5hbWUnIDogJ2RzbGNCb3VuY2VPdXQnLFxuXHRcdCctbW96LWFuaW1hdGlvbi1uYW1lJyA6ICdkc2xjQm91bmNlT3V0Jyxcblx0XHQnYW5pbWF0aW9uLW5hbWUnIDogJ2RzbGNCb3VuY2VPdXQnLFxuXHRcdCdhbmltYXRpb24tZHVyYXRpb24nIDogJzAuNnMnLFxuXHRcdCctd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbicgOiAnMC42cydcblx0fSkuZmFkZU91dCg2MDApO1xuXHQqL1xuXG59XG5cbi8vIEhpZGUgaWYgY2xpY2tlZCBvdXRzaWRlIG9mIG1vZGFsXG4vKmpRdWVyeShkb2N1bWVudCkubW91c2V1cChmdW5jdGlvbiAoZSkge1xuXHRcdHZhciBjb250YWluZXIgPSBqUXVlcnkoXCIuZHNsY2EtbW9kYWwtb3BlblwiKTtcblxuXHRcdGlmICghY29udGFpbmVyLmlzKGUudGFyZ2V0KSAvLyBpZiB0aGUgdGFyZ2V0IG9mIHRoZSBjbGljayBpc24ndCB0aGUgY29udGFpbmVyLi4uXG5cdFx0JiYgY29udGFpbmVyLmhhcyhlLnRhcmdldCkubGVuZ3RoID09PSAwKSAvLyAuLi4gbm9yIGEgZGVzY2VuZGFudCBvZiB0aGUgY29udGFpbmVyXG5cdFx0e1xuXHRcdGNvbnRhaW5lci5oaWRlKCk7XG5cdFx0fVxufSk7Ki9cblxuLyoqXG4gKiBNT0RBTCAtIERvY3VtZW50IFJlYWR5XG4gKi9cblxualF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigkKXtcblxuXHQvKipcblx0ICogSG9vayAtIFNob3cgTW9kYWxcblx0ICovXG5cblx0alF1ZXJ5KGRvY3VtZW50KS5vbiggJ2NsaWNrJywgJy5kc2xjYS1vcGVuLW1vZGFsLWhvb2snLCBmdW5jdGlvbihlKXtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0dmFyIG1vZGFsID0galF1ZXJ5KHRoaXMpLmRhdGEoJ21vZGFsJyk7XG5cdFx0ZHNsY19zaG93X21vZGFsKCBqUXVlcnkodGhpcyksIG1vZGFsICk7XG5cdH0pO1xuXG5cdC8qKlxuXHQgKiBIb29rIC0gSGlkZSBNb2RhbFxuXHQgKi9cblxuXHRqUXVlcnkoZG9jdW1lbnQpLm9uKCAnY2xpY2snLCAnLmRzbGNhLWNsb3NlLW1vZGFsLWhvb2snLCBmdW5jdGlvbihlKXtcblxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdGlmICggISBqUXVlcnkodGhpcykuaGFzQ2xhc3MoJ2RzbGNhLWFjdGlvbi1kaXNhYmxlZCcpICkge1xuXG5cdFx0XHR2YXIgbW9kYWwgPSBqUXVlcnkodGhpcykuZGF0YSgnbW9kYWwnKTtcblx0XHRcdGhpZGVNb2RhbCggalF1ZXJ5KHRoaXMpLCBtb2RhbCApO1xuXHRcdH1cblx0fSk7XG5cbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqXG4gKiA1KSA9IFVJIC0gUFJPTVBUIE1PREFMID1cbiAqXG4gKiAtIGRzbGNfanNfY29uZmlybVxuICogLSBkc2xjX2pzX2NvbmZpcm1fY2xvc2VcbiAqXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5mdW5jdGlvbiBkc2xjX2pzX2NvbmZpcm0oIGRzbGNJRCwgZHNsY0NvbnRlbnQsIGRzbGNUYXJnZXQgKSB7XG5cblx0aWYgKCB0eXBlb2YgZHNsY0RlYnVnICE9PSAndW5kZWZpbmVkJyAmJiBkc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2RzbGNfanNfY29uZmlybScgKTtcblxuXHQvLyBBZGQgXCJhY3RpdmVcIiBjbGFzc1xuXHRqUXVlcnkoJy5kc2xjYS1wcm9tcHQtbW9kYWwnKS5hZGRDbGFzcygnZHNsY2EtcHJvbXB0LW1vZGFsLWFjdGl2ZScpO1xuXG5cdC8vIEFkZCB0aGUgSUQgb2YgY3VycmVudCBldmVudFxuXHRqUXVlcnkoJy5kc2xjYS1wcm9tcHQtbW9kYWwnKS5kYXRhKCAnaWQnLCBkc2xjSUQgKTtcblx0alF1ZXJ5KCcuZHNsY2EtcHJvbXB0LW1vZGFsJykuZGF0YSggJ3RhcmdldCcsIGRzbGNUYXJnZXQgKTtcblxuXHQvLyBBZGQgbW9kYWwgY29udGVudFxuXHRqUXVlcnkoJy5kc2xjYS1wcm9tcHQtbW9kYWwtbXNnJykuaHRtbCggZHNsY0NvbnRlbnQgKTtcblxuXHQvLyBTaG93IG1vZGFsXG5cdGpRdWVyeSgnLmRzbGNhLXByb21wdC1tb2RhbCcpLmNzcyh7IG9wYWNpdHkgOiAwIH0pLnNob3coKS5hbmltYXRlKHtcblx0XHRvcGFjaXR5IDogMSxcblx0fSwgNDAwKTtcblxuXHQvLyBBbmltYXRlIG1vZGFsXG5cdGpRdWVyeSgnLmRzbGNhLXByb21wdC1tb2RhbC1jb250ZW50JykuY3NzKHsgdG9wIDogJzU1JScgfSkuYW5pbWF0ZSh7XG5cdFx0dG9wIDogJzUwJSdcblx0fSwgNDAwKTtcbn1cblxuLy8gZXguIGRzbGNfanNfY29uZmlybV9jbG9zZVxuZXhwb3J0IGNvbnN0IGNvbmZpcm1DbG9zZSA9ICgpID0+IHtcblxuXHRpZiAoIHR5cGVvZiBkc2xjRGVidWcgIT09ICd1bmRlZmluZWQnICYmIGRzbGNEZWJ1ZyApIGNvbnNvbGUubG9nKCAnZHNsY19qc19jb25maXJtX2Nsb3NlJyApO1xuXG5cdC8vIFJlbW92ZSBcImFjdGl2ZVwiIGNsYXNzXG5cdGpRdWVyeSgnLmRzbGNhLXByb21wdC1tb2RhbCcpLnJlbW92ZUNsYXNzKCdkc2xjYS1wcm9tcHQtbW9kYWwtYWN0aXZlJyk7XG5cblx0Ly8gSGlkZSBtb2RhbFxuXHRqUXVlcnkoJy5kc2xjYS1wcm9tcHQtbW9kYWwnKS5hbmltYXRlKHtcblx0XHRvcGFjaXR5IDogMCxcblx0fSwgNDAwLCBmdW5jdGlvbigpe1xuXHRcdGpRdWVyeSh0aGlzKS5oaWRlKCk7XG5cdFx0alF1ZXJ5KCcuZHNsY2EtcHJvbXB0LW1vZGFsLWNhbmNlbC1ob29rJykuc2hvdygpO1xuXHRcdGpRdWVyeSgnLmRzbGNhLXByb21wdC1tb2RhbC1jb25maXJtLWhvb2snKS5odG1sKCc8c3BhbiBjbGFzcz1cImRzbGMtaWNvbiBkc2xjLWljb24tb2tcIj48L3NwYW4+JyArIERTTENTdHJpbmcuc3RyX2NvbmZpcm0pO1xuXHR9KTtcblxuXHRqUXVlcnkoJy5kc2xjYS1wcm9tcHQtbW9kYWwtY29udGVudCcpLmFuaW1hdGUoe1xuXHRcdHRvcCA6ICc1NSUnXG5cdH0sIDQwMCk7XG5cbn1cblxuLyoqXG4gKiBIb29rIC0gQ29uZmlybSBvbiBFbnRlciwgQ2FuY2VsIG9uIEVzY1xuICovXG5cbndpbmRvdy5kc2xjX21vZGFsX2tleXByZXNzX2V2ZW50cyA9IGZ1bmN0aW9uIGRzbGNfbW9kYWxfa2V5cHJlc3NfZXZlbnRzKGUpIHtcblxuXHQvLyBFbnRlciAoIGNvbmZpcm0gKVxuXHRpZiggZS53aGljaCA9PSAxMyApIHtcblx0XHRpZiAoIGpRdWVyeSgnLmRzbGNhLXByb21wdC1tb2RhbC1hY3RpdmUnKS5sZW5ndGggKSB7XG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1wcm9tcHQtbW9kYWwtY29uZmlybS1ob29rJykudHJpZ2dlcignY2xpY2snKTtcblx0XHR9XG5cblx0Ly8gRXNjYXBlICggY2FuY2VsIClcblx0fSBlbHNlIGlmICggZS53aGljaCA9PSAyNyApIHtcblx0XHRpZiAoIGpRdWVyeSgnLmRzbGNhLXByb21wdC1tb2RhbC1hY3RpdmUnKS5sZW5ndGggKSB7XG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1wcm9tcHQtbW9kYWwtY2FuY2VsLWhvb2snKS50cmlnZ2VyKCdjbGljaycpO1xuXHRcdH1cblx0fVxuXG59XG5cbi8qKlxuICogVUkgLSBQUk9NUFQgTU9EQUwgLSBEb2N1bWVudCBSZWFkeVxuICovXG5cbmpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCl7XG5cblx0alF1ZXJ5KGRvY3VtZW50KS5vbiggJ2NsaWNrJywgJy5kc2xjYS1wcm9tcHQtbW9kYWwtY2FuY2VsLWhvb2snLCBmdW5jdGlvbihlKXtcblxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdHZhciBkc2xjQWN0aW9uID0galF1ZXJ5KCcuZHNsY2EtcHJvbXB0LW1vZGFsJykuZGF0YSgnaWQnKTtcblx0XHR2YXIgZHNsY1RhcmdldCA9IGpRdWVyeSgnLmRzbGNhLXByb21wdC1tb2RhbCcpLmRhdGEoJ3RhcmdldCcpO1xuXG5cdFx0aWYgKCBkc2xjQWN0aW9uID09ICdlZGl0X2luX3Byb2dyZXNzJyApIHtcblxuXHRcdFx0Ly8vIE1PVkVEXG5cdFx0XHRkc2xjX21vZHVsZV9vcHRpb25zX2NhbmNlbF9jaGFuZ2VzKCBmdW5jdGlvbigpe1xuXHRcdFx0XHRkc2xjVGFyZ2V0LnRyaWdnZXIoJ2NsaWNrJyk7XG5cdFx0XHR9KTtcblxuXHRcdH0gZWxzZSBpZiAoIGRzbGNBY3Rpb24gPT0gJ2RlbGV0ZV9tb2R1bGUnICkge1xuXG5cdFx0fVxuXG5cdFx0Y29uZmlybUNsb3NlKCk7XG5cdFx0alF1ZXJ5KCcuZHNsY2EtcHJvbXB0LW1vZGFsJykuZGF0YSggJ2lkJywgJycgKTtcblxuXHR9KTtcblxuXHRqUXVlcnkoZG9jdW1lbnQpLm9uKCAnY2xpY2snLCAnLmRzbGNhLXByb21wdC1tb2RhbC1jb25maXJtLWhvb2snLCBmdW5jdGlvbihlKXtcblxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdHZhciBkc2xjQWN0aW9uID0galF1ZXJ5KCcuZHNsY2EtcHJvbXB0LW1vZGFsJykuZGF0YSgnaWQnKTtcblx0XHR2YXIgZHNsY1RhcmdldCA9IGpRdWVyeSgnLmRzbGNhLXByb21wdC1tb2RhbCcpLmRhdGEoJ3RhcmdldCcpO1xuXHRcdHZhciBjbG9zZUF0RW5kID0gdHJ1ZTtcblxuXHRcdGlmICggIGRzbGNBY3Rpb24gPT0gJ2VkaXRfaW5fcHJvZ3Jlc3MnICkge1xuXG5cdFx0XHQvLy8gTU9WRURcblx0XHRcdGRzbGNfbW9kdWxlX29wdGlvbnNfY29uZmlybV9jaGFuZ2VzKCBmdW5jdGlvbigpe1xuXHRcdFx0XHRkc2xjVGFyZ2V0LnRyaWdnZXIoJ2NsaWNrJyk7XG5cdFx0XHR9KTtcblxuXHRcdH0gZWxzZSBpZiAoIGRzbGNBY3Rpb24gPT0gJ2Rpc2FibGVfbGMnICkge1xuXG5cdFx0XHR3aW5kb3cubG9jYXRpb24gPSBkc2xjVGFyZ2V0O1xuXG5cdFx0fSBlbHNlIGlmICggJ2RlbGV0ZV9tb2R1bGUnID09PSBkc2xjQWN0aW9uICkge1xuXG5cdFx0XHQvLy8gTU9WRURcblx0XHRcdHZhciBtb2R1bGUgPSBkc2xjVGFyZ2V0LmNsb3Nlc3QoJy5kc2xjLW1vZHVsZS1mcm9udCcpO1xuXHRcdFx0ZHNsY19tb2R1bGVfZGVsZXRlKCBtb2R1bGUgKTtcblxuXHRcdH0gZWxzZSBpZiAoICdkZWxldGVfbW9kdWxlc19hcmVhJyA9PT0gZHNsY0FjdGlvbiApIHtcblxuXHRcdFx0dmFyIG1vZHVsZXNBcmVhID0gZHNsY1RhcmdldC5jbG9zZXN0KCcuZHNsYy1tb2R1bGVzLWFyZWEnKTtcblx0XHRcdHZhciBwYXJlbnRTZWN0aW9uQ29udGFpbmVyID0gbW9kdWxlc0FyZWEuY2xvc2VzdCgnLmRzbGMtbW9kdWxlcy1zZWN0aW9uLWlubmVyJyk7XG5cdFx0XHRkc2xjX21vZHVsZXNfYXJlYV9kZWxldGUoIG1vZHVsZXNBcmVhICk7XG5cblx0XHR9IGVsc2UgaWYgKCBkc2xjQWN0aW9uID09ICdkZWxldGVfbW9kdWxlc19zZWN0aW9uJyApIHtcblxuXHRcdFx0Ly8vIE1PVkVEXG5cdFx0XHRkc2xjX3Jvd19kZWxldGUoIGRzbGNUYXJnZXQuY2xvc2VzdCgnLmRzbGMtbW9kdWxlcy1zZWN0aW9uJykgKTtcblxuXHRcdH0gZWxzZSBpZiAoIGRzbGNBY3Rpb24gPT0gJ2V4cG9ydF9tb2R1bGVzX3NlY3Rpb24nICkge1xuXG5cdFx0fSBlbHNlIGlmICggZHNsY0FjdGlvbiA9PSAnaW1wb3J0X21vZHVsZXNfc2VjdGlvbicgKSB7XG5cblx0XHRcdC8vLyBNT1ZFRFxuXHRcdFx0ZHNsY19yb3dfaW1wb3J0KCBqUXVlcnkoJy5kc2xjYS1wcm9tcHQtbW9kYWwgdGV4dGFyZWEnKS52YWwoKSApO1xuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtcHJvbXB0LW1vZGFsLWNvbmZpcm0taG9vayBzcGFuJykuY3NzKHsgb3BhY2l0eSA6IDAgfSk7XG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1wcm9tcHQtbW9kYWwtY29uZmlybS1ob29rIC5kc2xjYS1sb2FkaW5nJykuc2hvdygpO1xuXHRcdFx0Y2xvc2VBdEVuZCA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmICggY2xvc2VBdEVuZCApIHtcblx0XHRcdGNvbmZpcm1DbG9zZSgpO1xuXHRcdH1cblxuXHRcdGpRdWVyeSgnLmRzbGNhLXByb21wdC1tb2RhbCcpLmRhdGEoICdpZCcsICcnICk7XG5cdH0pO1xuXG59KTtcblxuLyoqXG4gKiBET04nVCBNT1ZFIFRIRSBGVU5DVElPTiBCRUxMT1cgT1VUIE9GIFRISVMgRklMRSFcbiAqIEhpZGUgZWxlbWVudCB3aGVuIGNsaWNrIG9uIGFub3RoZXIgZWxlbWVudCBvbiB0aGUgcGFnZVxuICovXG5qUXVlcnkuZm4ub3V0ZXJIaWRlID0gZnVuY3Rpb24ocGFyYW1zKSB7XG5cdHZhciAkID0galF1ZXJ5O1xuXHRwYXJhbXMgPSBwYXJhbXMgPyBwYXJhbXMgOiB7fTtcblxuXHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0aWYgKCAnZGVzdHJveScgPT0gcGFyYW1zICkge1xuXG5cdFx0alF1ZXJ5KGRvY3VtZW50KS51bmJpbmQoJ2NsaWNrLm91dGVyX2hpZGUnKTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRqUXVlcnkoZG9jdW1lbnQpLmJpbmQoJ2NsaWNrLm91dGVyX2hpZGUnLCBmdW5jdGlvbihlKSB7XG5cblx0XHRpZiAoalF1ZXJ5KGUudGFyZ2V0KS5jbG9zZXN0KHNlbGYpLmxlbmd0aCA9PSAwICYmXG5cdFx0XHRlLnRhcmdldCAhPSBzZWxmICYmXG5cdFx0XHQkLmluQXJyYXkoalF1ZXJ5KGUudGFyZ2V0KVswXSwgalF1ZXJ5KHBhcmFtcy5jbGlja09iaikpID09IC0xICYmXG5cdFx0XHRqUXVlcnkoc2VsZikuY3NzKCdkaXNwbGF5JykgIT0gJ25vbmUnXG5cdFx0KVxuXHRcdHtcblx0XHRcdGlmKHBhcmFtcy5jbGJrKVxuXHRcdFx0e1xuXHRcdFx0XHRwYXJhbXMuY2xiaygpO1xuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdGpRdWVyeShzZWxmKS5oaWRlKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcbn1cblxuLyoqXG4gKiBDYW5jZWwgY2hhbmdlcyBpbiBzdGFuZGFyZCBXUCBFZGl0b3IgKFRpbnlNQ0UpIFdZU0lXWUdcbiAqL1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ21vZGFsV3lzaXd5Z0NhbmNlbCcsIGZ1bmN0aW9uICggY3VzdG9tRXZlbnQgKSB7XG5cdGpRdWVyeSgnLmRzbGNhLXdwLWVkaXRvcicpLmhpZGUoKTtcblx0alF1ZXJ5KCcuZHNsY2Etd3lzaXd5Zy1hY3RpdmUnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50ICkucmVtb3ZlQ2xhc3MoJ2RzbGNhLXd5c2l3eWctYWN0aXZlJyk7XG59KTtcblxuLyoqXG4gKiBDb25maXJtIGNoYW5nZXMgaW4gc3RhbmRhcmQgV1AgRWRpdG9yIChUaW55TUNFKSBXWVNJV1lHXG4gKi9cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdtb2RhbFd5c2l3eWdDb25maXJtJywgZnVuY3Rpb24gKCBjdXN0b21FdmVudCApIHtcblxuXHRjb25zb2xlLmxvZyggXCJtb2RhbFd5c2l3eWdDb25maXJtIVwiICk7XG5cdHZhciBtb2R1bGUgPSBqUXVlcnkoJy5kc2xjYS13eXNpd3lnLWFjdGl2ZScsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQgKS5jbG9zZXN0KCcuZHNsYy1tb2R1bGUtZnJvbnQnKTtcblxuXHRjb25zb2xlLmxvZyggXCJtb2R1bGU6XCIgKTsgY29uc29sZS5sb2coIG1vZHVsZSApO1xuXHRjb25zb2xlLmxvZyggXCJ0aW55bWNlOlwiICk7IGNvbnNvbGUubG9nKCB0aW55bWNlICk7XG5cdGlmKCB0eXBlb2YgdGlueW1jZSAhPSBcInVuZGVmaW5lZFwiICkge1xuXHRcdGlmICggalF1ZXJ5KCcjd3AtZHNsY2F3cGVkaXRvci13cmFwJykuaGFzQ2xhc3MoJ3RtY2UtYWN0aXZlJykgKSB7XG5cdFx0XHR2YXIgZWRpdG9yID0gdGlueW1jZS5nZXQoICdkc2xjYXdwZWRpdG9yJyApO1xuXHRcdFx0dmFyIGNvbnRlbnQgPSBlZGl0b3IuZ2V0Q29udGVudCgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgY29udGVudCA9IGpRdWVyeSgnI2RzbGNhd3BlZGl0b3InKS52YWwoKTtcblx0XHR9XG5cblx0XHRjb25zb2xlLmxvZyggXCJjb250ZW50OlwiICk7IGNvbnNvbGUubG9nKCBjb250ZW50ICk7XG5cblx0XHRqUXVlcnkoJy5kc2xjYS13cC1lZGl0b3InKS5oaWRlKCk7XG5cdFx0alF1ZXJ5KCcuZHNsY2Etd3lzaXd5Zy1hY3RpdmUnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50ICkuaHRtbCggY29udGVudCApO1xuXG5cdFx0aWYgKCBtb2R1bGUuaGFzQ2xhc3MoJ2RzbGMtbW9kdWxlLWhhbmRsZS1saWtlLWFjY29yZGlvbicpICkge1xuXHRcdFx0alF1ZXJ5KCcuZHNsY2Etd3lzaXd5Zy1hY3RpdmUnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50ICkuc2libGluZ3MoJy5kc2xjYS1lZGl0YWJsZS1jb250ZW50JykuaHRtbCggY29udGVudCApO1xuXHRcdFx0alF1ZXJ5KCcuZHNsY2Etd3lzaXd5Zy1hY3RpdmUnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50ICkuc2libGluZ3MoJy5kc2xjYS1hY2NvcmRpb24tcGxhaW4tY29udGVudCcpLnZhbCggY29udGVudCApO1xuXHRcdFx0dmFyIGRzbGNBY2NvcmRpb24gPSBtb2R1bGUuZmluZCgnLmRzbGMtYWNjb3JkaW9uJyk7XG5cdFx0XHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYVdpbmRvdy5kc2xjX2FjY29yZGlvbl9nZW5lcmF0ZV9jb2RlKCBkc2xjQWNjb3JkaW9uICk7XG5cdFx0fSBlbHNlIGlmICggbW9kdWxlLmhhc0NsYXNzKCdkc2xjLW1vZHVsZS1oYW5kbGUtbGlrZS10YWJzJykgKSB7XG5cdFx0XHRqUXVlcnkoJy5kc2xjYS13eXNpd3lnLWFjdGl2ZScsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQgKS5zaWJsaW5ncygnLmRzbGNhLWVkaXRhYmxlLWNvbnRlbnQnKS5odG1sKCBjb250ZW50ICk7XG5cdFx0XHRqUXVlcnkoJy5kc2xjYS13eXNpd3lnLWFjdGl2ZScsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQgKS5zaWJsaW5ncygnLmRzbGNhLXRhYi1wbGFpbi1jb250ZW50JykudmFsKCBjb250ZW50ICk7XG5cdFx0XHR2YXIgZHNsY1RhYnMgPSBtb2R1bGUuZmluZCgnLmRzbGMtdGFicycpO1xuXHRcdFx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFXaW5kb3cuZHNsY190YWJzX2dlbmVyYXRlX2NvZGUoIGRzbGNUYWJzICk7XG5cdFx0fVxuXG5cdFx0ZWRpdGFibGVDb250ZW50Q29kZUdlbmVyYXRpb24oIGpRdWVyeSgnLmRzbGNhLXd5c2l3eWctYWN0aXZlJywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCApICk7XG5cdFx0alF1ZXJ5KCcuZHNsY2Etd3lzaXd5Zy1hY3RpdmUnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50ICkucmVtb3ZlQ2xhc3MoJ2RzbGNhLXd5c2l3eWctYWN0aXZlJyk7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc29sZS5pbmZvKCAnTGl2ZSBDb21wb3NlcjogVGlueU1DRSBpcyB1bmRlZmluZWQuJyApO1xuXHR9XG59KTtcblxuZXhwb3J0IGNvbnN0IG1vZGFsd2luZG93SW5pdEpTID0gKCkgPT4ge1xuXG59XG4iLCIvKipcbiAqICBCdWlsZGVyIG1vZHVsZSBmdW5jdGlvbnMgJiBob29rc1xuICpcbiAqICAgPSBNT0RVTEVTID1cbiAqXG4gKiAtIGRzbGNfbW9kdWxlX2RlbGV0ZSAoIERlbGV0ZXMgYSBtb2R1bGUgKVxuICogLSBtb2R1bGVEdXBsaWNhdGUgKCBDb3BpZXMgYSBtb2R1bGUgKVxuICogLSBkc2xjX21vZHVsZV93aWR0aF9zZXQgKCBTZXRzIGEgd2lkdGggdG8gbW9kdWxlIClcbiAqIC0gZHNsY19tb2R1bGVfb3B0aW9uc19zaG93ICggU2hvdyBtb2R1bGUgb3B0aW9ucyApXG4gKiAtIGRzbGNfbW9kdWxlX29wdGlvbnNfc2VjdGlvbl9maWx0ZXIgKCBGaWx0ZXIgb3B0aW9ucyBzZWN0aW9uIClcbiAqIC0gZHNsY19tb2R1bGVfb3B0aW9uc19oaWRlc2hvd190YWJzICggSGlkZSBzaG93IHRhYnMgYmFzZWQgb24gb3B0aW9uIGNob2ljZXMgKVxuICogLSBkc2xjX21vZHVsZV9vcHRpb25zX2NvbmZpcm1fY2hhbmdlcyAoIENvbmZpcm0gY2hhbmdlcyApXG4gKiAtIGRzbGNfbW9kdWxlX29wdGlvbnNfY2FuY2VsX2NoYW5nZXMgKCBDYW5jZWwgY2hhbmdlcyApXG4gKiAtIGRzbGNfbW9kdWxlX29wdGlvbnNfdG9vbHRpcCAoIEhlbHBlciB0b29sdGlwcyBmb3Igb3B0aW9ucyApXG4gKiAtIGRzbGNfbW9kdWxlX29wdGlvbnNfZm9udCAoIEFjdGlvbnMgZm9yIGZvbnQgb3B0aW9uIHR5cGUgKVxuICogLSBkc2xjX21vZHVsZV9vcHRpb25zX2ljb24gKCBBY3Rpb25zIGZvciBpY29uIGZvbnQgb3B0aW9uIHR5cGUgKVxuICogLSBkc2xjX21vZHVsZV9vcHRpb25zX2ljb25fcmV0dXJuaWQgKEZpbGwgaWNvbiBvcHRpb24gdHlwZSB3aXRoIHNlbGVjdGVkIGljb24gSUQvbmFtZSlcbiAqIC0gZHNsY19tb2R1bGVfb3B0aW9uc190ZXh0X2FsaWduICggQWN0aW9ucyBmb3IgdGV4dCBhbGlnbiBvcHRpb24gdHlwZSApXG4gKiAtIGRzbGNfbW9kdWxlX29wdGlvbnNfY2hlY2tib3ggKCBBY3Rpb25zIGZvciBjaGVja2JveCBvcHRpb24gdHlwZSApXG4gKiAtIGRzbGNfbW9kdWxlX29wdGlvbnNfYm94X3NoYWRvdyAoIEFjdGlvbnMgZm9yIGJveCBzaGFkb3cgb3B0aW9uIHR5cGUgKVxuICogLSBkc2xjX21vZHVsZXNfb3B0aW9uc19ib3hfc2hhZG93X2NvbG9yICggSW5pdGlhdGUgY29sb3JwaWNrZXIgZm9yIGJveCBzaGFkb3cpXG4gKiAtIGRzbGNfbW9kdWxlX29wdGlvbnNfdGV4dF9zaGFkb3cgKCBBY3Rpb25zIGZvciB0ZXh0IHNoYWRvdyBvcHRpb24gdHlwZSApXG4gKiAtIGRzbGNfbW9kdWxlc19vcHRpb25zX3RleHRfc2hhZG93X2NvbG9yICggSW5pdGlhdGUgY29sb3JwaWNrZXIgZm9yIHRleHQgc2hhZG93KVxuICogLSBkc2xjX21vZHVsZV9vcHRpb25zX2NvbG9yICggQWN0aW9ucyBmb3IgY29sb3Igb3B0aW9uIHR5cGUgKVxuICogLSBkc2xjX21vZHVsZV9vdXRwdXRfZGVmYXVsdCAoIEdldCBtb2R1bGUgb3V0cHV0IHdpdGggZGVmYXVsdCBzZXR0aW5ncyApXG4gKiAtIGRzbGNfbW9kdWxlX291dHB1dF9hbHRlcmVkICggR2V0IG1vZHVsZSBvdXRwdXQgd2hlbiBzZXR0aW5ncyBhbHRlcmVkIClcbiAqXG4gKi9cblxuaW1wb3J0IHsgQ01vZGFsV2luZG93IH0gZnJvbSAnLi9tb2RhbHdpbmRvdy5jbGFzcy5qcyc7XG5pbXBvcnQgeyBoaWRlUHVibGlzaEJ1dHRvbiwgc2hvd1NlY3Rpb24gfSBmcm9tICcuL3VpZ2VuZXJhbC5qcyc7XG5pbXBvcnQgYW5pbWUgZnJvbSAnYW5pbWVqcyc7XG5pbXBvcnQgeyBlZGl0YWJsZUNvbnRlbnRDb2RlR2VuZXJhdGlvbiB9IGZyb20gXCIuL2NvZGVnZW5lcmF0aW9uLmpzXCI7XG5cblxudmFyIGFjdGlvbkF2YWlsID0gZnVuY3Rpb24oKSB7XG5cblx0aWYgKCBMaXZlQ29tcG9zZXIuQnVpbGRlci5GbGFncy5wYW5lbE9wZW5lZCApIHtcblx0XHRMaXZlQ29tcG9zZXIuQnVpbGRlci5VSS5zaGFrZVBhbmVsQ29uZmlybUJ1dHRvbigpO1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEhvb2sgLSBEdXBsaWNhdGUgTW9kdWxlXG4gKi9cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vZHVsZUR1cGxpY2F0ZScsIGZ1bmN0aW9uIChjdXN0b21FdmVudCkge1xuXHRjb25zdCBlbENsaWNrZWQgPSBjdXN0b21FdmVudC5kZXRhaWw7ICAvLyBjdXN0b21FdmVudC5kZXRhaWwgLSBpcyBlbGVtZW50IGJlaW5nIGNsaWNrZWQgcGFzc2VkIGFzIGFkZGl0aW9uYWwgZGF0YSBpbiB0aGUgZXZlbnQuXG5cblx0Ly8gQ2hlY2sgaWYgYWN0aW9uIGNhbiBiZSBmaXJlZFxuXHRpZiAoICEgYWN0aW9uQXZhaWwoKSApIHJldHVybiBmYWxzZTtcblxuXHRpZiAoICEgZWxDbGlja2VkLmNsYXNzTGlzdC5jb250YWlucygnZHNsY2EtYWN0aW9uLWRpc2FibGVkJykgKSB7XG5cdFx0bW9kdWxlRHVwbGljYXRlKCBlbENsaWNrZWQuY2xvc2VzdCgnLmRzbGMtbW9kdWxlLWZyb250JykgKTtcblx0fVxufSk7XG5cbi8qKlxuICogSG9vayAtIE1vZHVsZSBEZWxldGVcbiAqL1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCAnbW9kdWxlRGVsZXRlJywgZnVuY3Rpb24gKGN1c3RvbUV2ZW50KSB7XG5cdGNvbnN0IGVsQ2xpY2tlZCA9IGN1c3RvbUV2ZW50LmRldGFpbDsgIC8vIGN1c3RvbUV2ZW50LmRldGFpbCAtIGlzIGVsZW1lbnQgYmVpbmcgY2xpY2tlZCBwYXNzZWQgYXMgYWRkaXRpb25hbCBkYXRhIGluIHRoZSBldmVudC5cblxuXHQvLyBDaGVjayBpZiBhY3Rpb24gY2FuIGJlIGZpcmVkXG5cdGlmICggISBhY3Rpb25BdmFpbCgpICkgcmV0dXJuIGZhbHNlO1xuXG5cdHZhciBzZWxmID0gdGhpcztcblxuXHRpZiAoICEgZWxDbGlja2VkLmNsYXNzTGlzdC5jb250YWlucygnZHNsY2EtYWN0aW9uLWRpc2FibGVkJykgKSB7XG5cblx0XHRDTW9kYWxXaW5kb3coe1xuXHRcdFx0dGl0bGU6IERTTENTdHJpbmcuc3RyX2RlbF9tb2R1bGVfdGl0bGUsXG5cdFx0XHRjb250ZW50OiBEU0xDU3RyaW5nLnN0cl9kZWxfbW9kdWxlX2Rlc2NyLFxuXHRcdFx0Y29uZmlybTogZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0dmFyIG1vZHVsZSA9IGVsQ2xpY2tlZC5jbG9zZXN0KCcuZHNsYy1tb2R1bGUtZnJvbnQnKTtcblx0XHRcdFx0ZHNsY19tb2R1bGVfZGVsZXRlKCBtb2R1bGUgKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxufSk7XG5cbi8qKlxuICogSG9vayAtIEVkaXQgTW9kdWxlIE9uIENsaWNrICggRGlzcGxheSBPcHRpb25zIFBhbmVsIClcbiAqL1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW9kdWxlRWRpdCcsIGZ1bmN0aW9uIChjdXN0b21FdmVudCkge1xuXHRjb25zdCBlbENsaWNrZWQgPSBjdXN0b21FdmVudC5kZXRhaWw7ICAvLyBjdXN0b21FdmVudC5kZXRhaWwgLSBpcyBlbGVtZW50IGJlaW5nIGNsaWNrZWQgcGFzc2VkIGFzIGFkZGl0aW9uYWwgZGF0YSBpbiB0aGUgZXZlbnQuXG5cdGNvbnN0IGN1cnJlbnRNb2R1bGVFbCA9IGVsQ2xpY2tlZC5jbG9zZXN0KCcuZHNsYy1tb2R1bGUtZnJvbnQnKTtcblx0Y29uc3QgY3VycmVudE1vZHVsZUlkID0gY3VycmVudE1vZHVsZUVsLmRhdGFzZXQubW9kdWxlO1xuXG5cdGNvbnN0IGVsRWRpdGluZyA9IExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhV2luZG93LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kc2xjYS1tb2R1bGUtYmVpbmctZWRpdGVkJyk7XG5cdGNvbnN0IHJvd19lZGl0ZWQgPSBqUXVlcnkoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tYmVpbmctZWRpdGVkJywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkubGVuZ3RoO1xuXG5cdC8vLyBJZiBzZXR0aW5ncyBwYW5lbCBvcGVuZWQgLSBkbyBub3QgcHJvY2VlZC5cblx0aWYgKCBMaXZlQ29tcG9zZXIuQnVpbGRlci5GbGFncy51aUhpZGRlbiB8fCAoIG51bGwgIT09IGVsRWRpdGluZyAmJiBlbEVkaXRpbmcubGVuZ3RoID4gMCApIHx8IHJvd19lZGl0ZWQgPiAwICkge1xuXHRcdGlmICggZWxFZGl0aW5nICE9IGN1cnJlbnRNb2R1bGVFbCApIHtcblx0XHRcdExpdmVDb21wb3Nlci5CdWlsZGVyLlVJLnNoYWtlUGFuZWxDb25maXJtQnV0dG9uKCk7XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdHVubWFya01vZHVsZXNCZWluZ0VkaXRlZCgpO1xuXG5cdC8vIEFkZCB0aGUgXCJiZWluZyBlZGl0ZWRcIiBjbGFzcyB0byBjdXJyZW50IG1vZHVsZVxuXHRjdXJyZW50TW9kdWxlRWwuY2xhc3NMaXN0LmFkZCgnZHNsY2EtbW9kdWxlLWJlaW5nLWVkaXRlZCcpO1xuXHQvLyBDYWxsIHRoZSBmdW5jdGlvbiB0byBkaXNwbGF5IG9wdGlvbnNcblx0ZHNsY19tb2R1bGVfb3B0aW9uc19zaG93KCBjdXJyZW50TW9kdWxlSWQgKTtcblx0Ly8gQ292ZXIgdXAgb3RoZXIgbW9kdWxlcyB3aXRoIHNlbWkgdHJhbnNwIGNvdmVyXG5cdExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhV2luZG93LmRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnbW9kdWxlLWVkaXRpbmctaW4tcHJvZ3Jlc3MnKTtcbn0pO1xuXG4vKipcbiAqIEhvb2sgLSBFZGl0IE1vZHVsZSBPbiBDbGljayAoIERpc3BsYXkgT3B0aW9ucyBQYW5lbCApIC0gRml4ZWQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9saXZlLWNvbXBvc2VyL2xpdmUtY29tcG9zZXItcGFnZS1idWlsZGVyL2lzc3Vlcy84OTVcbiAqL1xuXG5jb25zdCBhZGp1c3RaaW5kZXggPSAoKSA9PiB7XG5cdExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQub24oIHtcblx0XHRtb3VzZWVudGVyOiBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1tYW5hZ2UnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5jc3MoXCJ6LWluZGV4XCIsIFwiOTk5OThcIik7XG5cdFx0fSxcblx0XHRtb3VzZWxlYXZlOiBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1tYW5hZ2UnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5jc3MoXCJ6LWluZGV4XCIsIFwiOTk5OTk5XCIpO1xuXHRcdH0sXG5cdH0sICcuZHNsY2EtY2hhbmdlLXdpZHRoLW1vZHVsZS1ob29rLCAuZHNsYy1tb2R1bGUtZnJvbnQgLmRzbGNhLW1vZHVsZS1tYW5hZ2UnKTtcbn1cblxuLyoqXG4gKiBIb29rIC0gU2V0IE1vZHVsZSBXaWR0aFxuICovXG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vZHVsZUNoYW5nZVdpZHRoJywgZnVuY3Rpb24gKCBjdXN0b21FdmVudCApIHtcblx0Y29uc3QgZWxDbGlja2VkID0gY3VzdG9tRXZlbnQuZGV0YWlsOyAgLy8gY3VzdG9tRXZlbnQuZGV0YWlsIC0gaXMgZWxlbWVudCBiZWluZyBjbGlja2VkIHBhc3NlZCBhcyBhZGRpdGlvbmFsIGRhdGEgaW4gdGhlIGV2ZW50LlxuXHRjb25zdCBjdXJyZW50TW9kdWxlRWwgPSBlbENsaWNrZWQuY2xvc2VzdCgnLmRzbGMtbW9kdWxlLWZyb250Jyk7XG5cblx0aWYgKCAhIGVsQ2xpY2tlZC5jbGFzc0xpc3QuY29udGFpbnMoJ2RzbGNhLWFjdGlvbi1kaXNhYmxlZCcpICkge1xuXHRcdHZhciBvbGRTaXplID0gY3VycmVudE1vZHVsZUVsLmRhdGFzZXQuZHNsY01vZHVsZVNpemU7XG5cdFx0dmFyIG5ld1NpemUgPSBlbENsaWNrZWQuZGF0YXNldC5zaXplO1xuXG5cdFx0Ly8gU3RhcnQgZXhwZW5zaXZlIGZ1bmN0aW9uIG9ubHkgaWYgdGhlIHZhbHVlIGNoYW5nZWQuXG5cdFx0aWYgKCAgTnVtYmVyKG9sZFNpemUpICE9PSBOdW1iZXIobmV3U2l6ZSkgKSB7XG5cdFx0XHRkc2xjX21vZHVsZV93aWR0aF9zZXQoIGN1cnJlbnRNb2R1bGVFbCwgbmV3U2l6ZSApO1xuXHRcdH1cblx0fVxuXG59KTtcblxuLyoqXG4gKiBIb29rIC0gU2hvdyBjb2RlIGZvciBhbHRlcmluZyBtb2R1bGUncyBkZWZhdWx0c1xuICovXG4vKlxuRklYSVRcbkxpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQub24oICdjbGljaycsICcuZHNsY2EtbW9kdWxlLWdldC1kZWZhdWx0cy1ob29rJywgZnVuY3Rpb24oKXtcblxuXHQvLyBWYXJzXG5cdHZhciBtb2R1bGUgPSBqUXVlcnkodGhpcykuY2xvc2VzdCgnLmRzbGMtbW9kdWxlLWZyb250Jyk7XG5cdHZhciBjb2RlID0gZHNsY19kbV9nZXRfZGVmYXVsdHMoIG1vZHVsZSApO1xuXG5cdC8vIEdlbmVyYXRlIG1vZGFsJ3MgdGV4dFxuXHR2YXIgbWVzc2FnZSA9ICc8c3BhbiBjbGFzcz1cImRzbGNhLXByb21wdC1tb2RhbC10aXRsZVwiPk1vZHVsZSBEZWZhdWx0czwvc3Bhbj4nXG5cdFx0KyAnPHNwYW4gY2xhc3M9XCJkc2xjYS1wcm9tcHQtbW9kYWwtZGVzY3JcIj5UaGUgY29kZSBiZWxsb3cgaXMgdXNlZCB0byBhbHRlciB0aGUgZGVmYXVsdHMuPC9zcGFuPidcblx0XHQrICc8dGV4dGFyZWE+PC90ZXh0YXJlYT48YnI+PGJyPic7XG5cblx0Ly8gSGlkZSBtb2RhbCdzIGNhbmNlbCBidXR0b25cblx0alF1ZXJ5KCcuZHNsY2EtcHJvbXB0LW1vZGFsLWNhbmNlbC1ob29rJykuaGlkZSgpO1xuXG5cdC8vIFNob3cgY29uZmlybSBidXR0b24gYW5kIGNoYW5nZSBpdCB0byBcIk9LXCJcblx0alF1ZXJ5KCcuZHNsY2EtcHJvbXB0LW1vZGFsLWNvbmZpcm0taG9vaycpLmh0bWwoJzxzcGFuIGNsYXNzPVwiZHNsYy1pY29uIGRzbGMtaWNvbi1va1wiPjwvc3Bhbj5PSycpO1xuXG5cdC8vIFNob3cgdGhlIG1vZGFsIHByb21wdFxuXHRkc2xjX2pzX2NvbmZpcm0oICdkZXZfbW9kZV9nZXRfZGVmYXVsdCcsIG1lc3NhZ2UsIG1vZHVsZSApO1xufSk7ICovXG5cbi8qKlxuICogSG9vayAtIFJlZnJlc2ggTW9kdWxlXG4gKiBXZSBoYXZlICdyZWZyZXNoJyBpY29uIG9uIGJsb2cgcG9zdHMgZ3JpZCBhbmQgb3RoZXIgcG9zdC1iYXNlZCBtb2R1bGVzLlxuICogSXQncyB2aXNpYmxlIG9ubHkgd2hlbiB0aGVyZSBhcmUgbm8gcG9zdHMgdG8gcmVuZGVyLlxuICovXG4vKlxuRklYSVRcbkxpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQub24oICdjbGljaycsICcuZHNsY2EtcmVmcmVzaC1tb2R1bGUtaG9vaycsIGZ1bmN0aW9uKGUpe1xuXG5cdGpRdWVyeSh0aGlzKS5jc3Moe1xuXHRcdCctd2Via2l0LWFuaW1hdGlvbi1uYW1lJyA6ICdkc2xjUm90YXRlJyxcblx0XHQnLW1vei1hbmltYXRpb24tbmFtZScgOiAnZHNsY1JvdGF0ZScsXG5cdFx0J2FuaW1hdGlvbi1uYW1lJyA6ICdkc2xjUm90YXRlJyxcblx0XHQnYW5pbWF0aW9uLWR1cmF0aW9uJyA6ICcwLjZzJyxcblx0XHQnLXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb24nIDogJzAuNnMnLFxuXHRcdCdhbmltYXRpb24taXRlcmF0aW9uLWNvdW50JyA6ICdpbmZpbml0ZScsXG5cdFx0Jy13ZWJraXQtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCcgOiAnaW5maW5pdGUnXG5cdH0pO1xuXHRqUXVlcnkodGhpcykuY2xvc2VzdCgnLmRzbGMtbW9kdWxlLWZyb250JykuYWRkQ2xhc3MoJ2RzbGNhLW1vZHVsZS1iZWluZy1lZGl0ZWQnKTtcblx0bW9kdWxlT3V0cHV0QWx0ZXJlZCggZnVuY3Rpb24oKSB7XG5cblx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtYmVpbmctZWRpdGVkJywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkucmVtb3ZlQ2xhc3MoJ2RzbGNhLW1vZHVsZS1iZWluZy1lZGl0ZWQnKTtcblx0fSk7XG59KTsgKi9cblxuLyoqXG4gKiBTaG93IFdZU0lXWUdcbiAqL1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd3eXNpd3lnRWRpdCcsIGZ1bmN0aW9uICggY3VzdG9tRXZlbnQgKSB7XG5cdGNvbnN0IGVsQ2xpY2tlZCA9IGN1c3RvbUV2ZW50LmRldGFpbDsgIC8vIGN1c3RvbUV2ZW50LmRldGFpbCAtIGlzIGVsZW1lbnQgYmVpbmcgY2xpY2tlZCBwYXNzZWQgYXMgYWRkaXRpb25hbCBkYXRhIGluIHRoZSBldmVudC5cblx0Y29uc3QgY3VycmVudE1vZHVsZUVsID0gZWxDbGlja2VkLmNsb3Nlc3QoJy5kc2xjLW1vZHVsZS1mcm9udCcpO1xuXG5cdC8vIGNvbnN0IGVkaXRhYmxlRWwgPSBlbENsaWNrZWQucXVlcnlTZWxlY3RvcignLmRzbGNhLWVkaXRhYmxlLWNvbnRlbnQnKTtcblx0Y29uc3QgaWRUb0VkaXQgPSBlbENsaWNrZWQuZGF0YXNldC5pZFRvRWRpdDtcblx0Y29uc29sZS5sb2coIFwiaWRUb0VkaXQ6XCIgKTsgY29uc29sZS5sb2coIGlkVG9FZGl0ICk7XG5cblx0Y29uc3QgZWRpdGFibGVFbCA9IGN1cnJlbnRNb2R1bGVFbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1lZGl0LWlkPVwiJyArIGlkVG9FZGl0ICsgJ1wiXScpO1xuXHRsZXQgY29udGVudCA9IGVkaXRhYmxlRWwudmFsdWU7XG5cdGNvbnNvbGUubG9nKCBcImVkaXRhYmxlRWw6XCIgKTsgY29uc29sZS5sb2coIGVkaXRhYmxlRWwgKTtcblx0Y29uc29sZS5sb2coIFwiY29udGVudDpcIiApOyBjb25zb2xlLmxvZyggY29udGVudCApO1xuXHQvLyB2YXIgbW9kdWxlID0gZWRpdGFibGUuY2xvc2VzdCgnLmRzbGMtbW9kdWxlLWZyb250Jyk7XG5cblx0aWYgKCB1bmRlZmluZWQgPT09IGNvbnRlbnQgKSB7XG5cdFx0Y29udGVudCA9ICcnO1xuXHR9XG5cdGNvbnNvbGUubG9nKCBcImN1cnJlbnRNb2R1bGVFbDpcIiApOyBjb25zb2xlLmxvZyggY3VycmVudE1vZHVsZUVsICk7XG5cdGlmICggY29udGVudC50cmltKCkubGVuZ3RoICkge1xuXHRcdC8vIEV4dHJhY3QgQ29udGVudCBmb3IgY3VycmVudCB0YWIvYWNjb3JkaW9uOlxuXHRcdC8qIGlmICggY3VycmVudE1vZHVsZUVsLmNsYXNzTGlzdC5jb250YWlucygnZHNsYy1tb2R1bGUtaGFuZGxlLWxpa2UtYWNjb3JkaW9uJykgfHwgY3VycmVudE1vZHVsZUVsLmNsYXNzTGlzdC5jb250YWlucygnZHNsYy1tb2R1bGUtaGFuZGxlLWxpa2UtdGFicycpICkge1xuXHRcdFx0Y29uc3QgZnVsbF9jb250ZW50X2FyciA9IGNvbnRlbnQuc3BsaXQoJyhkc2xjX3NlcCknKTtcblx0XHRcdGlmICggZnVsbF9jb250ZW50X2Fyci5sZW5ndGggKSB7XG5cdFx0XHRcdGNvbnRlbnQgPSBmdWxsX2NvbnRlbnRfYXJyW2lkVG9FZGl0XS50cmltKCk7XG5cdFx0XHR9XG5cdFx0fSAqL1xuXG5cdFx0Y29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvPGxjdGV4dGFyZWEvZywgJzx0ZXh0YXJlYScpLnJlcGxhY2UoLzxcXC9sY3RleHRhcmVhL2csICc8L3RleHRhcmVhJyk7XG5cdH1cblxuXHQvLyBSZXN0b3JlIHNob3J0Y29kZXMgcHJlc2VudGF0aW9uLlxuXHRpZiAoIGNvbnRlbnQuaW5jbHVkZXMoICclJyApICkge1xuXHRcdGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoLyVcXChcXCglL2csICdbJyk7XG5cdFx0Y29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvJVxcKVxcKSUvZywgJ10nKTtcblx0XHRjb250ZW50ID0gY29udGVudC5yZXBsYWNlKC8lXFwoJS9nLCAnWycpO1xuXHRcdGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoLyVcXCklL2csICddJyk7XG5cdFx0Y29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvJVxceyUvZywgJ1snKTtcblx0XHRjb250ZW50ID0gY29udGVudC5yZXBsYWNlKC8lXFx9JS9nLCAnXScpO1xuXHR9XG5cblx0Ly8gRmlsbCBUaW55TUNFIGVkaXRvciB3aXRoIGV4dHJhY3RlZCBhYm92ZSBjb250ZW50LlxuXHRpZiAoIHR5cGVvZiB0aW55bWNlICE9ICd1bmRlZmluZWQnICkge1xuXHRcdHZhciBlZGl0b3IgPSB0aW55bWNlLmdldCggJ2RzbGNhd3BlZGl0b3InICk7XG5cblx0XHRpZiAoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3cC1kc2xjYXdwZWRpdG9yLXdyYXAnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3RtY2UtYWN0aXZlJykgKSB7XG5cdFx0XHRlZGl0b3Iuc2V0Q29udGVudCggY29udGVudCwge2Zvcm1hdCA6ICdodG1sJ30gKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RzbGNhd3BlZGl0b3InKS52YWx1ZSA9IGNvbnRlbnQ7XG5cdFx0fVxuXG5cdFx0LyogaWYgKCAhIGN1cnJlbnRNb2R1bGVFbC5jbGFzc0xpc3QuY29udGFpbnMoJ2RzbGNhLW1vZHVsZS1iZWluZy1lZGl0ZWQnKSApIHtcblx0XHRcdGN1cnJlbnRNb2R1bGVFbC5xdWVyeVNlbGVjdG9yKCcuZHNsY2EtbW9kdWxlLWVkaXQtaG9vaycpLnRyaWdnZXIoJ2NsaWNrJyk7XG5cdFx0fSAqL1xuXG5cdFx0alF1ZXJ5KCcuZHNsY2Etd3AtZWRpdG9yJykuc2hvdygpO1xuXHRcdGNvbnNvbGUubG9nKCBcIvCfm5FlZGl0YWJsZUVsOlwiICk7IGNvbnNvbGUubG9nKCBlZGl0YWJsZUVsICk7XG5cdFx0ZWRpdGFibGVFbC5jbGFzc0xpc3QuYWRkKCdkc2xjYS13eXNpd3lnLWFjdGl2ZScpO1xuXHRcdGpRdWVyeSgnI2RzbGNhd3BlZGl0b3JfaWZyLCAjZHNsY2F3cGVkaXRvcicpLmNzcyh7IGhlaWdodCA6IGpRdWVyeSgnLmRzbGNhLXdwLWVkaXRvcicpLmhlaWdodCgpIC0gMzAwIH0pO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUuaW5mbyggJ0xpdmUgQ29tcG9zZXI6IFRpbnlNQ0UgaXMgdW5kZWZpbmVkLicgKTtcblx0fVxufSk7XG5cbi8vIEVkaXRhYmxlIENvbnRlbnRzLlxuY29uc3QgZWRpdGFibGVDb250ZW50VGV4dEV2ZW50cyA9ICgpID0+IHtcblxuXHQvLyBQcmV2aWV3IGlmcmFtZSBldmVudHMuXG5cdC8qIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhV2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHQvLyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdGNvbnNvbGUubG9nKCBcIlRZUEUgYmx1ciAtIGV2ZW50LnRhcmdldDpcIiApOyBjb25zb2xlLmxvZyggZXZlbnQudGFyZ2V0ICk7XG5cblx0XHRpZiAoIGV2ZW50LnRhcmdldC5tYXRjaGVzKCAnW2RhdGEtZXZlbnQ9XCJtb2R1bGUtZWRpdFwiXScgKSApIHtcblxuXHRcdH1cblx0fSk7XG4gKi9cbi8qIFx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFXaW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHQvLyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdGNvbnNvbGUubG9nKCBcIlRZUEUga2V5dXAgLSBldmVudC50YXJnZXQ6XCIgKTsgY29uc29sZS5sb2coIGV2ZW50LnRhcmdldCApO1xuXG5cdFx0aWYgKCBldmVudC50YXJnZXQubWF0Y2hlcyggJ1tkYXRhLWV2ZW50PVwibW9kdWxlLWVkaXRcIl0nICkgKSB7XG5cblx0XHR9XG5cdH0pO1xuICovXG5cdExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQub24oJ2JsdXInLCAnLmRzbGNhLWVkaXRhYmxlLWNvbnRlbnQnLCBmdW5jdGlvbigpIHtcblx0XHRpZiAoICEgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuRmxhZ3MudWlIaWRkZW4gJiYgalF1ZXJ5KHRoaXMpLmRhdGEoJ3R5cGUnKSA9PSAnc2ltcGxlJyApIHtcblxuXHRcdFx0ZWRpdGFibGVDb250ZW50Q29kZUdlbmVyYXRpb24oIGpRdWVyeSh0aGlzKSApO1xuXHRcdH1cblx0fSkub24oICdwYXN0ZScsICcuZHNsY2EtZWRpdGFibGUtY29udGVudDpub3QoLmlubGluZS1lZGl0b3IpJywgZnVuY3Rpb24oKXtcblx0XHRpZiAoICEgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuRmxhZ3MudWlIaWRkZW4gICYmIGpRdWVyeSh0aGlzKS5kYXRhKCd0eXBlJykgPT0gJ3NpbXBsZScgKSB7XG5cblx0XHRcdHZhciBkc2xjUmVhbElucHV0ID0galF1ZXJ5KHRoaXMpO1xuXG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG5cblx0XHRcdFx0aWYgKCBkc2xjUmVhbElucHV0LmRhdGEoJ3R5cGUnKSA9PSAnc2ltcGxlJyApIHtcblx0XHRcdFx0XHRkc2xjUmVhbElucHV0Lmh0bWwoIGRzbGNSZWFsSW5wdXQudGV4dCgpICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRlZGl0YWJsZUNvbnRlbnRDb2RlR2VuZXJhdGlvbiggZHNsY1JlYWxJbnB1dCApO1xuXHRcdFx0fSwgMTAwKTtcblx0XHR9XG5cdH0pLm9uKCdmb2N1cycsICcuZHNsY2EtZWRpdGFibGUtY29udGVudCcsIGZ1bmN0aW9uKCkge1xuXHRcdGlmICggalF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWJlaW5nLWVkaXRlZCcsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLmxlbmd0aCA+IDAgJiYgISBqUXVlcnkodGhpcykuY2xvc2VzdCgnLmRzbGMtbW9kdWxlLWZyb250JykuaGFzQ2xhc3MoJ2RzbGNhLW1vZHVsZS1iZWluZy1lZGl0ZWQnKSApIHtcblx0XHRcdGpRdWVyeSh0aGlzKS50cmlnZ2VyKCdibHVyJyk7XG5cdFx0fVxuXHR9KS5vbigna2V5dXAnLCAnLmRzbGNhLWVkaXRhYmxlLWNvbnRlbnQnLCBmdW5jdGlvbigpe1xuXHRcdGlmICggalF1ZXJ5KHRoaXMpLmRhdGEoJ3R5cGUnKSA9PSAnc2ltcGxlJyApe1xuXHRcdFx0alF1ZXJ5KHRoaXMpLmNsb3Nlc3QoJy5kc2xjLW1vZHVsZS1mcm9udCcpLmFkZENsYXNzKCdkc2xjYS1tb2R1bGUtY2hhbmdlLW1hZGUnKTtcblx0XHR9XG5cdH0pO1xufVxuXG5cblxuLyoqXG4gKiBNT0RVTEVTIC0gRGVsZXRlIGEgTW9kdWxlXG4gKi9cbmZ1bmN0aW9uIGRzbGNfbW9kdWxlX2RlbGV0ZSggbW9kdWxlICkge1xuXG5cdGlmICggd2luZG93LmRzbGNEZWJ1ZyApIGNvbnNvbGUubG9nKCAnZHNsY19kZWxldGVfbW9kdWxlJyApO1xuXHRzaG93U2VjdGlvbiggJy5kc2xjYS1tb2R1bGVzJyApO1xuXG5cdGFuaW1lKHtcblx0XHR0YXJnZXRzOiBtb2R1bGUsXG5cdFx0ZWFzaW5nOiAnZWFzZU91dEV4cG8nLFxuXHRcdHNjYWxlOiAwLFxuXHRcdG9wYWNpdHk6IDAsXG5cdFx0ZHVyYXRpb246IDM1MCxcblx0XHRkZWxheTogMCxcblx0XHRlbmREZWxheTogMCxcblx0XHRjb21wbGV0ZTogZnVuY3Rpb24oYW5pbSkge1xuXHRcdFx0Ly8gUmVtb3ZlIG1vZHVsZSwgcmVnZW5lcmF0ZSBjb2RlLCBzaG93IHB1Ymxpc2ggYnV0dG9uXG5cdFx0XHRtb2R1bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggbW9kdWxlICk7XG5cdFx0XHR3aW5kb3cuZHNsY19nZW5lcmF0ZV9jb2RlKCk7XG5cdFx0XHR3aW5kb3cuZHNsY19zaG93X3B1Ymxpc2hfYnV0dG9uKCk7XG5cdFx0fVxuXHQgIH0pO1xufVxuXG5jb25zdCB1bm1hcmtNb2R1bGVzQmVpbmdFZGl0ZWQgPSAoKSA9PiB7XG5cdC8vIFJlbW92ZSBiZWluZyBlZGl0ZWQgY2xhc3MgaWYgc29tZSBtb2R1bGUgaXMgYmVpbmcgZWRpdGVkLlxuXHRjb25zdCBlbEVkaXRpbmcgPSBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYVdpbmRvdy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZHNsY2EtbW9kdWxlLWJlaW5nLWVkaXRlZCcpO1xuXHRpZiAoIG51bGwgIT09IGVsRWRpdGluZyApIHtcblx0XHRlbEVkaXRpbmcuY2xhc3NMaXN0LnJlbW92ZSgnZHNsY2EtbW9kdWxlLWJlaW5nLWVkaXRlZCcpO1xuXHR9XG59XG5cbi8qKlxuICogTW9kdWxlcyAtIENvcHkgYSBNb2R1bGVcbiAqL1xuZnVuY3Rpb24gbW9kdWxlRHVwbGljYXRlKCBtb2R1bGUgKSB7XG5cdGlmICggd2luZG93LmRzbGNEZWJ1ZyApIGNvbnNvbGUubG9nKCAnZHNsY19jb3B5X21vZHVsZScgKTtcblx0dW5tYXJrTW9kdWxlc0JlaW5nRWRpdGVkKCk7XG5cblx0Ly8gRHVwbGljYXRlIHRoZSBtb2R1bGUgYW5kIGFwcGVuZCBpdCB0byB0aGUgc2FtZSBhcmVhXG5cdHZhciBtb2R1bGVfbmV3ID0gbW9kdWxlLmNsb25lTm9kZSh0cnVlKTtcblxuXHRqUXVlcnkoIG1vZHVsZV9uZXcgKS5hcHBlbmRUbyggbW9kdWxlLmNsb3Nlc3QoICcuZHNsYy1tb2R1bGVzLWFyZWEnICkgKS5jc3Moe1xuXHRcdCctd2Via2l0LWFuaW1hdGlvbi1uYW1lJyA6ICdub25lJyxcblx0XHQnLW1vei1hbmltYXRpb24tbmFtZScgOiAnbm9uZScsXG5cdFx0J2FuaW1hdGlvbi1uYW1lJyA6ICdub25lJyxcblx0XHQnYW5pbWF0aW9uLWR1cmF0aW9uJyA6ICcwJyxcblx0XHQnLXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb24nIDogJzAnLFxuXHRcdG9wYWNpdHkgOiAwLFxuXHRcdHRvcDogLTUwXG5cdH0pLmFkZENsYXNzKCdkc2xjYS1tb2R1bGUtYmVpbmctZWRpdGVkJyk7XG5cblx0Ly8gR2VuZXJhdGUgbmV3IElEIGZvciB0aGUgbmV3IG1vZHVsZSBhbmQgY2hhbmdlIGl0IGluIEhUTUwvQ1NTIG9mIHRoZSBtb2R1bGUuXG5cdGdldE5ld01vZHVsZUlkKCBtb2R1bGVfbmV3ICk7XG5cblx0Ly8gTW9kdWxlIGZ1bGx5IGNsb25lZC4gRmluaXNoIHRoZSBwcm9jZXNzLlxuXHQvLyBOZWVkIHRvIGNhbGwgdGhpcyBmdW5jdGlvbiB0byB1cGRhdGUgbGFzdCBjb2x1bW4gY2xhc3MgZm9yIHRoZSBtb2R1bGVzLlxuXHR3aW5kb3cuZHNsY19nZW5lcmF0ZV9jb2RlKCk7XG5cblx0Ly8gRmFkZSBpbiB0aGUgbW9kdWxlXG5cdGFuaW1lKHtcblx0XHR0YXJnZXRzOiBtb2R1bGVfbmV3LFxuXHRcdGVhc2luZzogJ2Vhc2VPdXRFeHBvJyxcblx0XHQvLyBzY2FsZTogMCxcblx0XHR0b3A6IDAsXG5cdFx0b3BhY2l0eTogMSxcblx0XHRkdXJhdGlvbjogNDAwLFxuXHRcdGRlbGF5OiAwLFxuXHRcdGVuZERlbGF5OiAwLFxuXHRcdGNvbXBsZXRlOiBmdW5jdGlvbihhbmltKSB7XG5cdFx0XHRtb2R1bGVfbmV3LmNsYXNzTGlzdC5yZW1vdmUoICdkc2xjYS1tb2R1bGUtYmVpbmctZWRpdGVkJyApO1xuXHRcdH1cblx0fSk7XG5cblx0d2luZG93LmRzbGNfc2hvd19wdWJsaXNoX2J1dHRvbigpO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlIG5ldyBJRCBmb3IgdGhlIG1vZHVsZSBwcm92aWRlZFxuICpcbiAqIFNlYXJjaC9SZXBsYWNlIG9sZCBtb2R1bGUgSUQgd2l0aCBuZXcgb25lIGluIEhUTUwvQ1NTIG9mIHRoZSBtb2R1bGUuXG4gKlxuICogQHBhcmFtIERPTSBtb2R1bGUgTW9kdWxlIHRoYXQgbmVlZHMgSUQgdXBkYXRlZCAobmV3IElEKS5cbiAqIEByZXR1cm4gdm9pZFxuICovXG5leHBvcnQgY29uc3QgZ2V0TmV3TW9kdWxlSWQgPSAoIG1vZHVsZSApID0+IHtcblxuXHQvLyBWYXJzXG5cdHZhciBkc2xjX21vZHVsZV9pZCA9IExpdmVDb21wb3Nlci5VdGlscy5nZXRfdW5pcXVlX2lkKCk7IC8vIEdlbmVyYXRlIG5ldyBtb2R1bGUgSUQuXG5cdHZhciBkc2xjX21vZHVsZV9pZF9vcmlnaW5hbCA9IG1vZHVsZS5nZXRBdHRyaWJ1dGUoICdpZCcgKTsgLy8gT3JpZ2luYWwgTW9kdWxlIElELlxuXG5cdC8vIFVwZGF0ZSBtb2R1bGUgSUQgaW4gZGF0YSBhdHRyaWJ1dGVcblx0bW9kdWxlLnNldEF0dHJpYnV0ZSggJ2RhdGEtbW9kdWxlLWlkJywgZHNsY19tb2R1bGVfaWQgKTtcblx0Ly8gVXBkYXRlIG1vZHVsZSBJRCBpbiBpZCBhdHRyaWJ1dGUgb2YgZWxlbWVudFxuXHRtb2R1bGUuc2V0QXR0cmlidXRlKCAnaWQnLCAnZHNsYy1tb2R1bGUtJyArIGRzbGNfbW9kdWxlX2lkICk7XG5cblx0LyoqXG5cdCAqIFNlYXJjaC9SZXBsYWNlIG1vZHVsZSBpZCBpbiB0aGUgaW5saW5lIENTU1xuXHQgKi9cblx0dmFyIGlubGluZV9jc3NfZWwgPSBtb2R1bGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoICdzdHlsZScgKVswXTtcblx0dmFyIGlubGluZV9jc3NfY29kZSA9IGlubGluZV9jc3NfZWwudGV4dENvbnRlbnQ7XG5cdC8vIFVwZGF0ZSBpZCBhdHRyaWJ1dGUgZm9yIDxzdHlsZT4gZWxlbWVudCB3aXRoIG5ldyB2YWx1ZVxuXHRpbmxpbmVfY3NzX2VsLnNldEF0dHJpYnV0ZSggJ2lkJywgJyNjc3MtZm9yLWRzbGMtbW9kdWxlLScgKyBkc2xjX21vZHVsZV9pZCApO1xuXHQvLyBTZWFyY2gvUmVwbGFjZSBhbGwgb2NjdXJyZW5jZXMgb2YgbW9kdWxlIElEIGluIGlubGluZSBDU1Ncblx0aW5saW5lX2Nzc19jb2RlID0gaW5saW5lX2Nzc19jb2RlLnNwbGl0KCBkc2xjX21vZHVsZV9pZF9vcmlnaW5hbCApLmpvaW4oICdkc2xjLW1vZHVsZS0nICsgZHNsY19tb2R1bGVfaWQgKTtcblx0Ly8gUHV0IENTUyBjb2RlIGJhY2sgaW50byA8c3R5bGU+IGVsZW1lbnRcblx0aW5saW5lX2Nzc19lbC50ZXh0Q29udGVudCA9IGlubGluZV9jc3NfY29kZTtcblxuXG5cdC8vIFVwZGF0ZSBtb2R1bGUgSUQgaW4gcmF3IGJhc2U2NCBjb2RlIChkc2xjX2NvZGUpIG9mIHRoZSBtb2R1bGVcblx0TGl2ZUNvbXBvc2VyLlV0aWxzLnVwZGF0ZV9tb2R1bGVfcHJvcGVydHlfcmF3KCBtb2R1bGUsICdtb2R1bGVfaW5zdGFuY2VfaWQnLCBkc2xjX21vZHVsZV9pZCApO1xufVxuXG4vKipcbiAqIE1PRFVMRVMgLSBTZXQgV2lkdGhcbiAqL1xuZnVuY3Rpb24gZHNsY19tb2R1bGVfd2lkdGhfc2V0KCBtb2R1bGVFbCwgbmV3X3dpZHRoICkge1xuXG5cdGlmICggd2luZG93LmRzbGNEZWJ1ZyApIGNvbnNvbGUubG9nKCAnZHNsY19tb2R1bGVfd2lkdGhfc2V0JyApO1xuXG5cdC8vIEdlbmVyYXRlIG5ldyBjb2x1bW4gY2xhc3Ncblx0dmFyIG5ld0NsYXNzID0gJ2RzbGMtJyArIG5ld193aWR0aCArICctY29sJztcblxuXHQvLyBBZGQgbmV3IGNvbHVtbiBjbGFzcyBhbmQgY2hhbmdlIHNpemUgXCJkYXRhXCJcblx0alF1ZXJ5KCBtb2R1bGVFbCApXG5cdFx0LnJlbW92ZUNsYXNzKCdkc2xjLTEtY29sIGRzbGMtMi1jb2wgZHNsYy0zLWNvbCBkc2xjLTQtY29sIGRzbGMtNS1jb2wgZHNsYy02LWNvbCBkc2xjLTctY29sIGRzbGMtOC1jb2wgZHNsYy05LWNvbCBkc2xjLTEwLWNvbCBkc2xjLTExLWNvbCBkc2xjLTEyLWNvbCcpXG5cdFx0LmFkZENsYXNzKG5ld0NsYXNzKVxuXHRcdC5kYXRhKCdkc2xjLW1vZHVsZS1zaXplJywgbmV3X3dpZHRoKTtcblx0XHQvLy5hZGRDbGFzcygnZHNsY2EtbW9kdWxlLWJlaW5nLWVkaXRlZCcpOyDigJMgRGVwcmVjYXRlZFxuXG5cdC8vIENoYW5nZSBtb2R1bGUgc2l6ZSBpbiBlbGVtZW50IGF0dHJpYnV0ZVxuXHRtb2R1bGVFbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtZHNsYy1tb2R1bGUtc2l6ZScsbmV3X3dpZHRoKTtcblxuXHQvLyBVcGRhdGUgbW9kdWxlIHNpemUgaW4gcmF3IGJhc2U2NCBjb2RlIChkc2xjX2NvZGUpIG9mIHRoZSBtb2R1bGVcblx0TGl2ZUNvbXBvc2VyLlV0aWxzLnVwZGF0ZV9tb2R1bGVfcHJvcGVydHlfcmF3KCBtb2R1bGVFbCwgJ2RzbGNfbV9zaXplJywgbmV3X3dpZHRoICk7XG5cblx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFXaW5kb3cuZHNsY19tYXNvbnJ5KCk7XG5cblx0d2luZG93LmRzbGNfZ2VuZXJhdGVfY29kZSgpO1xuXHR3aW5kb3cuZHNsY19zaG93X3B1Ymxpc2hfYnV0dG9uKCk7XG59XG5cbi8qKlxuICogTU9EVUxFUyAtIFNob3cgbW9kdWxlIG9wdGlvbnNcbiAqL1xuZnVuY3Rpb24gZHNsY19tb2R1bGVfb3B0aW9uc19zaG93KCBtb2R1bGVJRCApIHtcblxuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2RzbGNfbW9kdWxlX29wdGlvbnNfc2hvdycgKTtcblxuXHRpZiAoIHVuZGVmaW5lZCA9PT0gbW9kdWxlSUQgKSB7XG5cdFx0Y29uc29sZS53YXJuKCAnTm8gbW9kdWxlIElEIGRlZmluZWQgaW4gZHNsY19tb2R1bGVfb3B0aW9uc19zaG93IGZ1bmN0aW9uLicgKVxuXHR9XG5cblx0Ly8gVmFyc1xuXHR2YXIgZHNsY01vZHVsZSA9IGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1iZWluZy1lZGl0ZWQnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KSxcblx0ZHNsY01vZHVsZU9wdGlvbnMgPSBqUXVlcnkoICcuZHNsY2EtbW9kdWxlLW9wdGlvbnMtZnJvbnQgdGV4dGFyZWEnLCBkc2xjTW9kdWxlICksXG5cdGRzbGNEZWZhdWx0U2VjdGlvbiA9IGpRdWVyeSgnLmRzbGNhLWhlYWRlcicpLmRhdGEoJ2RlZmF1bHQtc2VjdGlvbicpLFxuXHRwc2V1ZG9QYW5lbCA9IGpRdWVyeShqUXVlcnkoJyNwc2V1ZG8tcGFuZWwnKS5odG1sKCkpO1xuXG5cdGpRdWVyeShcIiN3cHdyYXBcIikuYXBwZW5kKHBzZXVkb1BhbmVsKTtcblxuXHQvLyBTZXR0aW5ncyBhcnJheSBmb3IgdGhlIEFqYXggY2FsbFxuXHR2YXIgZHNsY1NldHRpbmdzID0ge307XG5cdGRzbGNTZXR0aW5nc1snYWN0aW9uJ10gPSAnZHNsYy1hamF4LWRpc3BsYXktbW9kdWxlLW9wdGlvbnMnO1xuXHRkc2xjU2V0dGluZ3NbJ2RzbGMnXSA9ICdhY3RpdmUnO1xuXHRkc2xjU2V0dGluZ3NbJ2RzbGNfbW9kdWxlX2lkJ10gPSBtb2R1bGVJRDtcblx0ZHNsY1NldHRpbmdzWydkc2xjX3Bvc3RfaWQnXSA9IGpRdWVyeSgnLmRzbGNhLWNvbnRhaW5lcicpLmRhdGEoJ2RhdGEtcG9zdC1pZCcpO1xuXHRkc2xjU2V0dGluZ3MuZHNsY191cmxfdmFycyA9IExpdmVDb21wb3Nlci5VdGlscy5nZXRfcGFnZV9wYXJhbXMoKTtcblxuXHQvLyBHbyB0aHJvdWdoIGVhY2ggb3B0aW9uIHRvIGZpbGwgZHNsY1NldHRpbmdzIGFycmF5XG5cdC8vIHdpdGggY3VycmVudCBtb2R1bGUgc2V0dGluZyB2YWx1ZXNcblx0ZHNsY01vZHVsZU9wdGlvbnMuZWFjaChmdW5jdGlvbigpe1xuXG5cdFx0Ly8gVmFyc1xuXHRcdHZhciBkc2xjT3B0aW9uID0galF1ZXJ5KHRoaXMpLFxuXHRcdGRzbGNPcHRpb25JRCA9IGRzbGNPcHRpb24uZGF0YSgnaWQnKSxcblx0XHRkc2xjT3B0aW9uVmFsdWUgPSBkc2xjT3B0aW9uLnZhbCgpO1xuXG5cdFx0aWYgKCBkc2xjT3B0aW9uVmFsdWUuaW5jbHVkZXMoICclJyApICkge1xuXHRcdFx0Ly8gUmVzdG9yZSBzaG9ydGNvZGVzLlxuXHRcdFx0ZHNsY09wdGlvblZhbHVlID0gZHNsY09wdGlvblZhbHVlLnJlcGxhY2UoLyVcXChcXCglL2csICdbJyk7XG5cdFx0XHRkc2xjT3B0aW9uVmFsdWUgPSBkc2xjT3B0aW9uVmFsdWUucmVwbGFjZSgvJVxcKVxcKSUvZywgJ10nKTtcblx0XHRcdGRzbGNPcHRpb25WYWx1ZSA9IGRzbGNPcHRpb25WYWx1ZS5yZXBsYWNlKC8lXFwoJS9nLCAnWycpO1xuXHRcdFx0ZHNsY09wdGlvblZhbHVlID0gZHNsY09wdGlvblZhbHVlLnJlcGxhY2UoLyVcXCklL2csICddJyk7XG5cdFx0XHRkc2xjT3B0aW9uVmFsdWUgPSBkc2xjT3B0aW9uVmFsdWUucmVwbGFjZSgvJVxceyUvZywgJ1snKTtcblx0XHRcdGRzbGNPcHRpb25WYWx1ZSA9IGRzbGNPcHRpb25WYWx1ZS5yZXBsYWNlKC8lXFx9JS9nLCAnXScpO1xuXHRcdH1cblxuXHRcdC8vIEFkZCBvcHRpb24gSUQgYW5kIHZhbHVlIHRvIHRoZSBzZXR0aW5ncyBhcnJheVxuXHRcdGRzbGNTZXR0aW5nc1tkc2xjT3B0aW9uSURdID0gZHNsY09wdGlvblZhbHVlO1xuXHR9KTtcblxuXHQvLyBIaWRlIHRoZSBzYXZlL2NhbmNlbCBhY3Rpb25zIGZvciB0ZXh0IGVkaXRvciBhbmQgc2hvdyBub3RpZmljYXRpb25cblx0alF1ZXJ5KCcuZHNsY2Etd3AtZWRpdG9yLWFjdGlvbnMnKS5oaWRlKCk7XG5cdGpRdWVyeSgnLmRzbGNhLXdwLWVkaXRvci1ub3RpZmljYXRpb24nKS5zaG93KCk7XG5cblx0Ly8gSGlkZSB0aGUgcHVibGlzaCBidXR0b25cblx0aGlkZVB1Ymxpc2hCdXR0b24oKTtcblxuXHQvLyBMaXZlQ29tcG9zZXIuQnVpbGRlci5VSS5pbml0SW5saW5lRWRpdG9ycygpO1xuXG5cdC8vIFNldCB1cCBiYWNrdXBcblx0dmFyIG1vZHVsZUJhY2t1cCA9IGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1vcHRpb25zLWZyb250JywgZHNsY01vZHVsZSkuY2hpbGRyZW4oKS5jbG9uZSgpO1xuXHRMaXZlQ29tcG9zZXIuQnVpbGRlci5tb2R1bGVCYWNrdXAgPSBtb2R1bGVCYWNrdXA7XG5cblx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuRmxhZ3MucGFuZWxPcGVuZWQgPSB0cnVlO1xuXG5cdC8vIFNob3cgcHNldWRvIHNldHRpbmdzIHBhbmVsXG5cdHBzZXVkb1BhbmVsLnNob3coKTtcblx0cHNldWRvUGFuZWwuYWRkQ2xhc3MoJ3Nob3cnKTtcblxuXHQvLyBBSkFYIGNhbGwgdG8gZ2V0IG9wdGlvbnMgSFRNTFxuXHRqUXVlcnkucG9zdChcblx0XHREU0xDQWpheC5hamF4dXJsLFxuXHRcdGRzbGNTZXR0aW5ncyxcblx0XHRmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cblx0XHRcdC8vIEhpZGUgcHNldWRvIHBhbmVsXG5cdFx0XHRwc2V1ZG9QYW5lbC5yZW1vdmUoKTtcblxuXHRcdFx0Ly8gU2hvdyBlZGl0IHNlY3Rpb25cblx0XHRcdHNob3dTZWN0aW9uKCcuZHNsY2EtbW9kdWxlLWVkaXQnKTtcblxuXHRcdFx0Ly8gQWRkIHRoZSBvcHRpb25zXG5cdFx0XHRpZiAoICEgalF1ZXJ5KCdib2R5JykuaGFzQ2xhc3MoJ3J0bCcpICkge1xuXG5cdFx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtaW5uZXInKS5odG1sKCByZXNwb25zZS5vdXRwdXQgKTtcblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy1pbm5lcicpLmh0bWwoIHJlc3BvbnNlLm91dHB1dCApO1xuXHRcdFx0fVxuXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYnMnKS5odG1sKCByZXNwb25zZS5vdXRwdXRfdGFicyApO1xuXG5cblx0XHRcdHZhciBzZWN0aW9uc1VzZWQgPSBbXTsgLy8g4oCTIEFycmF5IHdpdGggdGFiIGlkcyB0byBzaG93IGZvciBjdXJyZW50IG1vZHVsZS5cblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBHbyB0aHJvdWdoIGVhY2ggb3B0aW9uIGFuZCBjaGVjayBpdHMgdGFiIHByb3BlcnR5LlxuXHRcdFx0ICogRmlsbCBzZWN0aW9uc1VzZWQgYXJyYXkgd2l0aCBpZHMgb2YgdGhlIHRhYnMgdG8gZGlzcGxheS5cblx0XHRcdCAqIFdlIGRvbid0IHdhbnQgdG8gZGlzcGxheSB0YWJzIHdpdGggbm8gb3B0aW9ucyBpbnNpZGUuXG5cdFx0XHQgKi9cblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtaW5uZXIgLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbicpLmVhY2goZnVuY3Rpb24oKXtcblx0XHRcdFx0dmFyIGN1cnJlbnRPcHRpb25TZWN0aW9uID0galF1ZXJ5KHRoaXMpLmRhdGEoJ3NlY3Rpb24nKTtcblxuXHRcdFx0XHQvLyBDaGVjayBpZiB0aGlzIHNlY3Rpb24gaXMgaW4gdGhlIGxpc3Qgb2YgdGFicyB0byBzaG93LlxuXHRcdFx0XHRpZiAoIHNlY3Rpb25zVXNlZC5pbmRleE9mKGN1cnJlbnRPcHRpb25TZWN0aW9uKSA9PSAtMSApIHtcblx0XHRcdFx0XHRzZWN0aW9uc1VzZWQucHVzaChjdXJyZW50T3B0aW9uU2VjdGlvbik7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHR2YXIgdGFic190b3RhbCA9IHNlY3Rpb25zVXNlZC5sZW5ndGg7XG5cblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGFic190b3RhbDsgaSsrKSB7XG5cdFx0XHRcdC8vIFNob3cgdGhlIHRhYnMgdXNlZCBieSB0aGUgY3VycmVudCBtb2R1bGUuXG5cdFx0XHRcdGpRdWVyeSgnLmRzbGNhLWhlYWRlciAuZHNsY2Etb3B0aW9ucy1maWx0ZXItaG9va1tkYXRhLXNlY3Rpb249XCInICsgc2VjdGlvbnNVc2VkW2ldICsgJ1wiXScpLnNob3coKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2hvdyB0aGUgZmlsdGVyIGhvb2tzXG5cdFx0XHQvLyBqUXVlcnkoJy5kc2xjYS1oZWFkZXIgLmRzbGNhLW9wdGlvbnMtZmlsdGVyLWhvb2snKS5zaG93KCk7XG5cblx0XHRcdC8vIFRyaWdnZXIgY2xpY2sgb24gZmlyc3QgZmlsdGVyIGhvb2tcblx0XHRcdGlmICggalF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uW2RhdGEtc2VjdGlvbj1cIicgKyBkc2xjRGVmYXVsdFNlY3Rpb24gKyAnXCJdJykubGVuZ3RoICkge1xuXHRcdFx0XHRqUXVlcnkoJy5kc2xjYS1oZWFkZXIgLmRzbGNhLW9wdGlvbnMtZmlsdGVyLWhvb2tbZGF0YS1zZWN0aW9uPVwiJyArIGRzbGNEZWZhdWx0U2VjdGlvbiArICdcIl0nKS5zaG93KCk7XG5cdFx0XHRcdGpRdWVyeSgnLmRzbGNhLWhlYWRlciAuZHNsY2Etb3B0aW9ucy1maWx0ZXItaG9va1tkYXRhLXNlY3Rpb249XCInICsgZHNsY0RlZmF1bHRTZWN0aW9uICsgJ1wiXScpLnRyaWdnZXIoJ2NsaWNrJyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRqUXVlcnkoJy5kc2xjYS1oZWFkZXIgLmRzbGNhLW9wdGlvbnMtZmlsdGVyLWhvb2s6Zmlyc3QnKS5oaWRlKCk7XG5cdFx0XHRcdGpRdWVyeSgnLmRzbGNhLWhlYWRlciAuZHNsY2Etb3B0aW9ucy1maWx0ZXItaG9vazpmaXJzdCcpLm5leHQoJy5kc2xjYS1vcHRpb25zLWZpbHRlci1ob29rJykudHJpZ2dlcignY2xpY2snKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2hvdyB0aGUgc2F2ZS9jYW5jZWwgYWN0aW9uc1xuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtYWN0aW9ucycpLnNob3coKTtcblxuXHRcdFx0Ly8gU2hvdyB0aGUgc2F2ZS9jYW5jZWwgYWN0aW9ucyBmb3IgdGV4dCBlZGl0b3IgYW5kIGhpZGUgbm90aWZpY2F0aW9uXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS13cC1lZGl0b3Itbm90aWZpY2F0aW9uJykuaGlkZSgpO1xuXHRcdFx0alF1ZXJ5KCcuZHNsY2Etd3AtZWRpdG9yLWFjdGlvbnMnKS5zaG93KCk7XG5cblx0XHRcdC8vIEhpZGUgdGhlIHNlY3Rpb24gaG9va3Ncblx0XHRcdGpRdWVyeSgnLmRzbGNhLWhlYWRlciAuZHNsY2EtZ28tdG8tc2VjdGlvbi1ob29rJykuaGlkZSgpO1xuXG5cdFx0XHQvLyBIaWRlIHRoZSByb3cgc2F2ZS9jYW5jZWwgYWN0aW9uc1xuXHRcdFx0alF1ZXJ5KCcuZHNsY2Etcm93LWVkaXQtYWN0aW9ucycpLmhpZGUoKTtcblxuXHRcdFx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuVUkubG9hZE9wdGlvbnNEZXBzKCk7XG5cdFx0fVxuXHQpO1xufVxuXG4vKipcbiAqIE1PRFVMRVMgLSBNb2R1bGUgb3V0cHV0IGRlZmF1bHQgc2V0dGluZ3NcbiAqL1xuZXhwb3J0IGNvbnN0IG1vZHVsZU91dHB1dERlZmF1bHQgPSAoIGRzbGNfbW9kdWxlX2lkLCBjYWxsYmFjayApID0+IHtcblxuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ21vZHVsZU91dHB1dERlZmF1bHQnICk7XG5cblx0alF1ZXJ5LnBvc3QoXG5cblx0XHREU0xDQWpheC5hamF4dXJsLFxuXHRcdHtcblx0XHRcdGFjdGlvbiA6ICdkc2xjLWFqYXgtYWRkLW1vZHVsZScsXG5cdFx0XHRkc2xjIDogJ2FjdGl2ZScsXG5cdFx0XHRkc2xjX21vZHVsZV9pZCA6IGRzbGNfbW9kdWxlX2lkLCAvLyBleC4gRFNMQ19CdXR0b25cblx0XHRcdGRzbGNfcG9zdF9pZCA6IGpRdWVyeSgnLmRzbGNhLWNvbnRhaW5lcicpLmRhdGEoJ3Bvc3QtaWQnKSxcblx0XHRcdGRzbGNfdXJsX3ZhcnM6IExpdmVDb21wb3Nlci5VdGlscy5nZXRfcGFnZV9wYXJhbXMoKSxcblx0XHRcdGRzbGNfbmV3X21vZHVsZTogdHJ1ZVxuXHRcdH0sXG5cdFx0ZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuXG5cdFx0XHRjYWxsYmFjayhyZXNwb25zZSk7XG5cdFx0fVxuXHQpO1xufVxuXG4vKipcbiAqIE1PRFVMRVMgLSBSZWRyYXcgbW9kdWxlIG91dHB1dCB3aGVuIHNldHRpbmdzIGFsdGVyZWRcbiAqL1xuZXhwb3J0IGNvbnN0IG1vZHVsZU91dHB1dEFsdGVyZWQgPSAoIGNhbGxiYWNrICkgPT4ge1xuXG5cdGlmICggd2luZG93LmRzbGNEZWJ1ZyApIGNvbnNvbGUubG9nKCAnbW9kdWxlT3V0cHV0QWx0ZXJlZCcgKTtcblxuXHRjYWxsYmFjayA9IHR5cGVvZiBjYWxsYmFjayAhPT0gJ3VuZGVmaW5lZCcgPyBjYWxsYmFjayA6IGZhbHNlO1xuXG5cdHZhciBkc2xjTW9kdWxlID0galF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWJlaW5nLWVkaXRlZCcsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLFxuXHRkc2xjX21vZHVsZV9pZCA9IGRzbGNNb2R1bGUuZGF0YSgnbW9kdWxlJyksXG5cdGRzbGNNb2R1bGVPcHRpb25zID0galF1ZXJ5KCAnLmRzbGNhLW1vZHVsZS1vcHRpb25zLWZyb250IHRleHRhcmVhJywgZHNsY01vZHVsZSApLFxuXHRkc2xjTW9kdWxlSW5zdGFuY2VJRCA9IGRzbGNNb2R1bGUuZGF0YSgnbW9kdWxlLWlkJyk7XG5cblx0LyoqXG5cdCAqIEdlbmVyYXRlIGNvZGVcblx0ICovXG5cblx0dmFyIGRzbGNTZXR0aW5ncyA9IHt9O1xuXG5cdGRzbGNTZXR0aW5nc1snYWN0aW9uJ10gPSAnZHNsYy1hamF4LWFkZC1tb2R1bGUnO1xuXHRkc2xjU2V0dGluZ3NbJ2RzbGMnXSA9ICdhY3RpdmUnO1xuXHRkc2xjU2V0dGluZ3NbJ2RzbGNfbW9kdWxlX2lkJ10gPSBkc2xjX21vZHVsZV9pZDtcblx0ZHNsY1NldHRpbmdzWydkc2xjX21vZHVsZV9pbnN0YW5jZV9pZCddID0gZHNsY01vZHVsZUluc3RhbmNlSUQ7XG5cdGRzbGNTZXR0aW5nc1snZHNsY19wb3N0X2lkJ10gPSBqUXVlcnkoJy5kc2xjYS1jb250YWluZXInKS5kYXRhKCdwb3N0LWlkJyk7XG5cblx0aWYgKCBkc2xjTW9kdWxlLmhhc0NsYXNzKCdkc2xjYS1wcmVsb2FkLXByZXNldCcpIClcblx0XHRkc2xjU2V0dGluZ3NbJ2RzbGNfcHJlbG9hZF9wcmVzZXQnXSA9ICdlbmFibGVkJztcblx0ZWxzZVxuXHRcdGRzbGNTZXR0aW5nc1snZHNsY19wcmVsb2FkX3ByZXNldCddID0gJ2Rpc2FibGVkJztcblxuXHRkc2xjTW9kdWxlLnJlbW92ZUNsYXNzKCdkc2xjYS1wcmVsb2FkLXByZXNldCcpO1xuXG5cdGRzbGNNb2R1bGVPcHRpb25zLmVhY2goZnVuY3Rpb24oKXtcblxuXHRcdHZhciBkc2xjT3B0aW9uID0galF1ZXJ5KHRoaXMpO1xuXHRcdHZhciBkc2xjT3B0aW9uSUQgPSBkc2xjT3B0aW9uLmRhdGEoJ2lkJyk7XG5cdFx0dmFyIGRzbGNPcHRpb25WYWx1ZSA9IGRzbGNPcHRpb24udmFsKCk7XG5cblx0XHRkc2xjU2V0dGluZ3NbZHNsY09wdGlvbklEXSA9IGRzbGNPcHRpb25WYWx1ZTtcblxuXHR9KTtcblxuXHRkc2xjU2V0dGluZ3MuZHNsY191cmxfdmFycyA9IExpdmVDb21wb3Nlci5VdGlscy5nZXRfcGFnZV9wYXJhbXMoKTtcblxuXHQvKipcblx0ICogQ2FsbCBBSkFYIGZvciBwcmV2aWV3XG5cdCAqL1xuXHRqUXVlcnkucG9zdChcblxuXHRcdERTTENBamF4LmFqYXh1cmwsIGRzbGNTZXR0aW5ncyxcblx0XHRmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cblx0XHRcdHZhciBuZXdNb2R1bGUgPSBMaXZlQ29tcG9zZXIuXG5cdFx0XHRcdFx0XHRcdFx0QnVpbGRlci5cblx0XHRcdFx0XHRcdFx0XHRIZWxwZXJzLlxuXHRcdFx0XHRcdFx0XHRcdGluc2VydE1vZHVsZSggcmVzcG9uc2Uub3V0cHV0LCBkc2xjTW9kdWxlICk7XG5cblx0XHRcdG5ld01vZHVsZS5hZGRDbGFzcygnZHNsY2EtbW9kdWxlLWJlaW5nLWVkaXRlZCcpO1xuXG5cdFx0XHRyZXNwb25zZSA9IG51bGw7XG5cdFx0XHRuZXdNb2R1bGUgPSBudWxsO1xuXG5cdFx0XHQvLyBUT0RPOiBBZGQgbmV3IHBvc3Rwb25lZCBhY3Rpb24gdG8gcnVuIGFmdGVyIGFsbCBkb25lXG5cblx0XHRcdC8vIHdpbmRvdy5kc2xjX3Nob3dfcHVibGlzaF9idXR0b24oKTtcblx0XHRcdExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhV2luZG93LmRzbGNfY2Fyb3VzZWwoKTtcblxuXHRcdFx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFXaW5kb3cuZHNsY19tYXNvbnJ5KCk7XG5cblx0XHRcdExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhV2luZG93LmRzbGNfdGFicygpO1xuXHRcdFx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFXaW5kb3cuZHNsY19pbml0X2FjY29yZGlvbigpO1xuXG5cblx0XHRcdC8qKlxuXHRcdFx0ICogQ3JlYXRlIEN1c3RvbSBFdmVudC9Ib29rXG5cdFx0XHQgKlxuXHRcdFx0ICogVGhpcmQtcGFydHkgZGV2ZWxvcGVycyBzaG91bGQgdXNlIGl0IGxpa2UgdGhpczpcblx0XHRcdCAqIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb2R1bGVPdXRwdXRBbHRlcmVkJywgZnVuY3Rpb24gKGUpIHtcblx0XHRcdCAqIFx0Li4uLlxuXHRcdFx0ICogfSwgZmFsc2UpO1xuXHRcdFx0ICovXG5cdFx0XHR2YXIgZXZlbnQgPSBuZXcgRXZlbnQoJ21vZHVsZU91dHB1dEFsdGVyZWQnKTtcblx0XHRcdC8vIERpc3BhdGNoIHRoZSBldmVudC5cblx0XHRcdExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhV2luZG93LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXG5cdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRjYWxsYmFjayggcmVzcG9uc2UgKTtcblx0XHRcdH1cblx0XHR9XG5cdCk7XG59XG5cbi8qKlxuICogTU9EVUxFUyAtIFJlbG9hZCBhIHNwZWNpZmljIG1vZHVsZVxuICovXG5mdW5jdGlvbiBkc2xjX21vZHVsZV9vdXRwdXRfcmVsb2FkKCBkc2xjTW9kdWxlLCBjYWxsYmFjayApIHtcblxuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2RzbGNfbW9kdWxlX291dHB1dF9yZWxvYWQnICk7XG5cblx0Y2FsbGJhY2sgPSB0eXBlb2YgY2FsbGJhY2sgIT09ICd1bmRlZmluZWQnID8gY2FsbGJhY2sgOiBmYWxzZTtcblxuXHR2YXIgZHNsY19tb2R1bGVfaWQgPSBkc2xjTW9kdWxlLmRhdGEoJ21vZHVsZScpLFxuXHRkc2xjTW9kdWxlT3B0aW9ucyA9IGpRdWVyeSggJy5kc2xjYS1tb2R1bGUtb3B0aW9ucy1mcm9udCB0ZXh0YXJlYScsIGRzbGNNb2R1bGUgKSxcblx0ZHNsY01vZHVsZUluc3RhbmNlSUQgPSBkc2xjTW9kdWxlLmRhdGEoJ21vZHVsZS1pZCcpO1xuXG5cdC8qKlxuXHQgKiBHZW5lcmF0ZSBjb2RlXG5cdCAqL1xuXG5cdHZhciBkc2xjU2V0dGluZ3MgPSB7fTtcblxuXHRkc2xjU2V0dGluZ3NbJ2FjdGlvbiddID0gJ2RzbGMtYWpheC1hZGQtbW9kdWxlJztcblx0ZHNsY1NldHRpbmdzWydkc2xjJ10gPSAnYWN0aXZlJztcblx0ZHNsY1NldHRpbmdzWydkc2xjX21vZHVsZV9pZCddID0gZHNsY19tb2R1bGVfaWQ7XG5cdGRzbGNTZXR0aW5nc1snZHNsY19tb2R1bGVfaW5zdGFuY2VfaWQnXSA9IGRzbGNNb2R1bGVJbnN0YW5jZUlEO1xuXHRkc2xjU2V0dGluZ3NbJ2RzbGNfcG9zdF9pZCddID0galF1ZXJ5KCcuZHNsY2EtY29udGFpbmVyJykuZGF0YSgncG9zdC1pZCcpO1xuXHRkc2xjU2V0dGluZ3NbJ2RzbGNfcHJlbG9hZF9wcmVzZXQnXSA9ICdlbmFibGVkJztcblx0ZHNsY01vZHVsZS5yZW1vdmVDbGFzcygnZHNsY2EtcHJlbG9hZC1wcmVzZXQnKTtcblxuXHRkc2xjTW9kdWxlT3B0aW9ucy5lYWNoKGZ1bmN0aW9uKCl7XG5cblx0XHR2YXIgZHNsY09wdGlvbiA9IGpRdWVyeSh0aGlzKTtcblx0XHR2YXIgZHNsY09wdGlvbklEID0gZHNsY09wdGlvbi5kYXRhKCdpZCcpO1xuXHRcdHZhciBkc2xjT3B0aW9uVmFsdWUgPSBkc2xjT3B0aW9uLnZhbCgpO1xuXG5cdFx0ZHNsY1NldHRpbmdzW2RzbGNPcHRpb25JRF0gPSBkc2xjT3B0aW9uVmFsdWU7XG5cblx0fSk7XG5cblx0LyoqXG5cdCAqIExvYWRlclxuXHQgKi9cblxuXHRkc2xjTW9kdWxlLmFwcGVuZCgnPGRpdiBjbGFzcz1cImRzbGNhLW1vZHVsZS1yZWxvYWRpbmdcIj48c3BhbiBjbGFzcz1cImRzbGNhLWljb24gZHNsYy1pY29uLXNwaW4gZHNsYy1pY29uLXJlZnJlc2hcIj48L3NwYW4+PC9kaXY+Jyk7XG5cblx0LyoqXG5cdCAqIENhbGwgQUpBWCBmb3IgcHJldmlld1xuXHQgKi9cblx0alF1ZXJ5LnBvc3QoXG5cblx0XHREU0xDQWpheC5hamF4dXJsLCBkc2xjU2V0dGluZ3MsXG5cdFx0ZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuXG5cdFx0XHRkc2xjTW9kdWxlLmFmdGVyKHJlc3BvbnNlLm91dHB1dCkubmV4dCgpLmFkZENsYXNzKCdkc2xjYS1tb2R1bGUtYmVpbmctZWRpdGVkJyk7XG5cdFx0XHRkc2xjTW9kdWxlLnJlbW92ZSgpO1xuXHRcdFx0d2luZG93LmRzbGNfZ2VuZXJhdGVfY29kZSgpO1xuXHRcdFx0d2luZG93LmRzbGNfc2hvd19wdWJsaXNoX2J1dHRvbigpO1xuXG5cdFx0XHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYVdpbmRvdy5kc2xjX2Nhcm91c2VsKCk7XG5cdFx0XHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYVdpbmRvdy5kc2xjX21hc29ucnkoKTtcblxuXHRcdFx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFXaW5kb3cuZHNsY190YWJzKCk7XG5cdFx0XHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYVdpbmRvdy5kc2xjX2luaXRfYWNjb3JkaW9uKCk7XG5cblx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cblx0XHRcdFx0Y2FsbGJhY2soIHJlc3BvbnNlICk7XG5cdFx0XHR9XG5cblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1iZWluZy1lZGl0ZWQnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5yZW1vdmVDbGFzcygnZHNsY2EtbW9kdWxlLWJlaW5nLWVkaXRlZCcpO1xuXHRcdH1cblx0KTtcbn1cblxuLyoqXG4gKiBPdGhlciAtIEdldCBBbHRlciBNb2R1bGUgRGVmYXVsdHMgQ29kZVxuICovXG5mdW5jdGlvbiBkc2xjX2RtX2dldF9kZWZhdWx0cyggbW9kdWxlICkge1xuXG5cdGlmICggd2luZG93LmRzbGNEZWJ1ZyApIGNvbnNvbGUubG9nKCAnZHNsY19kbV9nZXRfZGVmYXVsdHMnICk7XG5cblx0Ly8gVGhlIG1vZHVsZSBjb2RlIHZhbHVlXG5cdHZhciBvcHRpb25zQ29kZSA9IG1vZHVsZS5maW5kKCcuZHNsY2EtbW9kdWxlLWNvZGUnKS52YWwoKTtcblxuXHQvLyBBamF4IGNhbGwgdG8gZ2V0IHRoZSBwbGFpbiBQSFAgY29kZVxuXHRqUXVlcnkucG9zdChcblx0XHREU0xDQWpheC5hamF4dXJsLFxuXHRcdHtcblx0XHRcdGFjdGlvbiA6ICdkc2xjLWFqYXgtZG0tbW9kdWxlLWRlZmF1bHRzJyxcblx0XHRcdGRzbGMgOiAnYWN0aXZlJyxcblx0XHRcdGRzbGNfbW9kdWxlc19vcHRpb25zIDogb3B0aW9uc0NvZGVcblx0XHR9LFxuXHRcdGZ1bmN0aW9uKCByZXNwb25zZSApIHtcblxuXHRcdFx0Ly8gQXBwbHkgdGhlIHBsYWluIFBIUCBjb2RlIHRvIHRoZSB0ZXh0YXJlYVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtcHJvbXB0LW1vZGFsIHRleHRhcmVhJykudmFsKCByZXNwb25zZS5vdXRwdXQgKTtcblx0XHR9XG5cdCk7XG59XG5cbi8qKlxuICogRGVwcmVjYXRlZCBGdW5jdGlvbnMgYW5kIEZhbGxiYWNrc1xuICovXG5mdW5jdGlvbiBkc2xjX2NvcHlfbW9kdWxlKCBtb2R1bGUgKSB7IG1vZHVsZUR1cGxpY2F0ZSggbW9kdWxlICk7IH1cbmZ1bmN0aW9uIGRzbGNfZGlzcGxheV9tb2R1bGVfb3B0aW9ucyggbW9kdWxlSUQgKSB7IGRzbGNfbW9kdWxlX29wdGlvbnNfc2hvdyggbW9kdWxlSUQgKTsgfVxuZnVuY3Rpb24gZHNsY19wcmV2aWV3X2NoYW5nZSggY2FsbGJhY2sgKSB7IG1vZHVsZU91dHB1dEFsdGVyZWQoIGNhbGxiYWNrICk7IH1cbmZ1bmN0aW9uIGRzbGNfcmVsb2FkX21vZHVsZSggbW9kdWxlSUQsIGNhbGxiYWNrICkgeyBkc2xjX21vZHVsZV9vdXRwdXRfcmVsb2FkKCBtb2R1bGVJRCwgY2FsbGJhY2sgKTsgfVxuXG5leHBvcnQgY29uc3QgbW9kdWxlSW5pdEpTID0gKCkgPT4ge1xuXHRhZGp1c3RaaW5kZXgoKTtcblx0ZWRpdGFibGVDb250ZW50VGV4dEV2ZW50cygpO1xuXHRjb25zb2xlLmxvZygnbW9kdWxlLmpzID4gbW9kdWxlSW5pdEpTJyk7XG59IiwiLyoqXG4gKiBEU0xDX01vZHVsZUFyZWEgY2xhc3NcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCBTb3J0YWJsZSBmcm9tICdzb3J0YWJsZWpzJztcblxuZXhwb3J0IGNvbnN0IE1vZHVsZUFyZWEgPSBmdW5jdGlvbihlbGVtKSB7XG5cblx0dmFyIHNlbGYgPSB0aGlzO1xuXHR0aGlzLnNlY3Rpb24gPSBqUXVlcnkoZWxlbSkuY2xvc2VzdCgnLmRzbGMtbW9kdWxlcy1zZWN0aW9uJyk7XG5cdHRoaXMuZWxlbSA9IGVsZW07XG5cblx0LyoqIFNldCBvYnNlcnZlciB0byBjaGFuZ2UgZWxlbXMgY2xhc3MgKi9cblx0dGhpcy5vYnNlcnZlciA9IG5ldyBtcU11dGF0aW9uT2JzZXJ2ZXIoZWxlbSwgZnVuY3Rpb24oKXtcblxuXHRcdHZhciBjbGFzc0xpc3QgPSBzZWxmLmVsZW0uY2xhc3NMaXN0O1xuXG5cdFx0aWYgKGVsZW0ucXVlcnlTZWxlY3RvckFsbCgnLmRzbGMtbW9kdWxlLWZyb250JykubGVuZ3RoID09IDApIHtcblxuXHRcdFx0Y2xhc3NMaXN0LmFkZCgnZHNsYy1tb2R1bGVzLWFyZWEtZW1wdHknKTtcblx0XHRcdGNsYXNzTGlzdC5yZW1vdmUoJ2RzbGMtbW9kdWxlcy1hcmVhLW5vdC1lbXB0eScpO1xuXHRcdH0gZWxzZSB7XG5cblx0XHRcdGNsYXNzTGlzdC5yZW1vdmUoJ2RzbGMtbW9kdWxlcy1hcmVhLWVtcHR5Jyk7XG5cdFx0XHRjbGFzc0xpc3QuYWRkKCdkc2xjLW1vZHVsZXMtYXJlYS1ub3QtZW1wdHknKTtcblx0XHR9XG5cdH0sIHtjaGlsZExpc3Q6IHRydWV9KTtcblxuXHQvKipcblx0ICogTWFrZSBNT0RVTEVTIGluc2lkZSB0aGUgTW9kdWxlcyBBcmVhIGRyYWdnYWJsZS9zb3J0YWJsZVxuXHQgKi9cblx0dGhpcy5zb3J0YWJsZSA9IFNvcnRhYmxlLmNyZWF0ZShlbGVtLCB7XG5cdFx0Z3JvdXA6ICdtb2R1bGVzJyxcblx0XHRhbmltYXRpb246IDM1MCxcblx0XHRoYW5kbGU6ICcuZHNsY2EtbW92ZS1tb2R1bGUtaG9vaycsXG5cdFx0ZHJhZ2dhYmxlOiAnLmRzbGMtbW9kdWxlLWZyb250Jyxcblx0XHRnaG9zdENsYXNzOiAnZHNsY2EtbW9kdWxlLWdob3N0Jyxcblx0XHRjaG9zZW5DbGFzczogJ2RzbGNhLW1vZHVsZS1kcmFnZ2luZycsXG5cdFx0c2Nyb2xsOiB0cnVlLCAvLyBvciBIVE1MRWxlbWVudFxuXHRcdHNjcm9sbFNlbnNpdGl2aXR5OiAxNTAsIC8vIHB4LCBob3cgbmVhciB0aGUgbW91c2UgbXVzdCBiZSB0byBhbiBlZGdlIHRvIHN0YXJ0IHNjcm9sbGluZy5cblx0XHRzY3JvbGxTcGVlZDogMTUsIC8vIHB4XG5cblx0XHRzZXREYXRhOiBmdW5jdGlvbiAoZGF0YVRyYW5zZmVyLCBkcmFnRWwpIHtcblxuXHRcdCAgZGF0YVRyYW5zZmVyLnNldERhdGEoIExpdmVDb21wb3Nlci5VdGlscy5tc2lldmVyc2lvbigpICE9PSBmYWxzZSA/ICdUZXh0JyA6ICd0ZXh0L2h0bWwnLCBkcmFnRWwuaW5uZXJIVE1MKTtcblx0XHR9LFxuXG5cdFx0Ly8gZHJhZ2dpbmcgc3RhcnRlZFxuXHRcdG9uU3RhcnQ6IGZ1bmN0aW9uIChldnQpIHtcblxuXHRcdFx0ZXZ0Lm9sZEluZGV4OyAgLy8gZWxlbWVudCBpbmRleCB3aXRoaW4gcGFyZW50XG5cblx0XHRcdGpRdWVyeSgnYm9keScpLnJlbW92ZUNsYXNzKCdkc2xjYS1kcmFnLW5vdC1pbi1wcm9ncmVzcycpLmFkZENsYXNzKCdkc2xjYS1kcmFnLWluLXByb2dyZXNzJyk7XG5cdFx0XHRqUXVlcnkoJ2JvZHknLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYVdpbmRvdy5kb2N1bWVudCkucmVtb3ZlQ2xhc3MoJ2RzbGNhLWRyYWctbm90LWluLXByb2dyZXNzJykuYWRkQ2xhc3MoJ2RzbGNhLWRyYWctaW4tcHJvZ3Jlc3MnKTtcblx0XHR9LFxuXHRcdC8vIGRyYWdnaW5nIGVuZGVkXG5cblx0XHRvbkVuZDogZnVuY3Rpb24gKGV2dCkge1xuXG5cdFx0XHRldnQub2xkSW5kZXg7ICAvLyBlbGVtZW50J3Mgb2xkIGluZGV4IHdpdGhpbiBwYXJlbnRcblx0XHRcdGV2dC5uZXdJbmRleDsgIC8vIGVsZW1lbnQncyBuZXcgaW5kZXggd2l0aGluIHBhcmVudFxuXG5cdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0d2luZG93LmRzbGNfZ2VuZXJhdGVfY29kZSgpO1xuXHRcdFx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuVUkuc3RvcFNjcm9sbGVyKCk7XG5cdFx0XHRqUXVlcnkoJ2JvZHknKS5yZW1vdmVDbGFzcygnZHNsY2EtZHJhZy1pbi1wcm9ncmVzcycpLmFkZENsYXNzKCdkc2xjYS1kcmFnLW5vdC1pbi1wcm9ncmVzcycpO1xuXHRcdFx0alF1ZXJ5KCdib2R5JywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFXaW5kb3cuZG9jdW1lbnQpLnJlbW92ZUNsYXNzKCdkc2xjYS1kcmFnLWluLXByb2dyZXNzJykuYWRkQ2xhc3MoJ2RzbGNhLWRyYWctbm90LWluLXByb2dyZXNzJyk7XG5cdFx0fSxcblxuXHRcdC8vIEVsZW1lbnQgaXMgZHJvcHBlZCBpbnRvIHRoZSBsaXN0IGZyb20gYW5vdGhlciBsaXN0XG5cdFx0b25BZGQ6IGZ1bmN0aW9uIChldnQpIHtcblxuXHRcdFx0dmFyIGl0ZW1FbCA9IGV2dC5pdGVtOyAgLy8gZHJhZ2dlZCBIVE1MRWxlbWVudFxuXHRcdFx0ZXZ0LmZyb207ICAvLyBwcmV2aW91cyBsaXN0XG5cblx0XHRcdC8vIElmIGNvbnRhaW5lci9jb2x1bW4vbW9kdWxlcyBhcmVhIGRyb3BlZC5cblx0XHRcdGlmICggalF1ZXJ5KGl0ZW1FbCkuZGF0YSgnaWQnKSA9PSAnRFNMQ19NX0EnICkge1xuXG5cdFx0XHRcdGRzbGNfbW9kdWxlc19hcmVhX2FkZCggalF1ZXJ5KHNlbGYuc2VjdGlvbikuZmluZCgnLmRzbGMtbW9kdWxlcy1zZWN0aW9uLXdyYXBwZXIgLmRzbGMtbW9kdWxlcy1zZWN0aW9uLWlubmVyJykgKTtcblx0XHRcdFx0aXRlbUVsLnJlbW92ZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyArIGluZGV4ZXMgZnJvbSBvbkVuZFxuXHRcdFx0Ly8gZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHQvLyBldnQuc3RvcFByb3BhZ2F0aW9uKCk7IHJldHVybiBmYWxzZTtcblx0XHR9LFxuXG5cdFx0Ly8gQ2hhbmdlZCBzb3J0aW5nIHdpdGhpbiBsaXN0XG5cdFx0b25VcGRhdGU6IGZ1bmN0aW9uIChldnQpIHtcblx0XHRcdHZhciBpdGVtRWwgPSBldnQuaXRlbTsgIC8vIGRyYWdnZWQgSFRNTEVsZW1lbnRcblx0XHRcdC8vICsgaW5kZXhlcyBmcm9tIG9uRW5kXG5cdFx0XHQvLyBldnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdC8vIGV2dC5zdG9wUHJvcGFnYXRpb24oKTsgcmV0dXJuIGZhbHNlO1xuXG5cdFx0XHR3aW5kb3cuZHNsY19zaG93X3B1Ymxpc2hfYnV0dG9uKCk7XG5cdFx0fSxcblxuXHRcdC8vIENhbGxlZCBieSBhbnkgY2hhbmdlIHRvIHRoZSBsaXN0IChhZGQgLyB1cGRhdGUgLyByZW1vdmUpXG5cdFx0b25Tb3J0OiBmdW5jdGlvbiAoZXZ0KSB7XG5cdFx0XHQvLyBzYW1lIHByb3BlcnRpZXMgYXMgb25VcGRhdGVcblx0XHRcdC8vIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0Ly8gZXZ0LnN0b3BQcm9wYWdhdGlvbigpOyByZXR1cm4gZmFsc2U7XG5cblx0XHR9LFxuXG5cdFx0Ly8gRWxlbWVudCBpcyByZW1vdmVkIGZyb20gdGhlIGxpc3QgaW50byBhbm90aGVyIGxpc3Rcblx0XHRvblJlbW92ZTogZnVuY3Rpb24gKGV2dCkge1xuXHRcdCAgLy8gc2FtZSBwcm9wZXJ0aWVzIGFzIG9uVXBkYXRlXG5cdFx0fSxcblxuXHRcdC8vIEF0dGVtcHQgdG8gZHJhZyBhIGZpbHRlcmVkIGVsZW1lbnRcblx0XHRvbkZpbHRlcjogZnVuY3Rpb24gKGV2dCkge1xuXHRcdFx0dmFyIGl0ZW1FbCA9IGV2dC5pdGVtOyAgLy8gSFRNTEVsZW1lbnQgcmVjZWl2aW5nIHRoZSBgbW91c2Vkb3dufHRhcHN0YXJ0YCBldmVudC5cblx0XHR9LFxuXG5cdFx0Ly8gRXZlbnQgd2hlbiB5b3UgbW92ZSBhbiBpdGVtIGluIHRoZSBsaXN0IG9yIGJldHdlZW4gbGlzdHNcblx0XHRvbk1vdmU6IGZ1bmN0aW9uIChldnQpIHtcblx0XHRcdC8vIEV4YW1wbGU6IGh0dHA6Ly9qc2Jpbi5jb20vdHV5YWZlLzEvZWRpdD9qcyxvdXRwdXRcblx0XHRcdGV2dC5kcmFnZ2VkOyAvLyBkcmFnZ2VkIEhUTUxFbGVtZW50XG5cdFx0XHRldnQuZHJhZ2dlZFJlY3Q7IC8vIFRleHRSZWN0YW5nbGUge2xlZnQsIHRvcCwgcmlnaHQg0LggYm90dG9tfVxuXHRcdFx0ZXZ0LnJlbGF0ZWQ7IC8vIEhUTUxFbGVtZW50IG9uIHdoaWNoIGhhdmUgZ3VpZGVkXG5cdFx0XHRldnQucmVsYXRlZFJlY3Q7IC8vIFRleHRSZWN0YW5nbGVcblx0XHRcdC8vIHJldHVybiBmYWxzZTsg4oCUIGZvciBjYW5jZWxcblxuXG5cdFx0XHQvLyBBZGQgaGVyZSB0aGUgZnVuY3Rpb24gdG8gdXBkYXRlIHVuZGVybHlpbmcgY2xhc3Ncblx0XHRcdGlmICggalF1ZXJ5KCcuZHNsYy1tb2R1bGVzLWFyZWEtZW1wdHknKS5maW5kKCcuZHNsYy1tb2R1bGUtZnJvbnQnKS5sZW5ndGggPiAwICkge1xuXG5cdFx0XHRcdGpRdWVyeSh0aGlzKS5yZW1vdmVDbGFzcygnZHNsYy1tb2R1bGVzLWFyZWEtZW1wdHknKS5hZGRDbGFzcygnZHNsYy1tb2R1bGVzLWFyZWEtbm90LWVtcHR5Jyk7XG5cblx0XHRcdFx0alF1ZXJ5KCcuZHNsY2Etbm8tY29udGVudDpub3QoOnZpc2libGUpJywgdGhpcykuc2hvdygpLmNzcyh7XG5cdFx0XHRcdFx0Jy13ZWJraXQtYW5pbWF0aW9uLW5hbWUnIDogJ2RzbGNCb3VuY2VJbicsXG5cdFx0XHRcdFx0Jy1tb3otYW5pbWF0aW9uLW5hbWUnIDogJ2RzbGNCb3VuY2VJbicsXG5cdFx0XHRcdFx0J2FuaW1hdGlvbi1uYW1lJyA6ICdkc2xjQm91bmNlSW4nLFxuXHRcdFx0XHRcdCdhbmltYXRpb24tZHVyYXRpb24nIDogJzAuNnMnLFxuXHRcdFx0XHRcdCctd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbicgOiAnMC42cycsXG5cdFx0XHRcdFx0cGFkZGluZyA6IDBcblx0XHRcdFx0fSkuYW5pbWF0ZSh7IHBhZGRpbmcgOiAnMzVweCAwJyB9LCAzMDAsIGZ1bmN0aW9uKCl7XG5cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcblxuXHQvLyBNYXJrIG1vZHVsZSBhcmVhIGFzIGluaXRpYWxpemVkXG5cdGpRdWVyeSggZWxlbSApLmF0dHIoJ2RhdGEtanNpbml0JywgJ2luaXRpYWxpemVkJyk7XG5cblx0LyoqIFNvcnQgb3B0aW9uIHNldHRlciAqL1xuXHRqUXVlcnkoZG9jdW1lbnQpLm9uKCdMQy5zb3J0YWJsZU9mZicsIGZ1bmN0aW9uKCl7XG5cblx0XHRzZWxmLnNvcnRhYmxlICYmIHNlbGYuc29ydGFibGUub3B0aW9uICYmIHNlbGYuc29ydGFibGUub3B0aW9uKCdkaXNhYmxlZCcsIHRydWUpO1xuXHR9KTtcblxuXHRqUXVlcnkoZG9jdW1lbnQpLm9uKCdMQy5zb3J0YWJsZU9uJywgZnVuY3Rpb24oKXtcblxuXHRcdHNlbGYuc29ydGFibGUgJiYgc2VsZi5zb3J0YWJsZS5vcHRpb24gJiYgc2VsZi5zb3J0YWJsZS5vcHRpb24oJ2Rpc2FibGVkJywgZmFsc2UpO1xuXHR9KTtcbn1cbiIsIi8qKlxuICogRnVuY3Rpb25zIHBvd2VyaW5nIE1vZHVsZSBBcmVhcyBmdW5jdGlvbmFsaXR5XG4gKlxuICogPSBBUkVBUyAoIE1PRFVMRSBBUkVBUyApID1cbiAqXG4gKiAtIEFjdGlvbnMvRXZlbnRzIChEdXBsaWNhdGUsIENoYW5nZSBXaWR0aCwgRGVsZXRlLCAuLi4pXG4gKiAtIGRzbGNfbW9kdWxlc19hcmVhX2FkZCAoIEFkZHMgYSBuZXcgbW9kdWxlcyBhcmVhIClcbiAqIC0gZHNsY19tb2R1bGVzX2FyZWFfZGVsZXRlICggRGVsZXRlcyBtb2R1bGVzIGFyZWEgKVxuICogLSBkc2xjX21vZHVsZXNfYXJlYV93aWR0aF9zZXQgKCBTZXRzIHNwZWNpZmljIHdpZHRoIHRvIHRoZSBtb2R1bGVzIGFyZWEgKVxuICogLSBkc2xjX2NvcHlfbW9kdWxlc19hcmVhICggQ29waWVzIG1vZHVsZXMgYXJlYSApXG4gKlxuICovXG5cbmltcG9ydCB7IGRyYWdBbmREcm9wSW5pdCB9IGZyb20gJy4vZHJhZ25kcm9wLmpzJztcbmltcG9ydCB7IGFkZFNlY3Rpb24gfSBmcm9tICcuL3NlY3Rpb25zLmpzJztcbmltcG9ydCB7IE1vZHVsZUFyZWEgfSBmcm9tICcuL21vZHVsZWFyZWEuY2xhc3MuanMnO1xuaW1wb3J0IHsgQ01vZGFsV2luZG93IH0gZnJvbSAnLi9tb2RhbHdpbmRvdy5jbGFzcy5qcyc7XG5pbXBvcnQgeyBzaG93U2VjdGlvbiB9IGZyb20gJy4vdWlnZW5lcmFsLmpzJztcbmltcG9ydCB7IGdldE5ld01vZHVsZUlkIH0gZnJvbSBcIi4vbW9kdWxlLmpzXCI7XG5cblxuLyoqXG4gKiBNb2R1bGUgQXJlYSBBY3Rpb25zIChEdXBsaWNhdGUsIENoYW5nZSBXaWR0aCwgRGVsZXRlLCAuLi4pXG4gKlxuICogQXR0YWNoIHRoZXNlIGFjdGlvbnMgb25jZSB0aGUgZWRpdGluZyBpRnJhbWUgbG9hZGVkLlxuICovXG5cbjtqUXVlcnkoZG9jdW1lbnQpLm9uKCdlZGl0b3JGcmFtZUxvYWRlZCcsIGZ1bmN0aW9uKCl7XG5cblx0ZnVuY3Rpb24gaW5pdF9zb3J0YWJsZXMoKSB7XG5cblx0XHR2YXIgZWwgPSBqUXVlcnkoJy5kc2xjLW1vZHVsZXMtYXJlYScsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpOyAvLyBHcm91cHMgdGhhdCBjYW4gaG9sZCBtb2R1bGVzXG5cblx0XHRqUXVlcnkoZWwpLmVhY2goZnVuY3Rpb24gKGksZSkge1xuXG5cdFx0XHRuZXcgTW9kdWxlQXJlYShlKTtcblx0XHR9KTtcblx0fVxuXG5cblx0dmFyIGFjdGlvbkF2YWlsID0gZnVuY3Rpb24oKSB7XG5cblx0XHRpZiAoIExpdmVDb21wb3Nlci5CdWlsZGVyLkZsYWdzLnBhbmVsT3BlbmVkICkge1xuXG5cdFx0XHRMaXZlQ29tcG9zZXIuQnVpbGRlci5VSS5zaGFrZVBhbmVsQ29uZmlybUJ1dHRvbigpO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFjdGlvbiAtIEF1dG9tYXRpY2FsbHkgQWRkIGEgUm93IGlmIEVtcHR5XG5cdCAqL1xuXHRpZiAoICEgalF1ZXJ5KCAnI2RzbGMtbWFpbiAuZHNsYy1tb2R1bGVzLXNlY3Rpb24nLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5sZW5ndGggJiYgISBqUXVlcnkoICcjZHNsY2EtdHV0LXBhZ2UnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5sZW5ndGggKSB7XG5cblx0XHRhZGRTZWN0aW9uKCBpbml0X3NvcnRhYmxlcygpICk7XG5cdH0gZWxzZSB7XG5cblx0XHRpbml0X3NvcnRhYmxlcygpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEhvb2sgLSBDb3B5IE1vZHVsZSBBcmVhXG5cdCAqL1xuXHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50Lm9uKCAnY2xpY2snLCAnLmRzbGNhLWNvcHktbW9kdWxlcy1hcmVhLWhvb2snLCBmdW5jdGlvbihlKXtcblxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdC8vIENoZWNrIGlmIGFjdGlvbiBjYW4gYmUgZmlyZWRcblx0XHRpZiAoICFhY3Rpb25BdmFpbCgpICkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0aWYgKCAhIGpRdWVyeSh0aGlzKS5oYXNDbGFzcygnZHNsY2EtYWN0aW9uLWRpc2FibGVkJykgKSB7XG5cblx0XHRcdHZhciBtb2R1bGVzQXJlYSA9IGpRdWVyeSh0aGlzKS5jbG9zZXN0KCcuZHNsYy1tb2R1bGVzLWFyZWEnKTtcblx0XHRcdGRzbGNfY29weV9tb2R1bGVzX2FyZWEoIG1vZHVsZXNBcmVhICk7XG5cdFx0fVxuXHR9KTtcblxuXHQvKipcblx0ICogSG9vayAtIERlbGV0ZSBNb2R1bGUgQXJlYVxuXHQgKi9cblx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudC5vbiggJ2NsaWNrJywgJy5kc2xjYS1kZWxldGUtbW9kdWxlcy1hcmVhLWhvb2snLCBmdW5jdGlvbihlKXtcblxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdC8vIENoZWNrIGlmIGFjdGlvbiBjYW4gYmUgZmlyZWRcblx0XHRpZiAoICFhY3Rpb25BdmFpbCgpICkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0aWYgKCAhIGpRdWVyeSh0aGlzKS5oYXNDbGFzcygnZHNsY2EtYWN0aW9uLWRpc2FibGVkJykgKSB7XG5cblx0XHRcdC8vIENoZWNrIGlmIGN1cnJlbnQgbW9kdWxlcyBhcmVhIGlzIGVtcHR5LlxuXHRcdFx0dmFyIG1vZHVsZXNBcmVhRW1wdHkgPSBqUXVlcnkodGhpcykuY2xvc2VzdCgnLmRzbGMtbW9kdWxlcy1hcmVhJykuaGFzQ2xhc3MoJ2RzbGMtbW9kdWxlcy1hcmVhLWVtcHR5Jyk7XG5cblx0XHRcdGlmICggISBtb2R1bGVzQXJlYUVtcHR5ICkge1xuXG5cdFx0XHRcdHZhciBzZWxmID0galF1ZXJ5KHRoaXMpO1xuXG5cdFx0XHRcdENNb2RhbFdpbmRvdyh7XG5cblx0XHRcdFx0XHR0aXRsZTogRFNMQ1N0cmluZy5zdHJfZGVsX2FyZWFfdGl0bGUsXG5cdFx0XHRcdFx0Y29udGVudDogRFNMQ1N0cmluZy5zdHJfZGVsX2FyZWFfZGVzY3IsXG5cdFx0XHRcdFx0Y29uZmlybTogZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0XHRcdHZhciBtb2R1bGVzQXJlYSA9IHNlbGYuY2xvc2VzdCgnLmRzbGMtbW9kdWxlcy1hcmVhJyk7XG5cdFx0XHRcdFx0XHRkc2xjX21vZHVsZXNfYXJlYV9kZWxldGUoIG1vZHVsZXNBcmVhICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvLyBTaG93IGNvbmZpcm1hdGlvbiBtb2RhbCBvbmx5IGlmIHRoZSBtb2R1bGUgYXJlYSBpc24ndCBlbXB0eS5cblx0XHRcdFx0Lypkc2xjX2pzX2NvbmZpcm0oICdkZWxldGVfbW9kdWxlc19hcmVhJywgJzxzcGFuIGNsYXNzPVwiZHNsY2EtcHJvbXB0LW1vZGFsLXRpdGxlXCI+JyArIERTTENTdHJpbmcuc3RyX2RlbF9hcmVhX3RpdGxlICtcblx0XHRcdFx0XHQnPC9zcGFuPjxzcGFuIGNsYXNzPVwiZHNsY2EtcHJvbXB0LW1vZGFsLWRlc2NyXCI+JyArIERTTENTdHJpbmcuc3RyX2RlbF9hcmVhX2Rlc2NyICsgJzwvc3Bhbj4nLCBqUXVlcnkodGhpcykgKTsqL1xuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHR2YXIgbW9kdWxlc0FyZWEgPSBqUXVlcnkodGhpcykuY2xvc2VzdCgnLmRzbGMtbW9kdWxlcy1hcmVhJyk7XG5cdFx0XHRcdC8vIERlbGV0ZSBtb2R1bGUgYXJlYSB3aXRob3V0IGFza2luZyBhbnl0aGluZy5cblx0XHRcdFx0ZHNsY19kZWxldGVfbW9kdWxlc19hcmVhKCBtb2R1bGVzQXJlYSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG5cblx0LyoqXG5cdCAqIEhvb2sgLSBTZXQgV2lkdGggb2YgdGhlIE1vZHVsZSBBcmVhXG5cdCAqL1xuXHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50Lm9uKCAnY2xpY2snLCAnLmRzbGNhLWNoYW5nZS13aWR0aC1tb2R1bGVzLWFyZWEtb3B0aW9ucyBzcGFuJywgZnVuY3Rpb24oKXtcblx0XHQvLyBDaGVjayBpZiBhY3Rpb24gY2FuIGJlIGZpcmVkXG5cdFx0aWYgKCAhYWN0aW9uQXZhaWwoKSApIHJldHVybiBmYWxzZTtcblxuXHRcdGlmICggISBqUXVlcnkodGhpcykuaGFzQ2xhc3MoJ2RzbGNhLWFjdGlvbi1kaXNhYmxlZCcpICkge1xuXHRcdFx0dmFyIG1vZHVsZUFyZWFKUSA9IGpRdWVyeSh0aGlzKS5jbG9zZXN0KCcuZHNsYy1tb2R1bGVzLWFyZWEnKTtcblx0XHRcdHZhciBvbGRTaXplID0gbW9kdWxlQXJlYUpRLmRhdGEoJ3NpemUnKTtcblx0XHRcdHZhciBuZXdTaXplID0galF1ZXJ5KHRoaXMpLmRhdGEoJ3NpemUnKTtcblxuXHRcdFx0Ly8gU3RhcnQgZXhwZW5zaXZlIGZ1bmN0aW9uIG9ubHkgaWYgdGhlIHZhbHVlIGNoYW5nZWQuXG5cdFx0XHRpZiAoICBOdW1iZXIob2xkU2l6ZSkgIT09IE51bWJlcihuZXdTaXplKSApIHtcblx0XHRcdFx0ZHNsY19tb2R1bGVzX2FyZWFfd2lkdGhfc2V0KCBtb2R1bGVBcmVhSlEsIG5ld1NpemUgKTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXG5cdC8qKlxuXHQgKiBBY3Rpb24gLSBTaG93L0hpZGUgV2lkdGggT3B0aW9ucyBQb3B1cCBmb3IgdGhlIE1vZHVsZSBBcmVhXG5cdCAqL1xuXHQvKiBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50Lm9uKCAnY2xpY2snLCAnLmRzbGNhLWNoYW5nZS13aWR0aC1tb2R1bGVzLWFyZWEtaG9vaycsIGZ1bmN0aW9uKGUpe1xuXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0Ly8gQ2hlY2sgaWYgYWN0aW9uIGNhbiBiZSBmaXJlZFxuXHRcdGlmICggISBhY3Rpb25BdmFpbCgpICkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0aWYgKCAhIGpRdWVyeSh0aGlzKS5oYXNDbGFzcygnZHNsY2EtYWN0aW9uLWRpc2FibGVkJykgKSB7XG5cblx0XHRcdC8vIElzIHZpc2libGVcblx0XHRcdGlmICggalF1ZXJ5KCcuZHNsY2EtY2hhbmdlLXdpZHRoLW1vZHVsZXMtYXJlYS1vcHRpb25zOnZpc2libGUnLCB0aGlzKS5sZW5ndGggKSB7XG5cblx0XHRcdFx0Ly8gSGlkZVxuXHRcdFx0XHRqUXVlcnkoJy5kc2xjYS1jaGFuZ2Utd2lkdGgtbW9kdWxlcy1hcmVhLW9wdGlvbnMnLCB0aGlzKS5oaWRlKCk7XG5cblx0XHRcdC8vIElzIGhpZGRlblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHQvLyBTaG93XG5cdFx0XHRcdGpRdWVyeSgnLmRzbGNhLWNoYW5nZS13aWR0aC1tb2R1bGVzLWFyZWEtb3B0aW9ucycsIHRoaXMpLnNob3coKTtcblx0XHRcdH1cblx0XHR9XG5cdH0pOyAqL1xuLyogXG5cdExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQub24oICdtb3VzZWxlYXZlJywgJy5kc2xjYS1jaGFuZ2Utd2lkdGgtbW9kdWxlcy1hcmVhLW9wdGlvbnMnLCBmdW5jdGlvbihlKXtcblxuXHRcdC8vIEhpZGUgd2lkdGggc2VsZWNpdG9uIHBhbmVsLlxuXHRcdGpRdWVyeSh0aGlzKS5oaWRlKCk7XG5cdH0pO1xuICovXG5cdC8qKlxuXHQgKiBIb29rIC0gQWRkIE1vZHVsZXMgQXJlYVxuXHQgKiBUT0RPOiBXaGVyZSB3ZSB1c2UgaXQ/IERlbGV0ZSBtYXliZT9cblx0ICovXG5cdExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQub24oICdjbGljaycsICcuZHNsY2EtYWRkLW1vZHVsZXMtYXJlYS1ob29rJywgZnVuY3Rpb24oZSl7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0Ly8gQ2hlY2sgaWYgYWN0aW9uIGNhbiBiZSBmaXJlZFxuXHRcdGlmICggIWFjdGlvbkF2YWlsKCkgKSByZXR1cm4gZmFsc2U7XG5cblx0XHRkc2xjX21vZHVsZXNfYXJlYV9hZGQoIGpRdWVyeSh0aGlzKS5jbG9zZXN0KCcuZHNsYy1tb2R1bGVzLXNlY3Rpb24nKS5maW5kKCcuZHNsYy1tb2R1bGVzLXNlY3Rpb24taW5uZXInKSApO1xuXHR9KTtcblxufSk7XG5cbi8qKlxuICogQVJFQVMgLSBBZGQgTmV3XG4gKi9cblxuZnVuY3Rpb24gZHNsY19tb2R1bGVzX2FyZWFfYWRkKCByb3cgKSB7XG5cblx0aWYgKCB3aW5kb3cuZHNsY0RlYnVnICkgY29uc29sZS5sb2coICdkc2xjX2FkZF9tb2R1bGVzX2FyZWEnICk7XG5cblx0Ly8gQWRkIGNsYXNzIHRvIGJvZHkgc28gd2Uga25vdyBpdCdzIGluIHByb2dyZXNzXG5cdC8vIGpRdWVyeSgnYm9keScsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLmFkZENsYXNzKCdkc2xjYS1hbmltLWluLXByb2dyZXNzJyk7XG5cblx0dmFyIG91dHB1dCA9ICc8ZGl2IGNsYXNzPVwiZHNsYy1tb2R1bGVzLWFyZWEgZHNsYy1tb2R1bGVzLWFyZWEtZG5kIGRzbGMtY29sIGRzbGMtMTItY29sIGRzbGMtbW9kdWxlcy1hcmVhLWVtcHR5IFwiIGRhdGEtc2l6ZT1cIjEyXCI+Jytcblx0JzxkaXYgY2xhc3M9XCJkc2xjYS1tb2R1bGVzLWFyZWEtbWFuYWdlXCI+IDxkaXYgY2xhc3M9XCJkc2xjYS1tb2R1bGVzLWFyZWEtbWFuYWdlLWlubmVyXCI+Jytcblx0JzxzcGFuIGNsYXNzPVwiZHNsY2EtbWFuYWdlLWFjdGlvbiBkc2xjYS1jb3B5LW1vZHVsZXMtYXJlYS1ob29rXCIgdGl0bGU9XCJEdXBsaWNhdGVcIiA+PHNwYW4gY2xhc3M9XCJkc2xjYS1pY29uIGRzbGMtaWNvbi1jb3B5XCI+Jytcblx0Jzwvc3Bhbj48L3NwYW4+IDxzcGFuIGNsYXNzPVwiZHNsY2EtbWFuYWdlLWFjdGlvbiBkc2xjYS1tb3ZlLW1vZHVsZXMtYXJlYS1ob29rXCIgdGl0bGU9XCJEcmFnIHRvIG1vdmVcIiA+Jytcblx0JzxzcGFuIGNsYXNzPVwiZHNsY2EtaWNvbiBkc2xjLWljb24tbW92ZVwiPjwvc3Bhbj48L3NwYW4+Jytcblx0JzxzcGFuIGNsYXNzPVwiZHNsY2EtbWFuYWdlLWFjdGlvbiBkc2xjYS1jaGFuZ2Utd2lkdGgtbW9kdWxlcy1hcmVhLWhvb2tcIiB0aXRsZT1cIkNoYW5nZSB3aWR0aFwiID4nK1xuXHQnPHNwYW4gY2xhc3M9XCJkc2xjYS1pY29uIGRzbGMtaWNvbi1jb2x1bW5zXCI+PC9zcGFuPiA8ZGl2IGNsYXNzPVwiZHNsY2EtY2hhbmdlLXdpZHRoLW1vZHVsZXMtYXJlYS1vcHRpb25zXCI+Jytcblx0JzxzcGFuPkNvbnRhaW5lciBXaWR0aDwvc3Bhbj48c3BhbiBkYXRhLXNpemU9XCIxXCI+MS8xMjwvc3Bhbj48c3BhbiBkYXRhLXNpemU9XCIyXCI+Mi8xMjwvc3Bhbj4nK1xuXHQnPHNwYW4gZGF0YS1zaXplPVwiM1wiPjMvMTI8L3NwYW4+PHNwYW4gZGF0YS1zaXplPVwiNFwiPjQvMTI8L3NwYW4+IDxzcGFuIGRhdGEtc2l6ZT1cIjVcIj41LzEyPC9zcGFuPjxzcGFuIGRhdGEtc2l6ZT1cIjZcIj42LzEyPC9zcGFuPicrXG5cdCc8c3BhbiBkYXRhLXNpemU9XCI3XCI+Ny8xMjwvc3Bhbj48c3BhbiBkYXRhLXNpemU9XCI4XCI+OC8xMjwvc3Bhbj4gPHNwYW4gZGF0YS1zaXplPVwiOVwiPjkvMTI8L3NwYW4+PHNwYW4gZGF0YS1zaXplPVwiMTBcIj4xMC8xMjwvc3Bhbj4nK1xuXHQnPHNwYW4gZGF0YS1zaXplPVwiMTFcIj4xMS8xMjwvc3Bhbj48c3BhbiBkYXRhLXNpemU9XCIxMlwiPjEyLzEyPC9zcGFuPiA8L2Rpdj4gPC9zcGFuPicrXG5cdCc8c3BhbiBjbGFzcz1cImRzbGNhLW1hbmFnZS1hY3Rpb24gZHNsY2EtZGVsZXRlLW1vZHVsZXMtYXJlYS1ob29rXCIgdGl0bGU9XCJEZWxldGVcIiA+PHNwYW4gY2xhc3M9XCJkc2xjYS1pY29uIGRzbGMtaWNvbi1yZW1vdmVcIj48L3NwYW4+PC9zcGFuPiA8L2Rpdj4gPC9kaXY+Jytcblx0JzwvZGl2Pic7XG5cblxuXHQvLyBBcHBlbmQgbmV3IGFyZWEgYW5kIGFuaW1hdGVcblx0alF1ZXJ5KCBvdXRwdXQgKS5hcHBlbmRUbyggcm93ICkuY3NzKHsgaGVpZ2h0IDogMCB9KS5hbmltYXRlKHtcblx0XHRoZWlnaHQgOiA5OVxuXHR9LCAzMDAsIGZ1bmN0aW9uKCl7XG5cdFx0alF1ZXJ5KHRoaXMpLmNzcyh7IGhlaWdodCA6ICdhdXRvJyB9KTtcblx0fSkuYWRkQ2xhc3MoJ2RzbGNhLWluaXQtYW5pbWF0aW9uJyk7XG5cblxuXHQvLyBSZS1pbml0aWFsaXplIGFsbCB0aGUgZW1wdHkgYXJlYXMgb24gdGhlIHBhZ2Vcblx0dmFyIGVtcHR5TW9kdWxlQXJlYXMgPSBqUXVlcnkoJy5kc2xjLW1vZHVsZXMtYXJlYS1lbXB0eScsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpO1xuXG5cdGpRdWVyeShlbXB0eU1vZHVsZUFyZWFzKS5lYWNoKGZ1bmN0aW9uIChpLGUpIHtcblxuXHRcdG5ldyBNb2R1bGVBcmVhKGUpO1xuXHR9KTtcblxuXHQvLyBDYWxsIG90aGVyIGZ1bmN0aW9uc1xuXHRkcmFnQW5kRHJvcEluaXQoKTtcblx0d2luZG93LmRzbGNfZ2VuZXJhdGVfY29kZSgpO1xuXHR3aW5kb3cuZHNsY19zaG93X3B1Ymxpc2hfYnV0dG9uKCk7XG5cblx0Ly8gUmVtb3ZlIGNsYXNzIGZyb20gYm9keSBzbyB3ZSBrbm93IGl0J3MgZG9uZVxuXHQvLyBqUXVlcnkoJ2JvZHknLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5yZW1vdmVDbGFzcygnZHNsY2EtYW5pbS1pbi1wcm9ncmVzcycpO1xufVxuXG4vKipcbiAqIEFSRUFTIC0gRGVsZXRlXG4gKi9cblxuZnVuY3Rpb24gZHNsY19tb2R1bGVzX2FyZWFfZGVsZXRlKCBhcmVhICkge1xuXG5cdGlmICggd2luZG93LmRzbGNEZWJ1ZyApIGNvbnNvbGUubG9nKCAnZHNsY19kZWxldGVfbW9kdWxlc19hcmVhJyApO1xuXG5cdC8vIFZhcnNcblx0dmFyIG1vZHVsZXNTZWN0aW9uID0gYXJlYS5jbG9zZXN0KCcuZHNsYy1tb2R1bGVzLXNlY3Rpb24nKS5maW5kKCcuZHNsYy1tb2R1bGVzLXNlY3Rpb24taW5uZXInKSxcblx0ZHNsY0RlbGV0ZVNlY3Rpb25Ub28gPSBmYWxzZTtcblxuXHQvLyBBZGQgYSBjbGFzcyB0byB0aGUgYXJlYSBzbyB3ZSBrbm93IGl0J3MgYmVpbmcgZGVsZXRlZFxuXHRhcmVhLmFkZENsYXNzKCdkc2xjYS1tb2R1bGVzLWFyZWEtYmVpbmctZGVsZXRlZCcpO1xuXG5cdC8vIElmIGl0J3MgdGhlIGxhc3QgYXJlYSBpbiB0aGUgcm93IGRlbGV0ZSBzZWN0aW9uIGFzIHdlbGxcblx0aWYgKCBtb2R1bGVzU2VjdGlvbi5maW5kKCcuZHNsYy1tb2R1bGVzLWFyZWEnKS5sZW5ndGggPCAyICkge1xuXHRcdGRzbGNEZWxldGVTZWN0aW9uVG9vID0gdHJ1ZTtcblx0fVxuXG5cdC8vIElmIGEgbW9kdWxlIGluIHRoZSBhcmVhIGlzIGJlaW5nIGVkaXRlZFxuXHRpZiAoIGFyZWEuZmluZCgnLmRzbGNhLW1vZHVsZS1iZWluZy1lZGl0ZWQnKS5sZW5ndGggKSB7XG5cblx0XHQvLyBIaWRlIHRoZSBmaWx0ZXIgaG9va3Ncblx0XHRqUXVlcnkoJy5kc2xjYS1oZWFkZXIgLmRzbGNhLW9wdGlvbnMtZmlsdGVyLWhvb2snLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5oaWRlKCk7XG5cblx0XHQvLyBIaWRlIHRoZSBzYXZlL2NhbmNlbCBhY3Rpb25zXG5cdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtYWN0aW9ucycsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLmhpZGUoKTtcblxuXHRcdC8vIFNob3cgdGhlIHNlY3Rpb24gaG9va3Ncblx0XHRqUXVlcnkoJy5kc2xjYS1oZWFkZXIgLmRzbGNhLWdvLXRvLXNlY3Rpb24taG9vaycsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLnNob3coKTtcblxuXHRcdC8vIFNob3cgdGhlIG1vZHVsZXMgbGlzdGluZ1xuXHRcdHNob3dTZWN0aW9uKCcuZHNsY2EtbW9kdWxlcycpO1xuXG5cdH1cblxuXHQvLyBTZXQgYSB0aW1lb3V0IHNvIHdlIGhhbmRsZSBkZWxldGlvbiBhZnRlciBhbmltYXRpb24gZW5kc1xuXHRzZXRUaW1lb3V0KCBmdW5jdGlvbigpe1xuXG5cdFx0Ly8gRGVsZXRlIHNlY3Rpb24gaWYgbm8gbW9yZSBtb2R1bGUgYXJlYXMgaW5zaWRlLlxuXHRcdGlmICggZHNsY0RlbGV0ZVNlY3Rpb25Ub28gKSB7XG5cblx0XHRcdHZhciBwYXJlbnRTZWN0aW9uQ29udGFpbmVyID0gYXJlYS5jbG9zZXN0KCcuZHNsYy1tb2R1bGVzLXNlY3Rpb24taW5uZXInKTtcblx0XHRcdC8vIGRzbGNfbW9kdWxlc19hcmVhX2FkZCggbW9kdWxlc1NlY3Rpb24gKTtcblxuXHRcdFx0Ly8gRG9uJ3QgZGVsZXRlIGxhdGVzdCBtb2R1bGUgYXJlYSBpbiB0aGUgbGF0ZXN0IHNlY3Rpb24gb24gdGhlIHBhZ2Vcblx0XHRcdGlmICgyIDw9IGFyZWEuY2xvc2VzdCgnI2RzbGMtbWFpbicpLmZpbmQoJy5kc2xjLW1vZHVsZXMtc2VjdGlvbicpLmxlbmd0aCApIHtcblxuXHRcdFx0XHRkc2xjX3Jvd19kZWxldGUoIGFyZWEuY2xvc2VzdCgnLmRzbGMtbW9kdWxlcy1zZWN0aW9uJykgKTtcblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gUmVtb3ZlIHRoZSBhcmVhXG5cdFx0XHRcdGFyZWEucmVtb3ZlKCk7XG5cdFx0XHRcdC8vIENyZWF0ZSBuZXcgZW1wdHkgYXJlYSBpbiBjdXJyZW50IG1vZHVsZSBzZWN0aW9uXG5cdFx0XHRcdGRzbGNfbW9kdWxlc19hcmVhX2FkZCggbW9kdWxlc1NlY3Rpb24gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBSZW1vdmUgdGhlIGFyZWFcblx0XHRhcmVhLnJlbW92ZSgpO1xuXG5cdFx0Ly8gQ2FsbCBvdGhlciBmdW5jdGlvbnNcblx0XHR3aW5kb3cuZHNsY19nZW5lcmF0ZV9jb2RlKCk7XG5cdFx0d2luZG93LmRzbGNfc2hvd19wdWJsaXNoX2J1dHRvbigpO1xuXHR9LCA5MDAgKTtcblxuXHQvLyBBbmltYXRpb25cblx0YXJlYS5jc3Moe1xuXHRcdCctd2Via2l0LWFuaW1hdGlvbi1uYW1lJyA6ICdkc2xjQm91bmNlT3V0Jyxcblx0XHQnLW1vei1hbmltYXRpb24tbmFtZScgOiAnZHNsY0JvdW5jZU91dCcsXG5cdFx0J2FuaW1hdGlvbi1uYW1lJyA6ICdkc2xjQm91bmNlT3V0Jyxcblx0XHQnYW5pbWF0aW9uLWR1cmF0aW9uJyA6ICcwLjZzJyxcblx0XHQnLXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb24nIDogJzAuNnMnLFxuXHRcdCdvdmVyZmxvdycgOiAnaGlkZGVuJ1xuXHR9KS5hbmltYXRlKHtcblx0XHRvcGFjaXR5IDogMFxuXHR9LCA2MDApLmFuaW1hdGUoe1xuXHRcdGhlaWdodCA6IDAsXG5cdFx0bWFyZ2luQm90dG9tIDogMFxuXHR9LCAzMDAsIGZ1bmN0aW9uKCl7XG5cdFx0YXJlYS5yZW1vdmUoKTtcblx0XHR3aW5kb3cuZHNsY19nZW5lcmF0ZV9jb2RlKCk7XG5cdFx0d2luZG93LmRzbGNfc2hvd19wdWJsaXNoX2J1dHRvbigpO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBBUkVBUyAtIENvcHlcbiAqL1xuXG5mdW5jdGlvbiBkc2xjX21vZHVsZXNfYXJlYV9jb3B5KCBhcmVhICkge1xuXG5cdGlmICggd2luZG93LmRzbGNEZWJ1ZyApIGNvbnNvbGUubG9nKCAnZHNsY19jb3B5X21vZHVsZXNfYXJlYScgKTtcblxuXHQvLyBWYXJzXG5cdHZhciBkc2xjX21vZHVsZUlELFxuXHRtb2R1bGVzU2VjdGlvbiA9IGFyZWEuY2xvc2VzdCgnLmRzbGMtbW9kdWxlcy1zZWN0aW9uJykuZmluZCgnLmRzbGMtbW9kdWxlcy1zZWN0aW9uLWlubmVyJyk7XG5cblx0Ly8gQ29weSB0aGUgYXJlYSBhbmQgYXBwZW5kIHRvIHRoZSByb3dcblx0dmFyIGRzbGNfbW9kdWxlc0FyZWFDbG9uZWQgPSBhcmVhLmNsb25lKCkuYXBwZW5kVG8obW9kdWxlc1NlY3Rpb24pO1xuXG5cdG5ldyBNb2R1bGVBcmVhKGRzbGNfbW9kdWxlc0FyZWFDbG9uZWRbMF0pO1xuXG5cdC8vIFRyaWdnZXIgbW91c2VsZWF2ZSAoIHNvIHRoZSBhY3Rpb25zIHRoYXQgc2hvdyBvbiBob3ZlciBnbyBhd2F5IClcblx0ZHNsY19tb2R1bGVzQXJlYUNsb25lZC5maW5kKCcuZHNsY2EtbW9kdWxlcy1hcmVhLW1hbmFnZScpLnRyaWdnZXIoJ21vdXNlbGVhdmUnKTtcblxuXHQvLyBBcHBseSBjb3JyZWN0IGRhdGEgc2l6ZSBhbmQgZ2V0IHJpZCBvZiBhbmltYXRpb25zXG5cdGRzbGNfbW9kdWxlc0FyZWFDbG9uZWQuZGF0YSgnc2l6ZScsIGFyZWEuZGF0YSgnc2l6ZScpICkuZmluZCgnLmRzbGMtbW9kdWxlLWZyb250JykuY3NzKHtcblx0XHQnLXdlYmtpdC1hbmltYXRpb24tbmFtZScgOiAnbm9uZScsXG5cdFx0Jy1tb3otYW5pbWF0aW9uLW5hbWUnIDogJ25vbmUnLFxuXHRcdCdhbmltYXRpb24tbmFtZScgOiAnbm9uZScsXG5cdFx0J2FuaW1hdGlvbi1kdXJhdGlvbicgOiAnMCcsXG5cdFx0Jy13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uJyA6ICcwJyxcblx0XHRvcGFjaXR5IDogMFxuXG5cdC8vIEdvIHRocm91Z2ggZWFjaCBtb2R1bGUgaW4gdGhlIGFyZWFcblx0fSkuZWFjaChmdW5jdGlvbigpe1xuXG5cdFx0dmFyIGRzbGNfbW9kdWxlID0galF1ZXJ5KHRoaXMpO1xuXG5cdFx0Ly9HZW5lcmF0ZSBuZXcgSUQgZm9yIHRoZSBuZXcgbW9kdWxlIGFuZCBjaGFuZ2UgaXQgaW4gSFRNTC9DU1Mgb2YgdGhlIG1vZHVsZS5cblx0XHRnZXROZXdNb2R1bGVJZCggZHNsY19tb2R1bGVbMF0gKTtcblxuXHRcdC8vIFJlbW92ZSBcImRzbGNhLW1vZHVsZS1iZWluZy1lZGl0ZWRcIiBjbGFzcyBmb3JtIGFueSBlbGVtZW50XG5cdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWJlaW5nLWVkaXRlZCcsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLnJlbW92ZUNsYXNzKCdkc2xjYS1tb2R1bGUtYmVpbmctZWRpdGVkJyk7XG5cblx0XHQvLyBOZWVkIHRvIGNhbGwgdGhpcyBmdW5jdGlvbiB0byB1cGRhdGUgbGFzdCBjb2x1bW4gY2xhc3MgZm9yIHRoZSBtb2R1bGVzLlxuXHRcdHdpbmRvdy5kc2xjX2dlbmVyYXRlX2NvZGUoKTtcblxuXHRcdC8vIFNob3cgYmFjayBuZXcgY3JlYXRlZCBtb2R1bGVcblx0XHRkc2xjX21vZHVsZS5hbmltYXRlKHtcblx0XHRcdG9wYWNpdHkgOiAxXG5cdFx0fSwgMzAwKTtcblxuXHR9KTtcblxuXHQvLyBDYWxsIG90aGVyIGZ1bmN0aW9uc1xuXHRkcmFnQW5kRHJvcEluaXQoKTtcblx0d2luZG93LmRzbGNfc2hvd19wdWJsaXNoX2J1dHRvbigpO1xuXG5cdC8vIE5lZWQgdG8gY2FsbCB0aGlzIGZ1bmN0aW9uIHRvIHVwZGF0ZSBsYXN0IGNvbHVtbiBjbGFzcyBmb3IgdGhlIG1vZHVsZSBhcmVhcy5cblx0d2luZG93LmRzbGNfZ2VuZXJhdGVfY29kZSgpO1xuXG5cbn1cblxuLyoqXG4gKiBBUkVBUyAtIFNldCBXaWR0aFxuICovXG5mdW5jdGlvbiBkc2xjX21vZHVsZXNfYXJlYV93aWR0aF9zZXQoIGFyZWEsIG5ld1dpZHRoICkge1xuXG5cdGlmICggd2luZG93LmRzbGNEZWJ1ZyApIGNvbnNvbGUubG9nKCAnZHNsY19tb2R1bGVzX2FyZWFfd2lkdGhfc2V0JyApO1xuXG5cdC8vIEdlbmVyYXRlIG5ldyBjbGFzcyBiYXNlZCBvbiB3aWR0aFxuXHR2YXIgbmV3Q2xhc3MgPSAnZHNsYy0nICsgbmV3V2lkdGggKyAnLWNvbCc7XG5cblx0Ly8gUmVtb3ZlIHdpZHRoIGNsYXNzZXMsIGFkZCBuZXcgd2lkdGggY2xhc3MgYW5kIHNldCB0aGUgZGF0YS1zaXplIGF0dHJcblx0YXJlYVxuXHRcdC5yZW1vdmVDbGFzcygnZHNsYy0xLWNvbCBkc2xjLTItY29sIGRzbGMtMy1jb2wgZHNsYy00LWNvbCBkc2xjLTUtY29sIGRzbGMtNi1jb2wgZHNsYy03LWNvbCBkc2xjLTgtY29sIGRzbGMtOS1jb2wgZHNsYy0xMC1jb2wgZHNsYy0xMS1jb2wgZHNsYy0xMi1jb2wnKVxuXHRcdC5hZGRDbGFzcyhuZXdDbGFzcylcblx0XHQuZGF0YSgnc2l6ZScsIG5ld1dpZHRoKTtcblxuXHQvLyBDYWxsIG90aGVyIGZ1bmN0aW9uc1xuXHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYVdpbmRvdy5kc2xjX21hc29ucnkoKTtcblxuXHRpZiAoIExpdmVDb21wb3Nlci5CdWlsZGVyLkZsYWdzLnBhbmVsT3BlbmVkICkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdHdpbmRvdy5kc2xjX2dlbmVyYXRlX2NvZGUoKTtcblx0d2luZG93LmRzbGNfc2hvd19wdWJsaXNoX2J1dHRvbigpO1xuXG59XG5cbi8qKlxuICogQ2hlY2sgTW9kdWxlIEFyZWFzIGluaXRpYWxpemF0aW9uXG4gKlxuICogQHJldHVybiB2b2lkXG4gKi9cbmV4cG9ydCBjb25zdCBtb2R1bGVhcmVhc0luaXRKUyA9ICgpID0+IHtcblxuXHQvLyBTZWxlY3QgYWxsIHRoZSBtb2R1bGUgYXJlYXMgZm9ybSB0aGUgbWFpbiBzZWN0aW9uIG9mIHRoZSBwYWdlXG5cdGpRdWVyeSggJyNkc2xjLW1haW4gLmRzbGMtbW9kdWxlcy1hcmVhJywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCApLmVhY2goIGZ1bmN0aW9uKCkge1xuXG5cdFx0Ly8gQ2hlY2sgaWYgYWxsIHRoZSBtb2R1bGUgYXJlYXMgaGF2ZSBkYXRhIGF0dHJpYnV0ZSAnanNpbml0JyBzZXQgdG8gJ2luaXRpYWxpemVkJz9cblx0XHRpZiAoIGpRdWVyeSggdGhpcyApLmRhdGEoJ2pzaW5pdCcpICE9PSAnaW5pdGlhbGl6ZWQnICkge1xuXG5cdFx0XHQvLyBJbml0aWFsaXplIGFsbCB0aGUgbW9kdWxlIGFyZWFzIHdpdGhvdXQgJ2pzaW5pdCcgYXR0cmlidXRlIVxuXHRcdFx0bmV3IE1vZHVsZUFyZWEoIHRoaXMgKTtcblx0XHR9XG5cdH0gKTtcblxufVxuXG4vKipcbiAqIERlcHJlY2F0ZWQgRnVuY3Rpb25zIGFuZCBGYWxsYmFja3NcbiAqL1xuXG5mdW5jdGlvbiBkc2xjX2FkZF9tb2R1bGVzX2FyZWEoIHJvdyApIHsgZHNsY19tb2R1bGVzX2FyZWFfYWRkKCByb3cgKTsgfVxuZnVuY3Rpb24gZHNsY19kZWxldGVfbW9kdWxlc19hcmVhKCBhcmVhICkgeyBkc2xjX21vZHVsZXNfYXJlYV9kZWxldGUoIGFyZWEgKTsgfVxuZnVuY3Rpb24gZHNsY19jb3B5X21vZHVsZXNfYXJlYSggYXJlYSApIHsgZHNsY19tb2R1bGVzX2FyZWFfY29weSggYXJlYSApOyB9XG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4qXG4qID0gTU9EVUxFIFBSRVNFVFMgPVxuKlxuKiAtIGRzbGNfdXBkYXRlX3ByZXNldCAoIFVwZGF0ZSBTdHlsaW5nIFByZXNldCApXG4qXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIE1vZHVsZSBQcmVzZXRzIC0gVXBkYXRlXG4gKi9cbmV4cG9ydCBjb25zdCB1cGRhdGVQcmVzZXQgPSAoKSA9PiB7XG5cblx0aWYgKCB3aW5kb3cuZHNsY0RlYnVnICkgY29uc29sZS5sb2coICd1cGRhdGVQcmVzZXQnICk7XG5cblx0Ly8gVmFyc1xuXHR2YXIgbW9kdWxlID0galF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWJlaW5nLWVkaXRlZCcsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLFxuXHRwcmVzZXROYW1lID0gbW9kdWxlLmZpbmQoJy5kc2xjYS1tb2R1bGUtb3B0aW9uLWZyb250W2RhdGEtaWQ9XCJjc3NfbG9hZF9wcmVzZXRcIl0nKS52YWwoKSxcblx0cHJlc2V0Q29kZSA9IG1vZHVsZS5maW5kKCcuZHNsY2EtbW9kdWxlLWNvZGUnKS52YWwoKSxcblx0bW9kdWxlSUQgPSBtb2R1bGUuZGF0YSgnbW9kdWxlJyk7XG5cblx0Ly8gSWYgcHJlc2V0IHZhbHVlIG5vdCBcIm5vbmVcIlxuXHRpZiAoICdub25lJyAhPT0gcHJlc2V0TmFtZSAmJiAnJyAhPT0gcHJlc2V0TmFtZSApIHtcblxuXHRcdC8vIEFKQVggQ2FsbCB0byBTYXZlIFByZXNldFxuXHRcdGpRdWVyeS5wb3N0KFxuXG5cdFx0XHREU0xDQWpheC5hamF4dXJsLFxuXHRcdFx0e1xuXHRcdFx0XHRhY3Rpb24gOiAnZHNsYy1hamF4LXNhdmUtcHJlc2V0Jyxcblx0XHRcdFx0ZHNsY19wcmVzZXRfbmFtZSA6IHByZXNldE5hbWUsXG5cdFx0XHRcdGRzbGNfcHJlc2V0X2NvZGUgOiBwcmVzZXRDb2RlLFxuXHRcdFx0XHRkc2xjX21vZHVsZV9pZCA6IG1vZHVsZUlEXG5cdFx0XHR9LFxuXHRcdFx0ZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuXG5cdFx0XHRcdGlmICggcmVzcG9uc2UucHJlc2V0X3NldHRpbmcgPT0gJ2VuYWJsZWQnICkge1xuXG5cdFx0XHRcdFx0Ly8gUmVsb2FkIGFsbCBtb2R1bGVzIHdpdGggdGhlIHNhbWUgcHJlc2V0XG5cdFx0XHRcdFx0alF1ZXJ5KCcuZHNsYy1tb2R1bGUtZnJvbnQ6bm90KCMnICsgbW9kdWxlLmF0dHIoJ2lkJykgKyAnKVtkYXRhLW1vZHVsZT1cIicgKyBtb2R1bGUuZGF0YSgnbW9kdWxlJykgK1xuXHRcdFx0XHRcdFx0J1wiXVtkYXRhLWRzbGMtcHJlc2V0PVwiJyArIG1vZHVsZS5kYXRhKCdkc2xjLXByZXNldCcpICsgJ1wiXScsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQgKS5lYWNoKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0XHRkc2xjX21vZHVsZV9vdXRwdXRfcmVsb2FkKCBqUXVlcnkodGhpcykgKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdCk7XG5cdH1cbn1cblxuLyoqXG4gKiBNb2R1bGUgUHJlc2V0cyAtIERvY3VtZW50IFJlYWR5XG4gKi9cbmpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCl7XG5cblx0LyoqXG5cdCAqIEFjdGlvbiAtIFNhdmUgcHJlc2V0XG5cdCAqL1xuXG5cdGpRdWVyeShkb2N1bWVudCkub24oICdrZXlwcmVzcycsICcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGRbbmFtZT1cImNzc19zYXZlX3ByZXNldFwiXScsIGZ1bmN0aW9uKGUpe1xuXG5cdFx0Ly8gRW50ZXIgS2V5IFByZXNzZWRcblx0XHRpZiAoIGUud2hpY2ggPT0gMTMgKSB7XG5cblx0XHRcdC8vIFZhcnNcblx0XHRcdHZhciBwcmVzZXROYW1lID0galF1ZXJ5KHRoaXMpLnZhbCgpLFxuXHRcdFx0cHJlc2V0SUQgPSBwcmVzZXROYW1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzL2csICctJyk7XG5cblx0XHRcdC8vIEFkZCBjbGFzcyB0byBib2R5IHRoYXQgYSBuZXcgcHJlc2V0IGlzIGFkZGVkXG5cdFx0XHRqUXVlcnkoJ2JvZHknKS5hZGRDbGFzcygnZHNsY2EtbmV3LXByZXNldC1hZGRlZCcpO1xuXG5cdFx0XHQvLyBBcHBlbmQgdGhlIG5ldyBwcmVzZXQgdG8gdGhlIFwiTG9hZCBQcmVzZXRcIiBvcHRpb24gYW5kIHRyaWdnZXIgY2hhbmdlXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZFtuYW1lPVwiY3NzX2xvYWRfcHJlc2V0XCJdJykuYXBwZW5kKCc8b3B0aW9uIHZhbHVlPVwiJyArIHByZXNldElEICsgJ1wiPicgKyBwcmVzZXRJRCArICc8L29wdGlvbj4nKS52YWwoIHByZXNldElEICkudHJpZ2dlcignY2hhbmdlJyk7XG5cblx0XHRcdC8vIEVyYXNlIHZhbHVlIGZyb20gdGhlIFwiU2F2ZSBQcmVzZXRcIiBvcHRpb25cblx0XHRcdGpRdWVyeSh0aGlzKS52YWwoJycpO1xuXG5cdFx0XHRqUXVlcnkoJy5kc2xjLWRlbGV0ZS1wcmVzZXQnKS5yZW1vdmVDbGFzcygnZHNsYy1kZWxldGUtcHJlc2V0LWhpZGUnKTtcblx0XHR9XG5cdH0pO1xuXG5cdC8qKlxuXHQgKiBBY3Rpb24gLSBQcmVzZXQgdmFsdWUgY2hhbmdlZFxuXHQgKi9cblxuXHRqUXVlcnkoZG9jdW1lbnQpLm9uKCAnY2hhbmdlJywgJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZFtuYW1lPVwiY3NzX2xvYWRfcHJlc2V0XCJdJywgZnVuY3Rpb24oZSl7XG5cdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWJlaW5nLWVkaXRlZCcsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLmFkZENsYXNzKCdkc2xjYS1wcmVsb2FkLXByZXNldCcpO1xuXHR9KTtcblxuXHQvKipcblx0ICogQWN0aW9uIC0gRGVsZXRlIFByZXNldFxuXHQgKi9cblxuXHRqUXVlcnkoZG9jdW1lbnQpLm9uKCAnY2xpY2snLCAnLmRzbGMtZGVsZXRlLXByZXNldCcsIGZ1bmN0aW9uKGUpe1xuXG5cdFx0Ly8gVmFyc1xuXHRcdHZhciBtb2R1bGUgPSBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtYmVpbmctZWRpdGVkJywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCksXG5cdFx0cHJlc2V0TmFtZSA9IG1vZHVsZS5maW5kKCcuZHNsY2EtbW9kdWxlLW9wdGlvbi1mcm9udFtkYXRhLWlkPVwiY3NzX2xvYWRfcHJlc2V0XCJdJykudmFsKCksXG5cdFx0bW9kdWxlSUQgPSBtb2R1bGUuZGF0YSgnbW9kdWxlJyk7XG5cblx0XHQvLyBJZiBwcmVzZXQgdmFsdWUgbm90IFwibm9uZVwiXG5cdFx0aWYgKCAnbm9uZScgIT09IHByZXNldE5hbWUgJiYgJycgIT09IHByZXNldE5hbWUgKSB7XG5cblx0XHRcdC8vIEFKQVggQ2FsbCB0byBTYXZlIFByZXNldFxuXHRcdFx0alF1ZXJ5LnBvc3QoXG5cblx0XHRcdFx0RFNMQ0FqYXguYWpheHVybCxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGFjdGlvbiA6ICdkc2xjLWFqYXgtZGVsZXRlLXByZXNldCcsXG5cdFx0XHRcdFx0ZHNsY19wcmVzZXRfbmFtZSA6IHByZXNldE5hbWUsXG5cdFx0XHRcdFx0ZHNsY19tb2R1bGVfaWQgOiBtb2R1bGVJRFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cblx0XHRcdFx0XHRkc2xjX21vZHVsZV9vcHRpb25zX3Nob3cobW9kdWxlSUQpO1xuXHRcdFx0XHR9XG5cdFx0XHQpO1xuXHRcdH1cblx0fSk7XG59KTtcblxuXG5leHBvcnQgY29uc3QgcHJlc2V0c0luaXQgPSAoKSA9PiB7XG5cbn0iLCJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqXG4gKiA9IFVJIC0gU0NST0xMRVIgPVxuICpcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqXG4gKiBTQ1JPTExFUiAtIERvY3VtZW50IFJlYWR5XG4gKi9cbmpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCl7XG5cblx0dmFyIHNjcm9sbGVyUGx1Z2luID0gZnVuY3Rpb24oY29udGFpbmVyKXtcblxuXHRcdC8qKlxuXHRcdCAqIFNjcm9sbCBsaXN0IG9mIG1vZHVsZXMgd2l0aCBhIG1vdXNlIHdoZWVsLlxuXHRcdCAqL1xuXHRcdHZhciBkZWx0YUtvZWYgPSAuNzU7XG5cdFx0dmFyIGluY3JlbWVudCA9IDUwMDtcblx0XHR2YXIgc2Nyb2xsaW5jID0gMTAwO1xuXHRcdHZhciBzY3JvbGxlciA9IGpRdWVyeSgnLmRzbGNhLXNlY3Rpb24tc2Nyb2xsZXInLCBjb250YWluZXIpO1xuXHRcdHZhciBzY3JvbGxJbm5lciA9IGpRdWVyeSgnLmRzbGNhLXNlY3Rpb24tc2Nyb2xsZXItaW5uZXInLCBjb250YWluZXIpWzBdO1xuXG5cdFx0c2Nyb2xsZXIub24oICd3aGVlbCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cblx0XHRcdHNjcm9sbF90byggZXZlbnQub3JpZ2luYWxFdmVudC5kZWx0YVkgfHwgZXZlbnQub3JpZ2luYWxFdmVudC5kZWx0YVggKTtcblxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0pO1xuXG5cdFx0LyoqXG5cdFx0ICogU2Nyb2xsIHRvIGRlbHRhXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gIHtpbnR9IGRlbHRhXG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gc2Nyb2xsX3RvKGRlbHRhKSB7XG5cblx0XHRcdGlmIChkZWx0YSA8IDAgKSB7XG5cblx0XHRcdFx0ZGVsdGEgPSAtc2Nyb2xsaW5jO1xuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRkZWx0YSA9IHNjcm9sbGluYztcblx0XHRcdH1cblxuXHRcdFx0ZGVsdGEgPSBkZWx0YSAqIGRlbHRhS29lZjtcblxuXHRcdFx0dmFyIGxpc3RXaWR0aCA9IHNjcm9sbGVyLmZpbmQoJy5kc2xjYS1zZWN0aW9uLXNjcm9sbGVyLWNvbnRlbnQnKS53aWR0aCgpO1xuXHRcdFx0dmFyIGNvbnRlbnRXaWR0aCA9IHNjcm9sbGVyLndpZHRoKCk7XG5cblx0XHRcdGlmICggbGlzdFdpZHRoIDw9IGNvbnRlbnRXaWR0aCApIHJldHVybiBmYWxzZTtcblxuXHRcdFx0dmFyIHNjcm9sbE1heCA9IGxpc3RXaWR0aCAtIGNvbnRlbnRXaWR0aCArIDEwO1xuXG5cdFx0XHRkZWx0YSA9IHBhcnNlSW50KHNjcm9sbElubmVyLnN0eWxlLmxlZnQgfHwgMCkgLSBkZWx0YTtcblx0XHRcdGRlbHRhID0gZGVsdGEgPj0gMCA/IDAgOiBkZWx0YTtcblx0XHRcdGRlbHRhID0gZGVsdGEgPD0gLXNjcm9sbE1heCA/IC1zY3JvbGxNYXggOiBkZWx0YTtcblxuXHRcdFx0c2Nyb2xsSW5uZXIuc3R5bGUubGVmdCA9IGRlbHRhICsgJ3B4Jztcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBIb29rIC0gU2Nyb2xsZXIgUHJldlxuXHRcdCAqL1xuXHRcdGpRdWVyeSgnLmRzbGNhLXNlY3Rpb24tc2Nyb2xsZXItcHJldicsIGNvbnRhaW5lcikuY2xpY2soZnVuY3Rpb24oZSl7XG5cblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHNjcm9sbF90byggLWluY3JlbWVudCApO1xuXHRcdH0pO1xuXG5cdFx0LyoqXG5cdFx0ICogSG9vayAtIFNjcm9sbGVyIE5leHRcblx0XHQgKi9cblx0XHRqUXVlcnkoJy5kc2xjYS1zZWN0aW9uLXNjcm9sbGVyLW5leHQnLCBjb250YWluZXIpLmNsaWNrKGZ1bmN0aW9uKGUpe1xuXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRzY3JvbGxfdG8oIGluY3JlbWVudCApO1xuXHRcdH0pO1xuXG5cdFx0alF1ZXJ5KHdpbmRvdykubG9hZChmdW5jdGlvbigpe1xuXG5cdFx0XHQvLyBJbml0aWF0ZSBzY3JvbGxlciBvbiB3aW5kb3cgcmVzaXplXG5cdFx0XHRqUXVlcnkod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKXtcblxuXHRcdFx0XHRzY3JvbGxfdG8oIDAgKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0c2Nyb2xsZXJQbHVnaW4oalF1ZXJ5KCcuZHNsY2Etc2VjdGlvbi5kc2xjYS1tb2R1bGVzJykpO1xuXHRzY3JvbGxlclBsdWdpbihqUXVlcnkoJy5kc2xjYS1zZWN0aW9uLmRzbGNhLXRlbXBsYXRlcy1sb2FkJykpO1xufSk7XG5cbi8qKiBTY3JvbGwgcHJldmlldyBhcmVhIHdoZW4gbW91c2UgYXJlIG9uIHNvbWUgZGlzdGFudCBvZiBlZGdlICovXG5leHBvcnQgY29uc3QgaW5pdFByZXZpZXdBcmVhU2Nyb2xsZXIgPSAoKSA9PiB7XG5cblx0dmFyIHB4SW5UaWsgPSA1O1xuXHR2YXIgdGltZXJUaWsgPSA2O1xuXHRMaXZlQ29tcG9zZXIuQnVpbGRlci5GbGFncy53aW5kb3dTY3JvbGxlciA9IGZhbHNlO1xuXG5cdC8qKiBTdG9wIHNjcm9sbCBpZiB3aXRoaW4gYXJlYXMgKi9cblx0alF1ZXJ5KExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLm9uKCdkcmFnbGVhdmUnLCcubGMtc2Nyb2xsLXRvcC1hcmVhLCAubGMtc2Nyb2xsLWJvdHRvbS1hcmVhJywgZnVuY3Rpb24oZSkge1xuXG5cdFx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuVUkuc3RvcFNjcm9sbGVyKCk7XG5cdH0pO1xuXG5cdC8qKiBTY3JvbGwgYm90dG9tICovXG5cdGpRdWVyeShMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5vbignZHJhZ2VudGVyIGRyYWdvdmVyJywnLmxjLXNjcm9sbC1ib3R0b20tYXJlYScsIGZ1bmN0aW9uKGUpIHtcblxuXHRcdGlmKCBMaXZlQ29tcG9zZXIuQnVpbGRlci5GbGFncy53aW5kb3dTY3JvbGxlciAhPT0gZmFsc2UgKSByZXR1cm4gZmFsc2U7XG5cblx0XHRMaXZlQ29tcG9zZXIuVXRpbHMucHVibGlzaCgnTEMuc29ydGFibGVPZmYnLCB7fSk7XG5cblx0XHRMaXZlQ29tcG9zZXIuQnVpbGRlci5GbGFncy53aW5kb3dTY3JvbGxlciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7XG5cblx0XHRcdExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhV2luZG93LnNjcm9sbEJ5KDAgLCBweEluVGlrKTtcblx0XHR9LCB0aW1lclRpayk7XG5cdH0pO1xuXG5cdC8qKiBTY3JvbGwgdG9wICovXG5cdGpRdWVyeShMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5vbignZHJhZ2VudGVyJywnLmxjLXNjcm9sbC10b3AtYXJlYScsIGZ1bmN0aW9uKGUpIHtcblxuXHRcdGlmKCBMaXZlQ29tcG9zZXIuQnVpbGRlci5GbGFncy53aW5kb3dTY3JvbGxlciAhPT0gZmFsc2UgKSByZXR1cm4gZmFsc2U7XG5cblx0XHRMaXZlQ29tcG9zZXIuVXRpbHMucHVibGlzaCgnTEMuc29ydGFibGVPZmYnLCB7fSk7XG5cblx0XHRMaXZlQ29tcG9zZXIuQnVpbGRlci5GbGFncy53aW5kb3dTY3JvbGxlciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7XG5cblx0XHRcdExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhV2luZG93LnNjcm9sbEJ5KDAgLCAtcHhJblRpayk7XG5cdFx0fSwgdGltZXJUaWspO1xuXHR9KTtcblxuXHQvKiogU3RvcCBzY3JvbGwgaWYgY2xpY2sgb3IgZHJhZyBlbmRlZCAqL1xuXHRqUXVlcnkoTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkub24oJ2RyYWdlbmQgbW91c2V1cCcsICdib2R5JywgZnVuY3Rpb24oZSkge1xuXG5cdFx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuRmxhZ3Mud2luZG93U2Nyb2xsZXIgJiYgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuVUkuc3RvcFNjcm9sbGVyKCk7XG5cdH0pO1xufTtcblxuLyoqIFdpbmRvdyBZLXNjcm9sbGVyICovXG5qUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCQpe1xuXG5cdGluaXRQcmV2aWV3QXJlYVNjcm9sbGVyKCk7XG5cdC8qKlxuXHQgKiBTdG9wcyBzY3JvbGxlciBmdW5jdGlvblxuXHQgKi9cblx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuVUkuc3RvcFNjcm9sbGVyID0gZnVuY3Rpb24oKSB7XG5cblx0XHRMaXZlQ29tcG9zZXIuVXRpbHMucHVibGlzaCgnTEMuc29ydGFibGVPbicsIHt9KTtcblxuXHRcdGNsZWFySW50ZXJ2YWwoTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuRmxhZ3Mud2luZG93U2Nyb2xsZXIpO1xuXHRcdExpdmVDb21wb3Nlci5CdWlsZGVyLkZsYWdzLndpbmRvd1Njcm9sbGVyID0gZmFsc2U7XG5cdH1cblxuXHRqUXVlcnkoXCIjc2Nyb2xsZXItc3RvcHBlclwiKS5vbignZHJhZ292ZXInLCBmdW5jdGlvbigpe1xuXG5cdFx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuVUkuc3RvcFNjcm9sbGVyKCk7XG5cdH0pO1xufSk7IiwiLyoqXG4gKiBCdWlsZGVyIHNlY3Rpb24gY2xhc3NcbiAqL1xuXG5leHBvcnQgY29uc3QgU2VjdGlvbiA9IGNsYXNze1xuXG5cdGNvbnN0cnVjdG9yIChlbGVtKSB7XG5cdFx0dGhpcy5zb3J0YWJsZTtcblx0XHR0aGlzLnNvcnRhYmxlQ29udGFpbmVyID0galF1ZXJ5KCBlbGVtICkuZmluZCgnLmRzbGMtbW9kdWxlcy1zZWN0aW9uLXdyYXBwZXIgLmRzbGMtbW9kdWxlcy1zZWN0aW9uLWlubmVyJykuZXEoMClbMF07XG5cblx0XHR0aGlzLmluaXRTb3J0YWJsZShlbGVtKTtcblx0XHR0aGlzLmluaXREcm9wYWJsZShlbGVtKTtcblx0XHR0aGlzLnJlYWN0VG9Tb3J0YWJsZU9uT2ZmKCk7XG5cblx0XHQvLyBNYXJrIHNlY3Rpb24gYXMgaW5pdGlhbGl6ZWRcblx0XHRqUXVlcnkoIGVsZW0gKS5hdHRyKCdkYXRhLWpzaW5pdCcsICdpbml0aWFsaXplZCcpO1xuXHR9XG5cblxuXG5cdGluaXREcm9wYWJsZShlbGVtKSB7XG5cdFx0alF1ZXJ5KCBlbGVtICkuZHJvcHBhYmxlKHtcblx0XHRcdGRyb3A6IGZ1bmN0aW9uKCBldmVudCwgdWkgKSB7XG5cdFx0XHRcdHZhciBtb2R1bGVzU2VjdGlvbiA9IGpRdWVyeSh0aGlzKS5maW5kKCcuZHNsYy1tb2R1bGVzLXNlY3Rpb24taW5uZXInKTtcblx0XHRcdFx0dmFyIG1vZHVsZUlEID0gdWkuZHJhZ2dhYmxlLmRhdGEoICdpZCcgKTtcblx0XHRcdFx0aWYgKCBtb2R1bGVJRCA9PSAnRFNMQ19NX0EnICkge1xuXHRcdFx0XHRcdGRzbGNfbW9kdWxlc19hcmVhX2FkZCggbW9kdWxlc1NlY3Rpb24gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0aW5pdFNvcnRhYmxlKGVsZW0pIHtcblxuXHRcdHRoaXMuc29ydGFibGUgPSBqUXVlcnkoIHRoaXMuc29ydGFibGVDb250YWluZXIgKS5zb3J0YWJsZSh7XG5cdFx0XHRjb25uZWN0V2l0aDogJy5kc2xjLW1vZHVsZXMtc2VjdGlvbi1pbm5lcicsXG5cdFx0XHRpdGVtczogXCIuZHNsYy1tb2R1bGVzLWFyZWEtZG5kXCIsXG5cdFx0XHRoYW5kbGU6ICcuZHNsY2EtbW92ZS1tb2R1bGVzLWFyZWEtaG9vazpub3QoXCIuZHNsY2EtYWN0aW9uLWRpc2FibGVkXCIpJyxcblx0XHRcdHBsYWNlaG9sZGVyOiAnZHNsY2EtbW9kdWxlcy1hcmVhLXBsYWNlaG9sZGVyJyxcblx0XHRcdGN1cnNvckF0OiB7IHRvcDogMCwgbGVmdDogMCB9LFxuXHRcdFx0dG9sZXJhbmNlIDogJ2ludGVyc2VjdCcsXG5cdFx0XHRzY3JvbGw6IHRydWUsXG5cdFx0XHRzY3JvbGxTZW5zaXRpdml0eTogMTAwLFxuXHRcdFx0c2Nyb2xsU3BlZWQgOiAxNSxcblx0XHRcdHNvcnQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLnJlbW92ZUNsYXNzKCBcInVpLXN0YXRlLWRlZmF1bHRcIiApO1xuXHRcdFx0fSxcblx0XHRcdG92ZXI6IGZ1bmN0aW9uIChlLCB1aSkge1xuXG5cdFx0XHRcdHZhciBkc2xjU2VjdGlvbiA9IHVpLnBsYWNlaG9sZGVyLmNsb3Nlc3QoJy5kc2xjLW1vZHVsZXMtc2VjdGlvbicpO1xuXG5cdFx0XHRcdGpRdWVyeShkc2xjU2VjdGlvbikucmVtb3ZlQ2xhc3MoJ2RzbGMtbW9kdWxlcy1zZWN0aW9uLWVtcHR5JykuYWRkQ2xhc3MoJ2RzbGMtbW9kdWxlcy1zZWN0aW9uLW5vdC1lbXB0eScpO1xuXG5cdFx0XHRcdGRzbGNTZWN0aW9uLnNpYmxpbmdzKCcuZHNsYy1tb2R1bGVzLXNlY3Rpb24nKS5lYWNoKCBmdW5jdGlvbigpe1xuXHRcdFx0XHRcdGlmICggalF1ZXJ5KCcuZHNsYy1tb2R1bGVzLWFyZWE6bm90KC51aS1zb3J0YWJsZS1oZWxwZXIpJywgalF1ZXJ5KHRoaXMpKS5sZW5ndGggKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkodGhpcykucmVtb3ZlQ2xhc3MoJ2RzbGMtbW9kdWxlcy1zZWN0aW9uLWVtcHR5JykuYWRkQ2xhc3MoJ2RzbGMtbW9kdWxlcy1zZWN0aW9uLW5vdC1lbXB0eScpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkodGhpcykucmVtb3ZlQ2xhc3MoJ2RzbGMtbW9kdWxlcy1zZWN0aW9uLW5vdC1lbXB0eScpLmFkZENsYXNzKCdkc2xjLW1vZHVsZXMtc2VjdGlvbi1lbXB0eScpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdFx0cmVtb3ZlOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHQoalF1ZXJ5KHNlbGYuZWxlbSkuZmluZCgnLmRzbGMtbW9kdWxlcy1hcmVhJykubGVuZ3RoID09IDApICYmIGRzbGNfbW9kdWxlc19hcmVhX2FkZChqUXVlcnkoc29ydGFibGVDb250YWluZXIpKTtcblx0XHRcdH0sXG5cdFx0XHR1cGRhdGU6IGZ1bmN0aW9uIChlLCB1aSkge1xuXG5cdFx0XHRcdHdpbmRvdy5kc2xjX2dlbmVyYXRlX2NvZGUoKTtcblx0XHRcdFx0d2luZG93LmRzbGNfc2hvd19wdWJsaXNoX2J1dHRvbigpO1xuXHRcdFx0fSxcblx0XHRcdHN0YXJ0OiBmdW5jdGlvbihlLCB1aSl7XG5cblx0XHRcdFx0Ly8gUGxhY2Vob2xkZXJcblx0XHRcdFx0dWkucGxhY2Vob2xkZXIuaHRtbCgnPHNwYW4gY2xhc3M9XCJkc2xjYS1wbGFjZWhvbGRlci1oZWxwLXRleHRcIj48c3BhbiBjbGFzcz1cImRzbGNhLXBsYWNlaG9sZGVyLWhlbHAtdGV4dC1pbm5lclwiPicgKyBEU0xDU3RyaW5nLnN0cl9hcmVhX2hlbHBlcl90ZXh0ICsgJzwvc3Bhbj48L3NwYW4+Jyk7XG5cdFx0XHRcdGlmICggISBqUXVlcnkodWkuaXRlbSkuaGFzQ2xhc3MoJ2RzbGMtMTItY29sJykgKSB7XG5cdFx0XHRcdFx0dWkucGxhY2Vob2xkZXIud2lkdGgodWkuaXRlbS53aWR0aCgpIC0gMTApXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dWkucGxhY2Vob2xkZXIud2lkdGgodWkuaXRlbS53aWR0aCgpKS5jc3MoeyBtYXJnaW4gOiAwIH0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQWRkIGRyYWcgaW4gcHJvZ3Jlc3MgY2xhc3Ncblx0XHRcdFx0alF1ZXJ5KCdib2R5JykucmVtb3ZlQ2xhc3MoJ2RzbGNhLWRyYWctbm90LWluLXByb2dyZXNzJykuYWRkQ2xhc3MoJ2RzbGNhLWRyYWctaW4tcHJvZ3Jlc3MgZHNsY2EtbW9kdWxlcy1hcmVhLWRyYWctaW4tcHJvZ3Jlc3MnKTtcblxuXHRcdFx0XHQvLyBSZWZyZXNoIHBvc2l0aW9uc1xuXHRcdFx0XHRqUXVlcnkoICcuZHNsYy1tb2R1bGVzLXNlY3Rpb24taW5uZXInICkuc29ydGFibGUoIFwicmVmcmVzaFBvc2l0aW9uc1wiICk7XG5cblx0XHRcdH0sXG5cdFx0XHRzdG9wOiBmdW5jdGlvbihlLCB1aSl7XG5cblx0XHRcdFx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuVUkuc3RvcFNjcm9sbGVyKCk7XG5cdFx0XHRcdGpRdWVyeSgnYm9keScpLnJlbW92ZUNsYXNzKCdkc2xjYS1kcmFnLWluLXByb2dyZXNzIGRzbGNhLW1vZHVsZXMtYXJlYS1kcmFnLWluLXByb2dyZXNzJykuYWRkQ2xhc3MoJ2RzbGNhLWRyYWctbm90LWluLXByb2dyZXNzJyk7XG5cdFx0XHRcdGpRdWVyeSgnLmRzbGNhLWFuaW0tb3BhY2l0eS1kcm9wJykucmVtb3ZlQ2xhc3MoJ2RzbGNhLWFuaW0tb3BhY2l0eS1kcm9wJyk7XG5cdFx0XHR9LFxuXHRcdFx0Y2hhbmdlOiBmdW5jdGlvbiggZSwgdWkgKSB7XG5cblx0XHRcdH1cblx0XHR9KTtcblxuXHR9XG5cblx0cmVhY3RUb1NvcnRhYmxlT25PZmYoKSB7XG5cdFx0c2VsZiA9IHRoaXMuc29ydGFibGU7XG5cblx0XHQvKiogU29ydCBvcHRpb24gc2V0dGVyICovXG5cdFx0alF1ZXJ5KGRvY3VtZW50KS5vbignTEMuc29ydGFibGVPZmYnLCBmdW5jdGlvbigpe1xuXHRcdFx0aWYgKCB1bmRlZmluZWQgIT09IHNlbGYuc29ydGFibGUoIFwiaW5zdGFuY2VcIiApICkge1xuXHRcdFx0XHRzZWxmLnNvcnRhYmxlKCdvcHRpb24nLCdkaXNhYmxlZCcsIHRydWUpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0alF1ZXJ5KGRvY3VtZW50KS5vbignTEMuc29ydGFibGVPbicsIGZ1bmN0aW9uKCl7XG5cdFx0XHRpZiAoIHVuZGVmaW5lZCAhPT0gc2VsZi5zb3J0YWJsZSggXCJpbnN0YW5jZVwiICkgKSB7XG5cdFx0XHRcdHNlbGYuc29ydGFibGUoJ29wdGlvbicsJ2Rpc2FibGVkJywgZmFsc2UpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG59IiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICpcbiAqID0gUk9XUyA9XG4gKlxuICogLSBkc2xjX3Jvd19hZGQgKCBBZGQgTmV3IClcbiAqIC0gZHNsY19yb3dfZGVsZXRlICggRGVsZXRlIClcbiAqIC0gZHNsY19yb3dfZWRpdCAoIEVkaXQgKVxuICogLSBkc2xjX3Jvd19lZGl0X3NsaWRlcl9pbml0ICggRWRpdCAtIEluaXRpYXRlIFNsaWRlciApXG4gKiAtIGRzbGNfcm93X2VkaXRfY2FuY2VsICggRWRpdCAtIENhbmNlbCBDaGFuZ2VzIClcbiAqIC0gZHNsY19yb3dfZWRpdF9jb25maXJtICggRWRpdCAtIENvbmZpcm0gQ2hhbmdlcyApXG4gKiAtIGRzbGNfcm93X2NvcHkgKCBDb3B5IClcbiAqIC0gZHNsY19yb3dfaW1wb3J0ICggSW1wb3J0IClcbiAqXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cblxuXG5pbXBvcnQgeyBTZWN0aW9uIH0gZnJvbSAnLi9zZWN0aW9uLmNsYXNzLmpzJztcbmltcG9ydCB7IGRyYWdBbmREcm9wSW5pdCB9IGZyb20gJy4vZHJhZ25kcm9wLmpzJztcbmltcG9ydCB7IG1vZHVsZWFyZWFzSW5pdEpTIH0gZnJvbSAnLi9tb2R1bGVhcmVhLmpzJztcbmltcG9ydCB7IE1vZHVsZUFyZWEgfSBmcm9tICcuL21vZHVsZWFyZWEuY2xhc3MuanMnO1xuaW1wb3J0IHsgQ01vZGFsV2luZG93IH0gZnJvbSAnLi9tb2RhbHdpbmRvdy5jbGFzcy5qcyc7XG5pbXBvcnQgeyBoaWRlUHVibGlzaEJ1dHRvbiwgc2hvd1NlY3Rpb24gfSBmcm9tICcuL3VpZ2VuZXJhbC5qcyc7XG5pbXBvcnQgeyBnZXROZXdNb2R1bGVJZCB9IGZyb20gXCIuL21vZHVsZS5qc1wiO1xuaW1wb3J0IHsgZ2VuZXJhdGVTZWN0aW9uQ29kZSB9IGZyb20gXCIuL2NvZGVnZW5lcmF0aW9uLmpzXCI7XG5pbXBvcnQgeyBjb25maXJtQ2xvc2UgfSBmcm9tIFwiLi9tb2RhbHdpbmRvdy5qc1wiO1xuXG5jb25zdCBzZWN0aW9uc0V2ZW50c0luaXQgPSAoKSA9PiB7XG5cdHZhciAkID0galF1ZXJ5O1xuXG5cdHZhciBhY3Rpb25BdmFpbCA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0aWYgKCBMaXZlQ29tcG9zZXIuQnVpbGRlci5GbGFncy5wYW5lbE9wZW5lZCApIHtcblxuXHRcdFx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuVUkuc2hha2VQYW5lbENvbmZpcm1CdXR0b24oKTtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGpRdWVyeShcIi5kc2xjLW1vZHVsZXMtc2VjdGlvblwiLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5lYWNoKGZ1bmN0aW9uKCl7XG5cdFx0Y29uc29sZS5sb2coIFwiZWFjaCBzZWN0aW9uIPCfjrdcIiApO1xuXHRcdG5ldyBTZWN0aW9uKHRoaXMpO1xuXHR9KTtcblxuXHQvKipcblx0ICogSG9vayAtIERlbGV0ZSBSb3dcblx0ICovXG5cdExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQub24oICdjbGljaycsICcuZHNsY2EtZGVsZXRlLW1vZHVsZXMtc2VjdGlvbi1ob29rJywgZnVuY3Rpb24oZSl7XG5cblx0XHQvLyBDaGVjayBpZiBhY3Rpb24gY2FuIGJlIGZpcmVkXG5cdFx0aWYgKCAhYWN0aW9uQXZhaWwoKSApIHJldHVybiBmYWxzZTtcblxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRpZiAoICEgalF1ZXJ5KHRoaXMpLmhhc0NsYXNzKCdkc2xjYS1hY3Rpb24tZGlzYWJsZWQnKSApIHtcblxuXHRcdFx0Q01vZGFsV2luZG93KHtcblx0XHRcdFx0dGl0bGU6IERTTENTdHJpbmcuc3RyX2RlbF9yb3dfdGl0bGUsXG5cdFx0XHRcdGNvbnRlbnQ6IERTTENTdHJpbmcuc3RyX2RlbF9yb3dfZGVzY3IsXG5cdFx0XHRcdGNvbmZpcm06IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdFx0ZHNsY19yb3dfZGVsZXRlKCBqUXVlcnkoc2VsZikuY2xvc2VzdCgnLmRzbGMtbW9kdWxlcy1zZWN0aW9uJykgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSlcblxuXHRcdC8qXHRkc2xjX2pzX2NvbmZpcm0oICdkZWxldGVfbW9kdWxlc19zZWN0aW9uJywgJzxzcGFuIGNsYXNzPVwiZHNsY2EtcHJvbXB0LW1vZGFsLXRpdGxlXCI+JyArIERTTENTdHJpbmcuc3RyX2RlbF9yb3dfdGl0bGUgK1xuXHRcdFx0XHQnPC9zcGFuPjxzcGFuIGNsYXNzPVwiZHNsY2EtcHJvbXB0LW1vZGFsLWRlc2NyXCI+JyArIERTTENTdHJpbmcuc3RyX2RlbF9yb3dfZGVzY3IgKyAnPC9zcGFuPicsIGpRdWVyeSh0aGlzKSApOyovXG5cdFx0fVxuXHR9KTtcblxuXHQvKipcblx0ICogSG9vayAtIEltcG9ydCBSb3dcblx0ICovXG5cdExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQub24oICdjbGljaycsICcuZHNsY2EtaW1wb3J0LW1vZHVsZXMtc2VjdGlvbi1ob29rJywgZnVuY3Rpb24oZSkge1xuXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0Ly8gQ2hlY2sgaWYgYWN0aW9uIGNhbiBiZSBmaXJlZFxuXHRcdGlmICggIWFjdGlvbkF2YWlsKCkgKSByZXR1cm4gZmFsc2U7XG5cblx0XHRpZiAoICEgalF1ZXJ5KHRoaXMpLmhhc0NsYXNzKCdkc2xjYS1hY3Rpb24tZGlzYWJsZWQnKSApIHtcblxuXHRcdFx0Q01vZGFsV2luZG93KHtcblx0XHRcdFx0dGl0bGU6IERTTENTdHJpbmcuc3RyX2ltcG9ydF9yb3dfdGl0bGUsXG5cdFx0XHRcdGNvbnRlbnQ6IERTTENTdHJpbmcuc3RyX2ltcG9ydF9yb3dfZGVzY3IgKyAnPGJyPjxicj48dGV4dGFyZWE+PC90ZXh0YXJlYT4nLFxuXHRcdFx0XHRjb25maXJtOiBmdW5jdGlvbigpe1xuXHRcdFx0XHRcdGRzbGNfcm93X2ltcG9ydCggalF1ZXJ5KCcuZHNsY2EtcHJvbXB0LW1vZGFsIHRleHRhcmVhJykudmFsKCkgKTtcblx0XHRcdFx0XHRqUXVlcnkoJy5kc2xjYS1wcm9tcHQtbW9kYWwtY29uZmlybS1ob29rIHNwYW4nKS5jc3MoeyBvcGFjaXR5IDogMCB9KTtcblx0XHRcdFx0XHRqUXVlcnkoJy5kc2xjYS1wcm9tcHQtbW9kYWwtY29uZmlybS1ob29rIC5kc2xjYS1sb2FkaW5nJykuc2hvdygpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRjb25maXJtX3RpdGxlOiBEU0xDU3RyaW5nLnN0cl9pbXBvcnRcblx0XHRcdH0pO1xuXG5cdFx0XHQvKmpRdWVyeSgnLmRzbGNhLXByb21wdC1tb2RhbC1jb25maXJtLWhvb2snKS5odG1sKCc8c3BhbiBjbGFzcz1cImRzbGMtaWNvbiBkc2xjLWljb24tb2tcIj48L3NwYW4+PHNwYW4+JyArIERTTENTdHJpbmcuc3RyX2ltcG9ydCArXG5cdFx0XHRcdCc8L3NwYW4+PGRpdiBjbGFzcz1cImRzbGNhLWxvYWRpbmcgZm9sbG93aW5nQmFsbHNHV3JhcFwiPjxkaXYgY2xhc3M9XCJmb2xsb3dpbmdCYWxsc0dfMSBmb2xsb3dpbmdCYWxsc0dcIj48L2Rpdj4nK1xuXHRcdFx0XHQnPGRpdiBjbGFzcz1cImZvbGxvd2luZ0JhbGxzR18yIGZvbGxvd2luZ0JhbGxzR1wiPjwvZGl2PjxkaXYgY2xhc3M9XCJmb2xsb3dpbmdCYWxsc0dfMyBmb2xsb3dpbmdCYWxsc0dcIj48L2Rpdj48ZGl2IGNsYXNzPVwiZm9sbG93aW5nQmFsbHNHXzQgZm9sbG93aW5nQmFsbHNHXCI+PC9kaXY+PC9kaXY+Jyk7XG5cblx0XHRcdGRzbGNfanNfY29uZmlybSggJ2ltcG9ydF9tb2R1bGVzX3NlY3Rpb24nLCAnPHNwYW4gY2xhc3M9XCJkc2xjYS1wcm9tcHQtbW9kYWwtdGl0bGVcIj4nICsgRFNMQ1N0cmluZy5zdHJfaW1wb3J0X3Jvd190aXRsZSArXG5cdFx0XHRcdCc8L3NwYW4+PHNwYW4gY2xhc3M9XCJkc2xjYS1wcm9tcHQtbW9kYWwtZGVzY3JcIj4nICsgRFNMQ1N0cmluZy5zdHJfaW1wb3J0X3Jvd19kZXNjciArICcgPGJyPjxicj48dGV4dGFyZWE+PC90ZXh0YXJlYT48L3NwYW4+JywgalF1ZXJ5KHRoaXMpICk7Ki9cblx0XHR9XG5cdH0pO1xuXG5cdC8qKlxuXHQgKiBIb29rIC0gRXhwb3J0IFJvd1xuXHQgKi9cblx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudC5vbiggJ2NsaWNrJywgJy5kc2xjYS1leHBvcnQtbW9kdWxlcy1zZWN0aW9uLWhvb2snLCBmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0Ly8gQ2hlY2sgaWYgYWN0aW9uIGNhbiBiZSBmaXJlZFxuXHRcdGlmICggIWFjdGlvbkF2YWlsKCkgKSByZXR1cm4gZmFsc2U7XG5cblx0XHRpZiAoICEgalF1ZXJ5KHRoaXMpLmhhc0NsYXNzKCdkc2xjYS1hY3Rpb24tZGlzYWJsZWQnKSApIHtcblxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtcHJvbXB0LW1vZGFsLWNhbmNlbC1ob29rJykuaGlkZSgpO1xuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtcHJvbXB0LW1vZGFsLWNvbmZpcm0taG9vaycpLmh0bWwoJzxzcGFuIGNsYXNzPVwiZHNsYy1pY29uIGRzbGMtaWNvbi1va1wiPjwvc3Bhbj4nICsgRFNMQ1N0cmluZy5zdHJfb2spO1xuXG5cdFx0XHRjb25zb2xlLmxvZyggXCJDTW9kYWxXaW5kb3c+Pj4+Pj4+Pj4+Pj5cIiApO1xuXHRcdFx0Q01vZGFsV2luZG93KHtcblx0XHRcdFx0dGl0bGU6IERTTENTdHJpbmcuc3RyX2V4cG9ydF9yb3dfdGl0bGUsXG5cdFx0XHRcdGNvbnRlbnQ6IERTTENTdHJpbmcuc3RyX2V4cG9ydF9yb3dfZGVzY3IgKyAnPGJyPjxicj48dGV4dGFyZWE+JyArICdbJyArIGdlbmVyYXRlU2VjdGlvbkNvZGUoIGpRdWVyeSh0aGlzKS5jbG9zZXN0KCcuZHNsYy1tb2R1bGVzLXNlY3Rpb24nKSApICsgJ10nICsgJzwvdGV4dGFyZWE+PC9zcGFuPidcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBkc2xjX2pzX2NvbmZpcm0oICdleHBvcnRfbW9kdWxlc19zZWN0aW9uJywgJzxzcGFuIGNsYXNzPVwiZHNsY2EtcHJvbXB0LW1vZGFsLXRpdGxlXCI+JyArIERTTENTdHJpbmcuc3RyX2V4cG9ydF9yb3dfdGl0bGUgK1xuXHRcdFx0Ly8gXHQnPC9zcGFuPjxzcGFuIGNsYXNzPVwiZHNsY2EtcHJvbXB0LW1vZGFsLWRlc2NyXCI+JyArIERTTENTdHJpbmcuc3RyX2V4cG9ydF9yb3dfZGVzY3IgKyAnIDxicj48YnI+PHRleHRhcmVhPjwvdGV4dGFyZWE+PC9zcGFuPicsIGpRdWVyeSh0aGlzKSApO1xuXHRcdFx0Ly8galF1ZXJ5KCcuZHNsY2EtcHJvbXB0LW1vZGFsIHRleHRhcmVhJykudmFsKCBkc2xjX2dlbmVyYXRlX3NlY3Rpb25fY29kZSggalF1ZXJ5KHRoaXMpLmNsb3Nlc3QoJy5kc2xjLW1vZHVsZXMtc2VjdGlvbicpICkgKTtcblx0XHR9XG5cdH0pO1xuXG5cdC8qKlxuXHQgKiBIb29rIC0gQ29weSBSb3dcblx0ICovXG5cdExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQub24oICdjbGljaycsICcuZHNsY2EtY29weS1tb2R1bGVzLXNlY3Rpb24taG9vaycsIGZ1bmN0aW9uKCkge1xuXG5cdFx0Ly8gQ2hlY2sgaWYgYWN0aW9uIGNhbiBiZSBmaXJlZFxuXHRcdGlmICggIWFjdGlvbkF2YWlsKCkgKSByZXR1cm4gZmFsc2U7XG5cblx0XHRpZiAoICEgalF1ZXJ5KHRoaXMpLmhhc0NsYXNzKCdkc2xjYS1hY3Rpb24tZGlzYWJsZWQnKSApIHtcblxuXHRcdFx0ZHNsY19yb3dfY29weSggalF1ZXJ5KHRoaXMpLmNsb3Nlc3QoJy5kc2xjLW1vZHVsZXMtc2VjdGlvbicpICk7XG5cdFx0fVxuXHR9KTtcblxuXHQvKipcblx0ICogSG9vayAtIEFkZCBSb3dcblx0ICovXG5cdExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQub24oICdjbGljaycsICcuZHNsY2EtYWRkLW1vZHVsZXMtc2VjdGlvbi1ob29rJywgZnVuY3Rpb24oZSl7XG5cblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHQvLyBDaGVjayBpZiBhY3Rpb24gY2FuIGJlIGZpcmVkXG5cdFx0aWYgKCAhYWN0aW9uQXZhaWwoKSApIHJldHVybiBmYWxzZTtcblxuXHRcdHZhciBidXR0b24gPSBqUXVlcnkodGhpcyk7XG5cblx0XHRpZiAoICEgalF1ZXJ5KHRoaXMpLmhhc0NsYXNzKCdkc2xjYS1hY3Rpb24tZGlzYWJsZWQnKSApIHtcblxuXHRcdFx0Ly8gQWRkIGEgbG9hZGluZyBhbmltYXRpb25cblx0XHRcdGJ1dHRvbi5maW5kKCcuZHNsY2EtaWNvbicpLnJlbW92ZUNsYXNzKCdkc2xjLWljb24tYWxpZ24tanVzdGlmeScpLmFkZENsYXNzKCdkc2xjLWljb24tc3Bpbm5lciBkc2xjLWljb24tc3BpbicpO1xuXG5cdFx0XHQvLyBBZGQgYSByb3dcblx0XHRcdGFkZFNlY3Rpb24oIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdGJ1dHRvbi5maW5kKCcuZHNsY2EtaWNvbicpLnJlbW92ZUNsYXNzKCdkc2xjLWljb24tc3Bpbm5lciBkc2xjLWljb24tc3BpbicpLmFkZENsYXNzKCdkc2xjLWljb24tYWxpZ24tanVzdGlmeScpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9KTtcblxuXHQvKipcblx0ICogSG9vayAtIEVkaXQgUm93XG5cdCAqL1xuXHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50Lm9uKCAnY2xpY2snLCAnLmRzbGNhLWVkaXQtbW9kdWxlcy1zZWN0aW9uLWhvb2snLCBmdW5jdGlvbigpe1xuXG5cdFx0Ly8gQ2hlY2sgaWYgYWN0aW9uIGNhbiBiZSBmaXJlZFxuXHRcdGlmICggIWFjdGlvbkF2YWlsKCkgKSByZXR1cm4gZmFsc2U7XG5cblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHR2YXIgbW9kdWxlX2VkaXRlZCA9IGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1iZWluZy1lZGl0ZWQnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5sZW5ndGg7XG5cdFx0dmFyIHJvd19lZGl0ZWQgPSBqUXVlcnkoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tYmVpbmctZWRpdGVkJywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkubGVuZ3RoO1xuXG5cdFx0Ly8vIElmIHNldHRpbmdzIHBhbmVsIG9wZW5lZCAtIGZpbmlzaCBmdW5jXG5cdFx0aWYgKCBMaXZlQ29tcG9zZXIuQnVpbGRlci5GbGFncy51aUhpZGRlbiB8fCBtb2R1bGVfZWRpdGVkID4gMCB8fCByb3dfZWRpdGVkID4gMCApIHJldHVybiBmYWxzZTtcblxuXHRcdC8vIElmIG5vdCBkaXNhYmxlZCAoIGRpc2FibGluZyB1c2VkIGZvciB0dXRvcmlhbCApXG5cdFx0aWYgKCAhIGpRdWVyeSh0aGlzKS5oYXNDbGFzcygnZHNsY2EtYWN0aW9uLWRpc2FibGVkJykgKSB7XG5cblx0XHRcdC8vIFRyaWdnZXIgdGhlIGZ1bmN0aW9uIHRvIGVkaXRcblx0XHRcdGRzbGNfcm93X2VkaXQoIGpRdWVyeSh0aGlzKS5jbG9zZXN0KCcuZHNsYy1tb2R1bGVzLXNlY3Rpb24nKSApO1xuXHRcdH1cblxuXHRcdGpRdWVyeSgnYm9keScsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLmFkZENsYXNzKCdzZWN0aW9uLWVkaXRpbmctaW4tcHJvZ3Jlc3MnKTtcblx0fSk7XG59XG5cbi8qKlxuICogUm93IC0gQWRkIE5ld1xuICovXG5leHBvcnQgY29uc3QgYWRkU2VjdGlvbiA9ICggY2FsbGJhY2sgKSA9PiB7XG5cblx0aWYgKCB3aW5kb3cuZHNsY0RlYnVnICkgY29uc29sZS5sb2coICdkc2xjX3Jvd19hZGQnICk7XG5cblx0Y2FsbGJhY2sgPSB0eXBlb2YgY2FsbGJhY2sgIT09ICd1bmRlZmluZWQnID8gY2FsbGJhY2sgOiBmYWxzZTtcblxuXHR2YXIgZGVmZXIgPSBqUXVlcnkuRGVmZXJyZWQoKTtcblx0dmFyIGJyb3dzZXJDYWNoZVRtcCA9IHNlc3Npb25TdG9yYWdlO1xuXG5cdHZhciBuZXdSb3cgPSBqUXVlcnkoKTtcblx0dmFyIGNhY2hlZEFqYXhSZXF1ZXN0ID0gYnJvd3NlckNhY2hlVG1wLmdldEl0ZW0oICdjYWNoZS1kc2xjLWFqYXgtYWRkLW1vZHVsZXMtc2VjdGlvbicgKTtcblxuXHQvLyBJZiBvcHRpb24gJ2xjX3NlY3Rpb25fcGFkZGluZ192ZXJ0aWNhbCcgd2FzIHVwZGF0ZS5cblx0aWYgKCBudWxsICE9PSBjYWNoZWRBamF4UmVxdWVzdCApIHtcblx0XHR2YXIgY3VycmVudF92YWx1ZSwgY2FjaGVfY3VyZW50X3ZhbHVlO1xuXG5cdFx0Y3VycmVudF92YWx1ZSA9IERTTENNYWluT3B0aW9ucy5zZWN0aW9uX3BhZGRpbmdfdmVydGljYWw7XG5cdFx0Y2FjaGVfY3VyZW50X3ZhbHVlID0galF1ZXJ5KGNhY2hlZEFqYXhSZXF1ZXN0KS5maW5kKCdpbnB1dFtkYXRhLWlkPVwicGFkZGluZ1wiXScpLnZhbCgpO1xuXG5cdFx0aWYgKCBjdXJyZW50X3ZhbHVlICE9PSBjYWNoZV9jdXJlbnRfdmFsdWUgKSB7XG5cdFx0XHRicm93c2VyQ2FjaGVUbXAucmVtb3ZlSXRlbSgnY2FjaGUtZHNsYy1hamF4LWFkZC1tb2R1bGVzLXNlY3Rpb24nKTtcblx0XHRcdGNhY2hlZEFqYXhSZXF1ZXN0ID0gbnVsbDtcblx0XHR9XG5cdH1cblxuXHQvLyBJZiBubyBjYWNoZSBmb3IgY3VycmVudCBBamF4IHJlcXVlc3QuXG5cdGlmICggbnVsbCA9PT0gY2FjaGVkQWpheFJlcXVlc3QgKSB7XG5cblx0XHQvLyBBSkFYIFJlcXVlc3Rcblx0XHRqUXVlcnkucG9zdChcblxuXHRcdFx0RFNMQ0FqYXguYWpheHVybCxcblx0XHRcdHtcblx0XHRcdFx0YWN0aW9uIDogJ2RzbGMtYWpheC1hZGQtbW9kdWxlcy1zZWN0aW9uJyxcblx0XHRcdFx0ZHNsYyA6ICdhY3RpdmUnXG5cdFx0XHR9LFxuXHRcdFx0ZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuXG5cdFx0XHRcdC8vIG5ld1JvdyA9IGpRdWVyeShyZXNwb25zZS5vdXRwdXQpO1xuXHRcdFx0XHRicm93c2VyQ2FjaGVUbXAuc2V0SXRlbSggJ2NhY2hlLWRzbGMtYWpheC1hZGQtbW9kdWxlcy1zZWN0aW9uJywgcmVzcG9uc2Uub3V0cHV0ICk7XG5cblx0XHRcdFx0bmV3Um93ID0gZHNsY19yb3dfYWZ0ZXJfYWRkKCByZXNwb25zZS5vdXRwdXQgKTtcblxuXHRcdFx0XHRpZiAoIGNhbGxiYWNrICkgeyBjYWxsYmFjaygpOyB9XG5cdFx0XHRcdHJldHVybiBkZWZlcjtcblx0XHRcdH1cblx0XHQpO1xuXG5cdH0gZWxzZSB7XG5cdFx0Ly8gVGhlcmUgaXMgY2FjaGVkIHZlcnNpb24gb2YgQUpBWCByZXF1ZXN0LlxuXHRcdC8vIG5ld1JvdyA9IGpRdWVyeShjYWNoZWRBamF4UmVxdWVzdCk7XG5cblx0XHRuZXdSb3cgPSBkc2xjX3Jvd19hZnRlcl9hZGQoIGNhY2hlZEFqYXhSZXF1ZXN0ICk7XG5cblx0XHRpZiAoIGNhbGxiYWNrICkgeyBjYWxsYmFjaygpOyB9XG5cdFx0cmV0dXJuIGRlZmVyO1xuXHR9XG59XG5cbi8qKlxuICogRmluaXNoIG5ldyByb3cgY3JlYXRpb24gcHJvY2Vzcy5cbiAqXG4gKiBAcGFyYW0gIHtTdHJpbmd9IG5ld1Jvd0hUTUwgSFRNTCBjb2RlIG9mIHRoZSBuZXcgcm93LlxuICogQHJldHVybiB7alF1ZXJ5fSAgICAgICAgICAgIE5ldyBST1cgalF1ZXJ5IG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gZHNsY19yb3dfYWZ0ZXJfYWRkKCBuZXdSb3dIVE1MICkge1xuXG5cdHZhciBuZXdSb3cgPSBqUXVlcnkobmV3Um93SFRNTCk7XG5cblx0Ly8gQXBwZW5kIG5ldyByb3dcblx0bmV3Um93LmFwcGVuZFRvKExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQuZmluZChcIiNkc2xjLW1haW5cIikpO1xuXG5cdC8vIENhbGwgb3RoZXIgZnVuY3Rpb25zXG5cdGRyYWdBbmREcm9wSW5pdCgpO1xuXHR3aW5kb3cuZHNsY19nZW5lcmF0ZV9jb2RlKCk7XG5cdHdpbmRvdy5kc2xjX3Nob3dfcHVibGlzaF9idXR0b24oKTtcblxuXHRuZXcgU2VjdGlvbihuZXdSb3cpO1xuXHRuZXcgTW9kdWxlQXJlYSggbmV3Um93LmZpbmQoJy5kc2xjLW1vZHVsZXMtYXJlYScpLmVxKDApWzBdICk7XG5cblx0bmV3Um93LmZpbmQoJy5kc2xjLW1vZHVsZXMtYXJlYScpLmFkZENsYXNzKCdkc2xjLW1vZHVsZXMtYXJlYS1lbXB0eSBkc2xjLWxhc3QtY29sJyk7XG5cblx0cmV0dXJuIG5ld1Jvdztcbn1cblxuLyoqXG4gKiBSb3cgLSBEZWxldGVcbiAqL1xuZnVuY3Rpb24gZHNsY19yb3dfZGVsZXRlKCByb3cgKSB7XG5cblx0aWYgKCB3aW5kb3cuZHNsY0RlYnVnICkgY29uc29sZS5sb2coICdkc2xjX3Jvd19kZWxldGUnICk7XG5cblx0Ly8gSWYgdGhlIHJvdyBpcyBiZWluZyBlZGl0ZWRcblx0aWYgKCByb3cuZmluZCgnLmRzbGNhLW1vZHVsZS1iZWluZy1lZGl0ZWQnKSApIHtcblxuXHRcdC8vIEhpZGUgdGhlIGZpbHRlciBob29rc1xuXHRcdGpRdWVyeSgnLmRzbGNhLWhlYWRlciAuZHNsY2Etb3B0aW9ucy1maWx0ZXItaG9vaycpLmhpZGUoKTtcblxuXHRcdC8vIEhpZGUgdGhlIHNhdmUvY2FuY2VsIGFjdGlvbnNcblx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1hY3Rpb25zJykuaGlkZSgpO1xuXG5cdFx0Ly8gU2hvdyB0aGUgc2VjdGlvbiBob29rc1xuXHRcdGpRdWVyeSgnLmRzbGNhLWhlYWRlciAuZHNsY2EtZ28tdG8tc2VjdGlvbi1ob29rJykuc2hvdygpO1xuXG5cdFx0c2hvd1NlY3Rpb24oJy5kc2xjYS1tb2R1bGVzJyk7XG5cblx0fVxuXG5cdC8vIFJlbW92ZSByb3dcblx0cm93LnRyaWdnZXIoJ21vdXNlbGVhdmUnKS5yZW1vdmUoKTtcblxuXHQvLyBDYWxsIG90aGVyIGZ1bmN0aW9uc1xuXHR3aW5kb3cuZHNsY19nZW5lcmF0ZV9jb2RlKCk7XG5cdHdpbmRvdy5kc2xjX3Nob3dfcHVibGlzaF9idXR0b24oKTtcbn1cblxuLyoqXG4gKiBSb3cgLSBFZGl0XG4gKi9cbmZ1bmN0aW9uIGRzbGNfcm93X2VkaXQoIHJvdyApIHtcblxuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2RzbGNfcm93X2VkaXQnICk7XG5cblx0Ly8gVmFycyB3ZSB3aWxsIHVzZVxuXHR2YXIgZHNsY01vZHVsZXNTZWN0aW9uT3B0cywgZHNsY1ZhbDtcblxuXHQvLyBTZXQgZWRpdGluZyBjbGFzc1xuXHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtYmVpbmctZWRpdGVkJywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkucmVtb3ZlQ2xhc3MoJ2RzbGNhLW1vZHVsZS1iZWluZy1lZGl0ZWQnKTtcblx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlcy1zZWN0aW9uLWJlaW5nLWVkaXRlZCcsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLnJlbW92ZUNsYXNzKCdkc2xjYS1tb2R1bGVzLXNlY3Rpb24tYmVpbmctZWRpdGVkJykucmVtb3ZlQ2xhc3MoJ2RzbGNhLW1vZHVsZXMtc2VjdGlvbi1jaGFuZ2UtbWFkZScpO1xuXHRyb3cuYWRkQ2xhc3MoJ2RzbGNhLW1vZHVsZXMtc2VjdGlvbi1iZWluZy1lZGl0ZWQnKTtcblxuXHQvLyBIaWRlIHRoZSBzZWN0aW9uIGhvb2tzXG5cdGpRdWVyeSgnLmRzbGNhLWhlYWRlciAuZHNsY2EtZ28tdG8tc2VjdGlvbi1ob29rJykuaGlkZSgpO1xuXG5cdC8vIFNob3cgdGhlIHN0eWxpbmcvcmVzcG9uc2l2ZSB0YWJzXG5cdGpRdWVyeSgnLmRzbGNhLXJvdy1vcHRpb25zLWZpbHRlci1ob29rW2RhdGEtc2VjdGlvbj1cInN0eWxpbmdcIl0sIC5kc2xjYS1yb3ctb3B0aW9ucy1maWx0ZXItaG9va1tkYXRhLXNlY3Rpb249XCJyZXNwb25zaXZlXCJdJykuc2hvdygpO1xuXHRqUXVlcnkoJy5kc2xjYS1yb3ctb3B0aW9ucy1maWx0ZXItaG9va1tkYXRhLXNlY3Rpb249XCJzdHlsaW5nXCJdJykudHJpZ2dlcignY2xpY2snKTtcblxuXHQvLyBIaWRlIHRoZSBmaWx0ZXIgaG9va3Ncblx0alF1ZXJ5KCcuZHNsY2EtaGVhZGVyIC5kc2xjYS1vcHRpb25zLWZpbHRlci1ob29rJykuaGlkZSgpO1xuXG5cdC8vIEhpZGUgdGhlIHNhdmUvY2FuY2VsIGFjdGlvbnNcblx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtYWN0aW9ucycpLmhpZGUoKTtcblxuXHQvLyBTaG93IHRoZSBzYXZlL2NhbmNlbCBhY3Rpb25zXG5cdGpRdWVyeSgnLmRzbGNhLXJvdy1lZGl0LWFjdGlvbnMnKS5zaG93KCk7XG5cblx0Ly8gU2V0IGN1cnJlbnQgdmFsdWVzXG5cdGpRdWVyeSgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LWZpZWxkJykuZWFjaChmdW5jdGlvbigpe1xuXG5cblx0XHQvKipcblx0XHQgKiBUZW1wb3JhcnkgbWlncmF0aW9uIGZyb20gJ3dyYXBwZWQnIHZhbHVlIHRvICd3cmFwcGVyJyBpbiBST1cgdHlwZSBzZWxlY3RvclxuXHRcdCAqIFRPRE86IGRlbGV0ZSB0aGlzIGJsb2NrIGluIGEgZmV3IHZlcnNpb25zIGFzIHByb2JsZW0gZG8gbm90IGV4aXN0cyBvbiBuZXcgaW5zdGFsbHNcblx0XHQgKlxuXHRcdCAqIEBzaW5jZSB2ZXIgMS4xXG5cdFx0ICovXG5cdFx0aWYgKCAndHlwZScgPT09IGpRdWVyeSh0aGlzKS5kYXRhKCdpZCcpICkge1xuXG5cdFx0XHRpZiAoICcnID09PSBqUXVlcnkoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tYmVpbmctZWRpdGVkIC5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tc2V0dGluZ3MgaW5wdXRbZGF0YS1pZD1cInR5cGVcIl0nLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS52YWwoKSB8fFxuXHRcdFx0XHQgICd3cmFwcGVkJyA9PT0galF1ZXJ5KCcuZHNsY2EtbW9kdWxlcy1zZWN0aW9uLWJlaW5nLWVkaXRlZCAuZHNsY2EtbW9kdWxlcy1zZWN0aW9uLXNldHRpbmdzIGlucHV0W2RhdGEtaWQ9XCJ0eXBlXCJdJywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkudmFsKCkgKSB7XG5cdFx0XHRcdGpRdWVyeSgnc2VsZWN0W2RhdGEtaWQ9XCJ0eXBlXCJdJykudmFsKCd3cmFwcGVyJykuY2hhbmdlKCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCBqUXVlcnkodGhpcykuZGF0YSgnaWQnKSA9PSAnYm9yZGVyLXRvcCcgKSB7XG5cblx0XHRcdGlmICggalF1ZXJ5KCcuZHNsY2EtbW9kdWxlcy1zZWN0aW9uLWJlaW5nLWVkaXRlZCAuZHNsY2EtbW9kdWxlcy1zZWN0aW9uLXNldHRpbmdzIGlucHV0W2RhdGEtaWQ9XCJib3JkZXJcIl0nLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS52YWwoKS5pbmRleE9mKCd0b3AnKSA+PSAwICkge1xuXHRcdFx0XHRqUXVlcnkodGhpcykucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xuXHRcdFx0XHRqUXVlcnkodGhpcykuc2libGluZ3MoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tZWRpdC1vcHRpb24tY2hlY2tib3gtaG9vaycpLmZpbmQoJy5kc2xjYS1pY29uJykucmVtb3ZlQ2xhc3MoJ2RzbGMtaWNvbi1jaGVjay1lbXB0eScpLmFkZENsYXNzKCdkc2xjLWljb24tY2hlY2snKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGpRdWVyeSh0aGlzKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xuXHRcdFx0XHRqUXVlcnkodGhpcykuc2libGluZ3MoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tZWRpdC1vcHRpb24tY2hlY2tib3gtaG9vaycpLmZpbmQoJy5kc2xjYS1pY29uJykucmVtb3ZlQ2xhc3MoJ2RzbGMtaWNvbi1jaGVjaycpLmFkZENsYXNzKCdkc2xjLWljb24tY2hlY2stZW1wdHknKTtcblx0XHRcdH1cblxuXHRcdH0gZWxzZSBpZiAoIGpRdWVyeSh0aGlzKS5kYXRhKCdpZCcpID09ICdib3JkZXItcmlnaHQnICkge1xuXG5cdFx0XHRpZiAoIGpRdWVyeSgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1iZWluZy1lZGl0ZWQgLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1zZXR0aW5ncyBpbnB1dFtkYXRhLWlkPVwiYm9yZGVyXCJdJywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkudmFsKCkuaW5kZXhPZigncmlnaHQnKSA+PSAwICkge1xuXHRcdFx0XHRqUXVlcnkodGhpcykucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xuXHRcdFx0XHRqUXVlcnkodGhpcykuc2libGluZ3MoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tZWRpdC1vcHRpb24tY2hlY2tib3gtaG9vaycpLmZpbmQoJy5kc2xjYS1pY29uJykucmVtb3ZlQ2xhc3MoJ2RzbGMtaWNvbi1jaGVjay1lbXB0eScpLmFkZENsYXNzKCdkc2xjLWljb24tY2hlY2snKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGpRdWVyeSh0aGlzKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xuXHRcdFx0XHRqUXVlcnkodGhpcykuc2libGluZ3MoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tZWRpdC1vcHRpb24tY2hlY2tib3gtaG9vaycpLmZpbmQoJy5kc2xjYS1pY29uJykucmVtb3ZlQ2xhc3MoJ2RzbGMtaWNvbi1jaGVjaycpLmFkZENsYXNzKCdkc2xjLWljb24tY2hlY2stZW1wdHknKTtcblx0XHRcdH1cblxuXHRcdH0gZWxzZSBpZiAoIGpRdWVyeSh0aGlzKS5kYXRhKCdpZCcpID09ICdib3JkZXItYm90dG9tJyApIHtcblxuXHRcdFx0aWYgKCBqUXVlcnkoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tYmVpbmctZWRpdGVkIC5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tc2V0dGluZ3MgaW5wdXRbZGF0YS1pZD1cImJvcmRlclwiXScsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLnZhbCgpLmluZGV4T2YoJ2JvdHRvbScpID49IDAgKSB7XG5cdFx0XHRcdGpRdWVyeSh0aGlzKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XG5cdFx0XHRcdGpRdWVyeSh0aGlzKS5zaWJsaW5ncygnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LW9wdGlvbi1jaGVja2JveC1ob29rJykuZmluZCgnLmRzbGNhLWljb24nKS5yZW1vdmVDbGFzcygnZHNsYy1pY29uLWNoZWNrLWVtcHR5JykuYWRkQ2xhc3MoJ2RzbGMtaWNvbi1jaGVjaycpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0alF1ZXJ5KHRoaXMpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XG5cdFx0XHRcdGpRdWVyeSh0aGlzKS5zaWJsaW5ncygnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LW9wdGlvbi1jaGVja2JveC1ob29rJykuZmluZCgnLmRzbGNhLWljb24nKS5yZW1vdmVDbGFzcygnZHNsYy1pY29uLWNoZWNrJykuYWRkQ2xhc3MoJ2RzbGMtaWNvbi1jaGVjay1lbXB0eScpO1xuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIGlmICggalF1ZXJ5KHRoaXMpLmRhdGEoJ2lkJykgPT0gJ2JvcmRlci1sZWZ0JyApIHtcblxuXHRcdFx0aWYgKCBqUXVlcnkoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tYmVpbmctZWRpdGVkIC5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tc2V0dGluZ3MgaW5wdXRbZGF0YS1pZD1cImJvcmRlclwiXScsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLnZhbCgpLmluZGV4T2YoJ2xlZnQnKSA+PSAwICkge1xuXHRcdFx0XHRqUXVlcnkodGhpcykucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xuXHRcdFx0XHRqUXVlcnkodGhpcykuc2libGluZ3MoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tZWRpdC1vcHRpb24tY2hlY2tib3gtaG9vaycpLmZpbmQoJy5kc2xjYS1pY29uJykucmVtb3ZlQ2xhc3MoJ2RzbGMtaWNvbi1jaGVjay1lbXB0eScpLmFkZENsYXNzKCdkc2xjLWljb24tY2hlY2snKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGpRdWVyeSh0aGlzKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xuXHRcdFx0XHRqUXVlcnkodGhpcykuc2libGluZ3MoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tZWRpdC1vcHRpb24tY2hlY2tib3gtaG9vaycpLmZpbmQoJy5kc2xjYS1pY29uJykucmVtb3ZlQ2xhc3MoJ2RzbGMtaWNvbi1jaGVjaycpLmFkZENsYXNzKCdkc2xjLWljb24tY2hlY2stZW1wdHknKTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKCBqUXVlcnkodGhpcykuaGFzQ2xhc3MoJ2RzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LWZpZWxkLWNoZWNrYm94JykgKSB7XG5cblx0XHRcdGlmICggalF1ZXJ5KCcuZHNsY2EtbW9kdWxlcy1zZWN0aW9uLWJlaW5nLWVkaXRlZCAuZHNsY2EtbW9kdWxlcy1zZWN0aW9uLXNldHRpbmdzIGlucHV0W2RhdGEtaWQ9XCInICsgalF1ZXJ5KHRoaXMpLmRhdGEoJ2lkJykgKyAnXCJdJywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkudmFsKCkuaW5kZXhPZiggalF1ZXJ5KHRoaXMpLmRhdGEoJ3ZhbCcpICkgPj0gMCApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5zaWJsaW5ncygnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LW9wdGlvbi1jaGVja2JveC1ob29rJykuZmluZCgnLmRzbGNhLWljb24nKS5yZW1vdmVDbGFzcygnZHNsYy1pY29uLWNoZWNrLWVtcHR5JykuYWRkQ2xhc3MoJ2RzbGMtaWNvbi1jaGVjaycpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuc2libGluZ3MoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tZWRpdC1vcHRpb24tY2hlY2tib3gtaG9vaycpLmZpbmQoJy5kc2xjYS1pY29uJykucmVtb3ZlQ2xhc3MoJ2RzbGMtaWNvbi1jaGVjaycpLmFkZENsYXNzKCdkc2xjLWljb24tY2hlY2stZW1wdHknKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRqUXVlcnkodGhpcykudmFsKCBqUXVlcnkoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tYmVpbmctZWRpdGVkIC5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tc2V0dGluZ3MgaW5wdXRbZGF0YS1pZD1cIicgKyBqUXVlcnkodGhpcykuZGF0YSgnaWQnKSArICdcIl0nLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50ICkudmFsKCkudHJpbSgpLnJlcGxhY2UoJyUoJScsICdbJykucmVwbGFjZSgnJSklJywgJ10nKSApO1xuXG5cdFx0XHRpZiAoIGpRdWVyeSggdGhpcyApLmhhc0NsYXNzKCAnZHNsY2EtbW9kdWxlcy1zZWN0aW9uLWVkaXQtZmllbGQtY29sb3JwaWNrZXInICkgKSB7XG5cblx0XHRcdFx0dmFyIF90aGlzID0galF1ZXJ5KCB0aGlzICk7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLmNsb3Nlc3QoICcuZHNsY2EtbW9kdWxlcy1zZWN0aW9uLWVkaXQtb3B0aW9uJyApXG5cdFx0XHRcdFx0XHQuZmluZCggJy5zcC1wcmV2aWV3LWlubmVyJyApXG5cdFx0XHRcdFx0XHQucmVtb3ZlQ2xhc3MoJ3NwLWNsZWFyLWRpc3BsYXknKVxuXHRcdFx0XHRcdFx0LmNzcyh7ICdiYWNrZ3JvdW5kLWNvbG9yJyA6IF90aGlzLnZhbCgpIH0pO1xuXG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLmNzcyh7ICdiYWNrZ3JvdW5kLWNvbG9yJyA6IF90aGlzLnZhbCgpIH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG5cblx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlcy1zZWN0aW9uLWVkaXQtZmllbGQtdXBsb2FkJykuZWFjaChmdW5jdGlvbigpe1xuXG5cdFx0dmFyIGRzbGNQYXJlbnQgPSBqUXVlcnkodGhpcykuY2xvc2VzdCgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LW9wdGlvbicpO1xuXG5cdFx0aWYgKCBqUXVlcnkodGhpcykudmFsKCkgJiYgalF1ZXJ5KHRoaXMpLnZhbCgpICE9PSAnZGlzYWJsZWQnICkge1xuXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tZWRpdC1maWVsZC1pbWFnZS1hZGQtaG9vaycsIGRzbGNQYXJlbnQgKS5oaWRlKCk7XG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tZWRpdC1maWVsZC1pbWFnZS1yZW1vdmUtaG9vaycsIGRzbGNQYXJlbnQgKS5zaG93KCk7XG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlcy1zZWN0aW9uLWVkaXQtZmllbGQtaW1hZ2UtcmVtb3ZlLWhvb2snLCBkc2xjUGFyZW50ICkuaGlkZSgpO1xuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlcy1zZWN0aW9uLWVkaXQtZmllbGQtaW1hZ2UtYWRkLWhvb2snLCBkc2xjUGFyZW50ICkuc2hvdygpO1xuXHRcdH1cblx0fSk7XG5cblx0Ly8gSW5pdGlhdGUgbnVtZXJpYyBvcHRpb24gc2xpZGVyc1xuXHQvLyBkc2xjX3Jvd19lZGl0X3NsaWRlcl9pbml0KCk7XG5cblx0Ly8gU2hvdyBvcHRpb25zIG1hbmFnZW1lbnRcblx0c2hvd1NlY3Rpb24oJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tZWRpdCcpO1xuXG5cdExpdmVDb21wb3Nlci5CdWlsZGVyLkZsYWdzLnBhbmVsT3BlbmVkID0gdHJ1ZTtcblxuXHQvLyBIaWRlIHRoZSBwdWJsaXNoIGJ1dHRvblxuXHRoaWRlUHVibGlzaEJ1dHRvbigpO1xufVxuXG4vKipcbiAqIFJvdyAtIEVkaXQgLSBDYW5jZWwgQ2hhbmdlc1xuICovXG5mdW5jdGlvbiBkc2xjX3Jvd19lZGl0X2NhbmNlbCggY2FsbGJhY2sgKSB7XG5cblx0aWYgKCB3aW5kb3cuZHNsY0RlYnVnICkgY29uc29sZS5sb2coICdkc2xjX3Jvd19jYW5jZWxfY2hhbmdlcycgKTtcblxuXHRjYWxsYmFjayA9IHR5cGVvZiBjYWxsYmFjayAhPT0gJ3VuZGVmaW5lZCcgPyBjYWxsYmFjayA6IGZhbHNlO1xuXG5cdC8vIFRpbWUgdG8gZ2VuZXJhdGUgY29kZSBvcHRpbWl6ZWQge0hBQ0t9XG5cdExpdmVDb21wb3Nlci5CdWlsZGVyLkZsYWdzLmdlbmVyYXRlX2NvZGVfYWZ0ZXJfcm93X2NoYW5nZWQgPSBmYWxzZTtcblxuXHQvLyBSZWNvdmVyIG9yaWdpbmFsIGRhdGEgZnJvbSBkYXRhLWRlZiBhdHRyaWJ1dGUgZm9yIGVhY2ggY29udHJvbFxuXHRqUXVlcnkoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tYmVpbmctZWRpdGVkIC5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tc2V0dGluZ3MgaW5wdXQnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5lYWNoKGZ1bmN0aW9uKCl7XG5cblx0XHRqUXVlcnkodGhpcykudmFsKCBqUXVlcnkodGhpcykuZGF0YSgnZGVmJykgKTtcblxuXHRcdC8vIEZpcmUgY2hhbmdlIGZvciBldmVyeSBST1cgY29udHJvbCwgc28gaXQgcmVkcmF3IGxpbmtlZCBDU1MgcHJvcGVydGllc1xuXHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LWZpZWxkW2RhdGEtaWQ9XCInICsgalF1ZXJ5KHRoaXMpLmRhdGEoJ2lkJykgKyAnXCJdJykudmFsKCBqUXVlcnkodGhpcykuZGF0YSgnZGVmJykgKS50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0fSk7XG5cblx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuRmxhZ3MuZ2VuZXJhdGVfY29kZV9hZnRlcl9yb3dfY2hhbmdlZCA9IHRydWU7XG5cdHdpbmRvdy5kc2xjX2dlbmVyYXRlX2NvZGUoKTtcblx0d2luZG93LmRzbGNfc2hvd19wdWJsaXNoX2J1dHRvbigpO1xuXG5cdHNob3dTZWN0aW9uKCcuZHNsY2EtbW9kdWxlcycpO1xuXG5cdC8vIEhpZGUgdGhlIHNhdmUvY2FuY2VsIGFjdGlvbnNcblx0alF1ZXJ5KCcuZHNsY2Etcm93LWVkaXQtYWN0aW9ucycpLmhpZGUoKTtcblxuXHQvLyBIaWRlIHRoZSBzdHlsaW5nL3Jlc3BvbnNpdmUgdGFic1xuXHRqUXVlcnkoJy5kc2xjYS1yb3ctb3B0aW9ucy1maWx0ZXItaG9vaycpLmhpZGUoKTtcblxuXHQvLyBTaG93IHRoZSBzZWN0aW9uIGhvb2tzXG5cdGpRdWVyeSgnLmRzbGNhLWhlYWRlciAuZHNsY2EtZ28tdG8tc2VjdGlvbi1ob29rJykuc2hvdygpO1xuXG5cdC8vIFNob3cgdGhlIHB1Ymxpc2ggYnV0dG9uXG5cdGRzbGNfc2hvd19wdWJsaXNoX2J1dHRvbjtcblxuXHQvLyBSZW1vdmUgYmVpbmcgZWRpdGVkIGNsYXNzXG5cdGpRdWVyeSgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1iZWluZy1lZGl0ZWQnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5yZW1vdmVDbGFzcygnZHNsY2EtbW9kdWxlcy1zZWN0aW9uLWJlaW5nLWVkaXRlZCBkc2xjYS1tb2R1bGVzLXNlY3Rpb24tY2hhbmdlLW1hZGUnKTtcblxuXHRpZiAoIGNhbGxiYWNrICkgeyBjYWxsYmFjaygpOyB9XG5cblx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuRmxhZ3MucGFuZWxPcGVuZWQgPSBmYWxzZTtcblx0alF1ZXJ5KFwiYm9keVwiLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5yZW1vdmVDbGFzcygnc2VjdGlvbi1lZGl0aW5nLWluLXByb2dyZXNzJyk7XG5cbn1cblxuLyoqXG4gKiBSb3cgLSBFZGl0IC0gQ29uZmlybSBDaGFuZ2VzXG4gKi9cbmZ1bmN0aW9uIGRzbGNfcm93X2VkaXRfY29uZmlybSggY2FsbGJhY2sgKSB7XG5cblx0aWYgKCB3aW5kb3cuZHNsY0RlYnVnICkgY29uc29sZS5sb2coICdkc2xjX2NvbmZpcm1fcm93X2NoYW5nZXMnICk7XG5cblx0Y2FsbGJhY2sgPSB0eXBlb2YgY2FsbGJhY2sgIT09ICd1bmRlZmluZWQnID8gY2FsbGJhY2sgOiBmYWxzZTtcblxuXHRqUXVlcnkoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tYmVpbmctZWRpdGVkIC5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tc2V0dGluZ3MgaW5wdXQnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5lYWNoKGZ1bmN0aW9uKCl7XG5cblx0XHRqUXVlcnkodGhpcykuZGF0YSggJ2RlZicsIGpRdWVyeSh0aGlzKS52YWwoKSApO1xuXHR9KTtcblxuXHRzaG93U2VjdGlvbignLmRzbGNhLW1vZHVsZXMnKTtcblxuXHQvLyBIaWRlIHRoZSBzYXZlL2NhbmNlbCBhY3Rpb25zXG5cdGpRdWVyeSgnLmRzbGNhLXJvdy1lZGl0LWFjdGlvbnMnKS5oaWRlKCk7XG5cblx0Ly8gSGlkZSB0aGUgc3R5bGluZy9yZXNwb25zaXZlIHRhYnNcblx0alF1ZXJ5KCcuZHNsY2Etcm93LW9wdGlvbnMtZmlsdGVyLWhvb2snKS5oaWRlKCk7XG5cblx0Ly8gU2hvdyB0aGUgc2VjdGlvbiBob29rc1xuXHRqUXVlcnkoJy5kc2xjYS1oZWFkZXIgLmRzbGNhLWdvLXRvLXNlY3Rpb24taG9vaycpLnNob3coKTtcblxuXHQvLyBSZW1vdmUgYmVpbmcgZWRpdGVkIGNsYXNzXG5cdGpRdWVyeSgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1iZWluZy1lZGl0ZWQnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5yZW1vdmVDbGFzcygnZHNsY2EtbW9kdWxlcy1zZWN0aW9uLWJlaW5nLWVkaXRlZCBkc2xjYS1tb2R1bGVzLXNlY3Rpb24tY2hhbmdlLW1hZGUnKTtcblxuXHR3aW5kb3cuZHNsY19nZW5lcmF0ZV9jb2RlKCk7XG5cblx0Ly8gU2hvdyB0aGUgcHVibGlzaCBidXR0b25cblx0d2luZG93LmRzbGNfc2hvd19wdWJsaXNoX2J1dHRvbigpO1xuXG5cdGlmICggY2FsbGJhY2sgKSB7IGNhbGxiYWNrKCk7IH1cblxuXHRMaXZlQ29tcG9zZXIuQnVpbGRlci5GbGFncy5wYW5lbE9wZW5lZCA9IGZhbHNlO1xuXHRqUXVlcnkoXCJib2R5XCIsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLnJlbW92ZUNsYXNzKCdzZWN0aW9uLWVkaXRpbmctaW4tcHJvZ3Jlc3MnKTtcbn1cblxuLyoqXG4gKiBSb3cgLSBDb3B5XG4gKi9cbmZ1bmN0aW9uIGRzbGNfcm93X2NvcHkoIHJvdyApIHtcblxuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2RzbGNfcm93X2NvcHknICk7XG5cblx0Ly8gVmFycyB0aGF0IHdpbGwgYmUgdXNlZFxuXHR2YXIgZHNsY19tb2R1bGVfaWQsXG5cdGRzbGNNb2R1bGVzU2VjdGlvbkNsb25lZCxcblx0ZHNsY01vZHVsZTtcblxuXHQvLyBDbG9uZSB0aGUgcm93XG5cdGRzbGNNb2R1bGVzU2VjdGlvbkNsb25lZCA9IHJvdy5jbG9uZSgpLmFwcGVuZFRvKCBqUXVlcnkoJyNkc2xjLW1haW4nLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50ICkgKTtcblxuXHQvLyBNYXJrIG5ldyBST1cgYXMgTk9OIGluaXRpYWxpemVkXG5cdGRzbGNNb2R1bGVzU2VjdGlvbkNsb25lZFswXS5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtanNpbml0Jyk7XG5cblx0Ly8gR28gdGhyb3VnaCBlYWNoIGFyZWEgb2YgdGhlIG5ldyByb3cgYW5kIGFwcGx5IGNvcnJlY3QgZGF0YS1zaXplXG5cdC8vIE1hcmsgZWFjaCBtb2R1bGUgYXJlYSBpbnNpZGUgYXMgTk9OIGluaXRpYWxpemVkICgyKVxuXHRkc2xjTW9kdWxlc1NlY3Rpb25DbG9uZWQuZmluZCgnLmRzbGMtbW9kdWxlcy1hcmVhJykuZWFjaChmdW5jdGlvbigpe1xuXHRcdHZhciBkc2xjSW5kZXggPSBqUXVlcnkodGhpcykuaW5kZXgoKTtcblx0XHRqUXVlcnkodGhpcykuZGF0YSgnc2l6ZScsIHJvdy5maW5kKCcuZHNsYy1tb2R1bGVzLWFyZWE6ZXEoICcgKyBkc2xjSW5kZXggKyAnICknKS5kYXRhKCdzaXplJykgKTtcblxuXHRcdHRoaXMucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWpzaW5pdCcpOyAvLyAoMilcblx0fSk7XG5cblx0bmV3IFNlY3Rpb24oZHNsY01vZHVsZXNTZWN0aW9uQ2xvbmVkKTtcblxuXHQvKipcblx0ICogUmUtcmVuZGVyIG1vZHVsZXMgaW5zaWRlIG9mIHRoZSBuZXcgUk9XXG5cdCAqL1xuXG5cdC8vIFJlbW92ZSBhbmltYXRpb25zIGFuZCB0ZW1wb3JhcnkgaGlkZSBtb2R1bGVzIGluc2lkZVxuXHRkc2xjTW9kdWxlc1NlY3Rpb25DbG9uZWQuZmluZCgnLmRzbGMtbW9kdWxlLWZyb250JykuY3NzKHtcblx0XHQnLXdlYmtpdC1hbmltYXRpb24tbmFtZScgOiAnbm9uZScsXG5cdFx0Jy1tb3otYW5pbWF0aW9uLW5hbWUnIDogJ25vbmUnLFxuXHRcdCdhbmltYXRpb24tbmFtZScgOiAnbm9uZScsXG5cdFx0J2FuaW1hdGlvbi1kdXJhdGlvbicgOiAnMCcsXG5cdFx0Jy13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uJyA6ICcwJyxcblx0XHRvcGFjaXR5IDogMFxuXG5cdC8vIEdvIHRocm91Z2ggZWFjaCBtb2R1bGUgaW5zaWRlIHRoZSBuZXcgUk9XXG5cdH0pLmVhY2goZnVuY3Rpb24oKXtcblxuXHRcdC8vIEN1cnJlbnQgbW9kdWxlXG5cdFx0dmFyIGRzbGNfbW9kdWxlID0galF1ZXJ5KHRoaXMpO1xuXG5cdFx0Ly9HZW5lcmF0ZSBuZXcgSUQgZm9yIHRoZSBuZXcgbW9kdWxlIGFuZCBjaGFuZ2UgaXQgaW4gSFRNTC9DU1Mgb2YgdGhlIG1vZHVsZS5cblx0XHRnZXROZXdNb2R1bGVJZCggZHNsY19tb2R1bGVbMF0gKTtcblxuXHRcdC8vIENoZWNrIGluaXQgZm9yIHJvd3MgYW5kIG1vZHVsZSBhcmVhc1xuXHRcdHNlY3Rpb25zSW5pdEpTKCk7XG5cdFx0bW9kdWxlYXJlYXNJbml0SlMoKTtcblxuXHRcdC8vIFRPRE86IHRoZSBuZXh0IGZ1bmN0aW9uIGNvbnRhaW5zIEFKQVggY2FsbC4gSXQgbmVlZHMgb3B0aW1pemF0aW9uLlxuXHRcdHdpbmRvdy5kc2xjX2dlbmVyYXRlX2NvZGUoKTtcblxuXHRcdC8qKlxuXHRcdCAqIFJlLWluaXQgZHJhZyBhbmQgZHJvcCBmcm9tIG1vZHVsZXMgbGlzdCBpbnRvIG1vZHVsZXMgYXJlYXMuXG5cdFx0ICogTmVlZCB0aGlzIGZ1bmN0aW9uLCBzbyB3ZSBjYW4gZHJvcCBuZXcgbW9kdWxlcyBvbiB0aGUgY2xvbmVkIGFyZWFzLlxuXHRcdCAqL1xuXHRcdGRyYWdBbmREcm9wSW5pdCgpO1xuXG5cdFx0Ly8gUmVtb3ZlIFwiZHNsY2EtbW9kdWxlLWJlaW5nLWVkaXRlZFwiIGNsYXNzIGZvcm0gYW55IGVsZW1lbnRcblx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtYmVpbmctZWRpdGVkJywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkucmVtb3ZlQ2xhc3MoJ2RzbGNhLW1vZHVsZS1iZWluZy1lZGl0ZWQnKTtcblxuXHRcdC8vIFNob3cgYmFjayBuZXcgY3JlYXRlZCBtb2R1bGVcblx0XHRkc2xjX21vZHVsZS5hbmltYXRlKHtcblx0XHRcdG9wYWNpdHkgOiAxXG5cdFx0fSwgMzAwKTtcblxuXHRcdHdpbmRvdy5kc2xjX3Nob3dfcHVibGlzaF9idXR0b24oKTtcblx0fSk7XG5cblx0Ly8gR2VuZXJhdGUgbmV3IElEIGZvciB0aGUgbmV3IHNlY3Rpb24uXG5cdGRzbGNfc2VjdGlvbl9uZXdfaWQoIGRzbGNNb2R1bGVzU2VjdGlvbkNsb25lZFswXSApO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlIG5ldyBJRCBmb3IgdGhlIHNlY3Rpb24gcHJvdmlkZWRcbiAqXG4gKlxuICogQHBhcmFtIERPTSBzZWN0aW9uIHRoYXQgbmVlZHMgSUQgdXBkYXRlZCAobmV3IElEKS5cbiAqIEByZXR1cm4gdm9pZFxuICovXG5mdW5jdGlvbiBkc2xjX3NlY3Rpb25fbmV3X2lkKCBzZWN0aW9uICkge1xuXG5cdGlmICggd2luZG93LmRzbGNEZWJ1ZyApIGNvbnNvbGUubG9nKCAnZHNsY19zZWN0aW9uX25ld19pZCcgKTtcblxuXHR2YXIgZHNsY19zZWN0aW9uX2lkID0gTGl2ZUNvbXBvc2VyLlV0aWxzLmdldF91bmlxdWVfaWQoKTsgLy8gR2VuZXJhdGUgbmV3IHNlY3Rpb24gSUQuXG5cblx0Ly8gVXBkYXRlIHNlY3Rpb24gSUQgaW4gZGF0YSBhdHRyaWJ1dGVcblx0c2VjdGlvbi5zZXRBdHRyaWJ1dGUoICdkYXRhLXNlY3Rpb24taWQnLCBkc2xjX3NlY3Rpb25faWQgKTtcblxuXHQvLyBVcGRhdGUgc2VjdGlvbiBJRCBpbiByYXcgYmFzZTY0IGNvZGUgKGRzbGNfY29kZSkgb2YgdGhlIHNlY3Rpb25cblx0TGl2ZUNvbXBvc2VyLlV0aWxzLnVwZGF0ZV9zZWN0aW9uX3Byb3BlcnR5X3Jhdyggc2VjdGlvbiwgJ3NlY3Rpb25faW5zdGFuY2VfaWQnLCBkc2xjX3NlY3Rpb25faWQgKTtcbn1cblxuXG4vKipcbiAqIFJvdyAtIEltcG9ydFxuICovXG5mdW5jdGlvbiBkc2xjX3Jvd19pbXBvcnQoIHJvd0NvZGUgKSB7XG5cblx0aWYgKCB3aW5kb3cuZHNsY0RlYnVnICkgY29uc29sZS5sb2coICdkc2xjX3Jvd19pbXBvcnQnICk7XG5cblx0Ly8gQUpBWCBDYWxsXG5cdGpRdWVyeS5wb3N0KFxuXG5cdFx0RFNMQ0FqYXguYWpheHVybCxcblx0XHR7XG5cdFx0XHRhY3Rpb24gOiAnZHNsYy1hamF4LWltcG9ydC1tb2R1bGVzLXNlY3Rpb24nLFxuXHRcdFx0ZHNsYyA6ICdhY3RpdmUnLFxuXHRcdFx0ZHNsY19tb2R1bGVzX3NlY3Rpb25fY29kZSA6IHJvd0NvZGVcblx0XHR9LFxuXHRcdGZ1bmN0aW9uKCByZXNwb25zZSApIHtcblxuXHRcdFx0Ly8gQ2xvc2UgdGhlIGltcG9ydCBwb3B1cC9tb2RhbFxuXHRcdFx0Y29uZmlybUNsb3NlKCk7XG5cblx0XHRcdC8vIEFkZCB0aGUgbmV3IHNlY3Rpb25cblx0XHRcdGpRdWVyeSgnI2RzbGMtbWFpbicsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLmFwcGVuZCggcmVzcG9uc2Uub3V0cHV0ICk7XG5cblx0XHRcdC8vIENhbGwgb3RoZXIgZnVuY3Rpb25zXG5cdFx0XHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYVdpbmRvdy5kc2xjX2JnX3ZpZGVvKCk7XG5cdFx0XHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYVdpbmRvdy5kc2xjX2Nhcm91c2VsKCk7XG5cdFx0XHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYVdpbmRvdy5kc2xjX21hc29ucnkoKTtcblxuXHRcdFx0Ly8gQ2hlY2sgaW5pdCBmb3Igcm93cyBhbmQgbW9kdWxlIGFyZWFzXG5cdFx0XHRzZWN0aW9uc0luaXRKUygpO1xuXHRcdFx0bW9kdWxlYXJlYXNJbml0SlMoKTtcblxuXHRcdFx0ZHJhZ0FuZERyb3BJbml0KCk7XG5cdFx0XHR3aW5kb3cuZHNsY19nZW5lcmF0ZV9jb2RlKCk7XG5cblx0XHRcdHdpbmRvdy5kc2xjX3Nob3dfcHVibGlzaF9idXR0b24oKTtcblx0XHR9XG5cdCk7XG59XG5cbi8qKlxuICogRGVwcmVjYXRlZCBGdW5jdGlvbnMgYW5kIEZhbGxiYWNrc1xuICovXG5cbmZ1bmN0aW9uIGRzbGNfYWRkX21vZHVsZXNfc2VjdGlvbigpIHsgYWRkU2VjdGlvbigpOyB9XG5mdW5jdGlvbiBkc2xjX2RlbGV0ZV9tb2R1bGVzX3NlY3Rpb24oIHJvdyAgKSB7IGRzbGNfcm93X2RlbGV0ZSggcm93ICk7IH1cbmZ1bmN0aW9uIGRzbGNfZWRpdF9tb2R1bGVzX3NlY3Rpb24oIHJvdyApIHsgZHNsY19yb3dfZWRpdCggcm93ICk7IH1cbmZ1bmN0aW9uIGRzbGNfY29weV9tb2R1bGVzX3NlY3Rpb24oIHJvdyApIHsgZHNsY19yb3dfY29weSggcm93ICk7IH1cbmZ1bmN0aW9uIGRzbGNfaW1wb3J0X21vZHVsZXNfc2VjdGlvbiggcm93Q29kZSApIHsgZHNsY19yb3dfaW1wb3J0KCByb3dDb2RlICk7IH1cblxuLyoqXG4gKiBDaGVjayBST1dzIGluaXRpYWxpemF0aW9uXG4gKlxuICogQHJldHVybiB2b2lkXG4gKi9cbmV4cG9ydCBjb25zdCBzZWN0aW9uc0luaXRKUyA9ICgpID0+IHtcblxuXHQvLyBTZWxlY3QgYWxsIHRoZSBST1dzIGZvcm0gdGhlIG1haW4gc2VjdGlvbiBvZiB0aGUgcGFnZVxuXHRqUXVlcnkoICcjZHNsYy1tYWluIC5kc2xjLW1vZHVsZXMtc2VjdGlvbicsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQgKS5lYWNoKCBmdW5jdGlvbigpIHtcblxuXHRcdC8vIENoZWNrIGlmIGFsbCB0aGUgcm93cyBoYXZlIGRhdGEgYXR0cmlidXRlICdqc2luaXQnIHNldCB0byAnaW5pdGlhbGl6ZWQnP1xuXHRcdGlmICggalF1ZXJ5KCB0aGlzICkuZGF0YSgnanNpbml0JykgIT09ICdpbml0aWFsaXplZCcgKSB7XG5cblx0XHRcdC8vIEluaXRpYWxpemUgYWxsIHRoZSByb3dzIHdpdGhvdXQgJ2pzaW5pdCcgYXR0cmlidXRlIVxuXHRcdFx0bmV3IFNlY3Rpb24oIHRoaXMgKTtcblx0XHR9XG5cdH0gKTtcblxufVxuXG5leHBvcnQgY29uc3Qgc2VjdGlvbnNJbml0ID0gKCkgPT4ge1xuXHRzZWN0aW9uc0luaXRKUygpO1xuXHRzZWN0aW9uc0V2ZW50c0luaXQoKTtcblxuXHQvKipcblx0ICogSG9vayAtIENvbmZpcm0gUm93IENoYW5nZXNcblx0ICovXG5cdGpRdWVyeShkb2N1bWVudCkub24oICdjbGljaycsICcuZHNsY2Etcm93LWVkaXQtc2F2ZScsIGZ1bmN0aW9uKCl7XG5cblx0XHRkc2xjX3Jvd19lZGl0X2NvbmZpcm0oKTtcblxuXHRcdGpRdWVyeShcIi5kc2xjYS1jdXJyZW50bHktZWRpdGluZ1wiKS5yZW1vdmVBdHRyKCdzdHlsZScpO1xuXHRcdGpRdWVyeSgnLmRzbGNhLXJvdy1vcHRpb25zLWZpbHRlci1ob29rLmRzbGNhLWFjdGl2ZScpLnJlbW92ZUNsYXNzKCdkc2xjYS1hY3RpdmUnKTtcblx0XHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYVdpbmRvdy5kc2xjX3Jlc3BvbnNpdmVfY2xhc3NlcyggdHJ1ZSApO1xuXHR9KTtcblxuXHQvKipcblx0ICogSG9vayAtIENhbmNlbCBSb3cgQ2hhbmdlc1xuXHQgKi9cblx0alF1ZXJ5KGRvY3VtZW50KS5vbiggJ2NsaWNrJywgJy5kc2xjYS1yb3ctZWRpdC1jYW5jZWwnLCBmdW5jdGlvbigpe1xuXG5cdFx0ZHNsY19yb3dfZWRpdF9jYW5jZWwoKTtcblxuXHRcdGpRdWVyeShcIi5kc2xjYS1jdXJyZW50bHktZWRpdGluZ1wiKS5yZW1vdmVBdHRyKCdzdHlsZScpO1xuXHRcdGpRdWVyeSgnLmRzbGNhLXJvdy1vcHRpb25zLWZpbHRlci1ob29rLmRzbGNhLWFjdGl2ZScpLnJlbW92ZUNsYXNzKCdkc2xjYS1hY3RpdmUnKTtcblx0XHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYVdpbmRvdy5kc2xjX3Jlc3BvbnNpdmVfY2xhc3NlcyggdHJ1ZSApO1xuXHR9KTtcbn0iLCIvKipcbiAqIFNlY3Rpb25zIGNvbnRhaW5lciBjbGFzc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGNvbnN0IENTZWN0aW9uc0NvbnRhaW5lciA9IGNsYXNze1xuXG5cdGNvbnN0cnVjdG9yIChlbGVtKSB7XG5cdFx0dGhpcy5zb3J0YWJsZTtcblxuXHRcdHRoaXMuaW5pdFNvcnRhYmxlKGVsZW0pO1xuXHRcdHRoaXMucmVhY3RUb1NvcnRhYmxlT25PZmYoKTtcblx0fVxuXG5cblx0aW5pdFNvcnRhYmxlKGVsZW0pIHtcblx0XHRjb25zb2xlLmxvZyggXCJpbml0U29ydGFibGUhISEhISEhISEhISEhISEhXCIgKTtcblx0XHR0aGlzLnNvcnRhYmxlID0gd2luZG93LmpRdWVyeShlbGVtKS5zb3J0YWJsZSh7XG5cdFx0XHRpdGVtczogXCIuZHNsYy1tb2R1bGVzLXNlY3Rpb24tZG5kXCIsXG5cdFx0XHRoYW5kbGU6ICcuZHNsY2EtbW92ZS1tb2R1bGVzLXNlY3Rpb24taG9vazpub3QoXCIuZHNsY2EtYWN0aW9uLWRpc2FibGVkXCIpJyxcblx0XHRcdHBsYWNlaG9sZGVyOiAnZHNsY2EtbW9kdWxlcy1zZWN0aW9uLXBsYWNlaG9sZGVyJyxcblx0XHRcdHRvbGVyYW5jZSA6ICdpbnRlcnNlY3QnLFxuXHRcdFx0Y3Vyc29yQXQ6IHsgYm90dG9tOiAxMCB9LFxuXHRcdFx0YXhpczogJ3knLFxuXHRcdFx0c2Nyb2xsOiB0cnVlLFxuXHRcdFx0c2Nyb2xsU2Vuc2l0aXZpdHk6IDE0MCxcblx0XHRcdHNjcm9sbFNwZWVkIDogNSxcblx0XHRcdHNvcnQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLnJlbW92ZUNsYXNzKCBcInVpLXN0YXRlLWRlZmF1bHRcIiApO1xuXHRcdFx0fSxcblx0XHRcdHVwZGF0ZTogZnVuY3Rpb24gKGUsIHVpKSB7XG5cblx0XHRcdFx0d2luZG93LmRzbGNfc2hvd19wdWJsaXNoX2J1dHRvbigpO1xuXHRcdFx0fSxcblx0XHRcdHN0YXJ0OiBmdW5jdGlvbihlLCB1aSl7XG5cblx0XHRcdFx0alF1ZXJ5KCdib2R5JykucmVtb3ZlQ2xhc3MoJ2RzbGNhLWRyYWctbm90LWluLXByb2dyZXNzJykuYWRkQ2xhc3MoJ2RzbGNhLWRyYWctaW4tcHJvZ3Jlc3MnKTtcblx0XHRcdFx0alF1ZXJ5KCdib2R5JywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkucmVtb3ZlQ2xhc3MoJ2RzbGNhLWRyYWctbm90LWluLXByb2dyZXNzJykuYWRkQ2xhc3MoJ2RzbGNhLWRyYWctaW4tcHJvZ3Jlc3MnKTtcblx0XHRcdFx0dWkucGxhY2Vob2xkZXIuaHRtbCgnPHNwYW4gY2xhc3M9XCJkc2xjYS1wbGFjZWhvbGRlci1oZWxwLXRleHRcIj48c3BhbiBjbGFzcz1cImRzbGNhLXBsYWNlaG9sZGVyLWhlbHAtdGV4dC1pbm5lclwiPicgKyBEU0xDU3RyaW5nLnN0cl9yb3dfaGVscGVyX3RleHQgKyAnPC9zcGFuPjwvc3Bhbj4nKTtcblx0XHRcdFx0alF1ZXJ5KCAnLmRzbGMtY29udGVudCcgKS5zb3J0YWJsZSggXCJyZWZyZXNoUG9zaXRpb25zXCIgKTtcblx0XHRcdH0sXG5cdFx0XHRzdG9wOiBmdW5jdGlvbihlLCB1aSl7XG5cblx0XHRcdFx0d2luZG93LmRzbGNfZ2VuZXJhdGVfY29kZSgpO1xuXG5cdFx0XHRcdExpdmVDb21wb3Nlci5CdWlsZGVyLlVJLnN0b3BTY3JvbGxlcigpO1xuXHRcdFx0XHRqUXVlcnkoJ2JvZHknLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5yZW1vdmVDbGFzcygnZHNsY2EtZHJhZy1pbi1wcm9ncmVzcycpLmFkZENsYXNzKCdkc2xjYS1kcmFnLW5vdC1pbi1wcm9ncmVzcycpO1xuXHRcdFx0XHRqUXVlcnkoJ2JvZHknKS5yZW1vdmVDbGFzcygnZHNsY2EtZHJhZy1pbi1wcm9ncmVzcycpLmFkZENsYXNzKCdkc2xjYS1kcmFnLW5vdC1pbi1wcm9ncmVzcycpO1xuXHRcdFx0XHRqUXVlcnkoJy5kc2xjYS1hbmltLW9wYWNpdHktZHJvcCcpLnJlbW92ZUNsYXNzKCdkc2xjYS1hbmltLW9wYWNpdHktZHJvcCcpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0cmVhY3RUb1NvcnRhYmxlT25PZmYoKSB7XG5cdFx0c2VsZiA9IHRoaXMuc29ydGFibGU7XG5cblx0XHQvKiogU29ydCBvcHRpb24gc2V0dGVyICovXG5cdFx0alF1ZXJ5KGRvY3VtZW50KS5vbignTEMuc29ydGFibGVPZmYnLCBmdW5jdGlvbigpe1xuXHRcdFx0aWYgKCB1bmRlZmluZWQgIT09IHNlbGYuc29ydGFibGUoIFwiaW5zdGFuY2VcIiApICkge1xuXHRcdFx0XHRzZWxmLnNvcnRhYmxlKCdvcHRpb24nLCdkaXNhYmxlZCcsIHRydWUpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0alF1ZXJ5KGRvY3VtZW50KS5vbignTEMuc29ydGFibGVPbicsIGZ1bmN0aW9uKCl7XG5cdFx0XHRpZiAoIHVuZGVmaW5lZCAhPT0gc2VsZi5zb3J0YWJsZSggXCJpbnN0YW5jZVwiICkgKSB7XG5cdFx0XHRcdHNlbGYuc29ydGFibGUoJ29wdGlvbicsJ2Rpc2FibGVkJywgZmFsc2UpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cbn0iLCIvKipcbiAqIEJ1aWxkZXIgc2V0dGluZ3MgcGFuZWwgZnVuY3Rpb25zIHByb3ZpZGluZyB3b3JrIHdpdGggbW9kdWxlc1xuICovXG5pbXBvcnQgeyBzaG93U2VjdGlvbiB9IGZyb20gJy4vdWlnZW5lcmFsLmpzJztcbmltcG9ydCB7IG1vZHVsZU91dHB1dEFsdGVyZWQgfSBmcm9tICcuL21vZHVsZS5qcyc7XG5pbXBvcnQgeyB1cGRhdGVQcmVzZXQgfSBmcm9tIFwiLi9wcmVzZXRzLmpzXCI7XG5pbXBvcnQgeyBoaWRlTW9kYWwgfSBmcm9tIFwiLi9tb2RhbHdpbmRvdy5qc1wiO1xuXG52YXIgZHNsY1JlZ3VsYXJGb250c0FycmF5ID0gd2luZG93LkRTTENGb250cy5yZWd1bGFyO1xudmFyIGRzbGNHb29nbGVGb250c0FycmF5ID0gd2luZG93LkRTTENGb250cy5nb29nbGU7XG52YXIgZHNsY0FsbEZvbnRzQXJyYXkgPSBkc2xjUmVndWxhckZvbnRzQXJyYXkuY29uY2F0KCBkc2xjR29vZ2xlRm9udHNBcnJheSApO1xuXG4vLyBTZXQgY3VycmVudC9kZWZhdWx0IGljb25zIHNldFxudmFyIGRzbGNJY29uc0N1cnJlbnRTZXQgPSB3aW5kb3cuRFNMQ0ljb25zLmZvbnRhd2Vzb21lO1xuXG4vKipcbiAqIE1vZHVsZXMgLSBEb2N1bWVudCBSZWFkeVxuICovXG5cbmpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCl7XG5cdGRzbGNfbW9kdWxlX29wdGlvbnNfdG9vbHRpcCgpO1xuXHRkc2xjX21vZHVsZV9vcHRpb25zX2ZvbnQoKTtcblx0ZHNsY19tb2R1bGVfb3B0aW9uc19pY29uKCk7XG5cdGRzbGNfbW9kdWxlX29wdGlvbnNfaWNvbl9yZXR1cm5pZCgpXG5cdGRzbGNfbW9kdWxlX29wdGlvbnNfdGV4dF9hbGlnbigpO1xuXHRkc2xjX21vZHVsZV9vcHRpb25zX2NoZWNrYm94KCk7XG5cdGRzbGNfbW9kdWxlX29wdGlvbnNfYm94X3NoYWRvdygpO1xuXHRkc2xjX21vZHVsZV9vcHRpb25zX3RleHRfc2hhZG93KCk7XG5cblx0LyogSW5pdGlhdGUgYWxsIHRoZSBjb2xvciBwaWNrZXIgY29udHJvbHMgb24gdGhlIG1vZHVsZS9zZWN0aW9uIG9wdGlvbnMgcGFuZWwuICovXG5cdHZhciBkc2xjYV9vcHRpb25zX3dpdGhfY29sb3JwaWNrZXIgPSAnJztcblx0ZHNsY2Ffb3B0aW9uc193aXRoX2NvbG9ycGlja2VyICs9ICcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtY29sb3JwaWNrZXInO1xuXHRkc2xjYV9vcHRpb25zX3dpdGhfY29sb3JwaWNrZXIgKz0gJywgLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LWZpZWxkLWNvbG9ycGlja2VyJztcblx0ZHNsY2Ffb3B0aW9uc193aXRoX2NvbG9ycGlja2VyICs9ICcsIC5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24tYm94LXNoYWRvdy1jb2xvcic7XG5cdGRzbGNhX29wdGlvbnNfd2l0aF9jb2xvcnBpY2tlciArPSAnLCAuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uLXRleHQtc2hhZG93LWNvbG9yJztcblxuXHQvLyBJbml0IGNvbG9yIHBpY2tlciBvbiBjbGljayBvbmx5IHRvIG5vdCBwb2x1dGUgRE9NIHdpdGggdW53YW50ZWQgZWxlbWVudHMuXG5cdC8vIEl0IHdpbGwgZmlyZSBvbmx5IG9uY2UgKGZpcnN0IHRpbWUpIGFzIGNvbG9yIHBpY2tlciB0aGVuIHB1dCBpdCdzIG93biBsaXN0ZW5lcnMuXG5cdGpRdWVyeShkb2N1bWVudCkub24oJ2NsaWNrJywgZHNsY2Ffb3B0aW9uc193aXRoX2NvbG9ycGlja2VyLCBmdW5jdGlvbigpIHtcblxuXHRcdC8vIENhbGwgdGhlIGNvbG9yIHBpY2tlciBpbml0IGZ1bmN0aW9uLlxuXHRcdGRzbGNfbW9kdWxlX29wdGlvbnNfY29sb3IoIHRoaXMgKTtcblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGUgY29sb3IgcGlja2VyIHBvcHVwIGFwcGVhcnMgaW4gdGhlIHJpZ2h0IHBsYWNlLlxuXHRcdHZhciB3cmFwcGVyID0galF1ZXJ5KCB0aGlzICkuY2xvc2VzdCgnLmRzbGNhLWNvbG9yLW9wdGlvbicpO1xuXHRcdHZhciBvcHRpb25zUGFuZWwgPSBqUXVlcnkoICcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy1pbm5lcicpO1xuXHRcdHZhciBjb2xvcnBpY2tlciA9IHdyYXBwZXIuZmluZCgnLndwLXBpY2tlci1ob2xkZXInKTtcblx0XHR2YXIgb2Zmc2V0ID0gd3JhcHBlci5vZmZzZXQoKTtcblx0XHR2YXIgb2Zmc2V0UG9wdXAgPSBvZmZzZXQubGVmdCArIDE1O1xuXHRcdHZhciB3aW5kb1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG5cdFx0dmFyIHBvcHVwV2lkdGggPSAyNjA7XG5cblx0XHRpZiAoIHdpbmRvV2lkdGggPCBvZmZzZXRQb3B1cCArIHBvcHVwV2lkdGggKSB7XG5cdFx0XHRvZmZzZXRQb3B1cCA9IHdpbmRvV2lkdGggLSBwb3B1cFdpZHRoO1xuXHRcdH1cblxuXHRcdC8vIFNldCB0aGUgcmlnaHQgcG9zaXRpb24gZm9yIHRoZSBjb2xvciBwaWNrZXIgcG9wdXAgb24gZmlyc3QgY2xpY2suXG5cdFx0Y29sb3JwaWNrZXIuY3NzKCdsZWZ0Jywgb2Zmc2V0UG9wdXAgKyAncHgnICk7XG5cblx0XHQvLyBVcGRhdGUgcG9zaXRpb24gbGVmdCBmb3IgdGhlIGNvbG9yIHBpY2tlciBvbiBvcHRpb25zIHNjcm9sbC5cblx0XHRqUXVlcnkob3B0aW9uc1BhbmVsKS5vbignc2Nyb2xsJywgZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRcdG9mZnNldCA9IHdyYXBwZXIub2Zmc2V0KCk7XG5cdFx0XHR2YXIgb2Zmc2V0UG9wdXAgPSBvZmZzZXQubGVmdCArIDE1O1xuXHRcdFx0dmFyIHdpbmRvV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcblx0XHRcdHZhciBwb3B1cFdpZHRoID0gMjYwO1xuXG5cdFx0XHRpZiAoIHdpbmRvV2lkdGggPCBvZmZzZXRQb3B1cCArIHBvcHVwV2lkdGggKSB7XG5cdFx0XHRcdG9mZnNldFBvcHVwID0gd2luZG9XaWR0aCAtIHBvcHVwV2lkdGg7XG5cdFx0XHR9XG5cblx0XHRcdGNvbG9ycGlja2VyLmNzcygnbGVmdCcsIG9mZnNldFBvcHVwICsgJ3B4JyApO1xuXHRcdH0pO1xuXHR9KTtcblxuXHQvKiBJbml0aWF0ZSBhbGwgdGhlIHNsaWRlciBjb250cm9scyBvbiB0aGUgbW9kdWxlIG9wdGlvbnMgcGFuZWwuICovXG5cdGpRdWVyeSgnLmRzbGNhLWNvbnRhaW5lcicpLm9uKCdtb3VzZWVudGVyJywgJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24tc2xpZGVyJywgZnVuY3Rpb24oKSB7XG5cblx0XHQvLyBGaXhlZDogaHR0cHM6Ly9naXRodWIuY29tL2xpdmUtY29tcG9zZXIvbGl2ZS1jb21wb3Nlci1wYWdlLWJ1aWxkZXIvaXNzdWVzLzc0MFxuXHRcdGlmICggISBqUXVlcnkodGhpcykuaGFzQ2xhc3MoICdkc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24tc2VsZWN0JyApICkge1xuICAgICAgICBcdGRzbGNfbW9kdWxlX29wdGlvbnNfbnVtZXJpYyggdGhpcyApO1xuXHRcdH1cblx0fSk7XG5cblx0LyogSW5pdGlhdGUgYWxsIHRoZSBzbGlkZXIgY29udHJvbHMgb24gdGhlIHJvdyBvcHRpb25zIHBhbmVsLiAqL1xuXHRqUXVlcnkoJy5kc2xjYS1jb250YWluZXInKS5vbignbW91c2VlbnRlcicsICcuZHNsY2EtbW9kdWxlcy1zZWN0aW9uLWVkaXQtb3B0aW9uLXNsaWRlcicsIGZ1bmN0aW9uKCkge1xuXG5cdFx0ZHNsY19tb2R1bGVfb3B0aW9uc19udW1lcmljKCB0aGlzICk7XG5cdH0pO1xuXG5cdC8qKlxuXHQgKiBIb29rIC0gU3VibWl0XG5cdCAqL1xuXHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1mb3JtJykuc3VibWl0KCBmdW5jdGlvbihlKXtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0bW9kdWxlT3V0cHV0QWx0ZXJlZCgpO1xuXHR9KTtcblxuXHQvKipcblx0ICogSG9vayAtIFRhYiBTd2l0Y2hcblx0ICovXG5cdGpRdWVyeShkb2N1bWVudCkub24oICdjbGljaycsICcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9vaycsIGZ1bmN0aW9uKGUpe1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRlbGVtZW50T3B0aW9uc1RhYnMoIGpRdWVyeSh0aGlzKSApO1xuXHR9KTtcblxuXHQvKipcblx0ICogSG9vayAtIE9wdGlvbiBTZWN0aW9uIFN3aXRjaFxuXHQgKi9cblx0alF1ZXJ5KGRvY3VtZW50KS5vbiggJ2NsaWNrJywgJy5kc2xjYS1vcHRpb25zLWZpbHRlci1ob29rJywgZnVuY3Rpb24oZSl7XG5cblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHR2YXIgZHNsY1ByZXYgPSBqUXVlcnkoJy5kc2xjYS1vcHRpb25zLWZpbHRlci1ob29rLmRzbGNhLWFjdGl2ZScpLmRhdGEoJ3NlY3Rpb24nKTtcblx0XHR2YXIgY3VycmVudFNlY3Rpb24gPSBqUXVlcnkodGhpcykuZGF0YSgnc2VjdGlvbicpO1xuXG5cdFx0alF1ZXJ5KCcuZHNsY2Etb3B0aW9ucy1maWx0ZXItaG9vay5kc2xjYS1hY3RpdmUnKS5yZW1vdmVDbGFzcygnZHNsY2EtYWN0aXZlJyk7XG5cdFx0alF1ZXJ5KHRoaXMpLmFkZENsYXNzKCdkc2xjYS1hY3RpdmUnKTtcblxuXG5cdFx0ZHNsY19tb2R1bGVfb3B0aW9uc19zZWN0aW9uX2ZpbHRlciggY3VycmVudFNlY3Rpb24gKTtcblxuXHRcdC8vIElmIHByZXZpb3VzIHdhcyByZXNwb25zaXZlIHJlbG9hZCBtb2R1bGVcblx0XHRpZiAoIGRzbGNQcmV2ID09ICdyZXNwb25zaXZlJyApIHtcblx0XHRcdC8vIFNob3cgdGhlIGxvYWRlclxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtY29udGFpbmVyLWxvYWRlcicpLnNob3coKTtcblxuXHRcdFx0Ly8gUmVzZXQgdGhlIHJlc3BvbnNpdmUgY2xhc3Nlc1xuXHRcdFx0d2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhV2luZG93LmRzbGNfcmVzcG9uc2l2ZV9jbGFzc2VzKCk7XG5cblx0XHRcdC8vIFJlbG9hZCBNb2R1bGVcblx0XHRcdG1vZHVsZU91dHB1dEFsdGVyZWQoZnVuY3Rpb24oKXtcblx0XHRcdFx0Ly8gSGlkZSB0aGUgbG9hZGVyXG5cdFx0XHRcdGpRdWVyeSgnLmRzbGNhLWNvbnRhaW5lci1sb2FkZXInKS5oaWRlKCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBEZXN0cm95IHJlc2l6YWJsZSBwcmV2aWV3IGZ1bmN0aW9uYWxpdHlcblx0XHRcdCAqIHdoZW4gbGVhdmluZyBSZXNwb25zaXZlIHZpZXcuXG5cdFx0XHQgKi9cblx0XHRcdGpRdWVyeSgnI3BhZ2UtYnVpbGRlci1wcmV2aWV3LWFyZWEnKS5yZXNpemFibGUoJ2Rlc3Ryb3knKS5hdHRyKCdzdHlsZScsJycpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIE1ha2UgdGhlIHByZXZpZXcgYXJlYSByZXNpemFibGVcblx0XHQgKiB3aGVuIGVudGVyaW5nIFJlc3BvbnNpdmUgdmlldy5cblx0XHQgKi9cblx0XHRpZiAoIGN1cnJlbnRTZWN0aW9uID09ICdyZXNwb25zaXZlJyApIHtcblx0XHRcdGpRdWVyeSgnI3BhZ2UtYnVpbGRlci1wcmV2aWV3LWFyZWEnKS5yZXNpemFibGUoKTtcblx0XHR9XG5cdH0pO1xuXG5cdC8qKlxuXHQgKiBIb29rIC0gQ29uZmlybSBDaGFuZ2VzXG5cdCAqL1xuXHRqUXVlcnkoZG9jdW1lbnQpLm9uKCAnY2xpY2snLCAnLmRzbGNhLW1vZHVsZS1lZGl0LXNhdmUnLCBmdW5jdGlvbihlKXtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRkc2xjX21vZHVsZV9vcHRpb25zX2NvbmZpcm1fY2hhbmdlcyhmdW5jdGlvbigpe1xuXG5cdFx0XHQvLyB3aW5kb3cuTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuVUkuaW5pdElubGluZUVkaXRvcnMoe3dpdGhSZW1vdmU6dHJ1ZX0pO1xuXHRcdFx0d2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLlVJLnVubG9hZE9wdGlvbnNEZXBzKCk7XG5cdFx0XHR3aW5kb3cuTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuRmxhZ3MucGFuZWxPcGVuZWQgPSBmYWxzZTtcblxuXHRcdFx0alF1ZXJ5KFwiYm9keVwiLCB3aW5kb3cuTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkucmVtb3ZlQ2xhc3MoJ21vZHVsZS1lZGl0aW5nLWluLXByb2dyZXNzJyk7XG5cblx0XHR9KTtcblxuXHRcdGpRdWVyeSgnLmRzbGNhLW9wdGlvbnMtZmlsdGVyLWhvb2suZHNsY2EtYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2RzbGNhLWFjdGl2ZScpO1xuXG5cdFx0ZHNsY19kaXNhYmxlX3Jlc3BvbnNpdmVfdmlldygpO1xuXG5cdH0pO1xuXG5cdC8qKlxuXHQgKiBIb29rIC0gQ2FuY2VsIENoYW5nZXNcblx0ICovXG5cdGpRdWVyeShkb2N1bWVudCkub24oICdjbGljaycsICcuZHNsY2EtbW9kdWxlLWVkaXQtY2FuY2VsJywgZnVuY3Rpb24oZSl7XG5cblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRkc2xjX21vZHVsZV9vcHRpb25zX2NhbmNlbF9jaGFuZ2VzKGZ1bmN0aW9uKCl7XG5cblx0XHRcdC8vIHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5VSS5pbml0SW5saW5lRWRpdG9ycyh7d2l0aFJlbW92ZTp0cnVlfSk7XG5cdFx0XHR3aW5kb3cuTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuVUkudW5sb2FkT3B0aW9uc0RlcHMoKTtcblx0XHRcdHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5GbGFncy5wYW5lbE9wZW5lZCA9IGZhbHNlO1xuXG5cdFx0XHRqUXVlcnkoXCJib2R5XCIsIHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5yZW1vdmVDbGFzcygnbW9kdWxlLWVkaXRpbmctaW4tcHJvZ3Jlc3MnKTtcblxuXHRcdH0pO1xuXG5cdFx0alF1ZXJ5KCcuZHNsY2Etb3B0aW9ucy1maWx0ZXItaG9vay5kc2xjYS1hY3RpdmUnKS5yZW1vdmVDbGFzcygnZHNsY2EtYWN0aXZlJyk7XG5cblx0XHRkc2xjX2Rpc2FibGVfcmVzcG9uc2l2ZV92aWV3KCk7XG5cdH0pO1xufSk7XG5cbi8qIEVkaXRvciBzY3JpcHRzICovXG5leHBvcnQgY29uc3Qgc2V0dGluZ3NQYW5lbEluaXQgPSAoKSA9PiB7XG5cdHZhciBzZWxmID0gd2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyO1xuXHR3aW5kb3cuTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuSGVscGVycy5jb2xvcnBpY2tlcnMgPSBbXTtcbi8qXG5cdHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5VSS5pbml0SW5saW5lRWRpdG9ycyA9IGZ1bmN0aW9uKHBhcmFtcyl7XG5cdFx0cGFyYW1zID0gcGFyYW1zIHx8IHt9O1xuXG5cdFx0aWYgKCBwYXJhbXMud2l0aFJlbW92ZSA9PSB0cnVlICkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0d2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhV2luZG93LnRpbnlNQ0UucmVtb3ZlKCk7XG5cdFx0XHR9IGNhdGNoKGVycikge1xuXHRcdFx0XHRjb25zb2xlLmluZm8oICdObyB0aW55TUNFIGNvZGUgZm91bmQuIEVycm9yIGNvZGU6IDEwMTgxMTE2LicgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR3aW5kb3cuTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFXaW5kb3cudGlueU1DRS5pbml0KHtcblx0XHRcdHNlbGVjdG9yOiAnLmlubGluZS1lZGl0b3IuZHNsY2EtZWRpdGFibGUtY29udGVudCcsXG5cdFx0XHRlZGl0b3JfZGVzZWxlY3RvcjogJ21jZS1jb250ZW50LWJvZHknLFxuXHRcdFx0bWVudWJhcjogZmFsc2UsXG5cdFx0XHRpbmxpbmU6IHRydWUsXG5cdFx0XHRwbHVnaW5zOiAnd29yZHByZXNzIHdwbGluayBsaXN0cyBwYXN0ZScsXG5cdFx0XHRwYXN0ZV9hc190ZXh0OiB0cnVlLCAvLyBQYXN0ZSBzdHlsZWQgdGV4dCBhcyBwbGFpbiB0ZXh0IG9ubHkuIFJlcXVpcmVzICdwYXN0ZScgaW4gcGx1Z2lucy5cblx0XHRcdHBhc3RlX2Jsb2NrX2Ryb3A6IHRydWUsIC8vIERpc2FibGVkIGRyb3AgYWN0aW9uIGZvciBpbmxpbmUgZWRpdG9yIHRvIHByZXZlbnQganMgZXJyb3JzIGluIHRoZSBjb25zb2xlLiBodHRwOi8vYXJjaGl2ZS50aW55bWNlLmNvbS93aWtpLnBocC9QbHVnaW4zeDpwYXN0ZVxuXHRcdFx0c3R5bGVfZm9ybWF0czogW1xuXHRcdFx0XHRcdHt0aXRsZTogJ1BhcmFncmFwaCcsIGZvcm1hdDogJ3AnfSxcblx0XHRcdFx0XHR7dGl0bGU6ICdIZWFkZXIgMScsIGZvcm1hdDogJ2gxJ30sXG5cdFx0XHRcdFx0e3RpdGxlOiAnSGVhZGVyIDInLCBmb3JtYXQ6ICdoMid9LFxuXHRcdFx0XHRcdHt0aXRsZTogJ0hlYWRlciAzJywgZm9ybWF0OiAnaDMnfSxcblx0XHRcdFx0XHR7dGl0bGU6ICdIZWFkZXIgNCcsIGZvcm1hdDogJ2g0J30sXG5cdFx0XHRcdFx0e3RpdGxlOiAnSGVhZGVyIDUnLCBmb3JtYXQ6ICdoNSd9LFxuXHRcdFx0XHRcdHt0aXRsZTogJ0hlYWRlciA2JywgZm9ybWF0OiAnaDYnfSxcblx0XHRcdCAgXSxcblx0XHRcdHRvb2xiYXI6ICdzdHlsZXNlbGVjdCB8IGJvbGQgaXRhbGljIGJsb2NrcXVvdGUgfCByZW1vdmVmb3JtYXQgfCBidWxsaXN0IG51bWxpc3QgJ1xuXHRcdH0pO1xuXHR9XG4qL1xuXHQvKiBEZXN0cm95IGluc3RhbmNlZCBvZiBzbGlkZXJzLCBjb2xvciBwaWNrZXJzIGFuZCBvdGhlciB0ZW1wb3JhcnkgZWxlbWVudHMgKi9cblx0d2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLlVJLmNsZWFyVXRpbHMgPSBmdW5jdGlvbigpIHtcblxuXHRcdGlmICggd2luZG93LmRzbGNEZWJ1ZyApIGNvbnNvbGUubG9nKCAnd2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLlVJLmNsZWFyVXRpbHMnICk7XG5cblx0XHQvLyBEZXN0cm95IGFsbCBDb2xvciBQaWNrZXJzXG5cdFx0d2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLlVJLmNsZWFyQ29sb3JQaWNrZXJzKCk7XG5cblx0XHQvLyBEZWxldGUgbW9kdWxlIGJhY2t1cHMgZm9ybSBtZW1vcnkuXG5cdFx0aWYgKCB1bmRlZmluZWQgIT09IHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5tb2R1bGVCYWNrdXAgKSB7XG5cdFx0XHR3aW5kb3cuTGl2ZUNvbXBvc2VyLkJ1aWxkZXIubW9kdWxlQmFja3VwLnJlbW92ZSgpO1xuXHRcdH1cblxuXHRcdGpRdWVyeSgnLnRlbXAtc3R5bGVzLWZvci1tb2R1bGUnLCB3aW5kb3cuTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkucmVtb3ZlKCk7XG5cblx0XHQvLyBIaWRlIGlubGluZSBlZGl0b3IgcGFuZWwgaWYgb24gW0NvbmZpcm1dIG9yIFtDYW5jZWxdIGJ1dHRvbiBjbGljay5cblx0XHRqUXVlcnkoJy5tY2UtdGlueW1jZScsIHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5oaWRlKCk7XG5cdH1cblxuXHR3aW5kb3cuTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuVUkuY2xlYXJDb2xvclBpY2tlcnMgPSBmdW5jdGlvbigpIHtcblxuXHRcdGlmICggQXJyYXkuaXNBcnJheShzZWxmLkhlbHBlcnMuY29sb3JwaWNrZXJzICkgKSB7XG5cblx0XHRcdHNlbGYuSGVscGVycy5jb2xvcnBpY2tlcnMuZm9yRWFjaChmdW5jdGlvbihpdGVtKXtcblx0XHRcdFx0Ly8gRG8gbm90IGRlbGV0ZSBjb2xvciBwaWNrZXIgaW5zdGFuY2UgZnJvbSByb3cgc2V0dGluZ3MgcGFuZWwsXG5cdFx0XHRcdC8vIGFzIGl0IHN0YXlzIG9uIHBhZ2UgYW5kIG5vdCBnZXQgbG9hZGVkIHZpYSBBamF4LlxuXHRcdFx0XHRpZiAoICEgalF1ZXJ5KGl0ZW0pLmhhc0NsYXNzKCdkc2xjYS1tb2R1bGVzLXNlY3Rpb24tZWRpdC1maWVsZCcpICkge1xuXHRcdFx0XHRcdC8vIERlc3Ryb3kgY29sb3IgcGlja2VyIGluc3RhbmNlLlxuXHRcdFx0XHRcdGpRdWVyeShpdGVtKS5yZW1vdmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdHNlbGYuSGVscGVycy5jb2xvcnBpY2tlcnMgPSBbXTtcblx0XHR9XG5cblx0XHQvLyBEZWxldGUgdGhlIGNvbG9yIHBpY2tlciBldmVudHMuXG5cdFx0alF1ZXJ5KCAnYm9keScgKS5vZmYoICdjbGljay53cGNvbG9ycGlja2VyJyApO1xuXHR9XG5cblx0LyoqIE9wdGlvbnMgZGVwZW5kZW5jaWVzICovXG5cdHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5IZWxwZXJzLmRlcHNIYW5kbGVycyA9IFtdO1xuXG5cdHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5VSS5sb2FkT3B0aW9uc0RlcHMgPSBmdW5jdGlvbigpIHtcblxuXHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdGpRdWVyeShcIi5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25cIikuZWFjaChmdW5jdGlvbigpe1xuXG5cdFx0XHR2YXIgZWxlbSA9IHRoaXM7XG5cdFx0XHR2YXIgcGFyc2VkID0gdHJ1ZTtcblxuXHRcdFx0dHJ5IHtcblxuXHRcdFx0XHR2YXIgZGVwID0gSlNPTi5wYXJzZSggTGl2ZUNvbXBvc2VyLlV0aWxzLmI2NF90b191dGY4KCBqUXVlcnkodGhpcykuZGF0YSgnZGVwJykgKSApO1xuXG5cdFx0XHR9IGNhdGNoKGUpe1xuXG5cdFx0XHRcdHBhcnNlZCA9IGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHBhcnNlZCApIHtcblxuXHRcdFx0XHR2YXIgaGFuZGxlciA9IGZ1bmN0aW9uKCl7XG5cblx0XHRcdFx0XHR2YXIgb3B0RWxlbSA9IHRoaXM7XG5cdFx0XHRcdFx0dmFyIGxvY2FsRGVwID0ge307XG5cblx0XHRcdFx0XHRpZiAoICggb3B0RWxlbS50eXBlID09ICdyYWRpbycgfHwgb3B0RWxlbS50eXBlID09ICdjaGVja2JveCcgKSAmJiBkZXBbIG9wdEVsZW0udmFsdWUgXSA9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoIG9wdEVsZW0udHlwZSA9PSAnY2hlY2tib3gnICYmIGRlcFsgb3B0RWxlbS52YWx1ZSBdICE9IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRcdFx0bG9jYWxEZXBbIG9wdEVsZW0udmFsdWUgXSA9IGRlcFsgb3B0RWxlbS52YWx1ZSBdO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdGxvY2FsRGVwID0gZGVwO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdE9iamVjdC5rZXlzKGxvY2FsRGVwKS5mb3JFYWNoKGZ1bmN0aW9uKG9wdF92YWwpe1xuXG5cdFx0XHRcdFx0XHRsb2NhbERlcFsgb3B0X3ZhbCBdLnNwbGl0KCcsJykuZm9yRWFjaChmdW5jdGlvbihpdGVtKXtcblxuXHRcdFx0XHRcdFx0XHR2YXIgb3B0X3dyYXAgPSBqUXVlcnkoXCIuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uLVwiICsgaXRlbS50cmltKCkpLmNsb3Nlc3QoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24nKTtcblx0XHRcdFx0XHRcdFx0dmFyIGNoZWNrZWRDaGVja2JveCA9IHRydWU7XG5cblx0XHRcdFx0XHRcdFx0aWYgKCBvcHRFbGVtLnR5cGUgPT0gJ3JhZGlvJyB8fCBvcHRFbGVtLnR5cGUgPT0gJ2NoZWNrYm94JyApIHtcblxuXHRcdFx0XHRcdFx0XHRcdGNoZWNrZWRDaGVja2JveCA9IGpRdWVyeShvcHRFbGVtKS5pcyhcIjpjaGVja2VkXCIpO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0dmFyIHNlY3Rpb25fdGFiID0galF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9vay5kc2xjYS1hY3RpdmUnKS5kYXRhKCdpZCcpO1xuXG5cdFx0XHRcdFx0XHRcdGlmICggb3B0RWxlbS52YWx1ZSA9PSBvcHRfdmFsICYmIGNoZWNrZWRDaGVja2JveCApIHtcblxuXHRcdFx0XHRcdFx0XHRcdGlmICggb3B0X3dyYXAubm90KCBcIi5kZXBlbmRlbnRcIiApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0b3B0X3dyYXAuYWRkQ2xhc3MoJ2RlcGVuZGVudCcpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdGlmICggb3B0X3dyYXAuaGFzQ2xhc3MoJ2RlcC1oaWRlJykgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRvcHRfd3JhcC5yZW1vdmVDbGFzcygnZGVwLWhpZGUnKTtcblx0XHRcdFx0XHRcdFx0XHRcdG9wdF93cmFwLmFkZENsYXNzKCdkZXAtc2hvdycpO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRvcHRfd3JhcC5hZGRDbGFzcygnZGVwLXNob3cnKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoIHNlY3Rpb25fdGFiID09IG9wdF93cmFwLmRhdGEoJ3RhYicpICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0b3B0X3dyYXAuc2hvdygpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHRcdGlmICggb3B0X3dyYXAubm90KCBcIi5kZXBlbmRlbnRcIiApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0b3B0X3dyYXAuYWRkQ2xhc3MoJ2RlcGVuZGVudCcpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdGlmICggb3B0X3dyYXAuaGFzQ2xhc3MoJ2RlcC1zaG93JykgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRvcHRfd3JhcC5yZW1vdmVDbGFzcygnZGVwLXNob3cnKTtcblx0XHRcdFx0XHRcdFx0XHRcdG9wdF93cmFwLmFkZENsYXNzKCdkZXAtaGlkZScpO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRvcHRfd3JhcC5hZGRDbGFzcygnZGVwLWhpZGUnKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRvcHRfd3JhcC5oaWRlKCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0alF1ZXJ5KGRvY3VtZW50KS5vbignY2hhbmdlIGRzbGMtaW5pdC1kZXBzJywgJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24gKltkYXRhLWlkPVwiJyArIGpRdWVyeSh0aGlzKS5kYXRhKCdpZCcpICsgJ1wiXScsIGhhbmRsZXIpO1xuXHRcdFx0XHR3aW5kb3cuTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuSGVscGVycy5kZXBzSGFuZGxlcnMucHVzaCggaGFuZGxlciApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0alF1ZXJ5KFwiLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbiBpbnB1dCwgLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbiBzZWxlY3RcIikudHJpZ2dlcignZHNsYy1pbml0LWRlcHMnKTtcblx0fVxuXG5cdHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5VSS51bmxvYWRPcHRpb25zRGVwcyA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0d2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLkhlbHBlcnMuZGVwc0hhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24oaGFuZGxlcil7XG5cblx0XHRcdGpRdWVyeShkb2N1bWVudCkudW5iaW5kKCAnY2hhbmdlJywgaGFuZGxlciApO1xuXHRcdFx0alF1ZXJ5KGRvY3VtZW50KS51bmJpbmQoICdkc2xjLWluaXQtZGVwcycsIGhhbmRsZXIgKTtcblx0XHR9KTtcblxuXHRcdHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5IZWxwZXJzLmRlcHNIYW5kbGVycyA9IFtdO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgaW5saW5lIHN0eWxlIHRhZyB3aGVuIGVkaXRpbmcgV1lTV0lHXG5cdCAqXG5cdCAqIEBwYXJhbSAge29iamVjdH0gcGFyYW1zXG5cdCAqICAgIHBhcmFtcy5ydWxlXG5cdCAqICAgIHBhcmFtcy5lbGVtc1xuXHQgKiAgICBwYXJhbXMubW9kdWxlX2lkXG5cdCAqL1xuXHR3aW5kb3cuTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuSGVscGVycy5wcm9jZXNzSW5saW5lU3R5bGVUYWcgPSBmdW5jdGlvbiggcGFyYW1zICkge1xuXG5cdFx0aWYgKCB0eXBlb2YgcGFyYW1zICE9ICdvYmplY3QnICkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0dmFyIHJlc3BfcHJlZml4ID0gJycsIHJlc3BfcG9zdGZpeCA9ICcnO1xuXG5cdFx0aWYgKCBwYXJhbXMuY29udGV4dC5jbG9zZXN0KFwiLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvblwiKS5kYXRhKCd0YWInKSA9PSAndGFibGV0X3Jlc3BvbnNpdmUnICkge1xuXG5cdFx0XHRyZXNwX3ByZWZpeCA9ICdAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDEwMjRweCkgYW5kIChtaW4td2lkdGg6IDc2OHB4KSB7Jztcblx0XHRcdHJlc3BfcG9zdGZpeCA9ICd9Jztcblx0XHR9IGVsc2UgaWYgKCBwYXJhbXMuY29udGV4dC5jbG9zZXN0KFwiLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvblwiKS5kYXRhKCd0YWInKSA9PSAncGhvbmVfcmVzcG9uc2l2ZScgKSB7XG5cblx0XHRcdHJlc3BfcHJlZml4ID0gJ0BtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzY3cHgpIHsnO1xuXHRcdFx0cmVzcF9wb3N0Zml4ID0gJ30nO1xuXHRcdH1cblxuXHRcdHBhcmFtcy5zdHlsZUNvbnRlbnQgPSByZXNwX3ByZWZpeCArIHBhcmFtcy5zdHlsZUNvbnRlbnQgKyByZXNwX3Bvc3RmaXg7XG5cblx0XHR2YXIgaWQgPSByZXNwX3ByZWZpeCArIHBhcmFtcy5ydWxlICsgcGFyYW1zLmVsZW1zO1xuXHRcdGlkID0gaWQucmVwbGFjZSgvIC9naSwgJycpO1xuXG5cdFx0aWYgKCB3aW5kb3cuTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudFswXS5nZXRFbGVtZW50QnlJZChpZCkgPT0gbnVsbCApIHtcblxuXHRcdFx0dmFyIHN0eWxlVGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcblx0XHRcdHN0eWxlVGFnLmlubmVySFRNTCA9IHBhcmFtcy5zdHlsZUNvbnRlbnQ7XG5cdFx0XHRzdHlsZVRhZy5pZCA9IGlkO1xuXHRcdFx0c3R5bGVUYWcuY2xhc3NOYW1lID0gXCJ0ZW1wLXN0eWxlcy1mb3ItbW9kdWxlXCI7XG5cblx0XHRcdHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50WzBdLmJvZHkuYXBwZW5kQ2hpbGQoc3R5bGVUYWcpO1xuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50WzBdLmdldEVsZW1lbnRCeUlkKGlkKS5pbm5lckhUTUwgPSBwYXJhbXMuc3R5bGVDb250ZW50O1xuXHRcdH1cblx0fVxuXG5cdHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5VSS5zaGFrZVBhbmVsQ29uZmlybUJ1dHRvbiA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtc2F2ZScpLmFkZENsYXNzKCdsYy1zaGFrZS1lZmZlY3QgYWN0aXZlJyk7XG5cblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG5cblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LXNhdmUnKS5yZW1vdmVDbGFzcygnbGMtc2hha2UtZWZmZWN0IGFjdGl2ZScpO1xuXHRcdH0sIDEwMDApO1xuXHR9O1xuXG5cdG9uTW9kdWxlT3B0aW9uc0NoYW5nZSgpO1xuXHRvblNlY3Rpb25PcHRpb25zQ2hhbmdlKCk7XG5cdG9uRmlsZVVwbG9hZE9wdGlvbnNDaGFuZ2UoKTtcbn07XG5cbmNvbnN0IG9uTW9kdWxlT3B0aW9uc0NoYW5nZSA9ICgpID0+IHtcblx0Ly8gTGl2ZSBQcmV2aWV3IGZvciBNb2R1bGUgU2V0dGluZ3MgQ2hhbmdlXG5cdGpRdWVyeShkb2N1bWVudCkub24oICdjaGFuZ2UnLCAnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkJywgZnVuY3Rpb24oKXtcblx0XHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ29uIGNoYW5nZSBldmVudCBmb3IgLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkJyApO1xuXG5cdFx0dmFyIGRzbGNPcHRpb25WYWx1ZSA9ICcnLFxuXHRcdFx0ZHNsY09wdGlvblZhbHVlT3JpZyA9ICcnLFxuXHRcdFx0ZHNsY09wdGlvbiA9IGpRdWVyeSh0aGlzKSxcblx0XHRcdGRzbGNPcHRpb25JRCA9IGRzbGNPcHRpb24uZGF0YSgnaWQnKSxcblx0XHRcdGRzbGNPcHRpb25XcmFwID0gZHNsY09wdGlvbi5jbG9zZXN0KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uJyksXG5cdFx0XHRkc2xjTW9kdWxlID0galF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWJlaW5nLWVkaXRlZCcsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLFxuXHRcdFx0ZHNsY01vZHVsZUlEID0gZHNsY01vZHVsZS5kYXRhKCdtb2R1bGUnKSxcblx0XHRcdGRzbGNNb2R1bGVPcHRpb25zID0galF1ZXJ5KCAnLmRzbGNhLW1vZHVsZS1vcHRpb25zLWZyb250IHRleHRhcmVhJywgZHNsY01vZHVsZSApO1xuXG5cdFx0Ly8gQWRkIGNoYW5nZWQgY2xhc3Ncblx0XHRkc2xjTW9kdWxlLmFkZENsYXNzKCdkc2xjYS1tb2R1bGUtY2hhbmdlLW1hZGUnKTtcblxuXHRcdC8vIEhpZGUvU2hvdyB0YWJzIGluIHRoZSBtb2R1bGUgb3B0aW9ucyBwYW5lbC5cblx0XHQvLyBSZXF1aXJlZCB0byBzaG93L2hpZGUgcGFydGljdWxhciBvcHRpb25zIHRhYnMgYmFzZWQgb24gdGhlIGN1cnJlbnQgc2VsZWN0aW9uLlxuXHRcdC8vIEFjdGl2ZSBvbmx5IGZvciBkcm9wZG93bnMgYW5kIGNoZWNrYm94ZXMuXG5cdFx0aWYgKCBkc2xjT3B0aW9uV3JhcC5oYXNDbGFzcygnZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uLXNlbGVjdCcpIHx8XG5cdFx0ZHNsY09wdGlvbldyYXAuaGFzQ2xhc3MoJ2RzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi1jaGVja2JveCcpICkge1xuXG5cdFx0XHRkc2xjX21vZHVsZV9vcHRpb25zX2hpZGVzaG93X3RhYnMoKTtcblxuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFJlZnJlc2ggb24gY2hhbmdlID0gdHJ1ZVxuXHRcdCAqXG5cdFx0ICogUmVmcmVzaCBtb2R1bGUgSFRNTCBmcm9tIHRoZSBzZXJ2ZXIgb24gZXZlcnkgZmllbGQgdmFsdWUgY2hhbmdlXG5cdFx0ICovXG5cdFx0aWYgKCBqUXVlcnkodGhpcykuY2xvc2VzdCgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbicpLmRhdGEoJ3JlZnJlc2gtb24tY2hhbmdlJykgPT0gJ2FjdGl2ZScgKSB7XG5cblx0XHRcdC8qKlxuXHRcdFx0ICogR2V0IHRoZSBuZXcgdmFsdWVcblx0XHRcdCAqL1xuXG5cdFx0XHRpZiAoIGRzbGNPcHRpb25XcmFwLmZpbmQoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24tY2hlY2tib3gtd3JhcHBlcicpLmxlbmd0aCApIHtcblxuXHRcdFx0XHR2YXIgZHNsY09wdGlvbkNob2ljZXMgPSBqUXVlcnkoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScsIGRzbGNPcHRpb25XcmFwKTtcblxuXHRcdFx0XHRkc2xjT3B0aW9uQ2hvaWNlcy5lYWNoKGZ1bmN0aW9uKCl7XG5cblx0XHRcdFx0XHRpZiAoIGpRdWVyeSh0aGlzKS5wcm9wKCdjaGVja2VkJykgKSB7XG5cblx0XHRcdFx0XHRcdGRzbGNPcHRpb25WYWx1ZSA9IGRzbGNPcHRpb25WYWx1ZSArIGpRdWVyeSh0aGlzKS52YWwoKSArICcgJztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fSk7XG5cblx0XHRcdH0gZWxzZSBpZiAoIGRzbGNPcHRpb24uaGFzQ2xhc3MoJ2RzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi1yYWRpbycpICkge1xuXG5cdFx0XHRcdHZhciBkc2xjT3B0aW9uVmFsdWUgPSBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZDpjaGVja2VkJywgZHNsY09wdGlvbikudmFsKCk7XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdHZhciBkc2xjT3B0aW9uVmFsdWUgPSBkc2xjT3B0aW9uLnZhbCgpO1xuXG5cdFx0XHRcdC8vIFBvc3QgR3JpZCA+IFRodW1ibmFpbDogT3JpZW50YXRpb24gY2hhbmdlLlxuXHRcdFx0XHQvLyBOZWVkIHRvIGNoYW5nZSB0aHVtYm5haWwgd2lkdGggdG8gZ2V0IGl0IHdvcmsgYXMgZXhwZWN0ZWRcblx0XHRcdFx0aWYgKCBkc2xjT3B0aW9uSUQgPT0gJ29yaWVudGF0aW9uJyAmJiBkc2xjT3B0aW9uVmFsdWUgPT0gJ2hvcml6b250YWwnICkge1xuXG5cdFx0XHRcdFx0dmFyIGRzbGNTbGlkZXJFbCA9IGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi10aHVtYl93aWR0aCAuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQnKTtcblx0XHRcdFx0XHRkc2xjU2xpZGVyRWwudmFsKCc0MCcpLnRyaWdnZXIoJ2NoYW5nZScpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKCBkc2xjT3B0aW9uSUQgPT0gJ29yaWVudGF0aW9uJyAmJiBkc2xjT3B0aW9uVmFsdWUgPT0gJ3ZlcnRpY2FsJyApIHtcblxuXHRcdFx0XHRcdHZhciBkc2xjU2xpZGVyRWwgPSBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24tdGh1bWJfd2lkdGggLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkJyk7XG5cdFx0XHRcdFx0ZHNsY1NsaWRlckVsLnZhbCgnMTAwJykudHJpZ2dlcignY2hhbmdlJyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBDaGFuZ2Ugb2xkIHZhbHVlIHdpdGggbmV3IHZhbHVlXG5cdFx0XHQgKi9cblxuXHRcdFx0aWYgKCB1bmRlZmluZWQgIT09IGRzbGNPcHRpb25WYWx1ZSApIHtcblx0XHRcdFx0ZHNsY09wdGlvblZhbHVlID0gZHNsY09wdGlvblZhbHVlLnRyaW0oKS5yZXBsYWNlKC88dGV4dGFyZWEvZywgJzxsY3RleHRhcmVhJykucmVwbGFjZSgvPFxcL3RleHRhcmVhL2csICc8L2xjdGV4dGFyZWEnKTtcblx0XHRcdH1cblxuXHRcdFx0alF1ZXJ5KCAnLmRzbGNhLW1vZHVsZS1vcHRpb25zLWZyb250IHRleHRhcmVhW2RhdGEtaWQ9XCInICsgZHNsY09wdGlvbklEICsgJ1wiXScsIGRzbGNNb2R1bGUgKS52YWwoZHNsY09wdGlvblZhbHVlKTtcblxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtY29udGFpbmVyLWxvYWRlcicpLnNob3coKTtcblxuXHRcdFx0bW9kdWxlT3V0cHV0QWx0ZXJlZCggZnVuY3Rpb24oKXtcblxuXHRcdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtYmVpbmctZWRpdGVkJywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkuYWRkQ2xhc3MoJ2RzbGNhLW1vZHVsZS1jaGFuZ2UtbWFkZScpO1xuXG5cdFx0XHRcdGlmICggZHNsY09wdGlvbklEID09ICdjc3NfbG9hZF9wcmVzZXQnICYmICEgalF1ZXJ5KCdib2R5JykuaGFzQ2xhc3MoJ2RzbGNhLW5ldy1wcmVzZXQtYWRkZWQnKSApIHtcblxuXHRcdFx0XHRcdGRzbGNfbW9kdWxlX29wdGlvbnNfc2hvdyggZHNsY01vZHVsZUlEICk7XG5cdFx0XHRcdFx0alF1ZXJ5KCcuZHNsY2EtY29udGFpbmVyLWxvYWRlcicpLmhpZGUoKTtcblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdGpRdWVyeSgnLmRzbGNhLWNvbnRhaW5lci1sb2FkZXInKS5oaWRlKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRqUXVlcnkoJ2JvZHknKS5yZW1vdmVDbGFzcygnZHNsY2EtbmV3LXByZXNldC1hZGRlZCcpO1xuXG5cblx0XHRcdFx0Ly8gVHJpZ2dlciAnTEMubW9kdWxlQ2hhbmdlJyBldmVudC5cblx0XHRcdFx0Ly8gVGhpcyBldmVudCBjYW4gYmUgdXNlZCBieSAzLXJkIHBhcnR5IGRldmVsb3BlcnMgdG8gcmUtaW5pdFxuXHRcdFx0XHQvLyBzb21lIG9mIHRoZSBKYXZhU2NyaXB0IGNvZGUgb24gbW9kdXJlIHJlLXJlbmRlcmluZy5cblx0XHRcdFx0TGl2ZUNvbXBvc2VyLlV0aWxzLnB1Ymxpc2goICdMQy5tb2R1bGVDaGFuZ2UnLCB7XG5cdFx0XHRcdFx0bW9kdWxlSWQ6IGRzbGNNb2R1bGVJRCxcblx0XHRcdFx0XHRvcHRpb25JRDogZHNsY09wdGlvbklELFxuXHRcdFx0XHRcdG9wdGlvblZhbDogZHNsY09wdGlvbi52YWwoKVxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0LyoqXG5cdFx0ICogUmVmcmVzaCBvbiBjaGFuZ2UgPSBmYWxzZVxuXHRcdCAqXG5cdFx0ICogRG8gbm90IHJlZnJlc2ggZnJvbSB0aGUgc2VydmVyLCBidXQgdXNpbmcgSlNcblx0XHQgKi9cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvKipcblx0XHRcdCAqIExpdmUgUHJldmlld1xuXHRcdFx0ICovXG5cblx0XHRcdGlmICggZHNsY09wdGlvbi5oYXNDbGFzcygnZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtZm9udCcpICkge1xuXG5cdFx0XHRcdHZhciBkc2xjRm9udHNUb0xvYWQgPSBkc2xjT3B0aW9uLnZhbCgpO1xuXHRcdFx0XHRkc2xjRm9udHNUb0xvYWQgPSBkc2xjRm9udHNUb0xvYWQgKyAnOjQwMCwxMDAsMjAwLDMwMCw1MDAsNjAwLDcwMCw4MDAsOTAwJztcblxuXHRcdFx0XHR2YXIgZHNsY0FmZmVjdE9uQ2hhbmdlRWwgPSBkc2xjT3B0aW9uLmRhdGEoJ2FmZmVjdC1vbi1jaGFuZ2UtZWwnKTtcblx0XHRcdFx0dmFyIGRzbGNBZmZlY3RPbkNoYW5nZVJ1bGUgPSBkc2xjT3B0aW9uLmRhdGEoJ2FmZmVjdC1vbi1jaGFuZ2UtcnVsZScpO1xuXHRcdFx0XHR2YXIgZHNsY0FmZmVjdE9uQ2hhbmdlVmFsID0gZHNsY09wdGlvbi52YWwoKTtcblx0XHRcdFx0dmFyIGRzbGNBZmZlY3RPbkNoYW5nZVZhbE9yaWcgPSBkc2xjQWZmZWN0T25DaGFuZ2VWYWw7XG5cdFx0XHRcdHZhciBtb2R1bGUgPSBqUXVlcnkoXCIuZHNsY2EtbW9kdWxlLWJlaW5nLWVkaXRlZFwiLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KTtcblxuXHRcdFx0XHRpZiAoIGRzbGNPcHRpb24udmFsKCkubGVuZ3RoICYmIGRzbGNHb29nbGVGb250c0FycmF5LmluZGV4T2YoIGRzbGNPcHRpb24udmFsKCkgKSAhPT0gLTEgICkge1xuXG5cdFx0XHRcdFx0Ly8gQ2FsbCBXZWJGb250IGZ1bmN0aW9uIGZyb20gdGhlIGlmcmFtZVxuXHRcdFx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYWdlLWJ1aWxkZXItZnJhbWUnKS5jb250ZW50V2luZG93LldlYkZvbnQubG9hZCh7XG5cdFx0XHRcdFx0XHRcdGdvb2dsZToge1xuXHRcdFx0XHRcdFx0XHRcdGZhbWlsaWVzOiBbIGRzbGNGb250c1RvTG9hZCBdXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdGFjdGl2ZSA6IGZ1bmN0aW9uKGZhbWlseU5hbWUsIGZ2ZCkge1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkoICcuZHNsY2EtZm9udC1sb2FkaW5nJyApLmNsb3Nlc3QoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC1mb250LW5leHQnKS5sZW5ndGggKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSgnLmRzbGNhLWZvbnQtbG9hZGluZycpLnJlbW92ZUNsYXNzKCdkc2xjYS1mb250LWxvYWRpbmcnKS5maW5kKCcuZHNsY2EtaWNvbicpLnJlbW92ZUNsYXNzKCdkc2xjLWljb24tc3BpbicpLmFkZENsYXNzKCdkc2xjLWljb24tY2hldnJvbi1yaWdodCcpO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSgnLmRzbGNhLWZvbnQtbG9hZGluZycpLnJlbW92ZUNsYXNzKCdkc2xjYS1mb250LWxvYWRpbmcnKS5maW5kKCcuZHNsY2EtaWNvbicpLnJlbW92ZUNsYXNzKCdkc2xjLWljb24tc3BpbicpLmFkZENsYXNzKCdkc2xjLWljb24tY2hldnJvbi1sZWZ0Jyk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0dmFyIGVsZW1zID0gZHNsY0FmZmVjdE9uQ2hhbmdlRWwuc3BsaXQoJywnKTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgc3R5bGVDb250ZW50ID0gXCIjXCIgKyBtb2R1bGVbMF0uaWQgKyBcIiBcIiArIGVsZW1zLmpvaW4oXCIsICNcIiArIG1vZHVsZVswXS5pZCArIFwiIFwiKSArIFwiIHtcIiArIGRzbGNBZmZlY3RPbkNoYW5nZVJ1bGUgKyBcIjogXCIgKyBkc2xjQWZmZWN0T25DaGFuZ2VWYWwgKyBcIn1cIjtcblxuXHRcdFx0XHRcdFx0XHRcdExpdmVDb21wb3Nlci5CdWlsZGVyLkhlbHBlcnMucHJvY2Vzc0lubGluZVN0eWxlVGFnKHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dDogZHNsY09wdGlvbixcblx0XHRcdFx0XHRcdFx0XHRcdHJ1bGU6IGRzbGNBZmZlY3RPbkNoYW5nZVJ1bGUsXG5cdFx0XHRcdFx0XHRcdFx0XHRlbGVtczogZHNsY0FmZmVjdE9uQ2hhbmdlRWwsXG5cdFx0XHRcdFx0XHRcdFx0XHRzdHlsZUNvbnRlbnQ6IHN0eWxlQ29udGVudFxuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRpbmFjdGl2ZSA6IGZ1bmN0aW9uICggZmFtaWx5TmFtZSwgZnZkICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkoICcuZHNsY2EtZm9udC1sb2FkaW5nJyApLmNsb3Nlc3QoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC1mb250LW5leHQnKS5sZW5ndGggKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSgnLmRzbGNhLWZvbnQtbG9hZGluZycpLnJlbW92ZUNsYXNzKCdkc2xjYS1mb250LWxvYWRpbmcnKS5maW5kKCcuZHNsY2EtaWNvbicpLnJlbW92ZUNsYXNzKCdkc2xjLWljb24tc3BpbicpLmFkZENsYXNzKCdkc2xjLWljb24tY2hldnJvbi1yaWdodCcpO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeSgnLmRzbGNhLWZvbnQtbG9hZGluZycpLnJlbW92ZUNsYXNzKCdkc2xjYS1mb250LWxvYWRpbmcnKS5maW5kKCcuZHNsY2EtaWNvbicpLnJlbW92ZUNsYXNzKCdkc2xjLWljb24tc3BpbicpLmFkZENsYXNzKCdkc2xjLWljb24tY2hldnJvbi1sZWZ0Jyk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0KTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKXtcblxuXHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkoICcuZHNsY2EtZm9udC1sb2FkaW5nLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkLWZvbnQtbmV4dCcgKS5sZW5ndGggKSB7XG5cblx0XHRcdFx0XHRcdFx0alF1ZXJ5KCcuZHNsY2EtZm9udC1sb2FkaW5nJykucmVtb3ZlQ2xhc3MoJ2RzbGNhLWZvbnQtbG9hZGluZycpLmZpbmQoJy5kc2xjYS1pY29uJykucmVtb3ZlQ2xhc3MoJ2RzbGMtaWNvbi1zcGluJykuYWRkQ2xhc3MoJ2RzbGMtaWNvbi1jaGV2cm9uLXJpZ2h0Jyk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdGpRdWVyeSgnLmRzbGNhLWZvbnQtbG9hZGluZycpLnJlbW92ZUNsYXNzKCdkc2xjYS1mb250LWxvYWRpbmcnKS5maW5kKCcuZHNsY2EtaWNvbicpLnJlbW92ZUNsYXNzKCdkc2xjLWljb24tc3BpbicpLmFkZENsYXNzKCdkc2xjLWljb24tY2hldnJvbi1sZWZ0Jyk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHZhciBlbGVtcyA9IGRzbGNBZmZlY3RPbkNoYW5nZUVsLnNwbGl0KCcsJyk7XG5cdFx0XHRcdFx0XHR2YXIgc3R5bGVDb250ZW50ID0gXCIjXCIgKyBtb2R1bGVbMF0uaWQgKyBcIiBcIiArIGVsZW1zLmpvaW4oXCIsICNcIiArIG1vZHVsZVswXS5pZCArIFwiIFwiKSArIFwiIHtcIiArIGRzbGNBZmZlY3RPbkNoYW5nZVJ1bGUgKyBcIjogXCIgKyBkc2xjQWZmZWN0T25DaGFuZ2VWYWwgKyBcIn1cIjtcblxuXHRcdFx0XHRcdFx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuSGVscGVycy5wcm9jZXNzSW5saW5lU3R5bGVUYWcoe1xuXG5cdFx0XHRcdFx0XHRcdGNvbnRleHQ6IGRzbGNPcHRpb24sXG5cdFx0XHRcdFx0XHRcdHJ1bGU6IGRzbGNBZmZlY3RPbkNoYW5nZVJ1bGUsXG5cdFx0XHRcdFx0XHRcdGVsZW1zOiBkc2xjQWZmZWN0T25DaGFuZ2VFbCxcblx0XHRcdFx0XHRcdFx0c3R5bGVDb250ZW50OiBzdHlsZUNvbnRlbnRcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0sIDEwMCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBDaGVja2JveFxuXHRcdFx0ICovXG5cdFx0XHR9IGVsc2UgaWYgKCBkc2xjT3B0aW9uLmhhc0NsYXNzKCdkc2xjYS1tb2R1bGUtZWRpdC1maWVsZC1jaGVja2JveCcpICkge1xuXG5cdFx0XHRcdHZhciBkc2xjT3B0aW9uQ2hvaWNlcyA9IGpRdWVyeSgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJywgZHNsY09wdGlvbldyYXApO1xuXG5cdFx0XHRcdGRzbGNPcHRpb25DaG9pY2VzLmVhY2goZnVuY3Rpb24oKXtcblxuXHRcdFx0XHRcdC8qXG5cdFx0XHRcdFx0QHRvZG8gVGhpcyBmdW5jdGlvbiBpcyBzcGVjaWZpYyB0byBib3JkZXJzLiBOZWVkcyByZXZpZXcuXG5cdFx0XHRcdFx0ICovXG5cblx0XHRcdFx0XHRpZiAoIGpRdWVyeSh0aGlzKS5wcm9wKCdjaGVja2VkJykgKSB7XG5cblx0XHRcdFx0XHRcdGRzbGNPcHRpb25WYWx1ZSA9IGRzbGNPcHRpb25WYWx1ZSArICdzb2xpZCAnO1xuXHRcdFx0XHRcdFx0ZHNsY09wdGlvblZhbHVlT3JpZyA9IGRzbGNPcHRpb25WYWx1ZU9yaWcgKyBqUXVlcnkodGhpcykudmFsKCkgKyAnICc7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0ZHNsY09wdGlvblZhbHVlID0gZHNsY09wdGlvblZhbHVlICsgJ25vbmUgJztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdC8vIEhlcmUgZHNsY09wdGlvblZhbHVlIHdpbGwgbG9vayBsaWtlOiBub25lIG5vbmUgbm9uZSBzb2xpZC5cblx0XHRcdH1cblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBBbGwgb3RoZXIgb3B0aW9uIHR5cGVzXG5cdFx0XHQgKi9cblx0XHRcdGlmICggISBkc2xjT3B0aW9uLmhhc0NsYXNzKCdkc2xjYS1tb2R1bGUtZWRpdC1maWVsZC1mb250JykgJiZcblx0XHRcdFx0XHRkc2xjT3B0aW9uLmRhdGEoJ2FmZmVjdC1vbi1jaGFuZ2UtZWwnKSAhPSBudWxsICYmXG5cdFx0XHRcdFx0ZHNsY09wdGlvbi5kYXRhKCdhZmZlY3Qtb24tY2hhbmdlLXJ1bGUnKSAhPSBudWxsXG5cdFx0XHRcdFx0ICkge1xuXG5cdFx0XHRcdHZhciBkc2xjRXh0ID0gZHNsY09wdGlvbi5kYXRhKCdleHQnKSB8fCAnJztcblx0XHRcdFx0dmFyIGRzbGNBZmZlY3RPbkNoYW5nZUVsID0gZHNsY09wdGlvbi5kYXRhKCdhZmZlY3Qtb24tY2hhbmdlLWVsJyk7XG5cdFx0XHRcdHZhciBkc2xjQWZmZWN0T25DaGFuZ2VSdWxlID0gZHNsY09wdGlvbi5kYXRhKCdhZmZlY3Qtb24tY2hhbmdlLXJ1bGUnKTtcblx0XHRcdFx0dmFyIGRzbGNBZmZlY3RPbkNoYW5nZVZhbCA9IGRzbGNPcHRpb24udmFsKCk7XG5cdFx0XHRcdHZhciBkc2xjQWZmZWN0T25DaGFuZ2VWYWxPcmlnID0gZHNsY0FmZmVjdE9uQ2hhbmdlVmFsO1xuXG5cdFx0XHRcdGlmICggZHNsY09wdGlvbi5oYXNDbGFzcygnZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtY2hlY2tib3gnKSApIHtcblxuXHRcdFx0XHRcdGRzbGNBZmZlY3RPbkNoYW5nZVZhbCA9IGRzbGNPcHRpb25WYWx1ZTtcblx0XHRcdFx0XHRkc2xjQWZmZWN0T25DaGFuZ2VWYWxPcmlnID0gZHNsY09wdGlvblZhbHVlT3JpZztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggZHNsY09wdGlvbi5oYXNDbGFzcygnZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtaW1hZ2UnKSApIHtcblxuXHRcdFx0XHRcdGRzbGNBZmZlY3RPbkNoYW5nZVZhbCA9ICd1cmwoXCInICsgZHNsY0FmZmVjdE9uQ2hhbmdlVmFsICsgJ1wiKSc7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoICggbnVsbCAhPT0gZHNsY0FmZmVjdE9uQ2hhbmdlVmFsICYmIGRzbGNBZmZlY3RPbkNoYW5nZVZhbC5sZW5ndGggPCAxICkgJiYgKCBkc2xjQWZmZWN0T25DaGFuZ2VSdWxlID09ICdiYWNrZ3JvdW5kLWNvbG9yJyB8fCBkc2xjQWZmZWN0T25DaGFuZ2VSdWxlID09ICdiYWNrZ3JvdW5kJyApICkge1xuXG5cdFx0XHRcdFx0ZHNsY0FmZmVjdE9uQ2hhbmdlVmFsID0gJ3RyYW5zcGFyZW50Jztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGRzbGNBZmZlY3RPbkNoYW5nZVJ1bGUuc3BsaXQoJywnKS5mb3JFYWNoKGZ1bmN0aW9uKHJ1bGUpe1xuXG5cdFx0XHRcdFx0cnVsZSA9IHJ1bGUucmVwbGFjZSgvXFxzKy9nLCAnJyk7XG5cblx0XHRcdFx0XHR2YXIgbW9kdWxlID0galF1ZXJ5KFwiLmRzbGNhLW1vZHVsZS1iZWluZy1lZGl0ZWRcIiwgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCk7XG5cblx0XHRcdFx0XHR2YXIgZWxlbXMgPSBkc2xjQWZmZWN0T25DaGFuZ2VFbC5zcGxpdCgnLCcpO1xuXHRcdFx0XHRcdHZhciBzdHlsZUNvbnRlbnQgPSBcIiNcIiArIG1vZHVsZVswXS5pZCArIFwiIFwiICsgZWxlbXMuam9pbihcIiwgI1wiICsgbW9kdWxlWzBdLmlkICsgXCIgXCIpICsgXCIge1wiICsgcnVsZSArIFwiOiBcIiArIGRzbGNBZmZlY3RPbkNoYW5nZVZhbCArIGRzbGNFeHQgKyBcIn1cIjtcblxuXHRcdFx0XHRcdExpdmVDb21wb3Nlci5CdWlsZGVyLkhlbHBlcnMucHJvY2Vzc0lubGluZVN0eWxlVGFnKHtcblxuXHRcdFx0XHRcdFx0Y29udGV4dDogZHNsY09wdGlvbixcblx0XHRcdFx0XHRcdHJ1bGU6IHJ1bGUsXG5cdFx0XHRcdFx0XHRlbGVtczogZHNsY0FmZmVjdE9uQ2hhbmdlRWwsXG5cdFx0XHRcdFx0XHRzdHlsZUNvbnRlbnQ6IHN0eWxlQ29udGVudFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBVcGRhdGUgb3B0aW9uXG5cdFx0XHQgKi9cblxuXHRcdFx0dmFyIGRzbGNPcHRpb25Ub0FwcGx5ID0gJyc7XG5cblx0XHRcdC8vIERvIHdlIHdvcmsgd2l0aCBDU1MgY29udHJvbCBvciBtb2R1bGUgcHJvcGVydHk/XG5cdFx0XHRpZiAoIGRzbGNPcHRpb25JRC5pbmRleE9mKCdjc3NfJykgIT09IC0xICkge1xuXHRcdFx0XHQvLyBBcHBseSBDU1MgcHJvcGVydHkuXG5cdFx0XHRcdGRzbGNPcHRpb25Ub0FwcGx5ID0gZHNsY0FmZmVjdE9uQ2hhbmdlVmFsT3JpZztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIEFwcGx5IG1vZHVsZSBwcm9wZXJ0eS5cblx0XHRcdFx0ZHNsY09wdGlvblRvQXBwbHkgPSBkc2xjT3B0aW9uLnZhbCgpO1xuXHRcdFx0fVxuXG5cdFx0XHRqUXVlcnkoICcuZHNsY2EtbW9kdWxlLW9wdGlvbi1mcm9udFtkYXRhLWlkPVwiJyArIGRzbGNPcHRpb25JRCArICdcIl0nLCBkc2xjTW9kdWxlICkudmFsKCBkc2xjT3B0aW9uVG9BcHBseSApO1xuXG5cdFx0XHQvLyBUcmlnZ2VyICdMQy5tb2R1bGVDaGFuZ2UnIGV2ZW50LlxuXHRcdFx0Ly8gVGhpcyBldmVudCBjYW4gYmUgdXNlZCBieSAzLXJkIHBhcnR5IGRldmVsb3BlcnMgdG8gcmUtaW5pdFxuXHRcdFx0Ly8gc29tZSBvZiB0aGUgSmF2YVNjcmlwdCBjb2RlIG9uIG1vZHVyZSByZS1yZW5kZXJpbmcuXG5cdFx0XHRMaXZlQ29tcG9zZXIuVXRpbHMucHVibGlzaCggJ0xDLm1vZHVsZUNoYW5nZScsIHtcblxuXHRcdFx0XHRtb2R1bGVJZDogZHNsY01vZHVsZVswXS5pZCxcblx0XHRcdFx0b3B0aW9uSUQ6IGRzbGNPcHRpb25JRCxcblx0XHRcdFx0b3B0aW9uVmFsOiBkc2xjQWZmZWN0T25DaGFuZ2VWYWxPcmlnIHx8IGRzbGNPcHRpb24udmFsKClcblx0XHRcdH0pO1xuXHRcdH1cblx0fSk7XG59XG5cbmNvbnN0IG9uU2VjdGlvbk9wdGlvbnNDaGFuZ2UgPSAoKSA9PiB7XG5cdC8vIFJPVyBzdHlsaW5nIG9wdGlvbiBjaGFuZ2VzXG5cdGpRdWVyeShkb2N1bWVudCkub24oICdjaGFuZ2UnLCAnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LWZpZWxkJywgZnVuY3Rpb24oKSB7XG5cdFx0Y29uc29sZS5sb2coIFwiUk9XIE9QVElPTiBDSEFOR0VEIPCfkJ5cIiApO1xuXHRcdHZhciBkc2xjRmllbGQsIGRzbGNGaWVsZElELCBkc2xjRWwsIGRzbGNNb2R1bGVzU2VjdGlvbiwgZHNsY1ZhbCwgZHNsY1ZhbFJlYWwsIGRzbGNWYWxFeHQsIGRzbGNSdWxlLCBkc2xjU2V0dGluZywgZHNsY1RhcmdldEVsLCBkc2xjSW1nVVJMO1xuXG5cdFx0ZHNsY0ZpZWxkID0galF1ZXJ5KHRoaXMpO1xuXHRcdGRzbGNGaWVsZElEID0gZHNsY0ZpZWxkLmRhdGEoJ2lkJyk7XG5cdFx0ZHNsY1ZhbCA9IGRzbGNGaWVsZC52YWwoKTtcblx0XHRkc2xjVmFsUmVhbCA9IGRzbGNWYWw7XG5cdFx0ZHNsY1ZhbEV4dCA9IGRzbGNWYWwgKyBkc2xjRmllbGQuZGF0YSgnZXh0Jyk7XG5cdFx0ZHNsY1J1bGUgPSBkc2xjRmllbGQuZGF0YSgnY3NzLXJ1bGUnKTtcblxuXHRcdGRzbGNFbCA9IGpRdWVyeSgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1iZWluZy1lZGl0ZWQnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KTsgLy8gQ3VycmVudGx5IGVkaXRpbmcgZWxlbWVudFxuXHRcdGRzbGNUYXJnZXRFbCA9IGRzbGNFbDtcblx0XHRkc2xjU2V0dGluZyA9IGpRdWVyeSgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1zZXR0aW5ncyBpbnB1dFtkYXRhLWlkPVwiJyArIGRzbGNGaWVsZElEICsgJ1wiXScsIGRzbGNFbCApO1xuXG5cdFx0ZHNsY0VsLmFkZENsYXNzKCdkc2xjYS1tb2R1bGVzLXNlY3Rpb24tY2hhbmdlLW1hZGUnKTtcblxuXHRcdC8vIElmIGltYWdlL3VwbG9hZCBmaWVsZCBhbHRlciB0aGUgdmFsdWUgKCB1c2UgZnJvbSBkYXRhIClcblx0XHRpZiAoIGRzbGNGaWVsZC5oYXNDbGFzcygnZHNsY2EtbW9kdWxlcy1zZWN0aW9uLWVkaXQtZmllbGQtdXBsb2FkJykgKSB7XG5cblx0XHRcdGlmICggZHNsY1ZhbCAmJiBkc2xjVmFsLmxlbmd0aCApIHtcblxuXHRcdFx0XHQvLyBkc2xjVmFsID0gZHNsY0ZpZWxkLmRhdGEoJ2RzbGNhLWltZy11cmwnKTtcblx0XHRcdFx0ZHNsY1ZhbCA9IGpRdWVyeSgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1zZXR0aW5ncyBpbnB1dFtkYXRhLWlkPVwiZHNsY2EtaW1nLXVybFwiXScsIGRzbGNFbCApLnZhbCgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggZHNsY1J1bGUgPT0gJ2JhY2tncm91bmQtaW1hZ2UnICkge1xuXG5cdFx0XHRkc2xjVmFsID0gJ3VybChcIicgKyBkc2xjVmFsICsgJ1wiKSc7XG5cdFx0XHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYVdpbmRvdy5kc2xjX2JnX3ZpZGVvKCk7XG5cdFx0fVxuXG5cdFx0aWYgKCBkc2xjRmllbGRJRCA9PSAnYmdfaW1hZ2VfYXR0YWNobWVudCcgKSB7XG5cblx0XHRcdGRzbGNFbC5yZW1vdmVDbGFzcygnZHNsYy1pbml0LXBhcmFsbGF4Jyk7XG5cdFx0fVxuXG5cdFx0Y29uc29sZS5sb2coIFwiZHNsY0ZpZWxkSUQ6XCIgKTsgY29uc29sZS5sb2coIGRzbGNGaWVsZElEICk7XG5cdFx0aWYgKCBkc2xjRmllbGRJRCA9PSAnYm9yZGVyLXRvcCcgfHxcblx0XHRcdGRzbGNGaWVsZElEID09ICdib3JkZXItcmlnaHQnIHx8XG5cdFx0XHRkc2xjRmllbGRJRCA9PSAnYm9yZGVyLWJvdHRvbScgfHxcblx0XHRcdGRzbGNGaWVsZElEID09ICdib3JkZXItbGVmdCcgKSB7XG5cblx0XHRcdHZhciBkc2xjQm9yZGVyU3R5bGUgPSBqUXVlcnkoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tc2V0dGluZ3MgaW5wdXRbZGF0YS1pZD1cImJvcmRlcl9zdHlsZVwiXScpLnZhbCgpO1xuXHRcdFx0ZHNsY1NldHRpbmcgPSBqUXVlcnkoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tc2V0dGluZ3MgaW5wdXRbZGF0YS1pZD1cImJvcmRlclwiXScsIGRzbGNFbCApO1xuXG5cdFx0XHRkc2xjVmFsUmVhbCA9ICcnO1xuXG5cdFx0XHR2YXIgZHNsY0NoZWNib3hlc1dyYXAgPSBkc2xjRmllbGQuY2xvc2VzdCgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LW9wdGlvbi1jaGVja2JveC13cmFwcGVyJyk7XG5cdFx0XHRkc2xjQ2hlY2JveGVzV3JhcC5maW5kKCcuZHNsY2EtbW9kdWxlcy1zZWN0aW9uLWVkaXQtZmllbGQtY2hlY2tib3gnKS5lYWNoKGZ1bmN0aW9uKCl7XG5cblx0XHRcdFx0aWYgKCBqUXVlcnkodGhpcykuaXMoJzpjaGVja2VkJykgKSB7XG5cblx0XHRcdFx0XHRpZiAoIGpRdWVyeSh0aGlzKS5kYXRhKCdpZCcpID09ICdib3JkZXItdG9wJyApIHtcblxuXHRcdFx0XHRcdFx0ZHNsY1ZhbFJlYWwgKz0gJ3RvcCAnO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoIGpRdWVyeSh0aGlzKS5kYXRhKCdpZCcpID09ICdib3JkZXItcmlnaHQnICkge1xuXG5cdFx0XHRcdFx0XHRkc2xjVmFsUmVhbCArPSAncmlnaHQgJztcblx0XHRcdFx0XHR9IGVsc2UgaWYgKCBqUXVlcnkodGhpcykuZGF0YSgnaWQnKSA9PSAnYm9yZGVyLWJvdHRvbScgKSB7XG5cblx0XHRcdFx0XHRcdGRzbGNWYWxSZWFsICs9ICdib3R0b20gJztcblx0XHRcdFx0XHR9IGVsc2UgaWYgKCBqUXVlcnkodGhpcykuZGF0YSgnaWQnKSA9PSAnYm9yZGVyLWxlZnQnICkge1xuXG5cdFx0XHRcdFx0XHRkc2xjVmFsUmVhbCArPSAnbGVmdCAnO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdGlmICggZHNsY0ZpZWxkLmlzKCc6Y2hlY2tlZCcpICkge1xuXG5cdFx0XHRcdGlmICggZHNsY0ZpZWxkLmRhdGEoJ2lkJykgPT0gJ2JvcmRlci10b3AnICkge1xuXG5cdFx0XHRcdFx0ZHNsY0VsLmNzcyh7ICdib3JkZXItdG9wLXN0eWxlJyA6IGRzbGNCb3JkZXJTdHlsZSB9KTtcblx0XHRcdFx0fSBlbHNlIGlmICggZHNsY0ZpZWxkLmRhdGEoJ2lkJykgPT0gJ2JvcmRlci1yaWdodCcgKSB7XG5cblx0XHRcdFx0XHRkc2xjRWwuY3NzKHsgJ2JvcmRlci1yaWdodC1zdHlsZScgOiBkc2xjQm9yZGVyU3R5bGUgfSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoIGRzbGNGaWVsZC5kYXRhKCdpZCcpID09ICdib3JkZXItYm90dG9tJyApIHtcblxuXHRcdFx0XHRcdGRzbGNFbC5jc3MoeyAnYm9yZGVyLWJvdHRvbS1zdHlsZScgOiBkc2xjQm9yZGVyU3R5bGUgfSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoIGRzbGNGaWVsZC5kYXRhKCdpZCcpID09ICdib3JkZXItbGVmdCcgKSB7XG5cblx0XHRcdFx0XHRkc2xjRWwuY3NzKHsgJ2JvcmRlci1sZWZ0LXN0eWxlJyA6IGRzbGNCb3JkZXJTdHlsZSB9KTtcblx0XHRcdFx0fVxuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdGlmICggZHNsY0ZpZWxkLmRhdGEoJ2lkJykgPT0gJ2JvcmRlci10b3AnICkge1xuXG5cdFx0XHRcdFx0ZHNsY0VsLmNzcyh7ICdib3JkZXItdG9wLXN0eWxlJyA6ICdoaWRkZW4nIH0pO1xuXHRcdFx0XHR9IGVsc2UgaWYgKCBkc2xjRmllbGQuZGF0YSgnaWQnKSA9PSAnYm9yZGVyLXJpZ2h0JyApIHtcblxuXHRcdFx0XHRcdGRzbGNFbC5jc3MoeyAnYm9yZGVyLXJpZ2h0LXN0eWxlJyA6ICdoaWRkZW4nIH0pO1xuXHRcdFx0XHR9IGVsc2UgaWYgKCBkc2xjRmllbGQuZGF0YSgnaWQnKSA9PSAnYm9yZGVyLWJvdHRvbScgKSB7XG5cblx0XHRcdFx0XHRkc2xjRWwuY3NzKHsgJ2JvcmRlci1ib3R0b20tc3R5bGUnIDogJ2hpZGRlbicgfSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoIGRzbGNGaWVsZC5kYXRhKCdpZCcpID09ICdib3JkZXItbGVmdCcgKSB7XG5cblx0XHRcdFx0XHRkc2xjRWwuY3NzKHsgJ2JvcmRlci1sZWZ0LXN0eWxlJyA6ICdoaWRkZW4nIH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmICggZHNsY0ZpZWxkLmhhc0NsYXNzKCAnZHNsY2EtbW9kdWxlcy1zZWN0aW9uLWVkaXQtZmllbGQtY2hlY2tib3gnICkgKSB7XG5cblx0XHRcdHZhciBjaGVja2JveGVzID0galF1ZXJ5KHRoaXMpLmNsb3Nlc3QoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tZWRpdC1vcHRpb24tY2hlY2tib3gtd3JhcHBlcicpLmZpbmQoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tZWRpdC1maWVsZC1jaGVja2JveCcpO1xuXHRcdFx0dmFyIGNoZWNrYm94ZXNWYWwgPSAnJztcblx0XHRcdGNoZWNrYm94ZXMuZWFjaChmdW5jdGlvbigpe1xuXG5cdFx0XHRcdGlmICggalF1ZXJ5KHRoaXMpLnByb3AoJ2NoZWNrZWQnKSApIHtcblxuXHRcdFx0XHRcdGNoZWNrYm94ZXNWYWwgKz0galF1ZXJ5KHRoaXMpLmRhdGEoJ3ZhbCcpICsgJyAnO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0dmFyIGRzbGNWYWxSZWFsID0gY2hlY2tib3hlc1ZhbDtcblxuXHRcdFx0LyogU2hvdyBPbiAqL1xuXHRcdFx0aWYgKCBkc2xjRmllbGQuZGF0YSgnaWQnKSA9PSAnc2hvd19vbicgKSB7XG5cblx0XHRcdFx0aWYgKCBjaGVja2JveGVzVmFsLmluZGV4T2YoICdkZXNrdG9wJyApICE9PSAtMSApIHtcblxuXHRcdFx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1iZWluZy1lZGl0ZWQnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5yZW1vdmVDbGFzcygnZHNsYy1oaWRlLW9uLWRlc2t0b3AnKTtcblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1iZWluZy1lZGl0ZWQnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5hZGRDbGFzcygnZHNsYy1oaWRlLW9uLWRlc2t0b3AnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggY2hlY2tib3hlc1ZhbC5pbmRleE9mKCAndGFibGV0JyApICE9PSAtMSApIHtcblxuXHRcdFx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1iZWluZy1lZGl0ZWQnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5yZW1vdmVDbGFzcygnZHNsYy1oaWRlLW9uLXRhYmxldCcpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlcy1zZWN0aW9uLWJlaW5nLWVkaXRlZCcsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLmFkZENsYXNzKCdkc2xjLWhpZGUtb24tdGFibGV0Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIGNoZWNrYm94ZXNWYWwuaW5kZXhPZiggJ3Bob25lJyApICE9PSAtMSApIHtcblxuXHRcdFx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1iZWluZy1lZGl0ZWQnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5yZW1vdmVDbGFzcygnZHNsYy1oaWRlLW9uLXBob25lJyk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tYmVpbmctZWRpdGVkJywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkuYWRkQ2xhc3MoJ2RzbGMtaGlkZS1vbi1waG9uZScpO1xuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdH0gZWxzZSBpZiAoIGRzbGNGaWVsZElEID09ICdiZ19pbWFnZV9hdHRhY2htZW50JyAmJiBkc2xjVmFsID09ICdwYXJhbGxheCcgKSB7XG5cdFx0XHRkc2xjRWwuYWRkQ2xhc3MoICdkc2xjLWluaXQtcGFyYWxsYXgnICk7XG5cdFx0XHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYVdpbmRvdy5kc2xjX3BhcmFsbGF4KCk7XG5cdFx0fSBlbHNlIGlmICggZHNsY0ZpZWxkSUQgPT0gJ3R5cGUnICkge1xuXHRcdFx0aWYgKCBkc2xjVmFsID09ICdmdWxsJyApIHtcblx0XHRcdFx0ZHNsY0VsLmFkZENsYXNzKCdkc2xjLWZ1bGwnKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRzbGNFbC5yZW1vdmVDbGFzcygnZHNsYy1mdWxsJyk7XG5cdFx0XHR9XG5cdFx0XHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYVdpbmRvdy5kc2xjX21hc29ucnkoKTtcblx0XHR9IGVsc2UgaWYgKCBkc2xjRmllbGRJRCA9PSAnY29sdW1uc19zcGFjaW5nJyApIHtcblxuXHRcdFx0aWYgKCBkc2xjVmFsID09ICdub3NwYWNpbmcnICkge1xuXG5cdFx0XHRcdGRzbGNFbC5hZGRDbGFzcygnZHNsYy1uby1jb2x1bW5zLXNwYWNpbmcnKTtcblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0ZHNsY0VsLnJlbW92ZUNsYXNzKCdkc2xjLW5vLWNvbHVtbnMtc3BhY2luZycpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoIGRzbGNGaWVsZElEID09ICdjdXN0b21fY2xhc3MnICkge1xuXG5cdFx0fSBlbHNlIGlmICggZHNsY0ZpZWxkSUQgPT0gJ2N1c3RvbV9pZCcgKSB7XG5cblx0XHR9IGVsc2UgaWYgKCBkc2xjRmllbGRJRCA9PSAnYmdfdmlkZW8nICkge1xuXG5cdFx0XHRqUXVlcnkoJy5kc2xjLWJnLXZpZGVvIHZpZGVvJywgZHNsY0VsKS5yZW1vdmUoKTtcblxuXHRcdFx0aWYgKCBkc2xjVmFsICYmIGRzbGNWYWwubGVuZ3RoICkge1xuXG5cdFx0XHRcdHZhciBkc2xjVmlkZW9WYWwgPSBkc2xjVmFsO1xuXHRcdFx0XHRkc2xjVmlkZW9WYWwgPSBkc2xjVmlkZW9WYWwucmVwbGFjZSggJy53ZWJtJywgJycgKTtcblx0XHRcdFx0ZHNsY1ZpZGVvVmFsID0gZHNsY1ZpZGVvVmFsLnJlcGxhY2UoICcubXA0JywgJycgKTtcblx0XHRcdFx0alF1ZXJ5KCcuZHNsYy1iZy12aWRlby1pbm5lcicsIGRzbGNFbCkuaHRtbCgnPHZpZGVvPjxzb3VyY2UgdHlwZT1cInZpZGVvL21wNFwiIHNyYz1cIicgKyBkc2xjVmlkZW9WYWwgKyAnLm1wNFwiIC8+PHNvdXJjZSB0eXBlPVwidmlkZW8vd2VibVwiIHNyYz1cIicgKyBkc2xjVmlkZW9WYWwgKyAnLndlYm1cIiAvPjwvdmlkZW8+Jyk7XG5cdFx0XHRcdExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhV2luZG93LmRzbGNfYmdfdmlkZW8oKTtcblx0XHRcdH1cblxuXHRcdH0gZWxzZSBpZiAoIGRzbGNGaWVsZElEID09ICdiZ19pbWFnZV90aHVtYicgKSB7XG5cblx0XHRcdGlmICggZHNsY1ZhbFJlYWwgPT0gJ2VuYWJsZWQnICkge1xuXG5cdFx0XHRcdGlmICggalF1ZXJ5KCcjZHNsY2EtcG9zdC1kYXRhLXRodW1iJykubGVuZ3RoICkge1xuXG5cdFx0XHRcdFx0dmFyIGRzbGNUaHVtYlVSTCA9IFwidXJsKCdcIiArIGpRdWVyeSgnI2RzbGNhLXBvc3QtZGF0YS10aHVtYicpLnZhbCgpICsgXCInKVwiO1xuXHRcdFx0XHRcdGRzbGNUYXJnZXRFbC5jc3MoZHNsY1J1bGUsIGRzbGNUaHVtYlVSTCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdH0gZWxzZSBpZiAoIGRzbGNWYWxSZWFsID09ICdkaXNhYmxlZCcgKSB7XG5cblx0XHRcdFx0ZHNsY1RhcmdldEVsLmNzcyhkc2xjUnVsZSwgJ25vbmUnICk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0aWYgKCBkc2xjRmllbGQuZGF0YSgnY3NzLWVsZW1lbnQnKSApIHtcblxuXHRcdFx0XHRkc2xjVGFyZ2V0RWwgPSBqUXVlcnkoIGRzbGNGaWVsZC5kYXRhKCdjc3MtZWxlbWVudCcpLCBkc2xjRWwgKTtcblx0XHRcdH1cblxuXHRcdFx0ZHNsY1J1bGUgPSBkc2xjUnVsZS5yZXBsYWNlKC8gL2csJycpLnNwbGl0KCAnLCcgKTtcblx0XHRcdHZhciBkc2xjVmFsVG9BcHBseTtcblxuXHRcdFx0aWYgKCBudWxsICE9IGRzbGNGaWVsZC5kYXRhKCdleHQnKSApIHtcblx0XHRcdFx0ZHNsY1ZhbFRvQXBwbHkgPSBkc2xjVmFsRXh0O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZHNsY1ZhbFRvQXBwbHkgPSBkc2xjVmFsO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBMb29wIHRocm91Z2ggcnVsZXMgKHVzZWZ1bCB3aGVuIHRoZXJlIGFyZSBtdWx0aXBsZSBydWxlcylcblx0XHRcdGZvciAoIHZhciBpID0gMDsgaSA8IGRzbGNSdWxlLmxlbmd0aDsgaSsrICkge1xuXHRcdFx0XHRkc2xjVGFyZ2V0RWwuY3NzKGRzbGNSdWxlW2ldLCBkc2xjVmFsVG9BcHBseSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gVXBkYXRlIGhpZGRlbiBpbnB1dCB3aXRoIG5ldyB2YWx1ZVxuXHRcdGRzbGNTZXR0aW5nLnZhbCggZHNsY1ZhbFJlYWwgKTtcblxuXHRcdGlmICggISBMaXZlQ29tcG9zZXIuQnVpbGRlci5GbGFncy5nZW5lcmF0ZV9jb2RlX2FmdGVyX3Jvd19jaGFuZ2VkICkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0Ly8gd2luZG93LmRzbGNfZ2VuZXJhdGVfY29kZSgpO1xuXHRcdC8vIHdpbmRvdy5kc2xjX3Nob3dfcHVibGlzaF9idXR0b24oKTtcblx0fSk7XG59XG5cbmNvbnN0IG9uRmlsZVVwbG9hZE9wdGlvbnNDaGFuZ2UgPSAoKSA9PiB7XG5cdC8vIFVwbG9hZGluZyBmaWxlc1xuXHR2YXIgZmlsZV9mcmFtZTtcblxuXHRqUXVlcnkoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtaW1hZ2UtYWRkLWhvb2ssIC5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tZWRpdC1maWVsZC1pbWFnZS1hZGQtaG9vaycsIGZ1bmN0aW9uKCl7XG5cblx0XHR2YXIgaG9vayA9IGpRdWVyeSh0aGlzKTtcblxuXHRcdGlmICggaG9vay5oYXNDbGFzcyggJ2RzbGNhLW1vZHVsZS1lZGl0LWZpZWxkLWltYWdlLWFkZC1ob29rJyApICkge1xuXG5cdFx0XHR2YXIgZmllbGQgPSBob29rLnNpYmxpbmdzKCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtaW1hZ2UnKTtcblx0XHRcdHZhciByZW1vdmVIb29rID0gaG9vay5zaWJsaW5ncygnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkLWltYWdlLXJlbW92ZS1ob29rJyk7XG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0dmFyIGZpZWxkID0gaG9vay5zaWJsaW5ncygnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LWZpZWxkLXVwbG9hZCcpO1xuXHRcdFx0dmFyIHJlbW92ZUhvb2sgPSBob29rLnNpYmxpbmdzKCcuZHNsY2EtbW9kdWxlcy1zZWN0aW9uLWVkaXQtZmllbGQtaW1hZ2UtcmVtb3ZlLWhvb2snKTtcblx0XHR9XG5cblx0XHQvLyBXaGV0aGVyIG9yIG5vdCBtdWx0aXBsZSBmaWxlcyBhcmUgYWxsb3dlZFxuXHRcdHZhciBtdWx0aXBsZSA9IGZhbHNlO1xuXG5cdFx0Ly8gQ3JlYXRlIHRoZSBtZWRpYSBmcmFtZS5cblx0XHRmaWxlX2ZyYW1lID0gd3AubWVkaWEuZnJhbWVzLmZpbGVfZnJhbWUgPSB3cC5tZWRpYSh7XG5cdFx0XHR0aXRsZTogJ0Nob29zZSBJbWFnZScsXG5cdFx0XHRidXR0b246IHtcblx0XHRcdFx0dGV4dDogJ0NvbmZpcm0nLFxuXHRcdFx0fSxcblx0XHRcdG11bHRpcGxlOiBtdWx0aXBsZVxuXHRcdH0pO1xuXG5cdFx0Ly8gV2hlbiBhbiBpbWFnZSBpcyBzZWxlY3RlZCwgcnVuIGEgY2FsbGJhY2suXG5cdFx0ZmlsZV9mcmFtZS5vbiggJ3NlbGVjdCcsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgYXR0YWNobWVudCA9IGZpbGVfZnJhbWUuc3RhdGUoKS5nZXQoJ3NlbGVjdGlvbicpLmZpcnN0KCkudG9KU09OKCk7XG5cdFx0XHQvKlxuXHRcdFx0U2F2ZSBpbWFnZSBJRCBhcyB2YWx1ZSBvZiB0aGUgaW1hZ2UgaW5wdXQuXG5cdFx0XHQgKi9cblx0XHRcdC8vIGZpZWxkLnZhbCggYXR0YWNobWVudC5pZCApLmRhdGEoICdkc2xjYS1pbWctdXJsJywgYXR0YWNobWVudC51cmwgKS50cmlnZ2VyKCdjaGFuZ2UnKTsgLSBwcmV2aW91cyB2ZXJzaW9uXG5cdFx0XHRmaWVsZC52YWwoIGF0dGFjaG1lbnQuaWQgKTtcblxuXHRcdFx0dmFyIGRhdGFJZCA9IGhvb2sucGFyZW50KCkuYXR0cihcImRhdGEtaWRcIik7XG5cblx0XHRcdC8qXG5cdFx0XHRTYXZlIGFsdCBhcyB2YWx1ZSBvZiB0aGUgaW1hZ2UgaW5wdXQuXG5cdFx0XHQgKi9cblx0XHRcdGlmICggYXR0YWNobWVudC5hbHQgIT0gJycgJiYgZGF0YUlkID09ICdpbWFnZScgKSB7XG5cdFx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi1pbWFnZV9hbHQgaW5wdXRbZGF0YS1pZD1cImltYWdlX2FsdFwiXScpLnZhbCggYXR0YWNobWVudC5hbHQgKTtcblx0XHRcdH1cblxuXHRcdFx0Lypcblx0XHRcdFNhdmUgYWx0IGFzIHZhbHVlIG9mIHRoZSBpbWFnZSBpbnB1dC5cblx0XHRcdCAqL1xuXHRcdFx0aWYgKCBhdHRhY2htZW50LnRpdGxlICE9ICcnICYmIGRhdGFJZCA9PSAnaW1hZ2UnICkge1xuXHRcdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24taW1hZ2VfdGl0bGUgaW5wdXRbZGF0YS1pZD1cImltYWdlX3RpdGxlXCJdJykudmFsKCBhdHRhY2htZW50LnRpdGxlICk7XG5cdFx0XHR9XG5cblx0XHRcdC8qXG5cdFx0XHRTYXZlIGltYWdlIFVSTCBhcyBkYXRhIGF0dHJpYnV0ZSBvZiBpbnB1dCBpbiBkc2xjYS1tb2R1bGVzLXNlY3Rpb24tc2V0dGluZ3Mgc2V0XG5cdFx0XHRXZSBuZWVkIFVSTCBpbiAnZHNsY2EtaW1nLXVybCcgZm9yIGxpdmUgcHJldmlld1xuXHRcdFx0ICovXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tYmVpbmctZWRpdGVkJywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkuZmluZCgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1zZXR0aW5ncyBpbnB1dFtkYXRhLWlkPVwiZHNsY2EtaW1nLXVybFwiXScpLnZhbCggYXR0YWNobWVudC51cmwgKTtcblx0XHRcdGZpZWxkLnRyaWdnZXIoJ2NoYW5nZScpOyAvLyB0cmlnZ2VyIGNoYW5nZSBvbmx5IGFmdGVyICdkc2xjYS1pbWctdXJsJyBpcyBzZXRcblxuXHRcdFx0aG9vay5oaWRlKCk7XG5cdFx0XHRyZW1vdmVIb29rLnNob3coKTtcblx0XHR9KTtcblxuXHRcdC8vIEZpbmFsbHksIG9wZW4gdGhlIG1vZGFsXG5cdFx0ZmlsZV9mcmFtZS5vcGVuKCk7XG5cdH0pO1xuXG5cdGpRdWVyeShkb2N1bWVudCkub24oJ2NsaWNrJywgJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC1pbWFnZS1yZW1vdmUtaG9vaywgLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LWZpZWxkLWltYWdlLXJlbW92ZS1ob29rJywgZnVuY3Rpb24oKXtcblxuXHRcdHZhciBob29rID0galF1ZXJ5KHRoaXMpO1xuXG5cdFx0aWYgKCBob29rLmhhc0NsYXNzKCAnZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtaW1hZ2UtcmVtb3ZlLWhvb2snICkgKSB7XG5cblx0XHRcdHZhciBmaWVsZCA9IGhvb2suc2libGluZ3MoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC1pbWFnZScpO1xuXHRcdFx0dmFyIGFkZEhvb2sgPSBob29rLnNpYmxpbmdzKCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtaW1hZ2UtYWRkLWhvb2snKTtcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHR2YXIgZmllbGQgPSBob29rLnNpYmxpbmdzKCcuZHNsY2EtbW9kdWxlcy1zZWN0aW9uLWVkaXQtZmllbGQtdXBsb2FkJyk7XG5cdFx0XHR2YXIgYWRkSG9vayA9IGhvb2suc2libGluZ3MoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tZWRpdC1maWVsZC1pbWFnZS1hZGQtaG9vaycpO1xuXHRcdH1cblxuXHRcdGZpZWxkLnZhbCgnJykudHJpZ2dlcignY2hhbmdlJyk7IC8vIC5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tZWRpdC1maWVsZFxuXG5cdFx0Lypcblx0XHREZWxldGUgYWx0IGFuZCB0aXRsZSB2YWx1ZS5cblx0XHQgKi9cblx0XHR2YXIgZGF0YUlkID0gaG9vay5wYXJlbnQoKS5hdHRyKFwiZGF0YS1pZFwiKTtcblxuXHRcdGlmICggZGF0YUlkID09ICdpbWFnZScgKSB7XG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24taW1hZ2VfYWx0IGlucHV0JykuYXR0cigndmFsdWUnLCAnJykudHJpZ2dlciggJ2NoYW5nZScgKTtcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi1pbWFnZV9hbHQgaW5wdXQnKS5hdHRyKCdkYXRhLXZhbC1iY2twJywgJycpLnRyaWdnZXIoICdjaGFuZ2UnICk7XG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24taW1hZ2VfdGl0bGUgaW5wdXQnKS5hdHRyKCd2YWx1ZScsICcnKS50cmlnZ2VyKCAnY2hhbmdlJyApO1xuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uLWltYWdlX3RpdGxlIGlucHV0JykuYXR0cignZGF0YS12YWwtYmNrcCcsICcnKS50cmlnZ2VyKCAnY2hhbmdlJyApO1xuXHRcdH1cblx0XHRob29rLmhpZGUoKTtcblx0XHRhZGRIb29rLnNob3coKTtcblx0fSk7XG59XG5cblxuXG4vKipcbiAqIE1PRFVMRVMgU0VUVElOR1MgUEFORUwgLSBGaWx0ZXIgTW9kdWxlIE9wdGlvbnNcbiAqL1xuZnVuY3Rpb24gZHNsY19tb2R1bGVfb3B0aW9uc19zZWN0aW9uX2ZpbHRlciggc2VjdGlvbklEICkge1xuXG5cdGlmICggd2luZG93LmRzbGNEZWJ1ZyApIGNvbnNvbGUubG9nKCAnZHNsY19tb2R1bGVfb3B0aW9uc19zZWN0aW9uX2ZpbHRlcicgKTtcblxuXHQvLyBIaWRlIGFsbCBvcHRpb25zXG5cdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbicpLmhpZGUoKTtcblxuXHQvLyBTaG93IG9wdGlvbnMgZm9yIGN1cnJlbnQgc2VjdGlvblxuXHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25bZGF0YS1zZWN0aW9uPVwiJyArIHNlY3Rpb25JRCArICdcIl0nKS5zaG93KCk7XG5cblx0Ly8gUmVjYWxsIG1vZHVsZSBvcHRpb25zIHRhYlxuXHRlbGVtZW50T3B0aW9uc1RhYnMoKTtcbn1cblxuLyoqXG4gKiBNT0RVTEVTIFNFVFRJTkdTIFBBTkVMIC0gU2hvdyBtb2R1bGUgb3B0aW9ucyB0YWJcbiAqL1xuZXhwb3J0IGNvbnN0IGVsZW1lbnRPcHRpb25zVGFicyA9ICggZHNsY1RhYiApID0+IHtcblxuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2VsZW1lbnRPcHRpb25zVGFicycgKTtcblxuXHQvLyBHZXQgY3VycmVudGx5IGFjdGl2ZSBzZWN0aW9uXG5cdHZhciBkc2xjU2VjdGlvbklEID0galF1ZXJ5KCcuZHNsY2Etb3B0aW9ucy1maWx0ZXItaG9vay5kc2xjYS1hY3RpdmUnKS5kYXRhKCdzZWN0aW9uJyk7XG5cblx0Ly8gSWYgdGFiIG5vdCBzdXBwbGllZCBzZXQgdG8gZmlyc3Rcblx0ZHNsY1RhYiA9IHR5cGVvZiBkc2xjVGFiICE9PSAndW5kZWZpbmVkJyA/IGRzbGNUYWIgOiBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtc2VjdGlvbj1cIicgKyBkc2xjU2VjdGlvbklEICsgJ1wiXTpmaXJzdCcpO1xuXG5cdC8vIEdldCB0aGUgdGFiIElEXG5cdHZhciBkc2xjVGFiSUQgPSBkc2xjVGFiLmRhdGEoJ2lkJyk7XG5cblx0Ly8gU2V0IGFjdGl2ZSBjbGFzcyBvbiB0YWJcblx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9vaycpLnJlbW92ZUNsYXNzKCdkc2xjYS1hY3RpdmUnKTtcblx0ZHNsY1RhYi5hZGRDbGFzcygnZHNsY2EtYWN0aXZlJyk7XG5cblx0Ly8gU2hvdyB0YWJzIGNvbnRhaW5lclxuXHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYnMnKS5zaG93KCk7XG5cblx0Ly8gSGlkZS9TaG93IHRhYnMgaG9va3Ncblx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9vaycpLmhpZGUoKTtcblx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLXNlY3Rpb249XCInICsgZHNsY1NlY3Rpb25JRCArICdcIl0nKS5zaG93KCk7XG5cblx0aWYgKCBkc2xjVGFiSUQgKSB7XG5cblx0XHQvLyBIaWRlL1Nob3cgb3B0aW9uc1xuXHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbicpLmhpZGUoKTtcblx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25bZGF0YS10YWI9XCInICsgZHNsY1RhYklEICsgJ1wiXScpLnNob3coKTtcblxuXHRcdC8vIEhpZGUvU2hvdyBUYWJzXG5cdFx0ZHNsY19tb2R1bGVfb3B0aW9uc19oaWRlc2hvd190YWJzKCk7XG5cblx0XHQvLyBJZiBvbmx5IG9uZSB0YWIgaGlkZSB0aGUgdGFicyBjb250YWluZXJcblx0XHRpZiAoIGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2s6dmlzaWJsZScpLmxlbmd0aCA8IDIgKSB7XG5cblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFicycpLmhpZGUoKTtcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYnMnKS5zaG93KCk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogSWYgcmVzcG9uc2l2ZSB0YWIsIGNoYW5nZSB0aGUgd2lkdGggb2YgdGhlIGRzbGMtY29udGVudCBkaXZcblx0XHQgKi9cblxuXHRcdGRzbGNfZGlzYWJsZV9yZXNwb25zaXZlX3ZpZXcoKTtcblxuXHRcdC8vIFRhYmxldFxuXHRcdGlmICggZHNsY1RhYklEID09IERTTENTdHJpbmcuc3RyX3Jlc190YWJsZXQudG9Mb3dlckNhc2UoKSArICdfcmVzcG9uc2l2ZScgKSB7XG5cblx0XHRcdGpRdWVyeSgnYm9keScpLnJlbW92ZUNsYXNzKCdkc2xjLXJlcy1iaWcgZHNsYy1yZXMtc21hbGxlci1tb25pdG9yIGRzbGMtcmVzLXBob25lIGRzbGMtcmVzLXRhYmxldCcpO1xuXHRcdFx0alF1ZXJ5KCdib2R5JykuYWRkQ2xhc3MoJ2RzbGMtcmVzLXRhYmxldCcpO1xuXHRcdFx0alF1ZXJ5KCdodG1sJykuYWRkQ2xhc3MoJ2RzbGMtcmVzcG9uc2l2ZS1wcmV2aWV3Jyk7XG5cdFx0fVxuXG5cdFx0Ly8gUGhvbmVcblx0XHRpZiAoIGRzbGNUYWJJRCA9PSBEU0xDU3RyaW5nLnN0cl9yZXNfcGhvbmUudG9Mb3dlckNhc2UoKSArICdfcmVzcG9uc2l2ZScgKSB7XG5cblx0XHRcdGpRdWVyeSgnYm9keScpLnJlbW92ZUNsYXNzKCdkc2xjLXJlcy1iaWcgZHNsYy1yZXMtc21hbGxlci1tb25pdG9yIGRzbGMtcmVzLXBob25lIGRzbGMtcmVzLXRhYmxldCcpO1xuXHRcdFx0alF1ZXJ5KCdib2R5JykuYWRkQ2xhc3MoJ2RzbGMtcmVzLXBob25lJyk7XG5cdFx0XHRqUXVlcnkoJ2h0bWwnKS5hZGRDbGFzcygnZHNsYy1yZXNwb25zaXZlLXByZXZpZXcnKTtcblx0XHR9XG5cblx0XHQvLyBJZiByZXNwb25zaXZlIHJlbG9hZCBtb2R1bGVcblx0XHRpZiAoIGRzbGNUYWJJRCA9PSBEU0xDU3RyaW5nLnN0cl9yZXNfdGFibGV0LnRvTG93ZXJDYXNlKCkgKyAnX3Jlc3BvbnNpdmUnIHx8IGRzbGNUYWJJRCA9PSBEU0xDU3RyaW5nLnN0cl9yZXNfcGhvbmUudG9Mb3dlckNhc2UoKSArICdfcmVzcG9uc2l2ZScgKSB7XG5cblx0XHRcdC8vIFNob3cgdGhlIGxvYWRlclxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtY29udGFpbmVyLWxvYWRlcicpLnNob3coKTtcblxuXHRcdFx0Ly8gUmVsb2FkIE1vZHVsZVxuXHRcdFx0bW9kdWxlT3V0cHV0QWx0ZXJlZChmdW5jdGlvbigpe1xuXG5cdFx0XHRcdC8vIEhpZGUgdGhlIGxvYWRlclxuXHRcdFx0XHRqUXVlcnkoJy5kc2xjYS1jb250YWluZXItbG9hZGVyJykuaGlkZSgpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gU2Nyb2xsIGhvcml6b250YWxseSBvcHRpb25zIHBhbmVsIHRvIHRoZSBsZWZ0IChub3QgcmVhZHkpXG5cdGlmICggalF1ZXJ5KCdib2R5JykuaGFzQ2xhc3MoJ3J0bCcpICkge1xuXHRcdHZhciB0b3RhbFdpZHRoT3B0aW9uID0gMDtcblx0XHR2YXIgdG90YWxXaWR0aEdyb3VwID0gMDtcblx0XHR2YXIgdG90YWxXaWR0aCA9IDA7XG5cblx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXdyYXBwZXIgPiAuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uOnZpc2libGUnKS5lYWNoKGZ1bmN0aW9uKGluZGV4KSB7XG5cdFx0XHRpZiAoICEgalF1ZXJ5KHRoaXMpLmhhc0NsYXNzKCdkc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24taGlkZGVuJykgJiYgISBqUXVlcnkodGhpcykuaGFzQ2xhc3MoJ2RzbGNhLW1vZHVsZS1jb250cm9sLWdyb3VwJykgKSB7XG5cdFx0XHRcdHRvdGFsV2lkdGhPcHRpb24gKz0gcGFyc2VJbnQoalF1ZXJ5KHRoaXMpLm91dGVyV2lkdGgoKSwgMTApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy13cmFwcGVyID4gLmRzbGNhLW1vZHVsZS1jb250cm9sLWdyb3VwOnZpc2libGUnKS5lYWNoKGZ1bmN0aW9uKGluZGV4KSB7XG5cdFx0XHR0b3RhbFdpZHRoR3JvdXAgKz0gcGFyc2VJbnQoalF1ZXJ5KHRoaXMpLm91dGVyV2lkdGgoKSwgMTApO1xuXHRcdH0pO1xuXG5cdFx0dG90YWxXaWR0aCA9IHBhcnNlSW50KHRvdGFsV2lkdGhPcHRpb24pICsgcGFyc2VJbnQodG90YWxXaWR0aEdyb3VwKSArIDEwO1xuXG5cdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy13cmFwcGVyJykuY3NzKHtcblx0XHRcdCd3aWR0aCc6IHRvdGFsV2lkdGggKyAncHgnLFxuXHRcdH0pO1xuXHR9XG59XG5cbi8qKlxuICogTU9EVUxFUyBTRVRUSU5HUyBQQU5FTCAtIEhpZGUgc2hvdyB0YWJzIGJhc2VkIG9uIG9wdGlvbiBjaG9pY2VzXG4gKi9cbmZ1bmN0aW9uIGRzbGNfbW9kdWxlX29wdGlvbnNfaGlkZXNob3dfdGFicygpIHtcblxuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2RzbGNfbW9kdWxlX29wdGlvbnNfaGlkZXNob3dfdGFicycgKTtcblxuXHR2YXIgZHNsY1NlY3Rpb25JRCA9IGpRdWVyeSgnLmRzbGNhLW9wdGlvbnMtZmlsdGVyLWhvb2suZHNsY2EtYWN0aXZlJykuZGF0YSgnc2VjdGlvbicpO1xuXG5cdGlmICggZHNsY1NlY3Rpb25JRCA9PSAnc3R5bGluZycgKSB7XG5cblx0XHQvLyBWYXJzXG5cdFx0dmFyIGRzbGNDb250YWluZXIgPSBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdCcpLFxuXHRcdGRzbGNIZWFkaW5nID0gdHJ1ZSxcblx0XHRkc2xjRmlsdGVycyA9IHRydWUsXG5cdFx0ZHNsY0NhckFycm93cyA9IHRydWUsXG5cdFx0ZHNsY0NhckNpcmNsZXMgPSB0cnVlLFxuXHRcdGRzbGNQYWdpbmF0aW9uID0gdHJ1ZSxcblx0XHRkc2xjRWxUaHVtYiA9IHRydWUsXG5cdFx0ZHNsY0VsVGl0bGUgPSB0cnVlLFxuXHRcdGRzbGNFbEV4Y2VycHQgPSB0cnVlLFxuXHRcdGRzbGNFbE1ldGEgPSB0cnVlLFxuXHRcdGRzbGNFbEJ1dHRvbiA9IHRydWUsXG5cdFx0ZHNsY0VsQ2F0cyA9IHRydWUsXG5cdFx0ZHNsY0VsQ291bnQgPSB0cnVlLFxuXHRcdGRzbGNFbFNlcGFyYXRvciA9IHRydWUsXG5cdFx0ZHNsY0VsVGFncyA9IHRydWUsXG5cdFx0ZHNsY0VsU29jaWFsID0gdHJ1ZSxcblx0XHRkc2xjRWxQb3NpdGlvbiA9IHRydWUsXG5cdFx0ZHNsY0VsSWNvbiA9IHRydWUsXG5cdFx0ZHNsY0VsQ29udGVudCA9IHRydWUsXG5cdFx0ZHNsY0VsUHJpY2UgPSB0cnVlLFxuXHRcdGRzbGNFbFByaWNlU2VjID0gdHJ1ZSxcblx0XHRkc2xjRWxBZGRDYXJ0ID0gdHJ1ZSxcblx0XHRkc2xjRWxEZXRhaWxzID0gdHJ1ZSxcblx0XHRkc2xjRWxRdW90ZSA9IHRydWUsXG5cdFx0ZHNsY0VsQXV0aG9yTmFtZSA9IHRydWUsXG5cdFx0ZHNsY0VsQXV0aG9yUG9zID0gdHJ1ZSxcblx0XHRkc2xjRWxJbWFnZSA9IHRydWUsXG5cdFx0ZHNsY0VsTG9nbyA9IHRydWU7XG5cblxuXHRcdC8vIElzIGhlYWRpbmcgc2VsZWN0ZWQ/XG5cdFx0aWYgKCAhIGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkW3ZhbHVlPVwibWFpbl9oZWFkaW5nXCJdJykuaXMoJzpjaGVja2VkJykgKVxuXHRcdFx0ZHNsY0hlYWRpbmcgPSBmYWxzZTtcblxuXHRcdC8vIEFyZSBmaWx0ZXJzIHNlbGVjdGVkP1xuXHRcdGlmICggISBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZFt2YWx1ZT1cImZpbHRlcnNcIl0nKS5pcygnOmNoZWNrZWQnKSApXG5cdFx0XHRkc2xjRmlsdGVycyA9IGZhbHNlO1xuXG5cdFx0Ly8gQXJlIGFycm93cyBzZWxlY3RlZD9cblx0XHRpZiAoICEgalF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGRbdmFsdWU9XCJhcnJvd3NcIl0nKS5pcygnOmNoZWNrZWQnKSApXG5cdFx0XHRkc2xjQ2FyQXJyb3dzID0gZmFsc2U7XG5cblx0XHQvLyBBcmUgY2lyY2xlcyBzZWxlY3RlZD9cblx0XHRpZiAoICEgalF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGRbdmFsdWU9XCJjaXJjbGVzXCJdJykuaXMoJzpjaGVja2VkJykgKVxuXHRcdFx0ZHNsY0NhckNpcmNsZXMgPSBmYWxzZTtcblxuXHRcdC8vIElzIGl0IGEgY2Fyb3VzZWw/XG5cdFx0aWYgKCBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZFtkYXRhLWlkPVwidHlwZVwiXScpLnZhbCgpICE9ICdjYXJvdXNlbCcgKSB7XG5cdFx0XHRkc2xjQ2FyQXJyb3dzID0gZmFsc2U7XG5cdFx0XHRkc2xjQ2FyQ2lyY2xlcyA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIElzIHBhZ2luYXRpb24gZW5hYmxlZD9cblx0XHRpZiAoIGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkW2RhdGEtaWQ9XCJwYWdpbmF0aW9uX3R5cGVcIl0nKS52YWwoKSA9PSAnZGlzYWJsZWQnICkge1xuXHRcdFx0ZHNsY1BhZ2luYXRpb24gPSBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBJcyB0aHVtYiBlbmFibGVkP1xuXHRcdGlmICggISBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZFtkYXRhLWlkKj1cImVsZW1lbnRzXCJdW3ZhbHVlPVwidGh1bWJuYWlsXCJdJykuaXMoJzpjaGVja2VkJykgKSB7XG5cdFx0XHRkc2xjRWxUaHVtYiA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIElzIHRpdGxlIGVuYWJsZWQ/XG5cdFx0aWYgKCBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZFtkYXRhLWlkKj1cImVsZW1lbnRzXCJdW3ZhbHVlPVwiY29udGVudFwiXScpLmxlbmd0aCAmJiAhIGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkW2RhdGEtaWQqPVwiZWxlbWVudHNcIl1bdmFsdWU9XCJ0aXRsZVwiXScpLmlzKCc6Y2hlY2tlZCcpICkge1xuXHRcdFx0ZHNsY0VsVGl0bGUgPSBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBJcyBleGNlcnB0IGVuYWJsZWQ/XG5cdFx0aWYgKCAhIGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkW2RhdGEtaWQqPVwiZWxlbWVudHNcIl1bdmFsdWU9XCJleGNlcnB0XCJdJykuaXMoJzpjaGVja2VkJykgKSB7XG5cdFx0XHRkc2xjRWxFeGNlcnB0ID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gSXMgbWV0YSBlbmFibGVkP1xuXHRcdGlmICggISBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZFtkYXRhLWlkKj1cImVsZW1lbnRzXCJdW3ZhbHVlPVwibWV0YVwiXScpLmlzKCc6Y2hlY2tlZCcpICkge1xuXHRcdFx0ZHNsY0VsTWV0YSA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIElzIGJ1dHRvbiBlbmFibGVkP1xuXHRcdGlmICggalF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGRbZGF0YS1pZCo9XCJlbGVtZW50c1wiXVt2YWx1ZT1cImJ1dHRvblwiXScpLmxlbmd0aCAmJiAhIGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkW2RhdGEtaWQqPVwiZWxlbWVudHNcIl1bdmFsdWU9XCJidXR0b25cIl0nKS5pcygnOmNoZWNrZWQnKSApIHtcblx0XHRcdGRzbGNFbEJ1dHRvbiA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIEFyZSBjYXRzIGVuYWJsZWQ/XG5cdFx0aWYgKCAhIGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkW2RhdGEtaWQqPVwiZWxlbWVudHNcIl1bdmFsdWU9XCJjYXRlZ29yaWVzXCJdJykuaXMoJzpjaGVja2VkJykgKSB7XG5cdFx0XHRkc2xjRWxDYXRzID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gSXMgc2VwYXJhdG9yIGVuYWJsZWQ/XG5cdFx0aWYgKCAhIGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkW2RhdGEtaWQqPVwiZWxlbWVudHNcIl1bdmFsdWU9XCJzZXBhcmF0b3JcIl0nKS5pcygnOmNoZWNrZWQnKSApIHtcblx0XHRcdGRzbGNFbFNlcGFyYXRvciA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIElzIGNvdW50IGVuYWJsZWQ/XG5cdFx0aWYgKCAhIGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkW2RhdGEtaWQqPVwiZWxlbWVudHNcIl1bdmFsdWU9XCJjb3VudFwiXScpLmlzKCc6Y2hlY2tlZCcpICkge1xuXHRcdFx0ZHNsY0VsQ291bnQgPSBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBBcmUgdGFncyBlbmFibGVkP1xuXHRcdGlmICggISBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZFtkYXRhLWlkKj1cImVsZW1lbnRzXCJdW3ZhbHVlPVwidGFnc1wiXScpLmlzKCc6Y2hlY2tlZCcpICkge1xuXHRcdFx0ZHNsY0VsVGFncyA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIEFyZSBzb2NpYWwgbGluayBlbmFibGVkP1xuXHRcdGlmICggISBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZFtkYXRhLWlkKj1cImVsZW1lbnRzXCJdW3ZhbHVlPVwic29jaWFsXCJdJykuaXMoJzpjaGVja2VkJykgKSB7XG5cdFx0XHRkc2xjRWxTb2NpYWwgPSBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBJcyBwb3NpdGlvbiBlbmFibGVkP1xuXHRcdGlmICggISBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZFtkYXRhLWlkKj1cImVsZW1lbnRzXCJdW3ZhbHVlPVwicG9zaXRpb25cIl0nKS5pcygnOmNoZWNrZWQnKSApIHtcblx0XHRcdGRzbGNFbFBvc2l0aW9uID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gSXMgaWNvbiBlbmFibGVkP1xuXHRcdGlmICggalF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGRbZGF0YS1pZCo9XCJlbGVtZW50c1wiXVt2YWx1ZT1cImljb25cIl0nKS5sZW5ndGggJiYgISBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZFtkYXRhLWlkKj1cImVsZW1lbnRzXCJdW3ZhbHVlPVwiaWNvblwiXScpLmlzKCc6Y2hlY2tlZCcpICkge1xuXHRcdFx0ZHNsY0VsSWNvbiA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIElzIGNvbnRlbnQgZW5hYmxlZD9cblx0XHRpZiAoICBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZFtkYXRhLWlkKj1cImVsZW1lbnRzXCJdW3ZhbHVlPVwiY29udGVudFwiXScpLmxlbmd0aCAmJiAhIGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkW2RhdGEtaWQqPVwiZWxlbWVudHNcIl1bdmFsdWU9XCJjb250ZW50XCJdJykuaXMoJzpjaGVja2VkJykgKSB7XG5cdFx0XHRkc2xjRWxDb250ZW50ID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gSXMgcHJpY2UgZW5hYmxlZD9cblx0XHRpZiAoICEgalF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGRbZGF0YS1pZCo9XCJlbGVtZW50c1wiXVt2YWx1ZT1cInByaWNlXCJdJykuaXMoJzpjaGVja2VkJykgKSB7XG5cdFx0XHRkc2xjRWxQcmljZSA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIElzIHByaWNlIHNlY29uZGFyeSBlbmFibGVkP1xuXHRcdGlmICggISBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZFtkYXRhLWlkKj1cImVsZW1lbnRzXCJdW3ZhbHVlPVwicHJpY2VfMlwiXScpLmlzKCc6Y2hlY2tlZCcpICkge1xuXHRcdFx0ZHNsY0VsUHJpY2VTZWMgPSBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBJcyBhZGQgdG8gY2FydCBlbmFibGVkP1xuXHRcdGlmICggISBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZFtkYXRhLWlkKj1cImVsZW1lbnRzXCJdW3ZhbHVlPVwiYWRkdG9jYXJ0XCJdJykuaXMoJzpjaGVja2VkJykgKSB7XG5cdFx0XHRkc2xjRWxBZGRDYXJ0ID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gSXMgYWRkIHRvIGNhcnQgZW5hYmxlZD9cblx0XHRpZiAoICEgalF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGRbZGF0YS1pZCo9XCJlbGVtZW50c1wiXVt2YWx1ZT1cImRldGFpbHNcIl0nKS5pcygnOmNoZWNrZWQnKSApIHtcblx0XHRcdGRzbGNFbERldGFpbHMgPSBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBJcyBxdW90ZSBlbmFibGVkP1xuXHRcdGlmICggISBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZFtkYXRhLWlkKj1cImVsZW1lbnRzXCJdW3ZhbHVlPVwicXVvdGVcIl0nKS5pcygnOmNoZWNrZWQnKSApIHtcblx0XHRcdGRzbGNFbFF1b3RlID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gSXMgYXV0aG9yIG5hbWUgZW5hYmxlZD9cblx0XHRpZiAoICEgalF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGRbZGF0YS1pZCo9XCJlbGVtZW50c1wiXVt2YWx1ZT1cImF1dGhvcl9uYW1lXCJdJykuaXMoJzpjaGVja2VkJykgKSB7XG5cdFx0XHRkc2xjRWxBdXRob3JOYW1lID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gSXMgYXV0aG9yIHBvc2l0aW9uIGVuYWJsZWQ/XG5cdFx0aWYgKCAhIGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkW2RhdGEtaWQqPVwiZWxlbWVudHNcIl1bdmFsdWU9XCJhdXRob3JfcG9zaXRpb25cIl0nKS5pcygnOmNoZWNrZWQnKSApIHtcblx0XHRcdGRzbGNFbEF1dGhvclBvcyA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIElzIGltYWdlIGVuYWJsZWQ/XG5cdFx0aWYgKCAhIGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkW2RhdGEtaWQqPVwiZWxlbWVudHNcIl1bdmFsdWU9XCJpbWFnZVwiXScpLmlzKCc6Y2hlY2tlZCcpICkge1xuXHRcdFx0ZHNsY0VsSW1hZ2UgPSBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBJcyBsb2dvIGVuYWJsZWQ/XG5cdFx0aWYgKCAhIGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkW2RhdGEtaWQqPVwiZWxlbWVudHNcIl1bdmFsdWU9XCJsb2dvXCJdJykuaXMoJzpjaGVja2VkJykgKSB7XG5cdFx0XHRkc2xjRWxMb2dvID0gZmFsc2U7XG5cdFx0fVxuXG5cblx0XHQvLyBTaG93L0hpZGUgSGVhZGluZ1xuXHRcdGlmICggZHNsY0hlYWRpbmcgKVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwiaGVhZGluZ19zdHlsaW5nXCJdJykuc2hvdygpO1xuXHRcdGVsc2Vcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cImhlYWRpbmdfc3R5bGluZ1wiXScpLmhpZGUoKTtcblxuXHRcdC8vIFNob3cvSGlkZSBGaWx0ZXJzXG5cdFx0aWYgKCBkc2xjRmlsdGVycyApXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJmaWx0ZXJzX3N0eWxpbmdcIl0nKS5zaG93KCk7XG5cdFx0ZWxzZVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwiZmlsdGVyc19zdHlsaW5nXCJdJykuaGlkZSgpO1xuXG5cdFx0Ly8gU2hvdy9IaWRlIENhcm91c2VsIEFycm93c1xuXHRcdGlmICggZHNsY0NhckFycm93cyApXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJjYXJvdXNlbF9hcnJvd3Nfc3R5bGluZ1wiXScpLnNob3coKTtcblx0XHRlbHNlXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJjYXJvdXNlbF9hcnJvd3Nfc3R5bGluZ1wiXScpLmhpZGUoKTtcblxuXHRcdC8vIFNob3cvSGlkZSBDYXJvdXNlbCBDaXJjbGVzXG5cdFx0aWYgKCBkc2xjQ2FyQ2lyY2xlcyApXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJjYXJvdXNlbF9jaXJjbGVzX3N0eWxpbmdcIl0nKS5zaG93KCk7XG5cdFx0ZWxzZVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwiY2Fyb3VzZWxfY2lyY2xlc19zdHlsaW5nXCJdJykuaGlkZSgpO1xuXG5cdFx0Ly8gU2hvdy9IaWRlIFBhZ2luYXRpb25cblx0XHRpZiAoIGRzbGNQYWdpbmF0aW9uIClcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cInBhZ2luYXRpb25fc3R5bGluZ1wiXScpLnNob3coKTtcblx0XHRlbHNlXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJwYWdpbmF0aW9uX3N0eWxpbmdcIl0nKS5oaWRlKCk7XG5cblx0XHQvLyBTaG93L0hpZGUgVGh1bWJcblx0XHRpZiAoIGRzbGNFbFRodW1iIClcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cInRodW1ibmFpbF9zdHlsaW5nXCJdJykuc2hvdygpO1xuXHRcdGVsc2Vcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cInRodW1ibmFpbF9zdHlsaW5nXCJdJykuaGlkZSgpO1xuXG5cdFx0Ly8gU2hvdy9IaWRlIFRpdGxlXG5cdFx0aWYgKCBkc2xjRWxUaXRsZSApXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJ0aXRsZV9zdHlsaW5nXCJdJykuc2hvdygpO1xuXHRcdGVsc2Vcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cInRpdGxlX3N0eWxpbmdcIl0nKS5oaWRlKCk7XG5cblx0XHQvLyBTaG93L0hpZGUgRXhjZXJwdFxuXHRcdGlmICggZHNsY0VsRXhjZXJwdCApXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJleGNlcnB0X3N0eWxpbmdcIl0nKS5zaG93KCk7XG5cdFx0ZWxzZVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwiZXhjZXJwdF9zdHlsaW5nXCJdJykuaGlkZSgpO1xuXG5cdFx0Ly8gU2hvdy9IaWRlIE1ldGFcblx0XHRpZiAoIGRzbGNFbE1ldGEgKVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwibWV0YV9zdHlsaW5nXCJdJykuc2hvdygpO1xuXHRcdGVsc2Vcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cIm1ldGFfc3R5bGluZ1wiXScpLmhpZGUoKTtcblxuXHRcdC8vIFNob3cvSGlkZSBCdXR0b25cblx0XHRpZiAoIGRzbGNFbEJ1dHRvbiApXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJidXR0b25fc3R5bGluZ1wiXSwgLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cInByaW1hcnlfYnV0dG9uX3N0eWxpbmdcIl0sJytcblx0XHRcdFx0JyAuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwic2Vjb25kYXJ5X2J1dHRvbl9zdHlsaW5nXCJdJykuc2hvdygpO1xuXHRcdGVsc2Vcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cImJ1dHRvbl9zdHlsaW5nXCJdLCAuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwicHJpbWFyeV9idXR0b25fc3R5bGluZ1wiXSwnK1xuXHRcdFx0XHQnIC5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJzZWNvbmRhcnlfYnV0dG9uX3N0eWxpbmdcIl0nKS5oaWRlKCk7XG5cblx0XHQvLyBTaG93L0hpZGUgQ2F0c1xuXHRcdGlmICggZHNsY0VsQ2F0cyApXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJjYXRlZ29yaWVzX3N0eWxpbmdcIl0nKS5zaG93KCk7XG5cdFx0ZWxzZVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwiY2F0ZWdvcmllc19zdHlsaW5nXCJdJykuaGlkZSgpO1xuXG5cdFx0Ly8gU2hvdy9IaWRlIFNlcGFyYXRvclxuXHRcdGlmICggZHNsY0VsU2VwYXJhdG9yIClcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cInNlcGFyYXRvcl9zdHlsaW5nXCJdJykuc2hvdygpO1xuXHRcdGVsc2Vcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cInNlcGFyYXRvcl9zdHlsaW5nXCJdJykuaGlkZSgpO1xuXG5cdFx0Ly8gU2hvdy9IaWRlIENvdW50XG5cdFx0aWYgKCBkc2xjRWxDb3VudCApXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJjb3VudF9zdHlsaW5nXCJdJykuc2hvdygpO1xuXHRcdGVsc2Vcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cImNvdW50X3N0eWxpbmdcIl0nKS5oaWRlKCk7XG5cblx0XHQvLyBTaG93L0hpZGUgVGFnc1xuXHRcdGlmICggZHNsY0VsVGFncyApXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJ0YWdzX3N0eWxpbmdcIl0nKS5zaG93KCk7XG5cdFx0ZWxzZVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwidGFnc19zdHlsaW5nXCJdJykuaGlkZSgpO1xuXG5cdFx0Ly8gU2hvdy9IaWRlIFRhZ3Ncblx0XHRpZiAoIGRzbGNFbFBvc2l0aW9uIClcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cInBvc2l0aW9uX3N0eWxpbmdcIl0nKS5zaG93KCk7XG5cdFx0ZWxzZVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwicG9zaXRpb25fc3R5bGluZ1wiXScpLmhpZGUoKTtcblxuXHRcdC8vIFNob3cvSGlkZSBUYWdzXG5cdFx0aWYgKCBkc2xjRWxTb2NpYWwgKVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwic29jaWFsX3N0eWxpbmdcIl0nKS5zaG93KCk7XG5cdFx0ZWxzZVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwic29jaWFsX3N0eWxpbmdcIl0nKS5oaWRlKCk7XG5cblx0XHQvLyBTaG93L0hpZGUgSWNvblxuXHRcdGlmICggZHNsY0VsSWNvbiApXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJpY29uX3N0eWxpbmdcIl0nKS5zaG93KCk7XG5cdFx0ZWxzZVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwiaWNvbl9zdHlsaW5nXCJdJykuaGlkZSgpO1xuXG5cdFx0Ly8gU2hvdy9IaWRlIENvbnRlbnRcblx0XHRpZiAoIGRzbGNFbENvbnRlbnQgKVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwiY29udGVudF9zdHlsaW5nXCJdJykuc2hvdygpO1xuXHRcdGVsc2Vcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cImNvbnRlbnRfc3R5bGluZ1wiXScpLmhpZGUoKTtcblxuXHRcdC8vIFNob3cvSGlkZSBQcmljZVxuXHRcdGlmICggZHNsY0VsUHJpY2UgKVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwicHJpY2Vfc3R5bGluZ1wiXScpLnNob3coKTtcblx0XHRlbHNlXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJwcmljZV9zdHlsaW5nXCJdJykuaGlkZSgpO1xuXG5cdFx0Ly8gU2hvdy9IaWRlIFByaWNlIFNlY1xuXHRcdGlmICggZHNsY0VsUHJpY2VTZWMgKVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwicHJpY2Vfc2Vjb25kYXJ5X3N0eWxpbmdcIl0nKS5zaG93KCk7XG5cdFx0ZWxzZVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwicHJpY2Vfc2Vjb25kYXJ5X3N0eWxpbmdcIl0nKS5oaWRlKCk7XG5cblx0XHQvLyBTaG93L0hpZGUgQWRkIHRvIENhcnRcblx0XHRpZiAoIGRzbGNFbEFkZENhcnQgfHwgZHNsY0VsRGV0YWlscyApXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJvdGhlcl9zdHlsaW5nXCJdJykuc2hvdygpO1xuXHRcdGVsc2Vcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cIm90aGVyX3N0eWxpbmdcIl0nKS5oaWRlKCk7XG5cblx0XHQvLyBTaG93L0hpZGUgUXVvdGVcblx0XHRpZiAoIGRzbGNFbFF1b3RlIClcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cInF1b3RlX3N0eWxpbmdcIl0nKS5zaG93KCk7XG5cdFx0ZWxzZVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwicXVvdGVfc3R5bGluZ1wiXScpLmhpZGUoKTtcblxuXHRcdC8vIFNob3cvSGlkZSBBdXRob3IgTmFtZVxuXHRcdGlmICggZHNsY0VsQXV0aG9yTmFtZSApXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJhdXRob3JfbmFtZV9zdHlsaW5nXCJdJykuc2hvdygpO1xuXHRcdGVsc2Vcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cImF1dGhvcl9uYW1lX3N0eWxpbmdcIl0nKS5oaWRlKCk7XG5cblx0XHQvLyBTaG93L0hpZGUgQXV0aG9yIFBvc2l0aW9uXG5cdFx0aWYgKCBkc2xjRWxBdXRob3JQb3MgKVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwiYXV0aG9yX3Bvc2l0aW9uX3N0eWxpbmdcIl0nKS5zaG93KCk7XG5cdFx0ZWxzZVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwiYXV0aG9yX3Bvc2l0aW9uX3N0eWxpbmdcIl0nKS5oaWRlKCk7XG5cblx0XHQvLyBTaG93L0hpZGUgSW1hZ2Vcblx0XHRpZiAoIGRzbGNFbEltYWdlIClcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cImltYWdlX3N0eWxpbmdcIl0nKS5zaG93KCk7XG5cdFx0ZWxzZVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwiaW1hZ2Vfc3R5bGluZ1wiXScpLmhpZGUoKTtcblxuXHRcdC8vIFNob3cvSGlkZSBRdW90ZVxuXHRcdGlmICggZHNsY0VsTG9nbyApXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJsb2dvX3N0eWxpbmdcIl0nKS5zaG93KCk7XG5cdFx0ZWxzZVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwibG9nb19zdHlsaW5nXCJdJykuaGlkZSgpO1xuXG5cdH1cblxuXHQvKipcblx0ICogQ2hlY2sgJ0VuYWJsZS9EaXNhYmxlIEN1c3RvbSBDU1MnIGNvbnRyb2xcblx0ICovXG5cblx0aWYgKCBqUXVlcnkoJy5kc2xjYS1vcHRpb25zLWZpbHRlci1ob29rW2RhdGEtc2VjdGlvbj1cInN0eWxpbmdcIl0nKS5oYXNDbGFzcygnZHNsY2EtYWN0aXZlJykgKSB7XG5cblx0XHR2YXIgZHNsY0N1c3RvbUNTUyA9IGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbltkYXRhLWlkPVwiY3NzX2N1c3RvbVwiXScpLFxuXHRcdGRzbGNDdXN0b21DU1NWYWwgPSBkc2xjQ3VzdG9tQ1NTLmZpbmQoJ3NlbGVjdCcpLnZhbCgpO1xuXG5cdFx0aWYgKCBkc2xjQ3VzdG9tQ1NTVmFsID09ICdlbmFibGVkJyApIHtcblxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uW2RhdGEtc2VjdGlvbj1cInN0eWxpbmdcIl0nKS5jc3MoeyB2aXNpYmlsaXR5IDogJ3Zpc2libGUnIH0pO1xuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uW2RhdGEtdGFiXScpLmNzcyggJ3Zpc2liaWxpdHknLCAndmlzaWJsZScgKTtcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFicycpLnNob3coKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uW2RhdGEtc2VjdGlvbj1cInN0eWxpbmdcIl0nKS5jc3MoeyB2aXNpYmlsaXR5IDogJ2hpZGRlbicgfSk7XG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtY29udHJvbC1ncm91cC5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24nKS5jc3MoICd2aXNpYmlsaXR5JywgJ2hpZGRlbicgKTtcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFicycpLmhpZGUoKTtcblx0XHRcdGRzbGNDdXN0b21DU1MuY3NzKHsgdmlzaWJpbGl0eSA6ICd2aXNpYmxlJyB9KTtcblx0XHR9XG5cblx0fSBlbHNlIHtcblx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYnMnKS5zaG93KCk7XG5cdH1cblxuXHRpZiAoIGpRdWVyeSgnc2VsZWN0LmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkW2RhdGEtaWQ9XCJjc3NfcmVzX3RcIl0nKS52YWwoKSA9PSAnZGlzYWJsZWQnICkge1xuXHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbltkYXRhLWlkKj1cImNzc19yZXNfdFwiXScpLmNzcyggJ3Zpc2liaWxpdHknLCAnaGlkZGVuJyApO1xuXHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbltkYXRhLXRhYj1cInRhYmxldF9yZXNwb25zaXZlXCJdJykuY3NzKCAndmlzaWJpbGl0eScsICdoaWRkZW4nICk7XG5cdH0gZWxzZSB7XG5cdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uW2RhdGEtaWQqPVwiY3NzX3Jlc190XCJdJykuY3NzKCAndmlzaWJpbGl0eScsICd2aXNpYmxlJyApO1xuXHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbltkYXRhLXRhYj1cInRhYmxldF9yZXNwb25zaXZlXCJdJykuY3NzKCAndmlzaWJpbGl0eScsICd2aXNpYmxlJyApO1xuXHR9XG5cblx0aWYgKCBqUXVlcnkoJ3NlbGVjdC5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZFtkYXRhLWlkPVwiY3NzX3Jlc19wXCJdJykudmFsKCkgPT0gJ2Rpc2FibGVkJyApIHtcblx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25bZGF0YS1pZCo9XCJjc3NfcmVzX3BcIl0nKS5jc3MoICd2aXNpYmlsaXR5JywgJ2hpZGRlbicgKTtcblx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25bZGF0YS10YWI9XCJwaG9uZV9yZXNwb25zaXZlXCJdJykuY3NzKCAndmlzaWJpbGl0eScsICdoaWRkZW4nICk7XG5cdH0gZWxzZSB7XG5cdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uW2RhdGEtaWQqPVwiY3NzX3Jlc19wXCJdJykuY3NzKCAndmlzaWJpbGl0eScsICd2aXNpYmxlJyApO1xuXHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbltkYXRhLXRhYj1cInBob25lX3Jlc3BvbnNpdmVcIl0nKS5jc3MoICd2aXNpYmlsaXR5JywgJ3Zpc2libGUnICk7XG5cdH1cblxuXHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25bZGF0YS1pZD1cImNzc19yZXNfcFwiXSwgLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbltkYXRhLWlkPVwiY3NzX3Jlc190XCJdJykuY3NzKCAndmlzaWJpbGl0eScsICd2aXNpYmxlJyApO1xuXG5cblx0aWYgKCBqUXVlcnkoJy5kc2xjYS1vcHRpb25zLWZpbHRlci1ob29rJykuaGFzQ2xhc3MoJ2RzbGNhLWFjdGl2ZScpICkge1xuXHRcdHZhciBzZWN0aW9uX3RhYiA9IGpRdWVyeSgnLmRzbGNhLW9wdGlvbnMtZmlsdGVyLWhvb2suZHNsY2EtYWN0aXZlJykuZGF0YSgnc2VjdGlvbicpO1xuXG5cdFx0aWYgKCBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25bZGF0YS1zZWN0aW9uPVwiJyArIHNlY3Rpb25fdGFiICsgJ1wiXScpLmhhc0NsYXNzKCdkZXAtc2hvdycpICkge1xuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uLmRlcC1zaG93Jykuc2hvdygpO1xuXHRcdH1cblxuXHRcdGlmICggalF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uW2RhdGEtc2VjdGlvbj1cIicgKyBzZWN0aW9uX3RhYiArICdcIl0nKS5oYXNDbGFzcygnZGVwLWhpZGUnKSApIHtcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi5kZXAtaGlkZScpLmhpZGUoKTtcblx0XHR9XG5cdH1cblxuXHRpZiAoIGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2snKS5oYXNDbGFzcygnZHNsY2EtYWN0aXZlJykgKSB7XG5cdFx0dmFyIGRhdGFfdGFiID0galF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9vay5kc2xjYS1hY3RpdmUnKS5kYXRhKCdpZCcpO1xuXG5cdFx0aWYgKCBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25bZGF0YS10YWI9XCInICsgZGF0YV90YWIgKyAnXCJdJykuaGFzQ2xhc3MoJ2RlcGVuZGVudCcpICkge1xuXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24uZGVwZW5kZW50JykuaGlkZSgpO1xuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uW2RhdGEtdGFiPVwiJyArIGRhdGFfdGFiICsgJ1wiXS5kZXAtc2hvdycpLnNob3coKTtcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbltkYXRhLXRhYj1cIicgKyBkYXRhX3RhYiArICdcIl0uZGVwLWhpZGUnKS5oaWRlKCk7XG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uLmRlcGVuZGVudCcpLmhpZGUoKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBNT0RVTEVTIFNFVFRJTkdTIFBBTkVMIC0gQ29uZmlybSBtb2R1bGUgb3B0aW9ucyBjaGFuZ2VzXG4gKi9cbmZ1bmN0aW9uIGRzbGNfbW9kdWxlX29wdGlvbnNfY29uZmlybV9jaGFuZ2VzKCBjYWxsYmFjayApIHtcblxuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2RzbGNfbW9kdWxlX29wdGlvbnNfY29uZmlybV9jaGFuZ2VzJyApO1xuXG5cdC8vIENhbGxiYWNrXG5cdGNhbGxiYWNrID0gdHlwZW9mIGNhbGxiYWNrICE9PSAndW5kZWZpbmVkJyA/IGNhbGxiYWNrIDogZmFsc2U7XG5cblx0Ly8gSWYgc2xpZGVyIG1vZHVsZVxuXHRpZiAoIGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1iZWluZy1lZGl0ZWQnLCB3aW5kb3cuTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkuaGFzQ2xhc3MoJ2RzbGMtbW9kdWxlLURTTENfU2xpZGVycycpICkge1xuXG5cdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWJlaW5nLWVkaXRlZCcsIHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5yZW1vdmVDbGFzcygnZHNsY2EtbW9kdWxlLWJlaW5nLWVkaXRlZCcpO1xuXHQvLyBJZiBub3Qgc2xpZGVyIG1vZHVsZVxuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQWRkIGNsYXNzIHNvIHdlIGtub3cgc2F2aW5nIGlzIGluIHByb2dyZXNzXG5cdFx0alF1ZXJ5KCdib2R5JykuYWRkQ2xhc3MoJ2RzbGNhLW1vZHVsZS1zYXZpbmctaW4tcHJvZ3Jlc3MnKTtcblxuXHRcdC8vIFJlbG9hZCBtb2R1bGUgd2l0aCBuZXcgc2V0dGluZ3Ncblx0XHRtb2R1bGVPdXRwdXRBbHRlcmVkKCBmdW5jdGlvbigpe1xuXG5cdFx0XHQvLyBVcGRhdGUgcHJlc2V0XG5cdFx0XHR1cGRhdGVQcmVzZXQoKTtcblxuXHRcdFx0d2luZG93LmRzbGNfZ2VuZXJhdGVfY29kZSgpO1xuXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtYmVpbmctZWRpdGVkJywgd2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLnJlbW92ZUNsYXNzKCdkc2xjYS1tb2R1bGUtYmVpbmctZWRpdGVkJyk7XG5cblx0XHRcdC8vIFJlbW92ZSBjbGFzc2VzIHNvIHdlIGtub3cgc2F2aW5nIGZpbmlzaGVkXG5cdFx0XHRqUXVlcnkoJ2JvZHknKS5yZW1vdmVDbGFzcygnZHNsY2EtbW9kdWxlLXNhdmluZy1pbi1wcm9ncmVzcycpO1xuXG5cdFx0XHQvLyBDbGVhbiB1cCBvcHRpb25zIGNvbnRhaW5lclxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy1pbm5lcicpLmh0bWwoJycpO1xuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWJzJykuaHRtbCgnJyk7XG5cblx0XHRcdHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5VSS5jbGVhclV0aWxzKCk7XG5cblx0XHRcdC8vIENhbGxiYWNrIGlmIHRoZXJlJ3Mgb25lXG5cdFx0XHRpZiAoIGNhbGxiYWNrICkgeyBjYWxsYmFjaygpOyB9XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBTaG93IG1vZHVsZXMgbGlzdGluZ1xuXHRzaG93U2VjdGlvbignLmRzbGNhLW1vZHVsZXMnKTtcblxuXHQvLyBIaWRlIHRoZSBmaWx0ZXIgaG9va3Ncblx0alF1ZXJ5KCcuZHNsY2EtaGVhZGVyIC5kc2xjYS1vcHRpb25zLWZpbHRlci1ob29rJykuaGlkZSgpO1xuXG5cdC8vIEhpZGUgdGhlIHNhdmUvY2FuY2VsIGFjdGlvbnNcblx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtYWN0aW9ucycpLmhpZGUoKTtcblxuXHQvLyBTaG93IHRoZSBzZWN0aW9uIGhvb2tzXG5cdGpRdWVyeSgnLmRzbGNhLWhlYWRlciAuZHNsY2EtZ28tdG8tc2VjdGlvbi1ob29rJykuc2hvdygpO1xuXG5cdC8vIHdpbmRvdy5kc2xjX2dlbmVyYXRlX2NvZGUoKTtcblx0Ly8gU2hvdyB0aGUgcHVibGlzaCBidXR0b25cblx0d2luZG93LmRzbGNfc2hvd19wdWJsaXNoX2J1dHRvbigpO1xufVxuXG4vKipcbiAqIE1PRFVMRVMgU0VUVElOR1MgUEFORUwgLSBDYW5jZWwgbW9kdWxlIG9wdGlvbnMgY2hhbmdlc1xuICovXG5mdW5jdGlvbiBkc2xjX21vZHVsZV9vcHRpb25zX2NhbmNlbF9jaGFuZ2VzKCBjYWxsYmFjayApIHtcblxuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2RzbGNfbW9kdWxlX29wdGlvbnNfY2FuY2VsX2NoYW5nZXMnICk7XG5cblx0Ly8gQ2FsbGJhY2tcblx0Y2FsbGJhY2sgPSB0eXBlb2YgY2FsbGJhY2sgIT09ICd1bmRlZmluZWQnID8gY2FsbGJhY2sgOiBmYWxzZTtcblxuXHQvLyBWYXJzXG5cdHZhciBlZGl0ZWRNb2R1bGUgPSBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtYmVpbmctZWRpdGVkJywgd2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpO1xuXG5cdC8vIEFkZCBiYWNrdXAgb3B0aW9uIHZhbHVlc1xuXHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtb3B0aW9ucy1mcm9udCcsIGVkaXRlZE1vZHVsZSkuaHRtbCgnJykuYXBwZW5kKHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5tb2R1bGVCYWNrdXApO1xuXHQvLyB3aW5kb3cuTGl2ZUNvbXBvc2VyLkJ1aWxkZXIubW9kdWxlQmFja3VwID0gZmFsc2U7XG5cblx0Ly8gUmVsb2FkIG1vZHVsZVxuXHRtb2R1bGVPdXRwdXRBbHRlcmVkKCBmdW5jdGlvbigpe1xuXG5cdFx0d2luZG93LmRzbGNfZ2VuZXJhdGVfY29kZSgpO1xuXG5cdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWJlaW5nLWVkaXRlZCcsIHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5yZW1vdmVDbGFzcygnZHNsY2EtbW9kdWxlLWJlaW5nLWVkaXRlZCcpO1xuXG5cdFx0Ly8gQ2xlYW4gdXAgb3B0aW9ucyBjb250YWluZXJcblx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLWlubmVyJykuaHRtbCgnJyk7XG5cdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWJzJykuaHRtbCgnJyk7XG5cblx0XHR3aW5kb3cuTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuVUkuY2xlYXJVdGlscygpO1xuXG5cdFx0aWYgKCBjYWxsYmFjayApIHsgY2FsbGJhY2soKTsgfVxuXHR9KTtcblxuXHQvLyBTaG93IG1vZHVsZXMgbGlzdGluZ1xuXHRzaG93U2VjdGlvbignLmRzbGNhLW1vZHVsZXMnKTtcblxuXHQvLyBIaWRlIHRoZSBmaWx0ZXIgaG9va3Ncblx0alF1ZXJ5KCcuZHNsY2EtaGVhZGVyIC5kc2xjYS1vcHRpb25zLWZpbHRlci1ob29rJykuaGlkZSgpO1xuXG5cdC8vIEhpZGUgdGhlIHNhdmUvY2FuY2VsIGFjdGlvbnNcblx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtYWN0aW9ucycpLmhpZGUoKTtcblxuXHQvLyBTaG93IHRoZSBzZWN0aW9uIGhvb2tzXG5cdGpRdWVyeSgnLmRzbGNhLWhlYWRlciAuZHNsY2EtZ28tdG8tc2VjdGlvbi1ob29rJykuc2hvdygpO1xuXG5cdC8vIFNob3cgdGhlIHB1Ymxpc2ggYnV0dG9uXG5cdHdpbmRvdy5kc2xjX3Nob3dfcHVibGlzaF9idXR0b24oKTtcblxuXHR3aW5kb3cuTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuVUkuY2xlYXJVdGlscygpO1xufVxuXG4vKipcbiAqIE1PRFVMRVMgU0VUVElOR1MgUEFORUwgLSBPcHRpb24gVG9vbHRpcHNcbiAqL1xuZnVuY3Rpb24gZHNsY19tb2R1bGVfb3B0aW9uc190b29sdGlwKCkge1xuXG5cdC8vIENsb3NlIFRvb2x0aXBcblx0alF1ZXJ5KGRvY3VtZW50KS5vbiggJ2NsaWNrJywgJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC10dGlwLWNsb3NlJywgZnVuY3Rpb24oKXtcblx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC10dGlwLCAuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtaWNvbi10dGlwJykuaGlkZSgpO1xuXHR9KTtcblxuXHQvLyBTaG93IFRvb2x0aXBcblx0alF1ZXJ5KGRvY3VtZW50KS5vbiggJ2NsaWNrJywgJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC10dGlwLWhvb2snLCBmdW5jdGlvbigpe1xuXG5cdFx0dmFyIGRzbGNUdGlwID0galF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtdHRpcCcpLFxuXHRcdGRzbGNUdGlwSW5uZXIgPSBkc2xjVHRpcC5maW5kKCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtdHRpcC1pbm5lcicpLFxuXHRcdGRzbGNIb29rID0galF1ZXJ5KHRoaXMpLFxuXHRcdGRzbGNUdGlwQ29udGVudCxcblx0XHRkc2xjTGFiZWw7XG5cblx0XHRkc2xjTGFiZWwgPSBkc2xjSG9vay5wYXJlbnQoKTtcblxuXHRcdGlmICggZHNsY0xhYmVsLnBhcmVudCgpLmhhc0NsYXNzKCdkc2xjYS1tb2R1bGVzLXNlY3Rpb24tZWRpdC1vcHRpb24nKSApIHtcblx0XHRcdGRzbGNUdGlwQ29udGVudCA9IGRzbGNIb29rLmNsb3Nlc3QoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tZWRpdC1vcHRpb24nKS5maW5kKCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtdHRpcC1jb250ZW50JykuaHRtbCgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkc2xjVHRpcENvbnRlbnQgPSBkc2xjSG9vay5jbG9zZXN0KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uJykuZmluZCgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkLXR0aXAtY29udGVudCcpLmh0bWwoKTtcblx0XHR9XG5cblx0XHRpZiAoIGRzbGNUdGlwLmlzKCc6dmlzaWJsZScpICkge1xuXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC10dGlwJykuaGlkZSgpO1xuXHRcdH0gZWxzZSB7XG5cblx0XHRcdGRzbGNUdGlwSW5uZXIuaHRtbCggZHNsY1R0aXBDb250ZW50ICk7XG5cblx0XHRcdHZhciBkc2xjT2Zmc2V0ID0gZHNsY0hvb2sub2Zmc2V0KCk7XG5cdFx0XHR2YXIgZHNsY1R0aXBIZWlnaHQgPSBkc2xjVHRpcC5vdXRlckhlaWdodCgpO1xuXHRcdFx0dmFyIGRzbGNUdGlwV2lkdGggPSBkc2xjVHRpcC5vdXRlcldpZHRoKCk7XG5cdFx0XHR2YXIgZHNsY1R0aXBMZWZ0ID0gZHNsY09mZnNldC5sZWZ0IC0gKCBkc2xjVHRpcFdpZHRoIC8gMiApICsgNjtcblx0XHRcdHZhciBkc2xjVHRpcEFyckxlZnQgPSAnNTAlJztcblxuXHRcdFx0aWYgKCBkc2xjVHRpcExlZnQgPCAwICkge1xuXG5cdFx0XHRcdGRzbGNUdGlwQXJyTGVmdCA9ICggZHNsY1R0aXBXaWR0aCAvIDIgKSArIGRzbGNUdGlwTGVmdCArICdweCc7XG5cdFx0XHRcdGRzbGNUdGlwTGVmdCA9IDA7XG5cdFx0XHR9XG5cblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkLXR0aXAnKS5zaG93KCkuY3NzKHtcblx0XHRcdFx0dG9wIDogZHNsY09mZnNldC50b3AgLSBkc2xjVHRpcEhlaWdodCAtIDIwLFxuXHRcdFx0XHRsZWZ0OiBkc2xjVHRpcExlZnRcblx0XHRcdH0pO1xuXG5cdFx0XHRqUXVlcnkoXCJoZWFkXCIpLmFwcGVuZChqUXVlcnkoJzxzdHlsZT4uZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtdHRpcDphZnRlciwgLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkLXR0aXA6YmVmb3JlIHsgbGVmdDogJyArIGRzbGNUdGlwQXJyTGVmdCArICcgfTwvc3R5bGU+JykpO1xuXHRcdH1cblx0fSk7XG5cblx0Ly8gU2hvdyBUb29sdGlwICggSWNvbiBPcHRpb25zIClcblx0alF1ZXJ5KGRvY3VtZW50KS5vbiggJ2NsaWNrJywgJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC1pY29uLXR0aXAtaG9vaycsIGZ1bmN0aW9uKCl7XG5cblx0XHR2YXIgZHNsY1R0aXAgPSBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC1pY29uLXR0aXAnKTtcblx0XHR2YXIgZHNsY0hvb2sgPSBqUXVlcnkodGhpcyk7XG5cblx0XHRpZiAoIGRzbGNUdGlwLmlzKCc6dmlzaWJsZScpICkge1xuXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC1pY29uLXR0aXAnKS5oaWRlKCk7XG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0dmFyIGRzbGNPZmZzZXQgPSBkc2xjSG9vay5vZmZzZXQoKTtcblx0XHRcdHZhciBkc2xjVHRpcEhlaWdodCA9IGRzbGNUdGlwLm91dGVySGVpZ2h0KCk7XG5cdFx0XHR2YXIgZHNsY1R0aXBXaWR0aCA9IGRzbGNUdGlwLm91dGVyV2lkdGgoKTtcblx0XHRcdHZhciBkc2xjVHRpcExlZnQgPSBkc2xjT2Zmc2V0LmxlZnQgLSAoIGRzbGNUdGlwV2lkdGggLyAyICkgKyA2O1xuXHRcdFx0dmFyIGRzbGNUdGlwQXJyTGVmdCA9ICc1MCUnO1xuXG5cdFx0XHRpZiAoIGRzbGNUdGlwTGVmdCA8IDAgKSB7XG5cblx0XHRcdFx0ZHNsY1R0aXBBcnJMZWZ0ID0gKCBkc2xjVHRpcFdpZHRoIC8gMiApICsgZHNsY1R0aXBMZWZ0ICsgJ3B4Jztcblx0XHRcdFx0ZHNsY1R0aXBMZWZ0ID0gMDtcblx0XHRcdH1cblxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtaWNvbi10dGlwJykuc2hvdygpLmNzcyh7XG5cdFx0XHRcdHRvcCA6IGRzbGNPZmZzZXQudG9wIC0gZHNsY1R0aXBIZWlnaHQgLSAyMCxcblx0XHRcdFx0bGVmdDogZHNsY1R0aXBMZWZ0XG5cdFx0XHR9KTtcblxuXHRcdFx0alF1ZXJ5KFwiaGVhZFwiKS5hcHBlbmQoalF1ZXJ5KCc8c3R5bGU+LmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkLWljb24tdHRpcDphZnRlciwgLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkLWljb24tdHRpcDpiZWZvcmUgeyBsZWZ0OiAnICsgZHNsY1R0aXBBcnJMZWZ0ICsgJyB9PC9zdHlsZT4nKSk7XG5cdFx0fVxuXHR9KTtcbn1cblxuLyoqXG4gKiBNT0RVTEVTIFNFVFRJTkdTIFBBTkVMIC0gRm9udCBvcHRpb24gdHlwZVxuICovXG5mdW5jdGlvbiBkc2xjX21vZHVsZV9vcHRpb25zX2ZvbnQoKSB7XG5cblx0Ly8gTmV4dCBGb250XG5cdGpRdWVyeShkb2N1bWVudCkub24oICdjbGljaycsICcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtZm9udC1uZXh0JywgIGZ1bmN0aW9uKGUpe1xuXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0aWYgKCAhIGpRdWVyeSh0aGlzKS5oYXNDbGFzcygnZHNsY2EtZm9udC1sb2FkaW5nJykgJiYgISBqUXVlcnkodGhpcykuc2libGluZ3MoJy5kc2xjYS1mb250LWxvYWRpbmcnKS5sZW5ndGggKSB7XG5cblx0XHRcdHZhciBkc2xjT3B0aW9uID0galF1ZXJ5KHRoaXMpLmNsb3Nlc3QoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24tZm9udCcpO1xuXHRcdFx0dmFyIGRzbGNGaWVsZCA9IGpRdWVyeSggJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC1mb250JywgZHNsY09wdGlvbiApO1xuXHRcdFx0dmFyIGRzbGNDdXJySW5kZXggPSBkc2xjQWxsRm9udHNBcnJheS5pbmRleE9mKCBkc2xjRmllbGQudmFsKCkgKTtcblx0XHRcdHZhciBkc2xjTmV3SW5kZXggPSBkc2xjQ3VyckluZGV4ICsgMTtcblxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtZm9udC1zdWdnZXN0JywgZHNsY09wdGlvbikudGV4dCgnJyk7XG5cblx0XHRcdGRzbGNGaWVsZC52YWwoIGRzbGNBbGxGb250c0FycmF5W2RzbGNOZXdJbmRleF0gKS50cmlnZ2VyKCdjaGFuZ2UnKTtcblxuXHRcdFx0alF1ZXJ5KHRoaXMpLmFkZENsYXNzKCdkc2xjYS1mb250LWxvYWRpbmcnKS5maW5kKCcuZHNsY2EtaWNvbicpLnJlbW92ZUNsYXNzKCdkc2xjLWljb24tY2hldnJvbi1yaWdodCcpLmFkZENsYXNzKCdkc2xjLWljb24tcmVmcmVzaCBkc2xjLWljb24tc3BpbicpO1xuXHRcdH1cblx0fSk7XG5cblx0Ly8gUHJldmlvdXMgRm9udFxuXHRqUXVlcnkoZG9jdW1lbnQpLm9uKCAnY2xpY2snLCAnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkLWZvbnQtcHJldicsICBmdW5jdGlvbihlKXtcblxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdGlmICggISBqUXVlcnkodGhpcykuaGFzQ2xhc3MoJ2RzbGNhLWZvbnQtbG9hZGluZycpICYmICEgalF1ZXJ5KHRoaXMpLnNpYmxpbmdzKCcuZHNsY2EtZm9udC1sb2FkaW5nJykubGVuZ3RoICkge1xuXG5cdFx0XHR2YXIgZHNsY09wdGlvbiA9IGpRdWVyeSh0aGlzKS5jbG9zZXN0KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uLWZvbnQnKTtcblx0XHRcdHZhciBkc2xjRmllbGQgPSBqUXVlcnkoICcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtZm9udCcsIGRzbGNPcHRpb24gKTtcblx0XHRcdHZhciBkc2xjQ3VyckluZGV4ID0gZHNsY0FsbEZvbnRzQXJyYXkuaW5kZXhPZiggZHNsY0ZpZWxkLnZhbCgpICk7XG5cdFx0XHR2YXIgZHNsY05ld0luZGV4ID0gZHNsY0N1cnJJbmRleCAtIDE7XG5cblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkLWZvbnQtc3VnZ2VzdCcsIGRzbGNPcHRpb24pLnRleHQoJycpO1xuXG5cdFx0XHRpZiAoIGRzbGNOZXdJbmRleCA8IDAgKSB7XG5cblx0XHRcdFx0ZHNsY05ld0luZGV4ID0gZHNsY0FsbEZvbnRzQXJyYXkubGVuZ3RoIC0gMVxuXHRcdFx0fVxuXG5cdFx0XHRkc2xjRmllbGQudmFsKCBkc2xjQWxsRm9udHNBcnJheVtkc2xjTmV3SW5kZXhdICkudHJpZ2dlcignY2hhbmdlJyk7XG5cblx0XHRcdGpRdWVyeSh0aGlzKS5hZGRDbGFzcygnZHNsY2EtZm9udC1sb2FkaW5nJykuZmluZCgnLmRzbGNhLWljb24nKS5yZW1vdmVDbGFzcygnZHNsYy1pY29uLWNoZXZyb24tbGVmdCcpLmFkZENsYXNzKCdkc2xjLWljb24tcmVmcmVzaCBkc2xjLWljb24tc3BpbicpO1xuXHRcdH1cblx0fSk7XG5cblx0Ly8gS2V5dXAgKCBsZWZ0IGFycm93LCByaWdodCBhcnJvdywgZWxzZSApXG5cdGpRdWVyeShkb2N1bWVudCkub24oICdrZXl1cCcsICcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtZm9udCcsIGZ1bmN0aW9uKGUpIHtcblxuXHRcdHZhciBkc2xjRmllbGQsIGRzbGNPcHRpb24sIGRzbGNWYWwsIGRzbGNNYXRjaGluZ0ZvbnQgPSBmYWxzZSwgZHNsY0ZvbnQ7XG5cblx0XHRkc2xjRmllbGQgPSBqUXVlcnkodGhpcyk7XG5cdFx0ZHNsY09wdGlvbiA9IGRzbGNGaWVsZC5jbG9zZXN0KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uJyk7XG5cblx0XHRpZiAoIGUud2hpY2ggPT0gMzggKSB7XG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC1mb250LXByZXYnLCBkc2xjT3B0aW9uKS5jbGljaygpO1xuXHRcdH1cblxuXHRcdGlmICggZS53aGljaCA9PSA0MCApIHtcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkLWZvbnQtbmV4dCcsIGRzbGNPcHRpb24pLmNsaWNrKCk7XG5cdFx0fVxuXG5cdFx0aWYgKCBlLndoaWNoICE9IDEzICYmIGUud2hpY2ggIT0gMzggJiYgZS53aGljaCAhPSA0MCApIHtcblxuXHRcdFx0ZHNsY1ZhbCA9IGRzbGNGaWVsZC52YWwoKTtcblxuXHRcdFx0dmFyIHNlYXJjaCA9IFtdO1xuXHRcdFx0dmFyIHJlID0gbmV3IFJlZ0V4cCgnXicgKyBkc2xjVmFsLCAnaScpO1xuXHRcdFx0dmFyIGRzbGNGb250c0Ftb3VudCA9IGRzbGNBbGxGb250c0FycmF5Lmxlbmd0aDtcblx0XHRcdHZhciBpID0gMDtcblxuXHRcdFx0ZG8ge1xuXG5cdFx0XHRcdGlmIChyZS50ZXN0KGRzbGNBbGxGb250c0FycmF5W2ldKSkge1xuXG5cdFx0XHRcdFx0aWYgKCAhIGRzbGNNYXRjaGluZ0ZvbnQgKSB7XG5cblx0XHRcdFx0XHRcdHZhciBkc2xjTWF0Y2hpbmdGb250ID0gZHNsY0FsbEZvbnRzQXJyYXlbaV07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdGkrKzsgfSB3aGlsZSAoaSA8IGRzbGNGb250c0Ftb3VudCk7XG5cblx0XHRcdGlmICggISBkc2xjTWF0Y2hpbmdGb250ICkge1xuXG5cdFx0XHRcdGRzbGNGb250ID0gZHNsY1ZhbDtcblx0XHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtZm9udC1zdWdnZXN0JywgZHNsY09wdGlvbikuaGlkZSgpO1xuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRkc2xjRm9udCA9IGRzbGNNYXRjaGluZ0ZvbnQ7XG5cdFx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkLWZvbnQtc3VnZ2VzdCcsIGRzbGNPcHRpb24pLnNob3coKTtcblx0XHRcdH1cblxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtZm9udC1zdWdnZXN0JywgZHNsY09wdGlvbikudGV4dCggZHNsY0ZvbnQgKTtcblxuXHRcdFx0aWYgKCBkc2xjRm9udC5sZW5ndGggKXtcblxuXHRcdFx0XHRkc2xjRmllbGQudmFsKCBkc2xjRm9udC5zdWJzdHJpbmcoIDAgLCBkc2xjRmllbGQudmFsKCkubGVuZ3RoICkgKTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXG5cdC8vIEtleSBwcmVzcyAoIGVudGVyIClcblx0alF1ZXJ5KGRvY3VtZW50KS5vbiggJ2tleXByZXNzJywgJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC1mb250JywgZnVuY3Rpb24oZSkge1xuXG5cdFx0aWYgKCBlLndoaWNoID09IDEzICkge1xuXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdHZhciBkc2xjRmllbGQsIGRzbGNPcHRpb24sIGRzbGNWYWwsIGRzbGNNYXRjaGluZ0ZvbnQsIGRzbGNGb250O1xuXG5cdFx0XHRkc2xjRmllbGQgPSBqUXVlcnkodGhpcyk7XG5cdFx0XHRkc2xjT3B0aW9uID0gZHNsY0ZpZWxkLmNsb3Nlc3QoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24nKTtcblxuXHRcdFx0alF1ZXJ5KHRoaXMpLnZhbCggalF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtZm9udC1zdWdnZXN0JywgZHNsY09wdGlvbikudGV4dCgpICkudHJpZ2dlcignY2hhbmdlJyk7XG5cblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkLWZvbnQtc3VnZ2VzdCcsIGRzbGNPcHRpb24pLnRleHQoJycpO1xuXHRcdH1cblx0fSk7XG59XG5cbi8qXG4gKiBNT0RVTEVTIFNFVFRJTkdTIFBBTkVMIC0gQ2hhbmdlIGljb24gY29kZSBiYXNlZCBvbiBkaXJlY3Rpb24gKG5leHQvcHJldmlvdXMpXG4gKi9cbmZ1bmN0aW9uIGRzbGNfbGlzdF9pY29uKCBvYmplY3QsIGRpcmVjdGlvbiApIHtcblxuXHR2YXIgZHNsY09wdGlvbiA9IGpRdWVyeShvYmplY3QpLmNsb3Nlc3QoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24taWNvbicpO1xuXHR2YXIgZHNsY0ZpZWxkID0galF1ZXJ5KCAnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkLWljb24nLCBkc2xjT3B0aW9uICk7XG5cdHZhciBkc2xjQ3VyckluZGV4ID0gZHNsY0ljb25zQ3VycmVudFNldC5pbmRleE9mKCBkc2xjRmllbGQudmFsKCkgKTtcblxuXHRpZiAoIGRpcmVjdGlvbiA9PSAncHJldmlvdXMnICkge1xuXG5cdFx0dmFyIGRzbGNOZXdJbmRleCA9IGRzbGNDdXJySW5kZXggLSAxO1xuXHR9IGVsc2Uge1xuXG5cdFx0dmFyIGRzbGNOZXdJbmRleCA9IGRzbGNDdXJySW5kZXggKyAxO1xuXHR9XG5cblx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtaWNvbi1zdWdnZXN0JywgZHNsY09wdGlvbikudGV4dCgnJyk7XG5cblx0aWYgKCBkc2xjTmV3SW5kZXggPCAwICkge1xuXG5cdFx0ZHNsY05ld0luZGV4ID0gZHNsY0ljb25zQ3VycmVudFNldC5sZW5ndGggLSAxXG5cdH1cblxuXHRkc2xjRmllbGQudmFsKCBkc2xjSWNvbnNDdXJyZW50U2V0W2RzbGNOZXdJbmRleF0gKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbn1cblxuLyoqXG4gKiBNT0RVTEVTIFNFVFRJTkdTIFBBTkVMIC0gSWNvbiBvcHRpb24gdHlwZVxuICovXG5mdW5jdGlvbiBkc2xjX21vZHVsZV9vcHRpb25zX2ljb24oKSB7XG5cblx0Ly8gS2V5IFVwICggYXJyb3cgdXAsIGFycm93IGRvd24sIGVsc2UgKVxuXG5cdGpRdWVyeShkb2N1bWVudCkub24oICdrZXl1cCcsICcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtaWNvbicsIGZ1bmN0aW9uKGUpIHtcblxuXHRcdHZhciBkc2xjRmllbGQsIGRzbGNPcHRpb24sIGRzbGNWYWwsIGRzbGNJY29uc0FycmF5R3JlcCwgZHNsY0ljb247XG5cblx0XHRkc2xjRmllbGQgPSBqUXVlcnkodGhpcyk7XG5cdFx0ZHNsY09wdGlvbiA9IGRzbGNGaWVsZC5jbG9zZXN0KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uJyk7XG5cblx0XHQvLyBLZXkgcHJlc3NlZDogYXJyb3cgdXBcblx0XHRpZiAoIGUud2hpY2ggPT0gMzggKSB7XG5cblx0XHRcdGRzbGNfbGlzdF9pY29uKGRzbGNGaWVsZCwncHJldmlvdXMnKTtcblx0XHR9XG5cblx0XHQvLyBLZXkgcHJlc3NlZDogYXJyb3cgZG93blxuXHRcdGlmICggZS53aGljaCA9PSA0MCApIHtcblxuXHRcdFx0ZHNsY19saXN0X2ljb24oZHNsY0ZpZWxkLCduZXh0Jyk7XG5cdFx0fVxuXG5cdFx0aWYgKCBlLndoaWNoICE9IDEzICYmIGUud2hpY2ggIT0gMzggJiYgZS53aGljaCAhPSA0MCApIHtcblxuXHRcdFx0ZHNsY1ZhbCA9IGRzbGNGaWVsZC52YWwoKS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0ZHNsY0ZpZWxkLnZhbCggZHNsY1ZhbCApO1xuXG5cdFx0XHRkc2xjSWNvbnNBcnJheUdyZXAgPSBqUXVlcnkuZ3JlcChkc2xjSWNvbnNDdXJyZW50U2V0LCBmdW5jdGlvbih2YWx1ZSwgaSkge1xuXHRcdFx0XHRyZXR1cm4gKCB2YWx1ZS5pbmRleE9mKCBkc2xjVmFsICkgPT0gMCApO1xuXHRcdFx0fSk7XG5cblx0XHRcdGRzbGNJY29uID0gZHNsY0ljb25zQXJyYXlHcmVwWzBdO1xuXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC1pY29uLXN1Z2dlc3QnLCBkc2xjT3B0aW9uKS50ZXh0KCBkc2xjSWNvbiApO1xuXHRcdH1cblx0fSk7XG5cblx0Ly8gS2V5IFByZXNzICggRW50ZXIgKVxuXG5cdGpRdWVyeShkb2N1bWVudCkub24oICdrZXlwcmVzcycsICcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtaWNvbicsIGZ1bmN0aW9uKGUpIHtcblxuXHRcdGlmICggZS53aGljaCA9PSAxMyApIHtcblxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHR2YXIgZHNsY0ZpZWxkLCBkc2xjT3B0aW9uLCBkc2xjVmFsLCBkc2xjSWNvbnNBcnJheUdyZXAsIGRzbGNJY29uO1xuXG5cdFx0XHRkc2xjRmllbGQgPSBqUXVlcnkodGhpcyk7XG5cdFx0XHRkc2xjT3B0aW9uID0gZHNsY0ZpZWxkLmNsb3Nlc3QoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24nKTtcblxuXHRcdFx0alF1ZXJ5KHRoaXMpLnZhbCggalF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtaWNvbi1zdWdnZXN0JywgZHNsY09wdGlvbikudGV4dCgpICkudHJpZ2dlcignY2hhbmdlJyk7XG5cblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkLWljb24tc3VnZ2VzdCcsIGRzbGNPcHRpb24pLnRleHQoJycpO1xuXHRcdH1cblx0fSk7XG59XG5cbi8qKlxuICogTU9EVUxFUyBTRVRUSU5HUyBQQU5FTCAtIHJldHVybiBvcHRpb25zIGlkXG4gKi9cbmZ1bmN0aW9uIGRzbGNfbW9kdWxlX29wdGlvbnNfaWNvbl9yZXR1cm5pZCgpIHtcblxuXHRqUXVlcnkoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuZHNsY2Etb3Blbi1tb2RhbC1ob29rW2RhdGEtbW9kYWxePVwiLmRzbGMtbGlzdC1pY29uc1wiXScsIGZ1bmN0aW9uKGVsKSB7XG5cdFx0alF1ZXJ5KHRoaXMpLmNsb3Nlc3QoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24taWNvbicpLmZpbmQoJ2lucHV0JykuYWRkQ2xhc3MoJ2ljb24tbW9kYWwtYWN0aXZlJyk7XG5cdH0pO1xuXG5cdGpRdWVyeShkb2N1bWVudCkub24oJ2NsaWNrJywgJy5kc2xjYS1tb2RhbC1pY29ucyAuaWNvbi1pdGVtJywgZnVuY3Rpb24oZWwpIHtcblxuXHRcdC8vIEdldCBzZWxlY3RlZCBpdGVtIGNvZGVcblx0XHR2YXIgc2VsZWN0ZWRJY29uQ29kZSA9IGpRdWVyeSh0aGlzKS5maW5kKCcuaWNvbi1pdGVtX25hbWUnKS50ZXh0KCk7XG5cdFx0alF1ZXJ5KCdpbnB1dC5pY29uLW1vZGFsLWFjdGl2ZScpLnZhbChzZWxlY3RlZEljb25Db2RlKS5jaGFuZ2UoKTtcblxuXHRcdC8vIENsb3NlIG1vZGFsIHdpbmRvd1xuXHRcdGhpZGVNb2RhbCggJycsIGpRdWVyeSgnLmRzbGNhLW1vZGFsOnZpc2libGUnKSApO1xuXHRcdGpRdWVyeSgnaW5wdXQuaWNvbi1tb2RhbC1hY3RpdmUnKS5yZW1vdmVDbGFzcygnaWNvbi1tb2RhbC1hY3RpdmUnKTtcblx0fSk7XG59XG5cbi8qKlxuICogTU9EVUxFUyBTRVRUSU5HUyBQQU5FTCAtIFRleHQgYWxpZ24gb3B0aW9uIHR5cGVcbiAqL1xuZnVuY3Rpb24gZHNsY19tb2R1bGVfb3B0aW9uc190ZXh0X2FsaWduKCkge1xuXG5cdGpRdWVyeShkb2N1bWVudCkub24oICdjbGljaycsICcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uLXRleHQtYWxpZ24taG9vaycsIGZ1bmN0aW9uKCl7XG5cblx0XHR2YXIgbmV3T3B0ID0galF1ZXJ5KHRoaXMpLFxuXHRcdG90aGVyT3B0ID0galF1ZXJ5KHRoaXMpLmNsb3Nlc3QoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24tdGV4dC1hbGlnbi13cmFwcGVyJykuZmluZCgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi10ZXh0LWFsaWduLWhvb2snKSxcblx0XHRuZXdWYWwgPSBuZXdPcHQuZGF0YSgndmFsJyksXG5cdFx0cmVhbE9wdCA9IGpRdWVyeSh0aGlzKS5jbG9zZXN0KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uLXRleHQtYWxpZ24td3JhcHBlcicpLnNpYmxpbmdzKCdpbnB1dC5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZCcpO1xuXG5cdFx0b3RoZXJPcHQucmVtb3ZlQ2xhc3MoJ2RzbGNhLWFjdGl2ZScpO1xuXHRcdG5ld09wdC5hZGRDbGFzcygnZHNsY2EtYWN0aXZlJyk7XG5cblx0XHRyZWFsT3B0LnZhbCggbmV3VmFsICkudHJpZ2dlcignY2hhbmdlJyk7XG5cdH0pO1xufVxuXG4vKipcbiAqIE1PRFVMRVMgU0VUVElOR1MgUEFORUwgLSBDaGVja2JveCBPcHRpb24gVHlwZVxuICovXG5mdW5jdGlvbiBkc2xjX21vZHVsZV9vcHRpb25zX2NoZWNrYm94KCkge1xuXG5cdGpRdWVyeShkb2N1bWVudCkub24oICdjbGljaycsICcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uLWNoZWNrYm94LWhvb2ssIC5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tZWRpdC1vcHRpb24tY2hlY2tib3gtaG9vaycsIGZ1bmN0aW9uKCl7XG5cblx0XHR2YXIgY2hlY2tGYWtlID0galF1ZXJ5KHRoaXMpO1xuXHRcdHZhciBjaGVja1JlYWwgPSBjaGVja0Zha2Uuc2libGluZ3MoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpO1xuXG5cdFx0aWYgKCBjaGVja1JlYWwucHJvcCgnY2hlY2tlZCcpICkge1xuXHRcdFx0Y2hlY2tSZWFsLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XG5cdFx0XHRjaGVja0Zha2UuZmluZCgnLmRzbGNhLWljb24nKS5yZW1vdmVDbGFzcygnZHNsYy1pY29uLWNoZWNrJykuYWRkQ2xhc3MoJ2RzbGMtaWNvbi1jaGVjay1lbXB0eScpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjaGVja1JlYWwucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xuXHRcdFx0Y2hlY2tGYWtlLmZpbmQoJy5kc2xjYS1pY29uJykucmVtb3ZlQ2xhc3MoJ2RzbGMtaWNvbi1jaGVjay1lbXB0eScpLmFkZENsYXNzKCdkc2xjLWljb24tY2hlY2snKTtcblx0XHR9XG5cblx0XHRjaGVja1JlYWwuY2hhbmdlKCk7XG5cdH0pO1xufVxuXG4vKipcbiAqIE1PRFVMRVMgU0VUVElOR1MgUEFORUwgLSBCb3ggU2hhZG93IE9wdGlvbiBUeXBlXG4gKi9cbmZ1bmN0aW9uIGRzbGNfbW9kdWxlX29wdGlvbnNfYm94X3NoYWRvdygpIHtcblxuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2RzbGNfbW9kdWxlX29wdGlvbnNfYm94X3NoYWRvdycgKTtcblxuXHQvKipcblx0ICogVmFsdWUgQ2hhbmdlXG5cdCAqL1xuXG5cdGpRdWVyeShkb2N1bWVudCkub24oICdjaGFuZ2UnLCAnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi1ib3gtc2hhZG93LWhvciwgJytcblx0XHQnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi1ib3gtc2hhZG93LXZlciwgLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi1ib3gtc2hhZG93LWJsdXIsIC5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24tYm94LXNoYWRvdy1zcHJlYWQsJytcblx0XHQnIC5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24tYm94LXNoYWRvdy1jb2xvciwgLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi1ib3gtc2hhZG93LWluc2V0JywgZnVuY3Rpb24oKXtcblxuXHRcdHZhciBib3hTaGFkb3dXcmFwcGVyID0galF1ZXJ5KHRoaXMpLmNsb3Nlc3QoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24nKSxcblx0XHRib3hTaGFkb3dJbnB1dCA9IGJveFNoYWRvd1dyYXBwZXIuZmluZCgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkJyksXG5cdFx0Ym94U2hhZG93SG9yID0gYm94U2hhZG93V3JhcHBlci5maW5kKCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uLWJveC1zaGFkb3ctaG9yJykudmFsKCksXG5cdFx0Ym94U2hhZG93VmVyID0gYm94U2hhZG93V3JhcHBlci5maW5kKCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uLWJveC1zaGFkb3ctdmVyJykudmFsKCksXG5cdFx0Ym94U2hhZG93Qmx1ciA9IGJveFNoYWRvd1dyYXBwZXIuZmluZCgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi1ib3gtc2hhZG93LWJsdXInKS52YWwoKSxcblx0XHRib3hTaGFkb3dTcHJlYWQgPSBib3hTaGFkb3dXcmFwcGVyLmZpbmQoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24tYm94LXNoYWRvdy1zcHJlYWQnKS52YWwoKSxcblx0XHRib3hTaGFkb3dDb2xvciA9IGJveFNoYWRvd1dyYXBwZXIuZmluZCgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi1ib3gtc2hhZG93LWNvbG9yJykudmFsKCksXG5cdFx0Ym94U2hhZG93SW5zZXQgPSBib3hTaGFkb3dXcmFwcGVyLmZpbmQoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24tYm94LXNoYWRvdy1pbnNldCcpLmlzKCc6Y2hlY2tlZCcpO1xuXG5cdFx0aWYgKCBib3hTaGFkb3dJbnNldCApIHsgYm94U2hhZG93SW5zZXQgPSAnIGluc2V0JzsgfSBlbHNlIHsgYm94U2hhZG93SW5zZXQgPSAnJzsgfVxuXG5cdFx0dmFyIGJveFNoYWRvd1ZhbCA9IGJveFNoYWRvd0hvciArICdweCAnICsgYm94U2hhZG93VmVyICsgJ3B4ICcgKyBib3hTaGFkb3dCbHVyICsgJ3B4ICcgKyBib3hTaGFkb3dTcHJlYWQgKyAncHggJyArIGJveFNoYWRvd0NvbG9yICsgYm94U2hhZG93SW5zZXQ7XG5cblx0XHRib3hTaGFkb3dJbnB1dC52YWwoIGJveFNoYWRvd1ZhbCApLnRyaWdnZXIoJ2NoYW5nZScpO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBNT0RVTEVTIFNFVFRJTkdTIFBBTkVMIC0gVGV4dCBTaGFkb3cgT3B0aW9uIFR5cGVcbiAqL1xuZnVuY3Rpb24gZHNsY19tb2R1bGVfb3B0aW9uc190ZXh0X3NoYWRvdygpIHtcblxuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2RzbGNfbW9kdWxlX29wdGlvbnNfdGV4dF9zaGFkb3cnICk7XG5cblx0LyoqXG5cdCAqIFZhbHVlIENoYW5nZVxuXHQgKi9cblxuXHRqUXVlcnkoZG9jdW1lbnQpLm9uKCAnY2hhbmdlJywgJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24tdGV4dC1zaGFkb3ctaG9yLCAuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uLXRleHQtc2hhZG93LXZlciwnK1xuXHRcdCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uLXRleHQtc2hhZG93LWJsdXIsIC5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24tdGV4dC1zaGFkb3ctY29sb3InLCBmdW5jdGlvbigpe1xuXG5cdFx0dmFyIHRleHRTaGFkb3dXcmFwcGVyID0galF1ZXJ5KHRoaXMpLmNsb3Nlc3QoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24nKSxcblx0XHR0ZXh0U2hhZG93SW5wdXQgPSB0ZXh0U2hhZG93V3JhcHBlci5maW5kKCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQnKSxcblx0XHR0ZXh0U2hhZG93SG9yID0gdGV4dFNoYWRvd1dyYXBwZXIuZmluZCgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi10ZXh0LXNoYWRvdy1ob3InKS52YWwoKSxcblx0XHR0ZXh0U2hhZG93VmVyID0gdGV4dFNoYWRvd1dyYXBwZXIuZmluZCgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi10ZXh0LXNoYWRvdy12ZXInKS52YWwoKSxcblx0XHR0ZXh0U2hhZG93Qmx1ciA9IHRleHRTaGFkb3dXcmFwcGVyLmZpbmQoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24tdGV4dC1zaGFkb3ctYmx1cicpLnZhbCgpLFxuXHRcdHRleHRTaGFkb3dDb2xvciA9IHRleHRTaGFkb3dXcmFwcGVyLmZpbmQoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24tdGV4dC1zaGFkb3ctY29sb3InKS52YWwoKTtcblxuXHRcdHZhciB0ZXh0U2hhZG93VmFsID0gdGV4dFNoYWRvd0hvciArICdweCAnICsgdGV4dFNoYWRvd1ZlciArICdweCAnICsgdGV4dFNoYWRvd0JsdXIgKyAncHggJyArIHRleHRTaGFkb3dDb2xvcjtcblxuXHRcdHRleHRTaGFkb3dJbnB1dC52YWwoIHRleHRTaGFkb3dWYWwgKS50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0fSk7XG59XG5cbi8qKlxuICogTU9EVUxFUyBTRVRUSU5HUyBQQU5FTCAtIENvbG9yIE9wdGlvbiBUeXBlXG4gKi9cbmZ1bmN0aW9uIGRzbGNfbW9kdWxlX29wdGlvbnNfY29sb3IoIGZpZWxkICkge1xuXG5cdGlmICggd2luZG93LmRzbGNEZWJ1ZyApIGNvbnNvbGUubG9nKCAnZHNsY19tb2R1bGVfb3B0aW9uc19jb2xvcicgKTtcblxuXHR2YXIgZHNsY0NvbG9yRmllbGQsXG5cdGRzbGNBZmZlY3RPbkNoYW5nZUVsLFxuXHRkc2xjQWZmZWN0T25DaGFuZ2VSdWxlLFxuXHRkc2xjQ29sb3JGaWVsZFZhbCxcblx0ZHNsY01vZHVsZSxcblx0ZHNsY09wdGlvbklELFxuXHRkc2xjQ3VyckNvbG9yO1xuXG5cdC8qKlxuXHQgKiBDb2xvciBQYWxsZXRlLlxuXHQgKlxuXHQgKiBMYXN0IHRocmVlIHNlbGVjdGVkIGNvbG9ycyBnZXQgc3RvcmVkIGluIHRoZSBsb2NhbCBzdG9yYWdlXG5cdCAqIG9mIHRoZSBicm93c2VyIHVuZGVyIHRoZSBrZXkgJ2RzbGNDb2xvcnMtZXhhbXBsZS5jb20nLlxuXHQgKlxuXHQgKiBCZXNpZGUgbGF0ZXN0IHRocmVlIGN1c3RvbSBjb2xvcnMsIGNvbG9yIHBhbGV0dGUgaW5jbHVkZXNcblx0ICogdGhyZWUgcHJlZGVmaW5lZC9maXhlZCBjb2xvcnM6IHdoaXRlLCBibGFjayBhbmQgdHJhbnNwYXJlbnQuXG5cdCAqL1xuXG5cdHZhciBkc2xjQ29sb3JQYWxsZXRlID0gW10sXG5cdGN1cnJTdG9yYWdlLFxuXHRpbmRleDtcblxuXHR2YXIgcGFsbGV0ZUN1cnJlbnREb21tYWluID0gJ2RzbGNDb2xvcnMtJyArIGRvY3VtZW50LmRvbWFpblxuXG5cdC8vIEdldCB0aHJlZSByZWNlbnQgY29sb3JzIGZyb20gdGhlIGxvY2FsIHN0b3JhZ2UuXG5cdGlmICggdW5kZWZpbmVkICE9PSBsb2NhbFN0b3JhZ2VbIHBhbGxldGVDdXJyZW50RG9tbWFpbiBdICkge1xuXHRcdGN1cnJTdG9yYWdlID0gSlNPTi5wYXJzZSggbG9jYWxTdG9yYWdlWyBwYWxsZXRlQ3VycmVudERvbW1haW4gXSApO1xuXHRcdGRzbGNDb2xvclBhbGxldGUgPSBjdXJyU3RvcmFnZTtcblx0fVxuXG5cdC8vIFNldCBkZWZhdWx0IGNvbG9ycyBpZiBub3QgZW5vdWdoIGN1c3RvbSBjb2xvcnMuIFNob3VsZCBiZSBzaXguXG5cdGlmICggMSA+IGRzbGNDb2xvclBhbGxldGUubGVuZ3RoICkge1xuXHRcdGRzbGNDb2xvclBhbGxldGUucHVzaCggJyM3OGInICk7XG5cdH1cblxuXHRpZiAoIDIgPiBkc2xjQ29sb3JQYWxsZXRlLmxlbmd0aCApIHtcblx0XHRkc2xjQ29sb3JQYWxsZXRlLnB1c2goICcjYWIwJyApO1xuXHR9XG5cblx0aWYgKCAzID4gZHNsY0NvbG9yUGFsbGV0ZS5sZW5ndGggKSB7XG5cdFx0ZHNsY0NvbG9yUGFsbGV0ZS5wdXNoKCAnI2RlMycgKTtcblx0fVxuXG5cdC8vIEFkZCB0aGUgbmV4dCBcImZpeGVkXCIgY29sb3JzIHRvIHRoZSBlbmQgb2YgdGhlIHBhbGxldGUuXG5cdGRzbGNDb2xvclBhbGxldGUucHVzaCggJyNmZmYnICk7XG5cdGRzbGNDb2xvclBhbGxldGUucHVzaCggJyMwMDAnICk7XG5cdGRzbGNDb2xvclBhbGxldGUucHVzaCggJ3JnYmEoMCwwLDAsMCknICk7XG5cblx0dmFyIHF1ZXJ5ID0gZmllbGQ7XG5cblx0Ly8gRm9yIGVhY2ggY29sb3IgcGlja2VyIGlucHV0IGZpZWxkLlxuXHRqUXVlcnkocXVlcnkpLmVhY2goIGZ1bmN0aW9uKCl7XG5cblx0XHQvLyBTZXQgc2V0dGluZyB0aGUgY29ub3Ryb2wgd3JhcHBlci5cblx0XHR2YXIgd3JhcHBlciA9IGpRdWVyeSh0aGlzKS5jbG9zZXN0KCcuZHNsY2EtY29sb3Itb3B0aW9uJyk7XG5cdFx0dmFyIGlucHV0ID0galF1ZXJ5KHRoaXMpO1xuXG5cdFx0ZHNsY0N1cnJDb2xvciA9IGpRdWVyeSh0aGlzKS52YWwoKTtcblxuXHRcdC8qKlxuXHRcdCAqIEluaXQgc3RhbmRhcmQgV1AgY29sb3IgcGlja2VycyAoSXJpcykuXG5cdFx0ICpcblx0XHQgKiBTZWU6IGh0dHA6Ly9hdXRvbWF0dGljLmdpdGh1Yi5pby9JcmlzL1xuXHRcdCAqIFNlZTogaHR0cHM6Ly9naXRodWIuY29tLzIzcjlpMC93cC1jb2xvci1waWNrZXItYWxwaGFcblx0XHQgKi9cblx0XHRpbnB1dC53cENvbG9yUGlja2VyKHtcblx0XHRcdG1vZGU6ICdoc2wnLFxuXHRcdFx0cGFsZXR0ZXM6IGRzbGNDb2xvclBhbGxldGUsXG5cdFx0XHRjaGFuZ2U6IGZ1bmN0aW9uKGV2ZW50LCB1aSkge1xuXG5cdFx0XHRcdGNvbnNvbGUubG9nKCBcIndwQ29sb3JQaWNrZXIgPiBjaGFuZ2VcIiApO1xuXG5cdFx0XHRcdC8vIEB0b2RvOiBnZXQgdGhlIGNvZGUgYmVsb3cgaW50byBhIHNlcGFyYXRlIGZ1bmN0aW9uIVxuXHRcdFx0XHQvLyBUaGUgb3B0aW9uIGZpZWxkXG5cdFx0XHRcdGRzbGNDb2xvckZpZWxkID0gaW5wdXQ7XG5cblx0XHRcdFx0dmFyIGNvbG9yID0gaW5wdXQud3BDb2xvclBpY2tlcignY29sb3InKTtcblxuXHRcdFx0XHQvLyBUaGUgbmV3IGNvbG9yXG5cdFx0XHRcdGlmICggY29sb3IgPT0gbnVsbCApIHtcblx0XHRcdFx0XHRkc2xjQ29sb3JGaWVsZFZhbCA9ICcnO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRzbGNDb2xvckZpZWxkVmFsID0gY29sb3I7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBDaGFuZ2UgY3VycmVudCB2YWx1ZSBvZiBvcHRpb25cblx0XHRcdFx0ZHNsY0NvbG9yRmllbGQudmFsKCBkc2xjQ29sb3JGaWVsZFZhbCApLnRyaWdnZXIoJ2NoYW5nZScpO1xuXG5cdFx0XHRcdC8vIENoYW5nZSBpbnB1dCBmaWVsZCBiYWNrZ3JvdW5kLlxuXHRcdFx0XHRkc2xjQ29sb3JGaWVsZC5jc3MoJ2JhY2tncm91bmQnLCBkc2xjQ29sb3JGaWVsZFZhbCk7XG5cblx0XHRcdFx0Ly8gTGl2ZSBjaGFuZ2Vcblx0XHRcdFx0ZHNsY0FmZmVjdE9uQ2hhbmdlRWwgPSBkc2xjQ29sb3JGaWVsZC5kYXRhKCdhZmZlY3Qtb24tY2hhbmdlLWVsJyk7XG5cdFx0XHRcdGRzbGNBZmZlY3RPbkNoYW5nZVJ1bGUgPSBkc2xjQ29sb3JGaWVsZC5kYXRhKCdhZmZlY3Qtb24tY2hhbmdlLXJ1bGUnKTtcblxuXHRcdFx0XHRjb25zb2xlLmxvZyggXCJkc2xjQ29sb3JGaWVsZDpcIiApOyBjb25zb2xlLmxvZyggZHNsY0NvbG9yRmllbGQgKTtcblxuXHRcdFx0XHRjb25zb2xlLmxvZyggXCJkc2xjQWZmZWN0T25DaGFuZ2VFbDpcIiApOyBjb25zb2xlLmxvZyggZHNsY0FmZmVjdE9uQ2hhbmdlRWwgKTtcblx0XHRcdFx0Ly8gUk9XcyBkb2Vzbid0IGhhdmUgJ2RzbGNBZmZlY3RPbkNoYW5nZUVsJyBkZWZpbmVkXG5cdFx0XHRcdGlmICggbnVsbCAhPSBkc2xjQWZmZWN0T25DaGFuZ2VFbCAmJiAnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1iZWluZy1lZGl0ZWQnICE9PSBkc2xjQWZmZWN0T25DaGFuZ2VFbCApIHtcblx0XHRcdFx0XHRqUXVlcnkoIGRzbGNBZmZlY3RPbkNoYW5nZUVsICwgd2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQuZmluZCgnLmRzbGNhLW1vZHVsZS1iZWluZy1lZGl0ZWQnKSApLmNzcyggZHNsY0FmZmVjdE9uQ2hhbmdlUnVsZSAsIGRzbGNDb2xvckZpZWxkVmFsICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gVXBkYXRlIG9wdGlvblxuXHRcdFx0XHRkc2xjTW9kdWxlID0galF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWJlaW5nLWVkaXRlZCcsIHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KTtcblx0XHRcdFx0ZHNsY09wdGlvbklEID0gZHNsY0NvbG9yRmllbGQuZGF0YSgnaWQnKTtcblx0XHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLW9wdGlvbi1mcm9udFtkYXRhLWlkPVwiJyArIGRzbGNPcHRpb25JRCArICdcIl0nLCBkc2xjTW9kdWxlKS52YWwoIGRzbGNDb2xvckZpZWxkVmFsICk7XG5cblx0XHRcdFx0Ly8gQWRkIGNoYW5nZWQgY2xhc3Ncblx0XHRcdFx0ZHNsY01vZHVsZS5hZGRDbGFzcygnZHNsY2EtbW9kdWxlLWNoYW5nZS1tYWRlJyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHR2YXIgY29sb3JQaWNrZXJQb3B1cCA9IHdyYXBwZXIuZmluZCgnLndwLXBpY2tlci1ob2xkZXIgLmlyaXMtcGlja2VyJyk7XG5cdFx0Y29sb3JQaWNrZXJQb3B1cC5hcHBlbmQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiZHNsY2EtY29sb3JwaWNrZXItYXBwbHlcIj5BcHBseTwvYnV0dG9uPicpO1xuXG5cdFx0dmFyIGFwcGx5ID0gd3JhcHBlci5maW5kKCcuZHNsY2EtY29sb3JwaWNrZXItYXBwbHknKTtcblxuXHRcdGlucHV0LndwQ29sb3JQaWNrZXIoICdvcGVuJyApO1xuXG5cdFx0Ly8gSWYgW0FQUExZXSBidXR0b24gY2xpY2tlZC4uLlxuXHRcdGpRdWVyeShhcHBseSkub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIElmIG5ldyBjb2xvciBpcyBub3Qgb25lIG9mIHRoZSBcImZpeGVkXCIgY29sb3JzLi4uXG5cdFx0XHRpZiAoICcjZmZmJyAhPT0gZHNsY0NvbG9yRmllbGRWYWwgJiZcblx0XHRcdFx0ICAnI2ZmZmZmZicgIT09IGRzbGNDb2xvckZpZWxkVmFsICYmXG5cdFx0XHRcdCAgJyMwMDAnICE9PSBkc2xjQ29sb3JGaWVsZFZhbCAmJlxuXHRcdFx0XHQgICcjMDAwMDAwJyAhPT0gZHNsY0NvbG9yRmllbGRWYWwgJiZcblx0XHRcdFx0ICAncmdiYSgwLDAsMCwwKScgIT09IGRzbGNDb2xvckZpZWxkVmFsICkge1xuXG5cdFx0XHRcdC8vIFVwZGF0ZSBwYWxsZXRlIGNvbG9ycyBpbiB0aGUgbG9jYWwgc3RvcmFnZS5cblx0XHRcdFx0aWYgKCB1bmRlZmluZWQgPT09IGxvY2FsU3RvcmFnZVsgcGFsbGV0ZUN1cnJlbnREb21tYWluIF0gKSB7XG5cblx0XHRcdFx0XHQvLyBDcmVhdGUgbmV3IHJlY29yZCBpZiBubyBsb2NhbCBzdG9yYWdlIGZvdW5kLlxuXHRcdFx0XHRcdHZhciBuZXdTdG9yYWdlID0gWyBkc2xjQ29sb3JGaWVsZFZhbCBdO1xuXHRcdFx0XHRcdGxvY2FsU3RvcmFnZVsgcGFsbGV0ZUN1cnJlbnREb21tYWluIF0gPSBKU09OLnN0cmluZ2lmeShuZXdTdG9yYWdlKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0Ly8gVXBkYXRlIGV4aXN0aW5nIHJlY29yZCBpbiB0aGUgbG9jYWwgc3RvcmFnZS5cblx0XHRcdFx0XHR2YXIgbmV3U3RvcmFnZSA9IEpTT04ucGFyc2UoIGxvY2FsU3RvcmFnZVsgcGFsbGV0ZUN1cnJlbnREb21tYWluIF0gKTtcblxuXHRcdFx0XHRcdGlmICggbmV3U3RvcmFnZS5pbmRleE9mKCBkc2xjQ29sb3JGaWVsZFZhbCApID09IC0xICkge1xuXG5cdFx0XHRcdFx0XHQvLyBBZGQgbmV3IGNvbG9yIHRvIHRoZSBoZWFkIG9mIHRoZSBwYWxsZXRlIGFycmF5LlxuXHRcdFx0XHRcdFx0bmV3U3RvcmFnZS51bnNoaWZ0KCBkc2xjQ29sb3JGaWVsZFZhbCApO1xuXG5cdFx0XHRcdFx0XHRpZiAoIDMgPCBuZXdTdG9yYWdlLmxlbmd0aCApIHtcblx0XHRcdFx0XHRcdFx0Ly8gUmVtb3ZlIHRoZSBsYXN0IGNvbG9yIGZyb20gdGhlIHBhbGxldGUuXG5cdFx0XHRcdFx0XHRcdG5ld1N0b3JhZ2UucG9wKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0bG9jYWxTdG9yYWdlWyBwYWxsZXRlQ3VycmVudERvbW1haW4gXSA9IEpTT04uc3RyaW5naWZ5KG5ld1N0b3JhZ2UpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlucHV0LndwQ29sb3JQaWNrZXIoICdjbG9zZScgKTtcblx0XHR9KTtcblxuXHRcdC8vIFNhdmUgdGhpcyBlbGVtZW50IHRvIGRlc3Ryb3kgb24gcGFuZWwgY2xvc2VkLlxuXHRcdHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5IZWxwZXJzLmNvbG9ycGlja2Vycy5wdXNoKCBqUXVlcnkodGhpcykgKTtcblx0fSk7XG59XG5cbi8qKlxuICogTU9EVUxFUyBTRVRUSU5HUyBQQU5FTCAtIE51bWVyaWMgT3B0aW9uIFR5cGVcbiAqL1xuZnVuY3Rpb24gZHNsY19tb2R1bGVfb3B0aW9uc19udW1lcmljKCBmaWVsZFdyYXBwZXIgKSB7XG5cdGNvbnNvbGUubG9nKCAnZHNsY19tb2R1bGVfb3B0aW9uc19udW1lcmljJyApXG5cblx0aWYgKCB3aW5kb3cuZHNsY0RlYnVnICkgY29uc29sZS5sb2coICdkc2xjX21vZHVsZV9vcHRpb25zX251bWVyaWMnICk7XG5cblx0dmFyIHF1ZXJ5ID0gZmllbGRXcmFwcGVyOyAvLyB8fCAnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi1zbGlkZXInO1xuXG5cdGpRdWVyeShxdWVyeSkuZWFjaChmdW5jdGlvbigpe1xuXG5cdFx0dmFyIGNvbnRyb2xXcmFwcGVyID0galF1ZXJ5KHRoaXMpO1xuXG5cdFx0LyogQ3JlYXRlIGFuIGVtcHR5IGRpdiB0byBiZSB1c2VzIGJ5IGpRdWVyeSBhcyB0aGUgc2xpZGVyIGNvbnRhaW5lci4gKi9cblx0XHRpZiAoIDAgPT09IGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkLXNsaWRlcicsIGNvbnRyb2xXcmFwcGVyKS5sZW5ndGggKSB7XG5cdFx0XHRjb250cm9sV3JhcHBlci5hcHBlbmQoJzxkaXYgY2xhc3M9XCJkc2xjYS1tb2R1bGUtZWRpdC1maWVsZC1zbGlkZXJcIj48L2Rpdj4nKTtcblx0XHR9XG5cblx0XHR2YXIgd29ya2luZ1dpdGhNb2R1bGUgPSB0cnVlO1xuXG5cdFx0LyogSXMgdGhlIGNvbnRyb2wgcGFydCBvZiB0aGUgbW9kdWxlIHNldHRpbmcgcGFuZWwgb3Igc2VjdGlvbiBzZXR0aW5ncz8gKi9cblx0XHRpZiAoIGNvbnRyb2xXcmFwcGVyLmhhc0NsYXNzKCdkc2xjYS1tb2R1bGVzLXNlY3Rpb24tZWRpdC1vcHRpb24nKSApIHtcblx0XHRcdC8vIFdlIGFyZSB3b3JraW5nIHdpdGggc2VjaXRvbi5cblx0XHRcdHdvcmtpbmdXaXRoTW9kdWxlID0gZmFsc2U7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIFdlIGFyZSB3b3JraW5nIHdpdGggbW9kdWxlLlxuXHRcdFx0d29ya2luZ1dpdGhNb2R1bGUgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGlmICggd29ya2luZ1dpdGhNb2R1bGUgKSB7XG5cdFx0XHR2YXIgc2xpZGVySW5wdXQgPSBjb250cm9sV3JhcHBlci5maW5kKCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQnKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHNsaWRlcklucHV0ID0gY29udHJvbFdyYXBwZXIuZmluZCgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LWZpZWxkJyk7XG5cdFx0fVxuXG5cdFx0LyogSXMgdGhlIGNvbnRyb2wgcGFydCBvZiB0aGUgbW9kdWxlIHNldHRpbmcgcGFuZWwgb3Igc2VjdGlvbiBzZXR0aW5ncz8gKi9cblx0XHRpZiAoIGNvbnRyb2xXcmFwcGVyLmhhc0NsYXNzKCdkc2xjYS1tb2R1bGVzLXNlY3Rpb24tZWRpdC1vcHRpb24nKSApIHtcblx0XHRcdC8vIFdlIGFyZSB3b3JraW5nIHdpdGggc2VjaXRvbi5cblx0XHRcdHZhciBzbGlkZXJJbnB1dCA9IGNvbnRyb2xXcmFwcGVyLmZpbmQoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tZWRpdC1maWVsZCcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBXZSBhcmUgd29ya2luZyB3aXRoIG1vZHVsZS5cblx0XHRcdHZhciBzbGlkZXJJbnB1dCA9IGNvbnRyb2xXcmFwcGVyLmZpbmQoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZCcpO1xuXHRcdH1cblxuXHRcdHZhciBzbGlkZXJFeHQgPSAnJyxcblx0XHRzbGlkZXJDb250cm9sID0gY29udHJvbFdyYXBwZXIuZmluZCgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkLXNsaWRlcicpLFxuXHRcdGN1cnJlbnRWYWwgICAgPSBwYXJzZUZsb2F0KCBzbGlkZXJJbnB1dC52YWwoKSApLFxuXG5cdFx0Ly8gTWF4IHZhbHVlLiBCeSBkZWZhdWx0IG1heCBpcyAxMDAuXG5cdFx0bWF4ID0gcGFyc2VGbG9hdCggc2xpZGVySW5wdXQuZGF0YSgnbWF4JykgKSxcblx0XHQvLyBNaW4gdmFsdWUuIEJ5IGRlZmF1bHQgbWluIGlzIDAuXG5cdFx0bWluID0gcGFyc2VGbG9hdCggc2xpZGVySW5wdXQuZGF0YSgnbWluJykgKSxcblx0XHQvLyBJbmNyZW1lbnQgdmFsdWUuIEJ5IGRlZmF1bHQgaW5jcmVtZW50IGlzIDEuXG5cdFx0aW5jID0gcGFyc2VGbG9hdCggc2xpZGVySW5wdXQuZGF0YSgnaW5jcmVtZW50JykgKSxcblx0XHQvLyBCYWNrdXAgdmFsdWVzLlxuXHRcdG1heF9vcmlnID0gbWF4LFxuXHRcdG1pbl9vcmlnID0gbWluO1xuXG5cdFx0LyoqXG5cdFx0ICogQ2hlY2sgaWYgdmFsdWUgY2FuJ3QgYmUgbmVnYXRpdmUgYWNjb3JkaW5nIHRvIG1vZHVsZSBzZXR0aW5ncy5cblx0XHQgKi9cblx0XHR2YXIgb25seXBvc2l0aXZlID0gZmFsc2U7XG5cblx0XHRpZiAoIHVuZGVmaW5lZCAhPT0gc2xpZGVySW5wdXQuZGF0YSgnb25seXBvc2l0aXZlJykgJiYgMSA9PT0gc2xpZGVySW5wdXQuZGF0YSgnb25seXBvc2l0aXZlJykgICkge1xuXHRcdFx0b25seXBvc2l0aXZlID0gdHJ1ZTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBJZiB0aGUgY3VycmVudCBzbGlkZXIgdmFsdWUgZ2V0cyB0byB0aGUgbWF4IG9yIG1pbixcblx0XHQgKiB3ZSBzZXQgbmV3ICd3aWRlcicgbWF4L21pbiB2YWx1ZXMuXG5cdFx0ICpcblx0XHQgKiBUaGlzIHdheSBzbGlkZXIgaGFzIG5vIGZpeGVkIHRvcCBvciBib3R0b20gbGltaXQgb25lIG9uZSBoYW5kXG5cdFx0ICogYW5kIHdvcmtzIHByZWNpc2UgZW5vdWdoIGZvciBib3RoIHNtYWxsIGFuZCBiaWcgdmFsdWVzLlxuXHRcdCAqL1xuXHRcdGlmICggY3VycmVudFZhbCA+PSBtYXggKSB7XG5cdFx0XHRtYXggPSBjdXJyZW50VmFsICogMjtcblx0XHR9XG5cblx0XHRpZiAoICEgb25seXBvc2l0aXZlICYmIGN1cnJlbnRWYWwgPD0gbWluICkge1xuXHRcdFx0bWluID0gY3VycmVudFZhbCAqIDI7XG5cdFx0fVxuXG5cdFx0c2xpZGVyQ29udHJvbC5zbGlkZXIoe1xuXHRcdFx0bWluIDogbWluLFxuXHRcdFx0bWF4IDogbWF4LFxuXHRcdFx0c3RlcDogaW5jLFxuXHRcdFx0dmFsdWU6IHNsaWRlcklucHV0LnZhbCgpLFxuXG5cdFx0XHRzbGlkZTogZnVuY3Rpb24oZXZlbnQsIHVpKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCBcInNsaWRlXCIgKTtcblxuXHRcdFx0XHRzbGlkZXJJbnB1dC52YWwoIHVpLnZhbHVlICsgc2xpZGVyRXh0ICk7XG5cdFx0XHRcdHNsaWRlcklucHV0LnRyaWdnZXIoJ2NoYW5nZScpO1xuXHRcdFx0fSxcblxuXHRcdFx0Y2hhbmdlOiBmdW5jdGlvbihldmVudCwgdWkpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coIFwiY2hhbmdlXCIgKTtcblxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICogSWYgdGhlIGN1cnJlbnQgc2xpZGVyIHZhbHVlIGdldHMgdG8gdGhlIG1heCBvciBtaW4sXG5cdFx0XHRcdCAqIHdlIHJlc2V0IHRoZSBzbGlkZXIgKGRlc3Ryb3kvY2FsbCBhZ2Fpbikgc28gc2NyaXB0IGFib3ZlXG5cdFx0XHRcdCAqIHNldCBuZXcgYmlnZ2VyIG1heC9taW4gdmFsdWVzLlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiBUaGlzIHdheSBzbGlkZXIgaGFzIG5vIHRvcCBvciBib3R0b20gbGltaXQgb25lIG9uZSBoYW5kXG5cdFx0XHRcdCAqIGFuZCBwcmVjaXNlIGVub3VnaCBmb3IgYm90aCBzbWFsbCBhbmQgYmlnIHZhbHVlcy5cblx0XHRcdFx0ICovXG5cdFx0XHRcdGlmICggdWkudmFsdWUgPj0gbWF4IHx8IHVpLnZhbHVlIDw9IG1pbiApIHtcblx0XHRcdFx0XHRzbGlkZXJDb250cm9sLnNsaWRlciggXCJkZXN0cm95XCIgKTtcblx0XHRcdFx0XHRkc2xjX21vZHVsZV9vcHRpb25zX251bWVyaWMoIGNvbnRyb2xXcmFwcGVyICk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHQvKlxuXHRcdFx0c3RvcDogZnVuY3Rpb24oIGV2ZW50LCB1aSApIHtcblx0XHRcdH0sXG5cdFx0XHRzdGFydDogZnVuY3Rpb24oIGV2ZW50LCB1aSApIHtcblx0XHRcdH1cblx0XHRcdCovXG5cdFx0fSk7XG5cblx0XHQvKipcblx0XHQgKiBPbmNlIHRoZSBzbGlkZXIgaW5pdGlhdGVkLCBzaG93IGl0IGluIEhUTUwuXG5cdFx0ICogU2xpZGVyIGNvbnRyb2wgaXMgaGlkZGVuIGJ5IGRlZmF1bHQuIFdlIHNob3cgaXQgb24gaG92ZXIgb25seS5cblx0XHQgKi9cblx0XHRzbGlkZXJDb250cm9sLnNob3coKTtcblxuXHRcdC8qIE9uIG1vdXNlIGxlYXZlOiBSZW1vdmUgZW1wdHkgRElWIGFuZCBkZXN0cm95IHRoZSBzbGlkZXIuICovXG5cdFx0alF1ZXJ5KGNvbnRyb2xXcmFwcGVyKS5vbignbW91c2VsZWF2ZScsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRpZiAoIHVuZGVmaW5lZCAhPT0gc2xpZGVyQ29udHJvbC5zbGlkZXIoICdpbnN0YW5jZScgKSApIHtcblx0XHRcdFx0alF1ZXJ5KHNsaWRlckNvbnRyb2wpLnNsaWRlciggJ2Rlc3Ryb3knICk7XG5cdFx0XHR9XG5cblx0XHRcdHNsaWRlckNvbnRyb2wucmVtb3ZlKCk7XG5cdFx0fSk7XG5cblxuXHRcdGlmKCBzbGlkZXJJbnB1dFswXS5jbGFzc0xpc3QuY29udGFpbnMoJ3NsaWRlci1pbml0aWF0ZWQnKSApIHJldHVybjtcblx0XHRzbGlkZXJJbnB1dFswXS5jbGFzc0xpc3QuYWRkKFwic2xpZGVyLWluaXRpYXRlZFwiKTtcblxuXHRcdHNsaWRlcklucHV0Lm9uKCdrZXl1cCcsIGZ1bmN0aW9uKGUpe1xuXG5cdFx0XHQvLyBJbiBzb21lIHJhcmUgY2FzZXMgd2UgaGF2ZSB0aGUgbmV4dCBlcnJvcjpcblx0XHRcdC8vIFR5cGVFcnJvcjogdW5kZWZpbmVkIGlzIG5vdCBhbiBvYmplY3QgKGV2YWx1YXRpbmcgJ2Eua2V5Lm1hdGNoJylcblx0XHRcdGlmICh1bmRlZmluZWQgPT09IGUpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTaGlmdCArIFVwL0Rvd25cblx0XHRcdGlmKCBlLnNoaWZ0S2V5ICkge1xuXG5cdFx0XHRcdGlmKCBlLmtleUNvZGUgPT0gMzggKSB7XG5cdFx0XHRcdFx0dGhpcy52YWx1ZSA9ICggcGFyc2VJbnQodGhpcy52YWx1ZSkgfHwgMCApICsgOTtcblx0XHRcdFx0XHRzbGlkZXJJbnB1dC50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmKCBlLmtleUNvZGUgPT0gNDAgKSB7XG5cdFx0XHRcdFx0dGhpcy52YWx1ZSA9ICggcGFyc2VJbnQodGhpcy52YWx1ZSkgKyAwICkgLSA5O1xuXHRcdFx0XHRcdHNsaWRlcklucHV0LnRyaWdnZXIoJ2NoYW5nZScpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEJhY2tzcGFjZSwgXCItXCJcblx0XHRcdGlmKCBlLmtleUNvZGUgPT0gOCB8fCBlLmtleUNvZGUgPT0gNDUgKSB7XG5cdFx0XHRcdHNsaWRlcklucHV0LnRyaWdnZXIoJ2NoYW5nZScpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBudW1iZXIga2V5IHByZXNzZWRcblx0XHRcdGlmICgoZS5rZXlDb2RlID49IDQ4ICYmIGUua2V5Q29kZSA8PSA1NykgfHwgKGUua2V5Q29kZSA+PSA5NiAmJiBlLmtleUNvZGUgPD0gMTA1KSkge1xuXHRcdFx0XHRzbGlkZXJJbnB1dC50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGNoYXJDb2RlID0gKGUud2hpY2gpID8gZS53aGljaCA6IGUua2V5Q29kZTtcblxuXHRcdFx0Ly9AdG9kbyBtb3JlIHdvcmsgaGVyZVxuXHRcdFx0aWYoICggKGNoYXJDb2RlID49IDQ4ICYmIGNoYXJDb2RlIDw9IDU3KSB8fCAoY2hhckNvZGUgPj0gOTYgJiYgY2hhckNvZGUgPD0gMTA1KSApICYmIGUua2V5Q29kZSAhPSA4ICYmIGUua2V5Q29kZSAhPSAzOSAmJiBlLmtleUNvZGUgIT0gMzcgJiYgZS5rZXlDb2RlICE9IDQ2ICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBzbGlkZXJJbnB1dC51bmJpbmQoJ2NoYW5nZScpO1xuXHRcdHNsaWRlcklucHV0Lm9uKCdjaGFuZ2UnLCBmdW5jdGlvbihlKXtcblxuXHRcdFx0aWYgKCBvbmx5cG9zaXRpdmUgJiYgdGhpcy52YWx1ZSA8IDAgKSB7XG5cdFx0XHRcdHRoaXMudmFsdWUgPSAwO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgY29udGFpbmVyV3JhcHBlcjtcblxuXHRcdFx0aWYgKCB3b3JraW5nV2l0aE1vZHVsZSApIHtcblx0XHRcdFx0Y29udGFpbmVyV3JhcHBlciA9IGpRdWVyeSggZS50YXJnZXQuY2xvc2VzdCgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi1zbGlkZXInKSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29udGFpbmVyV3JhcHBlciA9IGpRdWVyeSggZS50YXJnZXQuY2xvc2VzdCgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LW9wdGlvbi1zbGlkZXInKSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvKipcblx0XHRcdCAqIE1vdmUgdGhlIHNsaWRlciBuZWVkbGUgdG8gcmVmbGVjdCB0aGUgdmFsdWUgY2hhbmdlc1xuXHRcdFx0ICogbWFkZSB2aWEgZGlyZWN0IGlucHV0IG9mIHZpYSBrZXlib2FyZCBhcnJvdyBrZXlzLlxuXHRcdFx0ICovXG5cdFx0XHR2YXIgY3VycmVudFNsaWRlckluc3RhbmNlID0gY29udGFpbmVyV3JhcHBlci5maW5kKCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtc2xpZGVyJyk7XG5cdFx0XHRpZiAoIHVuZGVmaW5lZCAhPT0gY3VycmVudFNsaWRlckluc3RhbmNlLnNsaWRlciggJ2luc3RhbmNlJyApICkge1xuXHRcdFx0XHRjdXJyZW50U2xpZGVySW5zdGFuY2Uuc2xpZGVyKCAndmFsdWUnLCB0aGlzLnZhbHVlICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggd29ya2luZ1dpdGhNb2R1bGUgKSB7XG5cdFx0XHRcdC8vIEFkZCBjaGFuZ2VkIGNsYXNzIHRvIHRoZSBtb2R1bGUuXG5cdFx0XHRcdHZhciBtb2R1bGUgPSBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtYmVpbmctZWRpdGVkJywgd2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpO1xuXHRcdFx0XHRtb2R1bGUuYWRkQ2xhc3MoJ2RzbGNhLW1vZHVsZS1jaGFuZ2UtbWFkZScpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9KTsgLy8gLmVhY2hcbn1cblxuZnVuY3Rpb24gZHNsY19kaXNhYmxlX3Jlc3BvbnNpdmVfdmlldyAoKSB7XG5cdGpRdWVyeSgnaHRtbCcpLnJlbW92ZUNsYXNzKCdkc2xjLXJlc3BvbnNpdmUtcHJldmlldycpO1xuXHRqUXVlcnkoJ2JvZHknKS5yZW1vdmVDbGFzcygnZHNsYy1yZXMtYmlnIGRzbGMtcmVzLXNtYWxsZXItbW9uaXRvciBkc2xjLXJlcy1waG9uZSBkc2xjLXJlcy10YWJsZXQnKTtcblxufVxuXG5cbmZ1bmN0aW9uIGRzbGNfZmlsdGVyX21vZHVsZV9vcHRpb25zKCBzZWN0aW9uSUQgKSB7IGRzbGNfbW9kdWxlX29wdGlvbnNfc2VjdGlvbl9maWx0ZXIoIHNlY3Rpb25JRCApOyB9XG5mdW5jdGlvbiBkc2xjX2NvbmZpcm1fY2hhbmdlcyggY2FsbGJhY2sgKSB7IGRzbGNfbW9kdWxlX29wdGlvbnNfY29uZmlybV9jaGFuZ2VzKCBjYWxsYmFjayApOyB9XG5mdW5jdGlvbiBkc2xjX2NhbmNlbF9jaGFuZ2VzKCBjYWxsYmFjayApIHsgZHNsY19tb2R1bGVfb3B0aW9uc19jYW5jZWxfY2hhbmdlcyggY2FsbGJhY2sgKTsgfVxuZnVuY3Rpb24gZHNsY19pbml0X2NvbG9ycGlja2VyKCkgeyBkc2xjX21vZHVsZV9vcHRpb25zX2NvbG9yKCk7IH1cbmZ1bmN0aW9uIGRzbGNfaW5pdF9vcHRpb25zX3NsaWRlcigpIHsgZHNsY19tb2R1bGVfb3B0aW9uc19udW1lcmljKCk7IH1cbmZ1bmN0aW9uIGRzbGNfbW9kdWxlX2VkaXRfb3B0aW9uc19oaWRlc2hvd190YWJzKCkgeyBkc2xjX21vZHVsZV9vcHRpb25zX2hpZGVzaG93X3RhYnMoKTsgfSIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqXG4gKiA9IFRFTVBMQVRFUyA9XG4gKlxuICogLSBkc2xjX2xvYWRfdGVtcGxhdGUgKCBMb2FkIFRlbXBsYXRlIClcbiAqIC0gZHNsY19pbXBvcnRfdGVtcGxhdGUgKCBJbXBvcnQgVGVtcGxhdGUgKVxuICogLSBkc2xjX3NhdmVfdGVtcGxhdGUgKCBTYXZlIFRFbXBsYXRlIClcbiAqIC0gZHNsY19kZWxldGVfdGVtcGxhdGUgKCBEZWxldGUgVGVtcGxhdGUgKVxuICpcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IHsgc2VjdGlvbnNJbml0SlMgfSBmcm9tICcuL3NlY3Rpb25zLmpzJztcbmltcG9ydCB7IGRyYWdBbmREcm9wSW5pdCB9IGZyb20gJy4vZHJhZ25kcm9wLmpzJztcbmltcG9ydCB7IG1vZHVsZWFyZWFzSW5pdEpTIH0gZnJvbSAnLi9tb2R1bGVhcmVhLmpzJztcbmltcG9ydCB7IGhpZGVNb2RhbCB9IGZyb20gXCIuL21vZGFsd2luZG93LmpzXCI7XG5cbi8qKlxuICogVEVNUExBVEVTIC0gTG9hZFxuICovXG5jb25zdCBsb2FkVGVtcGxhdGVCeUlkID0gKCB0ZW1wbGF0ZSApID0+IHtcblxuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2RzbGNfbG9hZF90ZW1wbGF0ZScgKTtcblxuXHQvLyBWYXJzXG5cdHZhciBkc2xjTW9kdWxlLCBkc2xjTW9kdWxlSUQ7XG5cblx0Ly8gVGVtcGxhdGUgcHJlbG9hZGVyXG5cdGpRdWVyeSgnI3dwY29udGVudCcpLnByZXBlbmQoJzxkaXYgY2xhc3M9XCJsYy10ZW1wbGF0ZS1sb2FkZXJcIj48L2Rpdj4nKTtcblxuXHR2YXIgYmxvY2sgPSAnPGRpdiBjbGFzcz1cImxjLWxvYWRlciBsZHMtY3NzXCI+PGRpdiBjbGFzcz1cImxkcy1zcGlubmVyXCI+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PjxkaXY+PC9kaXY+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PjxkaXY+PC9kaXY+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PjxkaXY+PC9kaXY+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PjxkaXY+PC9kaXY+PC9kaXY+JztcblxuXHRqUXVlcnkoJy5sYy10ZW1wbGF0ZS1sb2FkZXInKS5wcmVwZW5kKGJsb2NrKTtcblxuXG5cdC8vIEFqYXggY2FsbCB0byBnZXQgdGVtcGxhdGUncyBIVE1MXG5cdGpRdWVyeS5wb3N0KFxuXG5cdFx0RFNMQ0FqYXguYWpheHVybCxcblx0XHR7XG5cdFx0XHRhY3Rpb24gOiAnZHNsYy1hamF4LWxvYWQtdGVtcGxhdGUnLFxuXHRcdFx0ZHNsYyA6ICdhY3RpdmUnLFxuXHRcdFx0ZHNsY190ZW1wbGF0ZV9pZCA6IHRlbXBsYXRlXG5cdFx0fSxcblx0XHRmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cblx0XHRcdC8vIEFwcGx5IHRoZSB0ZW1wbGF0ZSdzIEhUTUxcblx0XHRcdGpRdWVyeSgnI2RzbGMtbWFpbicsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLmh0bWwoIHJlc3BvbnNlLm91dHB1dCApO1xuXG5cdFx0XHRqUXVlcnkoJy5sYy10ZW1wbGF0ZS1sb2FkZXInKS5yZW1vdmUoKTtcblxuXHRcdFx0Ly8gQ2FsbCBvdGhlciBmdW5jdGlvbnNcblx0XHRcdExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhV2luZG93LmRzbGNfY2Fyb3VzZWwoKTtcblxuXHRcdFx0Ly8gQ2hlY2sgaW5pdCBmb3Igcm93cyBhbmQgbW9kdWxlIGFyZWFzXG5cdFx0XHRzZWN0aW9uc0luaXRKUygpO1xuXHRcdFx0bW9kdWxlYXJlYXNJbml0SlMoKTtcblxuXHRcdFx0ZHJhZ0FuZERyb3BJbml0KCk7XG5cdFx0XHR3aW5kb3cuZHNsY19zaG93X3B1Ymxpc2hfYnV0dG9uKCk7XG5cdFx0XHR3aW5kb3cuZHNsY19nZW5lcmF0ZV9jb2RlKCk7XG5cdFx0fVxuXHQpO1xufVxuXG4vKipcbiAqIFRFTVBMQVRFUyAtIEltcG9ydFxuICovXG5mdW5jdGlvbiBkc2xjX3RlbXBsYXRlX2ltcG9ydCgpIHtcblxuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2RzbGNfaW1wb3J0X3RlbXBsYXRlJyApO1xuXG5cdC8vIFZhcnNcblx0dmFyIGRzbGNNb2R1bGUsIGRzbGNNb2R1bGVJRDtcblxuXHQvLyBIaWRlIHRoZSB0aXRsZSBvbiB0aGUgYnV0dG9uIGFuZCBzaG93IGxvYWRpbmcgYW5pbWF0aW9uXG5cdGpRdWVyeSgnLmRzbGNhLW1vZGFsLXRlbXBsYXRlcy1pbXBvcnQgLmRzbGNhLW1vZGFsLXRpdGxlJykuY3NzKHsgb3BhY2l0eSA6IDAgfSk7XG5cdGpRdWVyeSgnLmRzbGNhLW1vZGFsLXRlbXBsYXRlcy1pbXBvcnQgLmRzbGNhLWxvYWRpbmcnKS5zaG93KCk7XG5cblx0Ly8gQWpheCBjYWxsIHRvIGxvYWQgdGVtcGxhdGUncyBIVE1MXG5cdGpRdWVyeS5wb3N0KFxuXG5cdFx0RFNMQ0FqYXguYWpheHVybCxcblx0XHR7XG5cdFx0XHRhY3Rpb24gOiAnZHNsYy1hamF4LWltcG9ydC10ZW1wbGF0ZScsXG5cdFx0XHRkc2xjIDogJ2FjdGl2ZScsXG5cdFx0XHRkc2xjX3RlbXBsYXRlX2NvZGUgOiBqUXVlcnkoJyNkc2xjYS1pbXBvcnQtY29kZScpLnZhbCgpXG5cdFx0fSxcblx0XHRmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cblx0XHRcdC8vIEFwcGx5IHRoZSB0ZW1wbGF0ZSdzIEhUTUxcblx0XHRcdGpRdWVyeSgnI2RzbGMtbWFpbicsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLmh0bWwoIHJlc3BvbnNlLm91dHB1dCApO1xuXG5cdFx0XHQvLyBIaWRlIHRoZSBsb2FkaW5nIG9uIHRoZSBidXR0b24gYW5kIHNob3cgdGhlIHRpdGxlXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2RhbC10ZW1wbGF0ZXMtaW1wb3J0IC5kc2xjYS1sb2FkaW5nJykuaGlkZSgpO1xuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kYWwtdGVtcGxhdGVzLWltcG9ydCAuZHNsY2EtbW9kYWwtdGl0bGUnKS5jc3MoeyBvcGFjaXR5IDogMSB9KTtcblxuXHRcdFx0Ly8gSGlkZSB0aGUgbW9kYWxcblx0XHRcdGhpZGVNb2RhbCggJycsICcuZHNsY2EtbW9kYWwtdGVtcGxhdGVzLWltcG9ydCcgKTtcblxuXHRcdFx0Ly8gQ2FsbCBvdGhlciBmdW5jdGlvbnNcblx0XHRcdExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhV2luZG93LmRzbGNfYmdfdmlkZW8oKTtcblx0XHRcdGRyYWdBbmREcm9wSW5pdCgpO1xuXHRcdFx0d2luZG93LmRzbGNfc2hvd19wdWJsaXNoX2J1dHRvbigpO1xuXHRcdFx0d2luZG93LmRzbGNfZ2VuZXJhdGVfY29kZSgpO1xuXHRcdH1cblx0KTtcbn1cblxuLyoqXG4gKiBURU1QTEFURVMgLSBTQVZFXG4gKi9cbmZ1bmN0aW9uIGRzbGNfdGVtcGxhdGVfc2F2ZSgpIHtcblxuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2RzbGNfc2F2ZV90ZW1wbGF0ZScgKTtcblxuXHQvLyBBSkFYIGNhbGwgdG8gc2F2ZSB0aGUgdGVtcGxhdGVcblx0alF1ZXJ5LnBvc3QoXG5cblx0XHREU0xDQWpheC5hamF4dXJsLFxuXHRcdHtcblx0XHRcdGFjdGlvbiA6ICdkc2xjLWFqYXgtc2F2ZS10ZW1wbGF0ZScsXG5cdFx0XHRkc2xjIDogJ2FjdGl2ZScsXG5cdFx0XHRkc2xjX3RlbXBsYXRlX2NvZGUgOiBqUXVlcnkoJyNkc2xjYS1jb2RlJykudmFsKCksXG5cdFx0XHRkc2xjX3RlbXBsYXRlX3RpdGxlIDogalF1ZXJ5KCcjZHNsY2Etc2F2ZS10ZW1wbGF0ZS10aXRsZScpLnZhbCgpXG5cdFx0fSxcblx0XHRmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cblx0XHRcdC8vIEhpZGUgdGhlIG1vZGFsXG5cdFx0XHRoaWRlTW9kYWwoICcnLCAnLmRzbGNhLW1vZGFsLXRlbXBsYXRlcy1zYXZlJyApO1xuXHRcdH1cblx0KTtcbn1cblxuLyoqXG4gKiBURU1QTEFURVMgLSBERUxFVEVcbiAqL1xuZnVuY3Rpb24gZHNsY190ZW1wbGF0ZV9kZWxldGUoIHRlbXBsYXRlICkge1xuXG5cdGlmICggd2luZG93LmRzbGNEZWJ1ZyApIGNvbnNvbGUubG9nKCAnZHNsY19kZWxldGVfdGVtcGxhdGUnICk7XG5cblx0Ly8gQUpBWCBjYWxsIHRvIGRlbGV0ZSB0ZW1wbGF0ZVxuXHRqUXVlcnkucG9zdChcblxuXHRcdERTTENBamF4LmFqYXh1cmwsXG5cdFx0e1xuXHRcdFx0YWN0aW9uIDogJ2RzbGMtYWpheC1kZWxldGUtdGVtcGxhdGUnLFxuXHRcdFx0ZHNsYyA6ICdhY3RpdmUnLFxuXHRcdFx0ZHNsY190ZW1wbGF0ZV9pZCA6IHRlbXBsYXRlXG5cdFx0fSxcblx0XHRmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cblx0XHRcdC8vIFJlbW92ZSB0ZW1wbGF0ZSBmcm9tIHRoZSB0ZW1wbGF0ZSBsaXN0aW5nXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS10ZW1wbGF0ZVtkYXRhLWlkPVwiJyArIHRlbXBsYXRlICsgJ1wiXScpLmZhZGVPdXQoMjAwLCBmdW5jdGlvbigpe1xuXHRcdFx0XHRqUXVlcnkodGhpcykucmVtb3ZlKCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdCk7XG59XG5cbi8qKlxuICogRGVwcmVjYXRlZCBGdW5jdGlvbnMgYW5kIEZhbGxiYWNrc1xuICovXG4gZnVuY3Rpb24gZHNsY19pbXBvcnRfdGVtcGxhdGUoKSB7IGRzbGNfdGVtcGxhdGVfaW1wb3J0KCk7IH1cbiBmdW5jdGlvbiBkc2xjX3NhdmVfdGVtcGxhdGUoKSB7IGRzbGNfdGVtcGxhdGVfc2F2ZSgpOyB9XG4gZnVuY3Rpb24gZHNsY19kZWxldGVfdGVtcGxhdGUoIHRlbXBsYXRlICkgeyBkc2xjX3RlbXBsYXRlX2RlbGV0ZSggdGVtcGxhdGUgKTsgfVxuXG4gLyoqXG4gICogVEVNUExBVEVTIC0gRG9jdW1lbnQgUmVhZHlcbiAgKi9cblxuIGV4cG9ydCBjb25zdCB0ZW1wbGF0ZXNQYW5lbEluaXQgPSAoKSA9PiB7XG5cblx0LyoqXG5cdCAqIEhvb2sgLSBMb2FkIFRlbXBsYXRlXG5cdCAqL1xuXHRsZXQgdGVtcGxhdGVJdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRzbGNhLXRlbXBsYXRlJyk7XG5cdC8vIEF0dGFjaCBpbXBvcnQgZnVuY3Rpb24gdG8gZWFjaCB0ZW1wbGF0ZSBpdGVtLlxuXHR0ZW1wbGF0ZUl0ZW0uZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7XG5cdFx0ZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV2ZW50ID0+IHtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRsZXQgaW1wb3J0QnV0dG9uID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoXCJbZGF0YS1pZF1cIik7XG5cdFx0XHRsb2FkVGVtcGxhdGVCeUlkKCBpbXBvcnRCdXR0b24uZGF0YXNldC5pZCApO1xuXHRcdH0pO1xuXHR9KTtcblxuXHQvKipcblx0ICogSG9vayAtIEltcG9ydCBUZW1wbGF0ZVxuXHQgKi9cblx0alF1ZXJ5KCcuZHNsY2EtdGVtcGxhdGUtaW1wb3J0LWZvcm0nKS5zdWJtaXQoZnVuY3Rpb24oZSl7XG5cblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0ZHNsY190ZW1wbGF0ZV9pbXBvcnQoKTtcblx0fSk7XG5cblx0LyoqXG5cdCAqIEhvb2sgLSBTYXZlIFRlbXBsYXRlXG5cdCAqL1xuXHRqUXVlcnkoJy5kc2xjYS10ZW1wbGF0ZS1zYXZlLWZvcm0nKS5zdWJtaXQoZnVuY3Rpb24oZSl7XG5cblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0ZHNsY190ZW1wbGF0ZV9zYXZlKCk7XG5cdH0pO1xuXG5cdC8qKlxuXHQgKiBIb29rIC0gRGVsZXRlIFRlbXBsYXRlXG5cdCAqL1xuXHRqUXVlcnkoZG9jdW1lbnQpLm9uKCAnY2xpY2snLCAnLmRzbGNhLWRlbGV0ZS10ZW1wbGF0ZS1ob29rJywgZnVuY3Rpb24oZSl7XG5cblx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdGRzbGNfdGVtcGxhdGVfZGVsZXRlKCBqUXVlcnkodGhpcykuZGF0YSgnaWQnKSApO1xuXHR9KTtcblxufVxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICpcbiAqID0gVUkgLSBHRU5FUkFMID1cbiAqXG4gKiAtIGRzbGNfaGlkZV9jb21wb3NlciAoIEhpZGVzIHRoZSBjb21wb3NlciBlbGVtZW50cyApXG4gKiAtIGRzbGNfc2hvd19jb21wb3NlciAoIFNob3dzIHRoZSBjb21wb3NlciBlbGVtZW50cyApXG4gKiAtIGRzbGNfc2hvd19wdWJsaXNoX2J1dHRvbiAoIFNob3dzIHRoZSBwdWJsaXNoIGJ1dHRvbiApXG4gKiAtIGRzbGNfc2hvd19zZWN0aW9uIG5vdyBzaG93U2VjdGlvbiAoIFNob3cgYSBzcGVjaWZpYyBzZWN0aW9uIClcbiAqIC0gZHNsY19nZW5lcmF0ZV9maWx0ZXJzICggR2VuZXJhdGUgb3JpZ2luIGZpbHRlcnMgKVxuICogLSBkc2xjX2ZpbHRlcl9vcmlnaW4gKCBPcmlnaW4gZmlsdGVyaW5nIGZvciB0ZW1wbGF0ZXMvbW9kdWxlcyBsaXN0aW5nIClcbiAqIC0gZHJhZ0FuZERyb3BJbml0ICggSW5pdGlhdGUgZHJhZyBhbmQgZHJvcCBmdW5jdGlvbmFsaXR5IClcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IHsgZWxlbWVudE9wdGlvbnNUYWJzIH0gZnJvbSAnLi9zZXR0aW5ncy5wYW5lbC5qcyc7XG5pbXBvcnQgeyBDTW9kYWxXaW5kb3cgfSBmcm9tICcuL21vZGFsd2luZG93LmNsYXNzLmpzJztcblxuaW1wb3J0IFNvcnRhYmxlIGZyb20gJ3NvcnRhYmxlanMnO1xuXG4vKipcbiAqIFRyeSB0byBkZXRlY3QgSlMgZXJyb3JzIGluIFdQIEFkbWluIHBhcnQuXG4gKi9cbiB3aW5kb3cub25lcnJvciA9IGZ1bmN0aW9uKCBlcnJvciwgZmlsZSwgbGluZSwgY2hhciApIHtcblxuXHRkc2xjYV9nZW5lcmF0ZV9lcnJvcl9yZXBvcnQgKCBlcnJvciwgZmlsZSwgbGluZSwgY2hhciApO1xufVxuXG4vKipcbiAqIEhvb2sgLSBPcGVuIEVycm9yIExvZyBidXR0b25cbiAqL1xualF1ZXJ5KGRvY3VtZW50KS5vbiggJ2NsaWNrJywgJy5kc2xjYS1zaG93LWpzLWVycm9yLWhvb2snLCBmdW5jdGlvbihlKXtcblxuXHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0dmFyIGVycm9yc19jb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHNsY2EtanMtZXJyb3JzLXJlcG9ydCcpO1xuXG5cdGlmICggISBqUXVlcnkoJ2JvZHknKS5oYXNDbGFzcygnZHNsY2Etc2F2aW5nLWluLXByb2dyZXNzJykgKSB7XG5cblx0XHRDTW9kYWxXaW5kb3coe1xuXG5cdFx0XHR0aXRsZTogJzxhIGhyZWY9XCJodHRwczovL2xpdmVjb21wb3NlcnBsdWdpbi5jb20vc3VwcG9ydC9cIiB0YXJnZXQ9XCJfYmxhbmtcIj48c3BhbiBjbGFzcz1cImRzbGNhLWljb24gZHNsYy1pY29uLWNvbW1lbnRcIj48L3NwYW4+ICZuYnNwOyBHZXQgU3VwcG9ydCBJbmZvPC9hPicsXG5cdFx0XHRjb250ZW50OiAnPHNwYW4gY2xhc3M9XCJkc2xjYS1lcnJvci1yZXBvcnRcIj4nICsgZXJyb3JzX2NvbnRhaW5lci52YWx1ZSArICc8L3NwYW4+Jyxcblx0XHR9KTtcblx0fVxufSk7XG5cblxuLyoqXG4gKiBVSSAtIEdFTkVSQUwgLSBEb2N1bWVudCBSZWFkeVxuICovXG5cbmpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCkge1xuXG5cdC8qKlxuXHQgKiBUcnkgdG8gZGV0ZWN0IEpTIGVycm9ycyBpbiBwcmV2aWV3IGFyZWEuXG5cdCAqL1xuXHRqUXVlcnkoXCIjcGFnZS1idWlsZGVyLWZyYW1lXCIpWzBdLmNvbnRlbnRXaW5kb3cub25lcnJvciA9IGZ1bmN0aW9uKCBlcnJvciwgZmlsZSwgbGluZSwgY2hhciApIHtcblx0XHRkc2xjYV9nZW5lcmF0ZV9lcnJvcl9yZXBvcnQgKCBlcnJvciwgZmlsZSwgbGluZSwgY2hhciApO1xuXHR9XG5cblx0Ly8gUHV0IEpTIGVycm9yIGxvZyBkYXRhIGluIGEgaGlkZGVuIHRleHRhcmVhLlxuXHRkc2xjYV91cGRhdGVfcmVwb3J0X2xvZygpO1xuXG4gXHRqUXVlcnkoJ2JvZHknKS5hZGRDbGFzcygnZHNsY2EtZW5hYmxlZCBkc2xjYS1kcmFnLW5vdC1pbi1wcm9ncmVzcycpO1xuIFx0alF1ZXJ5KCcuZHNsY2EtaW52aXNpYmxlLW92ZXJsYXknKS5oaWRlKCk7XG4gXHRqUXVlcnkoJy5kc2xjYS1zZWN0aW9uJykuZXEoMCkuc2hvdygpO1xufSk7XG5cbi8qKlxuICogQWN0aW9uIC0gXCJDdXJyZW50bHkgRWRpdGluZ1wiIHNjcm9sbCBvbiBjbGlja1xuICovXG5cbmpRdWVyeShkb2N1bWVudCkub24oICdjbGljaycsICcuZHNsY2EtY3VycmVudGx5LWVkaXRpbmcnLCBmdW5jdGlvbigpe1xuXG5cdHZhciBhY3RpdmVFbGVtZW50ID0gZmFsc2UsXG5cdG5ld09mZnNldCA9IGZhbHNlLFxuXHRvdXRsaW5lQ29sb3I7XG5cblx0aWYgKCBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtYmVpbmctZWRpdGVkJywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkubGVuZ3RoICkge1xuXG5cdFx0YWN0aXZlRWxlbWVudCA9IGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1iZWluZy1lZGl0ZWQnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KTtcblx0XHRvdXRsaW5lQ29sb3IgPSAnIzU4OTBlNSc7XG5cblx0fSBlbHNlIGlmICggalF1ZXJ5KCcuZHNsY2EtbW9kdWxlcy1zZWN0aW9uLWJlaW5nLWVkaXRlZCcsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLmxlbmd0aCApIHtcblxuXHRcdGFjdGl2ZUVsZW1lbnQgPSBqUXVlcnkoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tYmVpbmctZWRpdGVkJywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCk7XG5cdFx0b3V0bGluZUNvbG9yID0gJyNlYWJiYTknO1xuXHR9XG5cblx0aWYgKCBhY3RpdmVFbGVtZW50ICkge1xuXHRcdG5ld09mZnNldCA9IGFjdGl2ZUVsZW1lbnQub2Zmc2V0KCkudG9wIC0gMTAwO1xuXHRcdGlmICggbmV3T2Zmc2V0IDwgMCApIHsgbmV3T2Zmc2V0ID0gMDsgfVxuXG5cdFx0dmFyIGNhbGxiYWNrcyA9IFtdO1xuXG5cdFx0alF1ZXJ5KCAnaHRtbCwgYm9keScsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQgKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiBuZXdPZmZzZXQgfSwgMzAwLCBmdW5jdGlvbigpe1xuXHRcdFx0YWN0aXZlRWxlbWVudC5yZW1vdmVBdHRyKCdzdHlsZScpO1xuXHRcdH0pO1xuXHR9XG5cbn0pO1xuXG4vKipcbiAqIFNhdmUgY29tcG9zZXIgY29kZSB3aXRoIENNRCtTIG9yIEN0cmwrU1xuICovXG5qUXVlcnkod2luZG93KS5rZXlwcmVzcyggZnVuY3Rpb24oZSl7XG5cblx0aWYgKChlLm1ldGFLZXkgfHwgZS5jdHJsS2V5KSAmJiBlLmtleUNvZGUgPT0gODMpIHtcblxuXHRcdGRzbGNfYWpheF9zYXZlX2NvbXBvc2VyKCk7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG5cdH1cbn0pO1xuXG4vKipcbiAqIEhvb2sgLSBIaWRlIENvbXBvc2VyXG4gKi9cblxualF1ZXJ5KGRvY3VtZW50KS5vbiggJ2NsaWNrJywgJy5kc2xjYS1oaWRlLWNvbXBvc2VyLWhvb2snLCBmdW5jdGlvbihlKXtcblxuXHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdGRzbGNfaGlkZV9jb21wb3NlcigpXG59KTtcblxuLyoqXG4gKiBIb29rIC0gU2hvdyBDb21wb3NlclxuICovXG5cbmpRdWVyeShkb2N1bWVudCkub24oICdjbGljaycsICcuZHNsY2Etc2hvdy1jb21wb3Nlci1ob29rJywgZnVuY3Rpb24oZSl7XG5cdGUucHJldmVudERlZmF1bHQoKTtcblx0ZHNsY19zaG93X2NvbXBvc2VyKCk7XG59KTtcblxuLyoqXG4gKiBIb29rIC0gU2VjdGlvbiBTaG93IC0gTW9kdWxlcyBMaXN0aW5nXG4gKi9cblxualF1ZXJ5KGRvY3VtZW50KS5vbiggJ2NsaWNrJywgJy5kc2xjYS1nby10by1tb2R1bGVzLWhvb2snLCBmdW5jdGlvbihlKXtcblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRzaG93U2VjdGlvbiggJy5kc2xjYS1tb2R1bGVzJyApO1xufSk7XG5cbi8qKlxuICogSG9vayAtIFNlY3Rpb24gU2hvdyAtIER5bmFtaWNcbiAqL1xuXG5qUXVlcnkoZG9jdW1lbnQpLm9uKCAnY2xpY2snLCAnLmRzbGNhLWdvLXRvLXNlY3Rpb24taG9vaycsIGZ1bmN0aW9uKGUpe1xuXG5cdGUucHJldmVudERlZmF1bHQoKTtcblxuXHQvLyBEbyBub3RoaW5nIGlmIGNsaWNrZWQgb24gYWN0aXZlIHRhYlxuXHRpZiAoIGpRdWVyeSh0aGlzKS5oYXNDbGFzcygnZHNsY2EtYWN0aXZlJykgKSB7XG5cblx0XHRyZXR1cm47XG5cdH1cblxuXHR2YXIgc2VjdGlvblRpdGxlID0galF1ZXJ5KHRoaXMpLmRhdGEoJ3NlY3Rpb24nKTtcblx0c2hvd1NlY3Rpb24oIHNlY3Rpb25UaXRsZSApO1xuXG5cdGlmICggalF1ZXJ5KHRoaXMpLmhhc0NsYXNzKCdkc2xjYS1nby10by1zZWN0aW9uLW1vZHVsZXMnKSB8fCBqUXVlcnkodGhpcykuaGFzQ2xhc3MoJ2RzbGNhLWdvLXRvLXNlY3Rpb24tdGVtcGxhdGVzJykgICkge1xuXG5cdFx0alF1ZXJ5KHRoaXMpLmFkZENsYXNzKCdkc2xjYS1hY3RpdmUnKS5zaWJsaW5ncygnLmRzbGNhLWdvLXRvLXNlY3Rpb24taG9vaycpLnJlbW92ZUNsYXNzKCdkc2xjYS1hY3RpdmUnKTtcblx0fVxufSk7XG5cbi8qKlxuICogSG9vayAtIENsb3NlIENvbXBvc2VyXG4gKi9cblxualF1ZXJ5KGRvY3VtZW50KS5vbiggJ2NsaWNrJywgJy5kc2xjYS1jbG9zZS1jb21wb3Nlci1ob29rJywgZnVuY3Rpb24oZSl7XG5cblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdHZhciByZWRpcmVjdF91cmwgPSBqUXVlcnkodGhpcykuYXR0cignaHJlZicpO1xuXG5cdGlmICggISBqUXVlcnkoJ2JvZHknKS5oYXNDbGFzcygnZHNsY2Etc2F2aW5nLWluLXByb2dyZXNzJykgJiYgalF1ZXJ5KCcuZHNsY2Etc2F2ZS1jb21wb3NlcicpLmlzKCc6dmlzaWJsZScpICkge1xuXHRcdC8vIFNob3cgd2FybmluZyBpZiBjaGFuZ2VzIHdlcmVuJ3Qgc2F2ZWQuXG5cdFx0Q01vZGFsV2luZG93KHtcblxuXHRcdFx0dGl0bGU6IERTTENTdHJpbmcuc3RyX2V4aXRfdGl0bGUsXG5cdFx0XHRjb250ZW50OiBEU0xDU3RyaW5nLnN0cl9leGl0X2Rlc2NyLFxuXHRcdFx0Y29uZmlybTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHdpbmRvdy5sb2NhdGlvbiA9IHJlZGlyZWN0X3VybDtcblx0XHRcdH1cblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHR3aW5kb3cubG9jYXRpb24gPSByZWRpcmVjdF91cmw7XG5cdH1cbn0pO1xuXG4vKipcbiAqIFN1Ym1pdCBGb3JtXG4gKi9cblxualF1ZXJ5KGRvY3VtZW50KS5vbiggJ2NsaWNrJywgJy5kc2xjYS1zdWJtaXQnLCBmdW5jdGlvbigpe1xuXG5cdGpRdWVyeSh0aGlzKS5jbG9zZXN0KCdmb3JtJykuc3VibWl0KCk7XG5cbn0pO1xuXG4vKipcbiAqIEhvb2sgLSBTaG93IE9yaWdpbiBGaWx0ZXJzXG4gKi9cblxualF1ZXJ5KGRvY3VtZW50KS5vbiggJ2NsaWNrJywgJy5kc2xjYS1zZWN0aW9uLXRpdGxlJywgZnVuY3Rpb24oZSl7XG5cblx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuXHRpZiAoIGpRdWVyeSgnLmRzbGNhLXNlY3Rpb24tdGl0bGUtZmlsdGVyJywgdGhpcykubGVuZ3RoICkge1xuXG5cdFx0ZHNsY19nZW5lcmF0ZV9maWx0ZXJzKCk7XG5cblx0XHQvLyBPcGVuIGZpbHRlciBwYW5lbFxuXHRcdGpRdWVyeSgnLmRzbGNhLXNlY3Rpb24tdGl0bGUtZmlsdGVyLW9wdGlvbnMnKS5zbGlkZVRvZ2dsZSgzMDApO1xuXHR9XG59KTtcblxuLyoqXG4gKiBIb29rIC0gQXBwbHkgRmlsdGVyIE9yaWdpblxuICovXG5cbmpRdWVyeShkb2N1bWVudCkub24oICdjbGljaycsICcuZHNsY2Etc2VjdGlvbi10aXRsZS1maWx0ZXItb3B0aW9ucyBhJywgZnVuY3Rpb24oZSl7XG5cblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG5cdHZhciBvcmlnaW4gPSBqUXVlcnkodGhpcykuZGF0YSgnb3JpZ2luJyk7XG5cdHZhciBzZWN0aW9uID0galF1ZXJ5KHRoaXMpLmNsb3Nlc3QoJy5kc2xjYS1zZWN0aW9uJyk7XG5cblx0aWYgKCBzZWN0aW9uLmhhc0NsYXNzKCdkc2xjYS10ZW1wbGF0ZXMtbG9hZCcpICkge1xuXG5cdFx0alF1ZXJ5KCcuZHNsY2Etc2VjdGlvbi10aXRsZS1maWx0ZXItY3VycicsIHNlY3Rpb24pLnRleHQoIGpRdWVyeSh0aGlzKS50ZXh0KCkpO1xuXHR9IGVsc2Uge1xuXG5cdFx0alF1ZXJ5KCcuZHNsY2Etc2VjdGlvbi10aXRsZS1maWx0ZXItY3VycicsIHNlY3Rpb24pLnRleHQoIGpRdWVyeSh0aGlzKS50ZXh0KCkpO1xuXHR9XG5cblx0alF1ZXJ5KCcuZHNsY2Etc2VjdGlvbi1zY3JvbGxlci1pbm5lcicpLmNzcyh7IGxlZnQgOiAwIH0pO1xuXG5cdGRzbGNfZmlsdGVyX29yaWdpbiggb3JpZ2luLCBzZWN0aW9uICk7XG5cblx0Ly8gQ2xvc2UgZmlsdGVyIHBhbmVsXG5cdGpRdWVyeSgnLmRzbGNhLXNlY3Rpb24tdGl0bGUtZmlsdGVyLW9wdGlvbnMnKS5zbGlkZVRvZ2dsZSgzMDApO1xufSk7XG5cblxuLyoqXG4gKiBVSSAtIEdFTkVSQUwgLSBIaWRlIENvbXBvc2VyXG4gKi9cblxuZnVuY3Rpb24gZHNsY19oaWRlX2NvbXBvc2VyKCkge1xuXG5cdGlmICggd2luZG93LmRzbGNEZWJ1ZyApIGNvbnNvbGUubG9nKCAnZHNsY19oaWRlX2NvbXBvc2VyJyApO1xuXG5cdC8vIEhpZGUgXCJoaWRlXCIgYnV0dG9uIGFuZCBzaG93IFwic2hvd1wiIGJ1dHRvblxuXHRqUXVlcnkoJy5kc2xjYS1oaWRlLWNvbXBvc2VyLWhvb2snKS5oaWRlKCk7XG5cdGpRdWVyeSgnLmRzbGNhLXNob3ctY29tcG9zZXItaG9vaycpLnNob3coKTtcblxuXHQvLyBBZGQgY2xhc3MgdG8ga25vdyBpdCdzIGhpZGRlblxuXHRqUXVlcnkoJ2JvZHknKS5hZGRDbGFzcygnZHNsY2EtY29tcG9zZXItaGlkZGVuJyk7XG5cdGpRdWVyeSgnYm9keScsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLmFkZENsYXNzKCdkc2xjYS1jb21wb3Nlci1oaWRkZW4nKTtcblx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuRmxhZ3MudWlIaWRkZW4gPSB0cnVlO1xuXG5cblx0Ly8gSGlkZSAoIGFuaW1hdGlvbiApIHRoZSBtYWluIGNvbXBvc2VyIGFyZWEgKCBhdCB0aGUgYm90dG9tIClcblx0alF1ZXJ5KCcuZHNsY2EtY29udGFpbmVyJykuY3NzKHsgYm90dG9tIDogalF1ZXJ5KCcuZHNsY2EtY29udGFpbmVyJykub3V0ZXJIZWlnaHQoKSAqIC0xIH0pO1xuXG5cdC8vIEhpZGUgdGhlIGhlYWRlciAgcGFydCBvZiB0aGUgbWFpbiBjb21wb3NlciBhcmVhICggYXQgdGhlIGJvdHRvbSApXG5cdGpRdWVyeSgnLmRzbGNhLWhlYWRlcicpLmhpZGUoKTtcblxufVxuXG4vKipcbiAqIFVJIC0gR0VORVJBTCAtIFNob3cgQ29tcG9zZXJcbiAqL1xuXG5mdW5jdGlvbiBkc2xjX3Nob3dfY29tcG9zZXIoKSB7XG5cblx0aWYgKCB3aW5kb3cuZHNsY0RlYnVnICkgY29uc29sZS5sb2coICdkc2xjX3Nob3dfY29tcG9zZXInICk7XG5cblx0Ly8gSGlkZSB0aGUgXCJzaG93XCIgYnV0dG9uIGFuZCBzaG93IHRoZSBcImhpZGVcIiBidXR0b25cblx0alF1ZXJ5KCcuZHNsY2Etc2hvdy1jb21wb3Nlci1ob29rJykuaGlkZSgpO1xuXHRqUXVlcnkoJy5kc2xjYS1oaWRlLWNvbXBvc2VyLWhvb2snKS5zaG93KCk7XG5cblx0Ly8gUmVtb3ZlIHRoZSBjbGFzcyBmcm9tIHRoZSBib2R5IHNvIHdlIGtub3cgaXQncyBub3QgaGlkZGVuXG5cdGpRdWVyeSgnYm9keScpLnJlbW92ZUNsYXNzKCdkc2xjYS1jb21wb3Nlci1oaWRkZW4nKTtcblx0alF1ZXJ5KCdib2R5JywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkucmVtb3ZlQ2xhc3MoJ2RzbGNhLWNvbXBvc2VyLWhpZGRlbicpO1xuXHRMaXZlQ29tcG9zZXIuQnVpbGRlci5GbGFncy51aUhpZGRlbiA9IGZhbHNlO1xuXG5cblx0Ly8gU2hvdyAoIGFuaW1hdGUgKSB0aGUgbWFpbiBjb21wb3NlciBhcmVhICggYXQgdGhlIGJvdHRvbSApXG5cdGpRdWVyeSgnLmRzbGNhLWNvbnRhaW5lcicpLmNzcyh7IGJvdHRvbSA6IDAgfSk7XG5cblx0Ly8gU2hvdyB0aGUgaGVhZGVyIG9mIHRoZSBtYWluIGNvbXBvc2VyIGFyZWEgKCBhdCB0aGUgYm90dG9tIClcblx0alF1ZXJ5KCcuZHNsY2EtaGVhZGVyJykuc2hvdygpO1xufVxuXG4vKipcbiAqIFVJIC0gR0VORVJBTCAtIFNob3cgUHVibGlzaCBCdXR0b25cbiAqL1xuXG53aW5kb3cuZHNsY19zaG93X3B1Ymxpc2hfYnV0dG9uID0gZnVuY3Rpb24oKSB7XG5cblx0aWYgKCB3aW5kb3cuZHNsY0RlYnVnICkgY29uc29sZS5sb2coICdkc2xjX3Nob3dfcHVibGlzaF9idXR0b24nICk7XG5cblx0alF1ZXJ5KCcuZHNsY2Etc2F2ZS1jb21wb3NlcicpLnNob3coKS5hZGRDbGFzcygnZHNsY2EtaW5pdC1hbmltYXRpb24nKTtcblx0alF1ZXJ5KCcuZHNsY2Etc2F2ZS1kcmFmdC1jb21wb3NlcicpLnNob3coKS5hZGRDbGFzcygnZHNsY2EtaW5pdC1hbmltYXRpb24nKTtcbn1cblxuZXhwb3J0IGNvbnN0IGhpZGVQdWJsaXNoQnV0dG9uID0gKCkgPT4ge1xuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2hpZGVQdWJsaXNoQnV0dG9uJyApO1xuXG5cdGpRdWVyeSgnLmRzbGNhLXNhdmUtY29tcG9zZXInKS5oaWRlKCk7XG5cdGpRdWVyeSgnLmRzbGNhLXNhdmUtZHJhZnQtY29tcG9zZXInKS5oaWRlKCk7XG59XG5cbi8qKlxuICogVUkgLSBHRU5FUkFMIC0gU2hvdyBTZWN0aW9uXG4gKi9cblxuZXhwb3J0IGNvbnN0IHNob3dTZWN0aW9uID0gKCBzZWN0aW9uICkgPT4ge1xuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ3Nob3dTZWN0aW9uJyApO1xuXG5cdC8vIEFkZCBjbGFzcyB0byBib2R5IHNvIHdlIGtub3cgaXQncyBpbiBwcm9ncmVzc1xuXHQvLyBqUXVlcnkoJ2JvZHknKS5hZGRDbGFzcygnZHNsY2EtYW5pbS1pbi1wcm9ncmVzcycpO1xuXG5cdC8vIEdldCB2YXJzXG5cdHZhciBzZWN0aW9uVGl0bGUgPSBqUXVlcnkoc2VjdGlvbikuZGF0YSgndGl0bGUnKSxcblx0bmV3Q29sb3IgPSBqUXVlcnkoc2VjdGlvbikuZGF0YSgnYmcnKTtcblxuXHQvLyBIaWRlICggYW5pbWF0ZSApIHRoZSBjb250YWluZXJcblx0alF1ZXJ5KCcuZHNsY2EtY29udGFpbmVyJykuY3NzKHsgYm90dG9tOiAtNTAwIH0pO1xuXG5cdC8vIEhpZGUgYWxsIHNlY3Rpb25zIGFuZCBzaG93IHNwZWNpZmljIHNlY3Rpb25cblx0alF1ZXJ5KCcuZHNsY2Etc2VjdGlvbicpLmhpZGUoKTtcblx0alF1ZXJ5KHNlY3Rpb24pLnNob3coKTtcblxuXHQvLyBDaGFuZ2UgXCJjdXJyZW50bHkgZWRpdGluZ1wiXG5cdGlmICggc2VjdGlvbiA9PSAnLmRzbGNhLW1vZHVsZS1lZGl0JyApIHtcblxuXHRcdGpRdWVyeSgnLmRzbGNhLWN1cnJlbnRseS1lZGl0aW5nJylcblx0XHRcdC5zaG93KClcblx0XHRcdFx0LmZpbmQoJ3N0cm9uZycpXG5cdFx0XHRcdC50ZXh0KCBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtYmVpbmctZWRpdGVkJywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkuYXR0cigndGl0bGUnKSArICcgZWxlbWVudCcgKTtcblx0fSBlbHNlIGlmICggc2VjdGlvbiA9PSAnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0JyApIHtcblxuXHRcdGpRdWVyeSgnLmRzbGNhLWN1cnJlbnRseS1lZGl0aW5nJylcblx0XHRcdC5zaG93KClcblx0XHRcdC5jc3MoICdiYWNrZ3JvdW5kLWNvbG9yJywgJyNlNTg1NWYnIClcblx0XHRcdFx0LmZpbmQoJ3N0cm9uZycpXG5cdFx0XHRcdC50ZXh0KCAnUm93JyApO1xuXHR9IGVsc2Uge1xuXG5cdFx0alF1ZXJ5KCcuZHNsY2EtY3VycmVudGx5LWVkaXRpbmcnKVxuXHRcdFx0LmhpZGUoKVxuXHRcdFx0XHQuZmluZCgnc3Ryb25nJylcblx0XHRcdFx0LnRleHQoJycpO1xuXHR9XG5cblx0Ly8gRmlsdGVyIG1vZHVsZSBvcHRpb24gdGFic1xuXHRlbGVtZW50T3B0aW9uc1RhYnMoKTtcblxuXHQvLyBTaG93ICggYW5pbWF0ZSApIHRoZSBjb250YWluZXJcblx0Ly8gc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0alF1ZXJ5KCcuZHNsY2EtY29udGFpbmVyJykuY3NzKHsgYm90dG9tIDogMCB9KTtcblx0Ly8gfSwgMzAwICk7XG5cblx0Ly8gUmVtb3ZlIGNsYXNzIGZyb20gYm9keSBzbyB3ZSBrbm93IGl0J3MgZmluaXNoZWRcblx0Ly8galF1ZXJ5KCdib2R5JykucmVtb3ZlQ2xhc3MoJ2RzbGNhLWFuaW0taW4tcHJvZ3Jlc3MnKTtcblxuXHQvLyBTZXQgaW5pdGlhbCBiYWNrZ3JvdW5kIGNvbG9yIGZvciB0aGUgY29sb3IgcGlja2VyIGZpZWxkc1xuXHQvLyBGaXhlcyB0aGUgYnVnIHdpdGggc2VjdGlvbiBjb2xvciBwaWNrZXJzIHRvIGtlZXAgdmFsdWVzIGZyb20gdGhlIHByZXZpb3VzbHlcblx0Ly8gZWRpdGVkIHNlY3Rpb24uXG5cdGpRdWVyeShzZWN0aW9uKS5maW5kKCdpbnB1dC5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC1jb2xvcnBpY2tlcicpLmVhY2goIGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0alF1ZXJ5KHRoaXMpLmNzcygnYmFja2dyb3VuZCcsIGpRdWVyeSh0aGlzKS52YWwoKSk7XG5cdH0pO1xufVxuXG4vKipcbiAqIFVJIC0gR0VORVJBTCAtIEdlbmVyYXRlIE9yaWdpbiBGaWx0ZXJzXG4gKi9cblxuZnVuY3Rpb24gZHNsY19nZW5lcmF0ZV9maWx0ZXJzKCkge1xuXG5cdGlmICggd2luZG93LmRzbGNEZWJ1ZyApIGNvbnNvbGUubG9nKCAnZHNsY19nZW5lcmF0ZV9maWx0ZXJzJyApO1xuXG5cdC8vIFZhcnNcblx0dmFyIGVsLCBmaWx0ZXJzID0gW10sIGZpbHRlcnNIVE1MID0gJzxhIGh0bWw9XCIjXCIgZGF0YS1vcmlnaW49XCJcIj5TaG93IEFsbDwvYT4nLCBlbHMgPSBqUXVlcnkoJy5kc2xjYS1zZWN0aW9uOnZpc2libGUgLmRzbGNhLW9yaWdpbicpO1xuXG5cdC8vIEdvIHRocm91Z2ggZWFjaCBhbmQgZ2VuZXJhdGUgdGhlIGZpbHRlcnNcblx0ZWxzLmVhY2goZnVuY3Rpb24oKXtcblx0XHRlbCA9IGpRdWVyeSh0aGlzKTtcblxuXHRcdGlmICggalF1ZXJ5LmluQXJyYXkoIGVsLmRhdGEoJ29yaWdpbicpLCBmaWx0ZXJzICkgPT0gLTEgKSB7XG5cdFx0XHRmaWx0ZXJzLnB1c2goIGVsLmRhdGEoJ29yaWdpbicpICk7XG5cdFx0XHRmaWx0ZXJzSFRNTCArPSAnPGEgaHJlZj1cIiNcIiBkYXRhLW9yaWdpbj1cIicgKyBlbC5kYXRhKCdvcmlnaW4nKSArICdcIj4nICsgZWwuZGF0YSgnb3JpZ2luJykgKyAnPC9hPic7XG5cdFx0fVxuXHR9KTtcblxuXHRqUXVlcnkoJy5kc2xjYS1zZWN0aW9uOnZpc2libGUgLmRzbGNhLXNlY3Rpb24tdGl0bGUtZmlsdGVyLW9wdGlvbnMnKS5odG1sKCBmaWx0ZXJzSFRNTCApLmNzcyggJ2JhY2tncm91bmQnLCBqUXVlcnkoJy5kc2xjYS1zZWN0aW9uOnZpc2libGUnKS5kYXRhKCdiZycpICk7XG59XG5cbi8qKlxuICogVUkgLSBHRU5FUkFMIC0gT3JpZ2luIEZpbHRlclxuICovXG5cbmZ1bmN0aW9uIGRzbGNfZmlsdGVyX29yaWdpbiggb3JpZ2luLCBzZWN0aW9uICkge1xuXG5cdGlmICggd2luZG93LmRzbGNEZWJ1ZyApIGNvbnNvbGUubG9nKCAnZHNsY19maWx0ZXJfb3JpZ2luJyApO1xuXG5cdGpRdWVyeSgnLmRzbGNhLW9yaWdpbicsIHNlY3Rpb24pLmF0dHIoJ2RhdGEtZGlzcGxheS1tb2R1bGUnLCAnZmFsc2UnKTtcblx0alF1ZXJ5KCcuZHNsY2Etb3JpZ2luW2RhdGEtb3JpZ2luPVwiJyArIG9yaWdpbiArICdcIl0nLCBzZWN0aW9uKS5hdHRyKCdkYXRhLWRpc3BsYXktbW9kdWxlJywgJ3RydWUnKTtcblxuXHRpZiAoIG9yaWdpbiA9PSAnJyApIHtcblxuXHRcdGpRdWVyeSgnLmRzbGNhLW9yaWdpbicsIHNlY3Rpb24pLmF0dHIoJ2RhdGEtZGlzcGxheS1tb2R1bGUnLCAndHJ1ZScpO1xuXHRcdGpRdWVyeSgnLmRzbGNhLW9yaWdpbi5kc2xjYS1leGNsdWRlJywgc2VjdGlvbikuYXR0cignZGF0YS1kaXNwbGF5LW1vZHVsZScsICdmYWxzZScpXG5cdH1cbn1cblxuXG4vKipcbiAqIFByZXZlbnQgZHJhZyBhbmQgZHJvcCBvZiB0aGUgbW9kdWxlc1xuICogaW50byB0aGUgaW5uZXIgY29udGVudCBhcmVhcyBvZiB0aGUgb3RoZXIgbW9kdWxlc1xuICovXG5leHBvcnQgY29uc3QgZml4Q29udGVudGVkaXRhYmxlID0gKCkgPT4ge1xuXG5cdHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50Lm9uKCdkcmFnc3RhcnQnLCAnLmRzbGNhLW1vZHVsZSwgLmRzbGMtbW9kdWxlLWZyb250LCAuZHNsYy1tb2R1bGVzLWFyZWEsIC5kc2xjLW1vZHVsZXMtc2VjdGlvbicsIGZ1bmN0aW9uIChlKSB7XG5cblx0XHRqUXVlcnkoJ1tjb250ZW50ZWRpdGFibGVdJywgd2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLmF0dHIoJ2NvbnRlbnRlZGl0YWJsZScsIGZhbHNlKTtcblx0fSk7XG5cblx0d2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQub24oJ2RyYWdlbmQgbW91c2Vkb3duJywgJy5kc2xjYS1tb2R1bGUsIC5kc2xjLW1vZHVsZS1mcm9udCwgLmRzbGMtbW9kdWxlcy1hcmVhLCAuZHNsYy1tb2R1bGVzLXNlY3Rpb24nLCBmdW5jdGlvbiAoZSkge1xuXG5cdFx0alF1ZXJ5KCdbY29udGVudGVkaXRhYmxlXScsIHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5hdHRyKCdjb250ZW50ZWRpdGFibGUnLCB0cnVlKTtcblx0fSk7XG59XG5cbi8qKlxuICogRGlzYWJsZS9FbmFibGUgbW9kdWxlIGNvbnRyb2wuXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBjb250cm9sX2lkIENTUyBJRCBvZiB0aGUgY29udHJvbCB3ZSBhcmUgdG9nZ2xpbmdcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIGRzbGNfdG9vZ2xlX2NvbnRyb2wgKCBjb250cm9sX2lkICkge1xuXG5cdGlmICggY29udHJvbF9pZCA9PT0gdW5kZWZpbmVkKSBjb250cm9sX2lkID0gZmFsc2U7XG5cdGlmICggIWNvbnRyb2xfaWQgKSByZXR1cm47XG5cblx0dmFyIGNvbnRyb2wgICAgICAgICA9IGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi0nICsgY29udHJvbF9pZCApO1xuXHR2YXIgY29udHJvbF9zdG9yYWdlID0gY29udHJvbC5maW5kKCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQnKTtcblxuXHQvLyBHZXQgdGhlIGVsZW1lbnQgd2UgYXJlIGVkaXRpbmdcblx0dmFyIG1vZHVsZSA9IGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1iZWluZy1lZGl0ZWQnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KTtcblxuXHQvLyBHZXQgdGhlIGVsZW1lbnQgaWRcblx0dmFyIG1vZHVsZV9pZCA9IG1vZHVsZVswXS5pZDtcblxuXHR2YXIgcmVzcG9uc2l2ZV9wcmVmaXggPSAnJztcblxuXHRpZiAoICd0YWJsZXRfcmVzcG9uc2l2ZScgPT09IGNvbnRyb2wuZGF0YSgndGFiJykgKSB7XG5cdFx0cmVzcG9uc2l2ZV9wcmVmaXggPSAnYm9keS5kc2xjLXJlcy10YWJsZXQgJztcblx0fSBlbHNlIGlmICggJ3Bob25lX3Jlc3BvbnNpdmUnID09PSBjb250cm9sLmRhdGEoJ3RhYicpICkge1xuXHRcdHJlc3BvbnNpdmVfcHJlZml4ID0gJ2JvZHkuZHNsYy1yZXMtcGhvbmUgJztcblx0fVxuXG5cdHZhciBhZmZlY3Rfb25fY2hhbmdlX2VsID0gY29udHJvbF9zdG9yYWdlLmRhdGEoJ2FmZmVjdC1vbi1jaGFuZ2UtZWwnKTtcblxuXHRpZiAoIGFmZmVjdF9vbl9jaGFuZ2VfZWwgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG5cdHZhciBhZmZlY3Rfb25fY2hhbmdlX2VsbXRzID0gYWZmZWN0X29uX2NoYW5nZV9lbC5zcGxpdCggJywnICk7XG5cblx0YWZmZWN0X29uX2NoYW5nZV9lbCA9ICcnO1xuXG5cdC8vIExvb3AgdGhyb3VnaCBlbGVtZW50cyAodXNlZnVsIHdoZW4gdGhlcmUgYXJlIG11bHRpcGxlIGVsZW1lbnRzKVxuXHRmb3IgKCB2YXIgaSA9IDA7IGkgPCBhZmZlY3Rfb25fY2hhbmdlX2VsbXRzLmxlbmd0aDsgaSsrICkge1xuXG5cdFx0aWYgKCBpID4gMCApIHtcblxuXHRcdFx0YWZmZWN0X29uX2NoYW5nZV9lbCArPSAnLCAnO1xuXHRcdH1cblxuXHRcdGFmZmVjdF9vbl9jaGFuZ2VfZWwgKz0gcmVzcG9uc2l2ZV9wcmVmaXggKyAnIycgKyBtb2R1bGVfaWQgKyAnICcgKyBhZmZlY3Rfb25fY2hhbmdlX2VsbXRzW2ldO1xuXHR9XG5cblx0dmFyIGFmZmVjdF9vbl9jaGFuZ2VfcnVsZSAgPSBjb250cm9sX3N0b3JhZ2UuZGF0YSgnYWZmZWN0LW9uLWNoYW5nZS1ydWxlJykucmVwbGFjZSgvIC9nLCcnKTtcblx0dmFyIGFmZmVjdF9vbl9jaGFuZ2VfcnVsZXMgPSBhZmZlY3Rfb25fY2hhbmdlX3J1bGUuc3BsaXQoICcsJyApO1xuXG5cdHZhciBjb250cm9sX3ZhbHVlO1xuXHR2YXIgY29udHJvbF9kYXRhX2V4dCA9IGNvbnRyb2xfc3RvcmFnZS5kYXRhKCdleHQnKTtcblxuXHRjb250cm9sLnRvZ2dsZUNsYXNzKCdkc2xjYS1vcHRpb24tb2ZmJyk7XG5cblx0aWYgKCBjb250cm9sLmhhc0NsYXNzKCdkc2xjYS1vcHRpb24tb2ZmJykpIHtcblx0XHQvLyBEaXNhYmxlXG5cblx0XHRjb250cm9sX3ZhbHVlID0gZHNsY19nZXRfY29udHJvbF92YWx1ZShjb250cm9sX2lkKTtcblx0XHQvLyBUZW1wb3JhcnkgYmFja3VwIHRoZSBjdXJyZW50IHZhbHVlIGFzIGRhdGEgYXR0cmlidXRlXG5cdFx0Y29udHJvbF9zdG9yYWdlLmRhdGEoICd2YWwtYmNrcCcsIGNvbnRyb2xfdmFsdWUgKTtcblx0XHQvLyBjb250cm9sX3ZhbHVlID0gZHNsY19jb21iaW5lX3ZhbHVlX2FuZF9leHRlbnNpb24oIGNvbnRyb2xfdmFsdWUsIGNvbnRyb2xfZGF0YV9leHQpO1xuXG5cdFx0Ly8gTG9vcCB0aHJvdWdoIHJ1bGVzICh1c2VmdWwgd2hlbiB0aGVyZSBhcmUgbXVsdGlwbGUgcnVsZXMpXG5cdFx0Zm9yICggdmFyIGkgPSAwOyBpIDwgYWZmZWN0X29uX2NoYW5nZV9ydWxlcy5sZW5ndGg7IGkrKyApIHtcblxuXHRcdFx0Ly8gcmVtb3ZlIGNzcyBydWxlIGluIGVsZW1lbnQgaW5saW5lIHN0eWxlXG5cdFx0XHRqUXVlcnkoIGFmZmVjdF9vbl9jaGFuZ2VfZWwsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQgKS5jc3MoIGFmZmVjdF9vbl9jaGFuZ2VfcnVsZXNbaV0gLCAnJyApO1xuXHRcdFx0Ly8gcmVtb3ZlIGNzcyBydWxlIGluIGNzcyBibG9ja1xuXHRcdFx0ZGlzYWJsZV9jc3NfcnVsZSAoIGFmZmVjdF9vbl9jaGFuZ2VfZWwsIGFmZmVjdF9vbl9jaGFuZ2VfcnVsZXNbaV0sIG1vZHVsZV9pZCk7XG5cdFx0XHQvLyBQUk9CTEVNIGRvIG5vdCB3b3JrIHdpdGggbXVsdGlwbHkgcnVsZXMgZXguOiAuZHNsYy10ZXh0LW1vZHVsZS1jb250ZW50LC5kc2xjLXRleHQtbW9kdWxlLWNvbnRlbnQgcFxuXHRcdH1cblxuXHRcdGNvbnRyb2xfc3RvcmFnZS52YWwoJycpLnRyaWdnZXIoJ2NoYW5nZScpO1xuXHR9IGVsc2Uge1xuXHRcdC8vIEVuYWJsZVxuXG5cdFx0Ly8gUmVzdG9yZSB2YWx1ZSBvZiB0aGUgZGF0YSBiYWNrdXAgYXR0cmlidXRlXG5cdFx0Y29udHJvbF9zdG9yYWdlLnZhbCggY29udHJvbF9zdG9yYWdlLmRhdGEoJ3ZhbC1iY2twJykgKS50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0XHRjb250cm9sX3ZhbHVlID0gZHNsY19nZXRfY29udHJvbF92YWx1ZShjb250cm9sX2lkKTtcblx0XHRjb250cm9sX3ZhbHVlID0gZHNsY19jb21iaW5lX3ZhbHVlX2FuZF9leHRlbnNpb24oIGNvbnRyb2xfdmFsdWUsIGNvbnRyb2xfZGF0YV9leHQgfHwgJycpO1xuXG5cdFx0Ly8gTG9vcCB0aHJvdWdoIHJ1bGVzICh1c2VmdWwgd2hlbiB0aGVyZSBhcmUgbXVsdGlwbGUgcnVsZXMpXG5cdFx0Zm9yICggdmFyIGkgPSAwOyBpIDwgYWZmZWN0X29uX2NoYW5nZV9ydWxlcy5sZW5ndGg7IGkrKyApIHtcblxuXHRcdFx0dmFyIHN0eWxlQ29udGVudCA9IGFmZmVjdF9vbl9jaGFuZ2VfZWwgKyBcIntcIiArIGFmZmVjdF9vbl9jaGFuZ2VfcnVsZXNbaV0gKyBcIjogXCIgKyBjb250cm9sX3ZhbHVlICsgXCJ9XCI7XG5cblx0XHRcdExpdmVDb21wb3Nlci5CdWlsZGVyLkhlbHBlcnMucHJvY2Vzc0lubGluZVN0eWxlVGFnKHtcblxuXHRcdFx0XHRjb250ZXh0OiBjb250cm9sLFxuXHRcdFx0XHRydWxlOiBhZmZlY3Rfb25fY2hhbmdlX3J1bGVzW2ldLFxuXHRcdFx0XHRlbGVtczogYWZmZWN0X29uX2NoYW5nZV9lbC5yZXBsYWNlKG5ldyBSZWdFeHAoJyMnICsgbW9kdWxlX2lkLCAnZ2knKSwgJycpLnRyaW0oKSxcblx0XHRcdFx0c3R5bGVDb250ZW50OiBzdHlsZUNvbnRlbnRcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxufVxuXG5qUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCQpe1xuXG5cdC8vIE9wdGlvbiBDb250cm9sIFRvZ2dsZVxuXHRqUXVlcnkoZG9jdW1lbnQpLm9uKCAnY2xpY2snLCAnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbiAuZHNsYy1jb250cm9sLXRvZ2dsZScsIGZ1bmN0aW9uKGUpe1xuXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdHZhciBjb250cm9sX2lkID0galF1ZXJ5KGUudGFyZ2V0KS5jbG9zZXN0KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uJykuZmluZCgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkJykuZGF0YSgnaWQnKTtcblx0XHRkc2xjX3Rvb2dsZV9jb250cm9sICggY29udHJvbF9pZCApO1xuXHR9KTtcblxuXG5cdC8vIERpc2FibGUgVG9nZ2xlIElmIHRoZSBDb250cm9sIEZvY3VzZWRcblx0alF1ZXJ5KGRvY3VtZW50KS5vbiggJ21vdXNlZG93bicsICcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uJywgZnVuY3Rpb24oZSl7XG5cblx0XHR2YXIgdG9nZ2xlID0galF1ZXJ5KCcuZHNsYy1jb250cm9sLXRvZ2dsZScpO1xuXHRcdGlmICggISB0b2dnbGUuaXMoZS50YXJnZXQpIC8vIGlmIHRoZSB0YXJnZXQgb2YgdGhlIGNsaWNrIGlzbid0IHRoZSBjb250YWluZXIuLi5cblx0XHQgICAgICYmIHRvZ2dsZS5oYXMoZS50YXJnZXQpLmxlbmd0aCA9PT0gMCApIC8vIC4uLiBub3IgYSBkZXNjZW5kYW50IG9mIHRoZSBjb250YWluZXJcblx0XHR7XG5cblx0XHRcdGlmICggalF1ZXJ5KGUudGFyZ2V0KS5jbG9zZXN0KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uJykuaGFzQ2xhc3MoJ2RzbGNhLW9wdGlvbi1vZmYnKSApIHtcblxuXHRcdFx0XHR2YXIgY29udHJvbF9pZCA9IGpRdWVyeShlLnRhcmdldCkuY2xvc2VzdCgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbicpLmZpbmQoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZCcpLmRhdGEoJ2lkJyk7XG5cdFx0XHRcdGRzbGNfdG9vZ2xlX2NvbnRyb2wgKGNvbnRyb2xfaWQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG59KTtcblxuZnVuY3Rpb24gZGlzYWJsZV9jc3NfcnVsZShzZWxlY3RvckNTUywgcnVsZUNTUywgbW9kdWxlSUQpIHtcblxuXHR2YXIgY3NzUnVsZXM7XG5cdHZhciB0YXJnZXRfc3R5bHNoZWV0X0lEID0gJ2Nzcy1mb3ItJyArIG1vZHVsZUlEO1xuXHR2YXIgc3R5bGVzaGVldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYWdlLWJ1aWxkZXItZnJhbWUnKS5jb250ZW50V2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldF9zdHlsc2hlZXRfSUQpO1xuXG5cdHNlbGVjdG9yQ1NTID0gc2VsZWN0b3JDU1MucmVwbGFjZSggL1xcc1xccysvZywgJyAnICk7XG5cblx0aWYgKHN0eWxlc2hlZXQpIHtcblxuXHQgICBzdHlsZXNoZWV0ID0gc3R5bGVzaGVldC5zaGVldDtcblxuXHRcdGlmIChzdHlsZXNoZWV0WydydWxlcyddKSB7XG5cblx0XHRcdGNzc1J1bGVzID0gJ3J1bGVzJztcblx0XHR9IGVsc2UgaWYgKHN0eWxlc2hlZXRbJ2Nzc1J1bGVzJ10pIHtcblxuXHRcdFx0Y3NzUnVsZXMgPSAnY3NzUnVsZXMnO1xuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vbm8gcnVsZXMgZm91bmQuLi4gYnJvd3NlciB1bmtub3duXG5cdFx0fVxuXG5cdFx0Ly8gR28gdGhyb3VnaCBlYWNoIENTUyBydWxlIChleC46IC5jb250ZW50IGgxIHsuLi59KVxuXHRcdGZvciAodmFyIFIgPSAwOyBSIDwgc3R5bGVzaGVldFtjc3NSdWxlc10ubGVuZ3RoOyBSKyspIHtcblxuXHRcdFx0Ly8gSXMgY3VycmVudCBDU1MgcnVsZSBlcXVhbCB0byB0aGUgc2VsZWN0b3JDU1Mgd2UgYXJlIGxvb2tpbmcgZm9yP1xuXHRcdFx0Ly8gKGV4LjogJy5jb250ZW50IGgxJyA9PSAnLmNvbnRlbnQgaDEnIClcblx0XHRcdGlmIChzdHlsZXNoZWV0W2Nzc1J1bGVzXVtSXS5zZWxlY3RvclRleHQgPT0gc2VsZWN0b3JDU1MpIHtcblxuXHRcdFx0XHQvLyBHZXQgQ1NTIHByb3BlcnR5IHdlIGFyZSBsb29raW5nIGZvci4uLiAoZXguOiBmb250LXNpemUgOiAuLi47IClcblx0XHRcdFx0aWYoc3R5bGVzaGVldFtjc3NSdWxlc11bUl0uc3R5bGVbcnVsZUNTU10pe1xuXG5cdFx0XHRcdFx0XHRzdHlsZXNoZWV0W2Nzc1J1bGVzXVtSXS5zdHlsZVtydWxlQ1NTXSA9ICcnO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGRzbGNfY29tYmluZV92YWx1ZV9hbmRfZXh0ZW5zaW9uICggdmFsdWUsIGV4dGVuc2lvbikge1xuXHRpZiAoICcnID09PSB2YWx1ZSB8fCBudWxsID09PSB2YWx1ZSApIHtcblx0XHRyZXR1cm4gdmFsdWU7XG5cdH1cblxuXHQvLyBDaGVjayBpZiB2YWx1ZSBkbyBub3QgYWxyZWFkeSBpbmNsdWRlIGV4dGVuc2lvblxuXHRpZiAoIHZhbHVlLmluZGV4T2YoZXh0ZW5zaW9uKSA9PSAtMSApIHtcblx0XHR2YWx1ZSA9IHZhbHVlICsgZXh0ZW5zaW9uO1xuXHR9XG5cblx0cmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiBkc2xjX2dldF9jb250cm9sX3ZhbHVlICggY29udHJvbF9pZCApIHtcblxuXHR2YXIgY29udHJvbCAgICAgID0galF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uLScgKyBjb250cm9sX2lkICk7XG5cdHZhciBjb250cm9sX3R5cGUgPSAndGV4dCc7XG5cdHZhciBjb250cm9sX3N0b3JhZ2UgPSBjb250cm9sLmZpbmQoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZCcpO1xuXHR2YXIgdmFsdWU7XG5cbi8qXG5cdGlmICggY29udHJvbC5oYXNDbGFzcygnZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uLXNlbGVjdCcpICkge1xuXG5cdH0gZWxzZSB7XG5cdFx0Ly8gdGV4dCBiYXNlZCBjb250cm9sc1xuXHRcdHZhbHVlID0gY29udHJvbF9zdG9yYWdlLnZhbCgpO1xuXHR9XG4qL1xuXHR2YWx1ZSA9IGNvbnRyb2xfc3RvcmFnZS52YWwoKTtcblxuXHRyZXR1cm4gdmFsdWU7XG59XG5cbi8qKlxuICogQmluZCBrZXlwcmVzcyBldmVudHMgd2l0aCBib3RoIHBhcmVudCBhbmQgaWZyYW1lIHBhZ2VzLlxuICogRnVuY3Rpb24gY2FsbGVkIHdoZW4gY29udGVudCBpbnNpZGUgaWZyYW1lIGlzIGxvYWRlZC5cbiAqXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5leHBvcnQgY29uc3Qga2V5cHJlc3NFdmVudHMgPSAoKSA9PiB7XG5cblx0alF1ZXJ5KCBbZG9jdW1lbnQsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhV2luZG93LmRvY3VtZW50IF0gKS51bmJpbmQoJ2tleWRvd24nKS5iaW5kKCdrZXlkb3duJywgZnVuY3Rpb24gKGtleWRvd25fZXZlbnQpIHtcblxuXHRcdC8vIE1vZGFsIHdpbmRvdyBbRVNDXS9bRW50ZXJdXG5cdFx0d2luZG93LmRzbGNfbW9kYWxfa2V5cHJlc3NfZXZlbnRzKGtleWRvd25fZXZlbnQpO1xuXG5cdFx0Ly8gUHJldmVudCBiYWNrc3BhY2UgZnJvbSBuYXZpZ2F0aW5nIGJhY2tcblx0XHRkc2xjX2Rpc2FibGVfYmFja3NwYWNlX25hdmlnYXRpb24oa2V5ZG93bl9ldmVudCk7XG5cblx0XHQvLyBQcm9tcHQgTW9kYWwgb24gRjVcblx0XHRkc2xjX25vdGljZV9vbl9yZWZyZXNoKGtleWRvd25fZXZlbnQpO1xuXG5cdFx0Ly8gU2F2ZSBQYWdlXG5cdFx0ZHNsY19zYXZlX3BhZ2Uoa2V5ZG93bl9ldmVudCk7XG5cdH0pO1xufVxuXG4vKipcbiAqIEFjdGlvbiAtIFByZXZlbnQgYmFja3NwYWNlIGZyb20gbmF2aWdhdGluZyBiYWNrXG4gKi9cblxuZnVuY3Rpb24gZHNsY19kaXNhYmxlX2JhY2tzcGFjZV9uYXZpZ2F0aW9uIChldmVudCkge1xuXG5cdHZhciBkb1ByZXZlbnQgPSBmYWxzZTtcblxuXHRpZiAoZXZlbnQua2V5Q29kZSA9PT0gOCkge1xuXG5cdFx0dmFyIGQgPSBldmVudC5zcmNFbGVtZW50IHx8IGV2ZW50LnRhcmdldDtcblxuXHRcdGlmICggKGQudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09PSAnSU5QVVQnICYmIChcblx0XHRcdFx0ZC50eXBlLnRvVXBwZXJDYXNlKCkgPT09ICdURVhUJyB8fFxuXHRcdFx0XHRkLnR5cGUudG9VcHBlckNhc2UoKSA9PT0gJ1BBU1NXT1JEJyB8fFxuXHRcdFx0XHRkLnR5cGUudG9VcHBlckNhc2UoKSA9PT0gJ05VTUJFUicgfHxcblx0XHRcdFx0ZC50eXBlLnRvVXBwZXJDYXNlKCkgPT09ICdGSUxFJylcblx0XHRcdCAgKVxuXHRcdFx0IHx8IGQudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09PSAnVEVYVEFSRUEnXG5cdFx0XHQgfHwgalF1ZXJ5KGQpLmhhc0NsYXNzKCdkc2xjYS1lZGl0YWJsZS1jb250ZW50Jylcblx0XHRcdCB8fCBqUXVlcnkoZCkuaGFzQ2xhc3MoJ2RzbGMtdGFicy1uYXYtaG9vay10aXRsZScpXG5cdFx0XHQgfHwgalF1ZXJ5KGQpLmhhc0NsYXNzKCdkc2xjLWFjY29yZGlvbi10aXRsZScpICkge1xuXG5cdFx0XHRkb1ByZXZlbnQgPSBkLnJlYWRPbmx5IHx8IGQuZGlzYWJsZWQ7XG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0ZG9QcmV2ZW50ID0gdHJ1ZTtcblx0XHR9XG5cdH1cblxuXHRpZiAoZG9QcmV2ZW50KSB7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0fVxufVxuXG4vKipcbiAqIEFjdGlvbnMgLSBQcm9tcHQgTW9kYWwgb24gRjVcbiAqXG4gKiAxMTYg4oCTIEY1XG4gKiA4MSArIGV2ZW50Lm1ldGFLZXkgPSBDTUQgKyBSXG4gKi9cblxuZnVuY3Rpb24gZHNsY19ub3RpY2Vfb25fcmVmcmVzaChlKSB7XG5cblx0aWYgKCBlLndoaWNoID09IDExNiB8fCAoIGUud2hpY2ggPT09IDgyICYmIGUubWV0YUtleSApICkge1xuXG5cdFx0aWYgKCBqUXVlcnkoJy5kc2xjYS1zYXZlLWNvbXBvc2VyLWhvb2snKS5vZmZzZXRQYXJlbnQgIT09IG51bGwgfHwgalF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtc2F2ZScpLm9mZnNldFBhcmVudCAhPT0gbnVsbCApIHtcblxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0Q01vZGFsV2luZG93KHtcblxuXHRcdFx0XHR0aXRsZTogRFNMQ1N0cmluZy5zdHJfcmVmcmVzaF90aXRsZSxcblx0XHRcdFx0Y29udGVudDogRFNMQ1N0cmluZy5zdHJfcmVmcmVzaF9kZXNjcixcblx0XHRcdFx0Y29uZmlybTogZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0XHR3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHQvKmRzbGNfanNfY29uZmlybSggJ2Rpc2FibGVfbGMnLCAnPHNwYW4gY2xhc3M9XCJkc2xjYS1wcm9tcHQtbW9kYWwtdGl0bGVcIj4nICsgRFNMQ1N0cmluZy5zdHJfcmVmcmVzaF90aXRsZSArXG5cdFx0XHQgJzwvc3Bhbj48c3BhbiBjbGFzcz1cImRzbGNhLXByb21wdC1tb2RhbC1kZXNjclwiPicgKyBEU0xDU3RyaW5nLnN0cl9yZWZyZXNoX2Rlc2NyICsgJzwvc3Bhbj4nLCBkb2N1bWVudC5VUkwgKTsqL1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIElmIENvbnRyb2wgb3IgQ29tbWFuZCBrZXkgaXMgcHJlc3NlZCBhbmQgdGhlIFMga2V5IGlzIHByZXNzZWQgcnVuIGRzbGNfc2F2ZV9jb21wb3Nlci5cbiAqIDgzIGlzIHRoZSBrZXkgY29kZSBmb3IgUy5cbiAqL1xuZnVuY3Rpb24gZHNsY19zYXZlX3BhZ2UoZSkge1xuXG4gICAgaWYgKCBlLndoaWNoID09IDgzICYmICggZS5tZXRhS2V5IHx8IGUuY3RybEtleSApICApIHtcbiAgICBcdGlmICggalF1ZXJ5KCcuZHNsY2Etc2F2ZS1jb21wb3Nlci1ob29rJykuY3NzKCdkaXNwbGF5JykgPT0gJ2Jsb2NrJyApIHtcblx0ICAgICAgICBkc2xjX3NhdmVfY29tcG9zZXIoKTtcblx0ICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSByZXBvcnQgYWJvdXQgSlMgZXJyb3IgYW5kIHNhdmUgaXQgaW4gYSBsb2NhbCBzdG9yYWdlLlxuICogQHBhcmFtICBTdHJpbmcgZXJyb3IgRXJyb3IgdGV4dFxuICogQHBhcmFtICBTdHJpbmcgZmlsZSAgRmlsZSB3aXRoIGVycm9yXG4gKiBAcGFyYW0gIFN0cmluZyBsaW5lICBMaW5lIHdpdGggZXJyb3JcbiAqIEBwYXJhbSAgU3RyaW5nIGNoYXIgIENvbHVtbiB3aXRoIGVycm9yXG4gKiBAcmV0dXJuIHZvaWRcbiAqL1xuZnVuY3Rpb24gZHNsY2FfZ2VuZXJhdGVfZXJyb3JfcmVwb3J0ICggZXJyb3IsIGZpbGUsIGxpbmUsIGNoYXIgKSB7XG5cblx0dmFyIHRpdGxlID0gJ0phdmFTY3JpcHQgZXJyb3IgZGV0ZWN0ZWQgaW4gYSB0aGlyZC1wYXJ0eSBwbHVnaW4nO1xuXG5cdGlmICggZmlsZS5tYXRjaChcIndwLWNvbnRlbnRcXC9wbHVnaW5zXFwvbGl2ZS1jb21wb3Nlci1wYWdlLWJ1aWxkZXJcXC9qc1wiKSAhPSBudWxsICkge1xuXG5cdFx0dGl0bGUgPSAnTGl2ZSBDb21wb3NlciByZXR1cm5lZCBKUyBlcnJvcic7XG5cdH1cblxuXHR2YXIgZXJyb3JfcmVwb3J0ID0gJyc7XG5cdGVycm9yX3JlcG9ydCArPSAnPGJyIC8+PHN0cm9uZyBzdHlsZT1cImNvbG9yOiNFNTVGNUY7XCI+JyArIHRpdGxlICsgJzwvc3Ryb25nPjxiciAvPic7XG5cdGVycm9yX3JlcG9ydCArPSBlcnJvciArICc8YnIgLz4gRmlsZSBcIicgKyBmaWxlICsgJ1wiLCBsaW5lICcgKyBsaW5lICsgJywgY2hhciAnICsgY2hhciArICc8YnIgLz4nO1xuXG5cdGlmICggJ3VuZGVmaW5lZCcgIT09IHR5cGVvZihTdG9yYWdlKSkge1xuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdqc19lcnJvcnNfcmVwb3J0JywgZXJyb3JfcmVwb3J0KTtcblx0fVxufVxuXG4vKipcbiAqIFB1dCBpbiBhIGhpZGRlbiBkaXYjZHNsY2EtanMtZXJyb3JzLXJlcG9ydCBpbmZvcm1hdGlvbiBmcm9tIGxvY2FsIHN0b3JhZ2VcbiAqIEByZXR1cm4gdm9pZFxuICovXG5mdW5jdGlvbiBkc2xjYV91cGRhdGVfcmVwb3J0X2xvZygpIHtcblxuXHR2YXIgZXJyb3JzX2NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkc2xjYS1qcy1lcnJvcnMtcmVwb3J0Jyk7XG5cdHZhciBlcnJvcl9yZXBvcnQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnanNfZXJyb3JzX3JlcG9ydCcpO1xuXG5cdGlmICggbnVsbCAhPT0gZXJyb3JfcmVwb3J0ICkge1xuXHRcdGVycm9yc19jb250YWluZXIudmFsdWUgPSBlcnJvcl9yZXBvcnQ7XG5cdFx0bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2pzX2Vycm9yc19yZXBvcnQnKTtcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCAnLmRzbGNhLXNob3ctanMtZXJyb3ItaG9vaycgKS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywndmlzaWJpbGl0eTp2aXNpYmxlJyk7XG5cdH1cbn1cblxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmpRdWVyeShkb2N1bWVudCkub24oJ2VkaXRvckZyYW1lTG9hZGVkJywgZnVuY3Rpb24oKXtcblxuXHR2YXIgJCA9IGpRdWVyeTtcblx0dmFyIGhlYWRlckZvb3RlciA9IGpRdWVyeSgnZGl2W2RhdGEtaGZdJywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCk7XG5cdHZhciBvdmVybGF5ID0gJyc7XG5cblx0aGVhZGVyRm9vdGVyLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsKSB7XG5cdFx0dmFyIGxpbmtUb0VkaXQgPSBqUXVlcnkoZWwpLmRhdGEoJ2VkaXRpbmctbGluaycpO1xuXHRcdHZhciBoZlR5cGUgPSBqUXVlcnkoZWwpLmRhdGEoJ2VkaXRpbmctdHlwZScpO1xuXHRcdHZhciBlZGl0aW5nTGFiZWwgPSBqUXVlcnkoZWwpLmRhdGEoJ2VkaXRpbmctbGFiZWwnKTtcblx0XHR2YXIgZWRpdGluZ1N1YkxhYmVsID0galF1ZXJ5KGVsKS5kYXRhKCdlZGl0aW5nLXN1YmxhYmVsJyk7XG5cblx0XHRvdmVybGF5ICs9ICc8ZGl2IGNsYXNzPVwiZHNsYy1oZi1ibG9jay1vdmVybGF5XCI+PGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cIicgKyBsaW5rVG9FZGl0ICsgJ1wiIGNsYXNzPVwiZHNsYy1oZi1ibG9jay1vdmVybGF5LWJ1dHRvbiBkc2xjYS1saW5rXCI+JyArIGVkaXRpbmdMYWJlbCArICc8L2E+Jztcblx0XHRpZiAoIGVkaXRpbmdTdWJMYWJlbCAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0b3ZlcmxheSArPSAnIDxzcGFuIGNsYXNzPVwiZHNsYy1oZi1ibG9jay1vdmVybGF5LXRleHRcIj4nICsgZWRpdGluZ1N1YkxhYmVsICsgJzwvc3Bhbj4nO1xuXHRcdH1cblx0XHRvdmVybGF5ICs9ICc8L2Rpdj4nO1xuXG5cdFx0dmFyIGh0bWxPYmplY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRodG1sT2JqZWN0LmlubmVySFRNTCA9IG92ZXJsYXk7XG5cblx0XHRlbC5hcHBlbmQoIGh0bWxPYmplY3QgKTtcblx0fSk7XG5cbn0pO1xuIiwiLyoqXG4gKiBDdXN0b20gdXRpbHNcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IFV0aWxzID0ge1xuXHRhZGRzbGFzaGVzOiBmdW5jdGlvbihzdHIpXG5cdHtcblx0XHQgc3RyID0gc3RyLnJlcGxhY2UoL1xcXFwvZywgJ1xcXFxcXFxcJyk7XG5cdFx0IHN0ciA9IHN0ci5yZXBsYWNlKC9cXCcvZywgJ1xcXFxcXCcnKTtcblx0XHQgc3RyID0gc3RyLnJlcGxhY2UoL1xcXCIvZywgJ1xcXFxcIicpO1xuXHRcdCBzdHIgPSBzdHIucmVwbGFjZSgvXFwwL2csICdcXFxcMCcpO1xuXHRcdCByZXR1cm4gc3RyO1xuXHR9LFxuXG5cdGJhc2VuYW1lOiBmdW5jdGlvbihwYXRoKVxuXHR7XG5cdFx0cmV0dXJuIHBhdGguc3BsaXQoL1tcXFxcL10vKS5wb3AoKTtcblx0fSxcblxuXHQvKipcblx0ICogQ2hlY2sgaWYgYnJvd3NlciBpcyBJRVxuXHQgKi9cblx0bXNpZXZlcnNpb246IGZ1bmN0aW9uKCkge1xuXG5cdCAgICB2YXIgdWEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtcblx0ICAgIHZhciBtc2llID0gdWEuaW5kZXhPZihcIk1TSUUgXCIpO1xuXG5cdCAgICBpZiAobXNpZSA+IDAgfHwgISFuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9UcmlkZW50LipydlxcOjExXFwuLykpICAvLyBJZiBJbnRlcm5ldCBFeHBsb3JlciwgcmV0dXJuIHZlcnNpb24gbnVtYmVyXG5cdCAgICB7XG5cdCAgICAgICAgcmV0dXJuIHBhcnNlSW50KHVhLnN1YnN0cmluZyhtc2llICsgNSwgdWEuaW5kZXhPZihcIi5cIiwgbXNpZSkpKTtcblx0ICAgIH1cblx0ICAgIGVsc2UgIC8vIElmIGFub3RoZXIgYnJvd3NlciwgcmV0dXJuIDBcblx0ICAgIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdH0sXG5cblx0LyoqXG5cdCAqIENoZWNrIGlmIHZhcmlhYmxlcyBpbiBhcnJheSBpcyBkZXNpcmVkIHR5cGVzXG5cdCAqIEBwYXJhbSAge2FycmF5fSBhcnJheVxuXHQgKiBAcmV0dXJuIHtib29sZWFufVxuXHQgKi9cblx0Y2hlY2tQYXJhbXM6IGZ1bmN0aW9uKGFycmF5KVxuXHR7XG5cdFx0aWYoIUFycmF5LmlzQXJyYXkoYXJyYXkpKVxuXHRcdHtcblx0XHRcdHRocm93ICgnUGFyYW0gaXMgbm90IGFycmF5Jyk7XG5cdFx0fVxuXG5cdFx0Ly8vIEluc3RlYWQgb2Ygc3dpdGNoIGNvbnN0cnVjdGlvblxuXHRcdHZhciB0eXBlcyA9IHtcblx0XHRcdGludGVnZXI6IGZ1bmN0aW9uKHBhcmFtKVxuXHRcdFx0e1xuXHRcdFx0XHRyZXR1cm4gaXNOYU4ocGFyc2VJbnQocGFyYW0pKTtcblx0XHRcdH0sXG5cdFx0XHRmbG9hdDogZnVuY3Rpb24ocGFyYW0pXG5cdFx0XHR7XG5cdFx0XHRcdHJldHVybiBpc05hTihwYXJzZUZsb2F0KHBhcmFtKSk7XG5cdFx0XHR9LFxuXHRcdFx0c3RyaW5nOiBmdW5jdGlvbihwYXJhbSlcblx0XHRcdHtcblx0XHRcdFx0cmV0dXJuIHBhcmFtICE9IG51bGwgJiYgcGFyYW0gIT0gdW5kZWZpbmVkICYmIHR5cGVvZiBwYXJhbSA9PSAnc3RyaW5nJztcblx0XHRcdH0sXG5cdFx0XHRhcnJheTogZnVuY3Rpb24ocGFyYW0pXG5cdFx0XHR7XG5cdFx0XHRcdHJldHVybiBBcnJheS5pc0FycmF5KHBhcmFtKTtcblx0XHRcdH0sXG5cdFx0XHRvYmplY3Q6IGZ1bmN0aW9uKHBhcmFtKVxuXHRcdFx0e1xuXHRcdFx0XHRyZXR1cm4gdHlwZW9mIHBhcmFtID09ICdvYmplY3QnO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vLyBDaGVjayBpdCFcblx0XHRhcnJheS5tYXAoZnVuY3Rpb24oaXRlbSl7XG5cdFx0XHRpZighdHlwZXNbaXRlbVsxXV0oaXRlbVswXSkpe1xuXHRcdFx0XHR0aHJvdygnUGFyYW0gJyArIGl0ZW1bMF0gKyAnIGlzIG5vdCAnICsgaXRlbVsxXSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0sXG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIFVURi04IHRvIGJhc2U2NFxuXHQgKlxuXHQgKiBAcGFyYW0gIHtzdHJpbmd9IHQgdXRmLThcblx0ICogQHJldHVybiB7c3RyaW5nfSAgIGI2NFxuXHQgKi9cblx0dXRmOF90b19iNjQ6IGZ1bmN0aW9uKHQpIHtcblxuXHRcdHJldHVybiB3aW5kb3cuYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQodCkpKTtcblx0fSxcblxuXHQvKipcblx0ICogQ29udmVydHMgYmFzZTY0IHRvIFVURi04XG5cdCAqXG5cdCAqIEBwYXJhbSAge3N0cmluZ30gc3RyIGluIGI2NFxuXHQgKiBAcmV0dXJuIHtzdHJpbmd9ICAgaW4gdXRmLThcblx0ICovXG5cdGI2NF90b191dGY4OiBmdW5jdGlvbihzdHIpIHtcblxuXHRcdHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKHdpbmRvdy5hdG9iKHN0cikpKTtcblx0fSxcblxuXHQvKipcblx0ICogR2V0IFBhZ2UgUGFyYW1zXG5cdCAqXG5cdCAqIEByZXR1cm4ge2FycmF5fVxuXHQgKi9cblx0Z2V0X3BhZ2VfcGFyYW1zOiBmdW5jdGlvbigpIHtcblxuXHRcdHJldHVybiBkZWNvZGVVUklDb21wb25lbnQod2luZG93LmxvY2F0aW9uLnNlYXJjaC5zbGljZSgxKSkuc3BsaXQoJyYnKS5yZWR1Y2UoZnVuY3Rpb24gX3JlZHVjZSAoIGEsIGIpIHsgYiA9IGIuc3BsaXQoJz0nKTsgYVtiWzBdXSA9IGJbMV07IHJldHVybiBhOyB9LCB7fSk7XG5cdH0sXG5cblx0Z2V0X3VuaXF1ZV9pZDogZnVuY3Rpb24oKSB7XG5cblx0XHRyZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzMikuc2xpY2UoMik7XG5cdH0sXG5cblx0LyoqXG5cdCAqIFVwZGF0ZSBtb2R1bGUgb3B0aW9uIGluIHJhdyBKU09OIGNvZGUgKGRzbGNfY29kZSkgb2YgdGhlIG1vZHVsZVxuXHQgKlxuXHQgKiBAcGFyYW0gIHtET00gZWxlbWVudH0gbW9kdWxlICAgIE1vZHVsZSBFbGVtZW50XG5cdCAqIEBwYXJhbSAge3N0cmluZ30gcHJvcGVydHlfbmFtZSAgTmFtZSBvZiB0aGUgb3B0aW9uIHdlIGNoYW5nZVxuXHQgKiBAcGFyYW0gIHtzdHJpbmd9IHByb3BlcnR5X3ZhbHVlIFZhbHVlIG9mIHRoZSBvcHRpb24gd2UgY2hhbmdlXG5cdCAqIEByZXR1cm4ge3ZvaWR9XG5cdCAqL1xuXHR1cGRhdGVfbW9kdWxlX3Byb3BlcnR5X3JhdzogZnVuY3Rpb24gKG1vZHVsZSwgcHJvcGVydHlfbmFtZSwgcHJvcGVydHlfdmFsdWUgKSB7XG5cblx0XHQvLyBIaWRkZW4gdGV4dGFyZWEgZWxlbWVudCB3aXRoIHJhdyBiYXNlNjQgY29kZSBvZiB0aGUgbW9kdWxlXG5cdFx0Ly8gPHRleHRhcmVhIGNsYXNzPVwiZHNsY2EtbW9kdWxlLWNvZGVcIj5ZVG8yT24uLi4uaU9qRTdmUT09PC90ZXh0YXJlYT5cblx0XHR2YXIgbW9kdWxlX2NvZGVfY29udGFpbmVyID0gbW9kdWxlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2RzbGNhLW1vZHVsZS1jb2RlJylbMF07XG5cblx0XHQvLyBIaWRkZW4gdGV4dGFyZWEgZWxlbWVudCB3aXRoIHZhbHVlIG9mIHRoaXMgcGFydGljdWxhciBzZXR0aW5nXG5cdFx0Ly8gPHRleHRhcmVhIGRhdGEtaWQ9XCJwcm9wZXJ0eV9uYW1lXCI+cHJvcGVydHlfdmFsdWU8L3RleHRhcmVhPlxuXHRcdHZhciBwcm9wZXJ0eV9jb250YWluZXIgPSBtb2R1bGUucXVlcnlTZWxlY3RvciggJy5kc2xjYS1tb2R1bGUtb3B0aW9uLWZyb250W2RhdGEtaWQ9XCInICsgcHJvcGVydHlfbmFtZSArICdcIl0nICk7XG5cblx0XHQvLyBHZXQgbW9kdWxlIHJhdyBjb2RlXG5cdFx0dmFyIG1vZHVsZV9jb2RlID0gbW9kdWxlX2NvZGVfY29udGFpbmVyLnZhbHVlO1xuXG5cdFx0bW9kdWxlX2NvZGUgPSBKU09OLnBhcnNlKCBtb2R1bGVfY29kZSApO1xuXHRcdG1vZHVsZV9jb2RlW3Byb3BlcnR5X25hbWVdID0gcHJvcGVydHlfdmFsdWU7XG5cdFx0bW9kdWxlX2NvZGUgPSBKU09OLnN0cmluZ2lmeSggbW9kdWxlX2NvZGUgKTtcblxuXHRcdC8vIFVwZGF0ZSByYXcgY29kZVxuXHRcdG1vZHVsZV9jb2RlX2NvbnRhaW5lci52YWx1ZSA9IG1vZHVsZV9jb2RlO1xuXHRcdG1vZHVsZV9jb2RlX2NvbnRhaW5lci5pbm5lckhUTUwgPSBtb2R1bGVfY29kZTsgLy8gU2VlIGNvbW1lbnQgYmxvY2sgYmVsb3dcblxuXHRcdC8vIENoYW5nZSB0aGUgcHJvcGVydHkgaW4gaGlkZGVuIHRleHRhcmVhIGFzIHdlbGxcblx0XHRwcm9wZXJ0eV9jb250YWluZXIudmFsdWUgPSBwcm9wZXJ0eV92YWx1ZTtcblx0XHRwcm9wZXJ0eV9jb250YWluZXIuaW5uZXJIVE1MICA9IHByb3BlcnR5X3ZhbHVlOyAvLyBTZWUgY29tbWVudCBibG9jayBiZWxvd1xuXG5cdFx0LyoqXG5cdFx0ICogRmlyZUZveCB3aWxsIG5vdCBkdXBsaWNhdGUgdGV4dGFyZWEgdmFsdWUgcHJvcGVybHkgdXNpbmcgLmNsb25lTm9kZSh0cnVlKVxuXHRcdCAqIGlmIHdlIGRvbid0IHVzZSAuaW5uZXJIVE1MIHN0YXRlbWVudCAoQ2hyb21lIHdvcmtzIGZpbmUgd2l0aCAudmFsdWUgb25seSkuXG5cdFx0ICpcblx0XHQgKiBTZWUgYnVnIHJlcG9ydDogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MjM3NzgzXG5cdFx0ICovXG5cdH0sXG5cblx0LyoqXG5cdCAqIFVwZGF0ZSBzZWN0aW9uIG9wdGlvbiBpbiByYXcgSlNPTiBjb2RlIChkc2xjX2NvZGUpIG9mIHRoZSBzZWN0aW9uXG5cdCAqXG5cdCAqIEBwYXJhbSAge0RPTSBlbGVtZW50fSBzZWN0aW9uICAgIGBzZWN0aW9uIEVsZW1lbnRcblx0ICogQHBhcmFtICB7c3RyaW5nfSBwcm9wZXJ0eV9uYW1lICBOYW1lIG9mIHRoZSBvcHRpb24gd2UgY2hhbmdlXG5cdCAqIEBwYXJhbSAge3N0cmluZ30gcHJvcGVydHlfdmFsdWUgVmFsdWUgb2YgdGhlIG9wdGlvbiB3ZSBjaGFuZ2Vcblx0ICogQHJldHVybiB7dm9pZH1cblx0ICovXG5cdHVwZGF0ZV9zZWN0aW9uX3Byb3BlcnR5X3JhdzogZnVuY3Rpb24gKHNlY3Rpb24sIHByb3BlcnR5X25hbWUsIHByb3BlcnR5X3ZhbHVlICkge1xuXHRcdC8vIEhpZGRlbiB0ZXh0YXJlYSBlbGVtZW50IHdpdGggcmF3IGJhc2U2NCBjb2RlIG9mIHRoZSByb3Fcblx0XHQvLyA8dGV4dGFyZWEgY2xhc3M9XCJkc2xjYS1zZWN0aW9uLWNvZGVcIj48L3RleHRhcmVhPlxuXHRcdHZhciBzZWN0aW9uX2NvZGVfY29udGFpbmVyID0gc2VjdGlvbi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdkc2xjYS1zZWN0aW9uLWNvZGUnKVswXTtcblxuXHRcdC8vIEhpZGRlbiBpbnB1dCBlbGVtZW50IHdpdGggdmFsdWUgb2YgdGhpcyBwYXJ0aWN1bGFyIHNldHRpbmdcblx0XHQvLyA8aW5wdXQgZGF0YS1pZD1cInByb3BlcnR5X25hbWVcIj5wcm9wZXJ0eV92YWx1ZTwvdGV4dGFyZWE+XG5cdFx0dmFyIHByb3BlcnR5X2NvbnRhaW5lciA9IHNlY3Rpb24ucXVlcnlTZWxlY3RvciggJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tc2V0dGluZ3MgaW5wdXRbZGF0YS1pZD1cIicgKyBwcm9wZXJ0eV9uYW1lICsgJ1wiXScgKTtcblxuXHRcdC8vIEdldCBtb2R1bGUgcmF3IGNvZGVcblx0XHR2YXIgc2VjdGlvbl9jb2RlID0gc2VjdGlvbl9jb2RlX2NvbnRhaW5lci52YWx1ZTtcblxuXHRcdHNlY3Rpb25fY29kZSA9IEpTT04ucGFyc2UoIHNlY3Rpb25fY29kZSApO1xuXHRcdHNlY3Rpb25fY29kZVtwcm9wZXJ0eV9uYW1lXSA9IHByb3BlcnR5X3ZhbHVlO1xuXHRcdHNlY3Rpb25fY29kZSA9IEpTT04uc3RyaW5naWZ5KCBzZWN0aW9uX2NvZGUgKTtcblxuXHRcdC8vIFVwZGF0ZSByYXcgY29kZVxuXHRcdHNlY3Rpb25fY29kZV9jb250YWluZXIudmFsdWUgPSBzZWN0aW9uX2NvZGU7XG5cdFx0c2VjdGlvbl9jb2RlX2NvbnRhaW5lci5pbm5lckhUTUwgPSBzZWN0aW9uX2NvZGU7IC8vIFNlZSBjb21tZW50IGJsb2NrIGJlbG93XG5cblx0XHQvLyBDaGFuZ2UgdGhlIHByb3BlcnR5IGluIGhpZGRlbiB0ZXh0YXJlYSBhcyB3ZWxsXG5cdFx0cHJvcGVydHlfY29udGFpbmVyLnNldEF0dHJpYnV0ZSggJ3ZhbHVlJywgcHJvcGVydHlfdmFsdWUgKTtcblx0XHRwcm9wZXJ0eV9jb250YWluZXIuc2V0QXR0cmlidXRlKCAnZGF0YS1kZWYnLCBwcm9wZXJ0eV92YWx1ZSApO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBQcm92aWRlIGN1c3RvbSBldmVudHMgcHVibGlzaC5cblx0ICogQWxzbyBlY2hvZXMgYWxsIHRoZSBjdXN0b20gZXZlbnRzIGluIHRoZSBwcmV2aWV3IGlmcmFtZSBhcyB3ZWxsLlxuXHQgKlxuXHQgKiBAcGFyYW0gIHtzdHJpbmd9IGV2ZW50TmFtZVxuXHQgKiBAcGFyYW0gIHtvYmplY3R8fHN0cmluZ3x8bnVsbHx8bnVtZXJpY30gZXZlbnREYXRhIFtkZXNjcmlwdGlvbl1cblx0ICovXG5cdHB1Ymxpc2g6IGZ1bmN0aW9uKCBldmVudE5hbWUsIGV2ZW50RGF0YSApIHtcblxuXHRcdGV2ZW50RGF0YSA9IGV2ZW50RGF0YSA/IGV2ZW50RGF0YSA6IHt9O1xuXG5cdFx0dGhpcy5jaGVja1BhcmFtcyggW1xuXHRcdFx0W2V2ZW50TmFtZSwgJ3N0cmluZyddLFxuXHRcdFx0W2V2ZW50RGF0YSwgJ29iamVjdCddXG5cdFx0XSApO1xuXG5cdFx0alF1ZXJ5KGRvY3VtZW50KS50cmlnZ2VyKCB7XG5cdFx0XHR0eXBlOiBldmVudE5hbWUsXG5cdFx0XHRtZXNzYWdlOiB7ZGV0YWlsczogZXZlbnREYXRhfVxuXHRcdH0gKTtcblxuXHRcdExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhV2luZG93LmRzbGNhX3B1Ymxpc2hfZXZlbnQoIGV2ZW50TmFtZSwgZXZlbnREYXRhICk7XG5cdH1cbn07XG5cbmV4cG9ydCBjb25zdCB1bnRpbHNJbml0SnMgPSAoKSA9PiB7XG5cdHdpbmRvdy5MaXZlQ29tcG9zZXIuVXRpbHMgPSBVdGlscztcbn1cbiIsIi8qXG4gKiBhbmltZS5qcyB2My4wLjFcbiAqIChjKSAyMDE5IEp1bGlhbiBHYXJuaWVyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqIGFuaW1lanMuY29tXG4gKi9cblxuLy8gRGVmYXVsdHNcblxudmFyIGRlZmF1bHRJbnN0YW5jZVNldHRpbmdzID0ge1xuICB1cGRhdGU6IG51bGwsXG4gIGJlZ2luOiBudWxsLFxuICBsb29wQmVnaW46IG51bGwsXG4gIGNoYW5nZUJlZ2luOiBudWxsLFxuICBjaGFuZ2U6IG51bGwsXG4gIGNoYW5nZUNvbXBsZXRlOiBudWxsLFxuICBsb29wQ29tcGxldGU6IG51bGwsXG4gIGNvbXBsZXRlOiBudWxsLFxuICBsb29wOiAxLFxuICBkaXJlY3Rpb246ICdub3JtYWwnLFxuICBhdXRvcGxheTogdHJ1ZSxcbiAgdGltZWxpbmVPZmZzZXQ6IDBcbn07XG5cbnZhciBkZWZhdWx0VHdlZW5TZXR0aW5ncyA9IHtcbiAgZHVyYXRpb246IDEwMDAsXG4gIGRlbGF5OiAwLFxuICBlbmREZWxheTogMCxcbiAgZWFzaW5nOiAnZWFzZU91dEVsYXN0aWMoMSwgLjUpJyxcbiAgcm91bmQ6IDBcbn07XG5cbnZhciB2YWxpZFRyYW5zZm9ybXMgPSBbJ3RyYW5zbGF0ZVgnLCAndHJhbnNsYXRlWScsICd0cmFuc2xhdGVaJywgJ3JvdGF0ZScsICdyb3RhdGVYJywgJ3JvdGF0ZVknLCAncm90YXRlWicsICdzY2FsZScsICdzY2FsZVgnLCAnc2NhbGVZJywgJ3NjYWxlWicsICdza2V3JywgJ3NrZXdYJywgJ3NrZXdZJywgJ3BlcnNwZWN0aXZlJ107XG5cbi8vIENhY2hpbmdcblxudmFyIGNhY2hlID0ge1xuICBDU1M6IHt9LFxuICBzcHJpbmdzOiB7fVxufTtcblxuLy8gVXRpbHNcblxuZnVuY3Rpb24gbWluTWF4KHZhbCwgbWluLCBtYXgpIHtcbiAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHZhbCwgbWluKSwgbWF4KTtcbn1cblxuZnVuY3Rpb24gc3RyaW5nQ29udGFpbnMoc3RyLCB0ZXh0KSB7XG4gIHJldHVybiBzdHIuaW5kZXhPZih0ZXh0KSA+IC0xO1xufVxuXG5mdW5jdGlvbiBhcHBseUFyZ3VtZW50cyhmdW5jLCBhcmdzKSB7XG4gIHJldHVybiBmdW5jLmFwcGx5KG51bGwsIGFyZ3MpO1xufVxuXG52YXIgaXMgPSB7XG4gIGFycjogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIEFycmF5LmlzQXJyYXkoYSk7IH0sXG4gIG9iajogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIHN0cmluZ0NvbnRhaW5zKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKSwgJ09iamVjdCcpOyB9LFxuICBwdGg6IGZ1bmN0aW9uIChhKSB7IHJldHVybiBpcy5vYmooYSkgJiYgYS5oYXNPd25Qcm9wZXJ0eSgndG90YWxMZW5ndGgnKTsgfSxcbiAgc3ZnOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gYSBpbnN0YW5jZW9mIFNWR0VsZW1lbnQ7IH0sXG4gIGlucDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50OyB9LFxuICBkb206IGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLm5vZGVUeXBlIHx8IGlzLnN2ZyhhKTsgfSxcbiAgc3RyOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gdHlwZW9mIGEgPT09ICdzdHJpbmcnOyB9LFxuICBmbmM6IGZ1bmN0aW9uIChhKSB7IHJldHVybiB0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJzsgfSxcbiAgdW5kOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gdHlwZW9mIGEgPT09ICd1bmRlZmluZWQnOyB9LFxuICBoZXg6IGZ1bmN0aW9uIChhKSB7IHJldHVybiAvKF4jWzAtOUEtRl17Nn0kKXwoXiNbMC05QS1GXXszfSQpL2kudGVzdChhKTsgfSxcbiAgcmdiOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gL15yZ2IvLnRlc3QoYSk7IH0sXG4gIGhzbDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIC9eaHNsLy50ZXN0KGEpOyB9LFxuICBjb2w6IGZ1bmN0aW9uIChhKSB7IHJldHVybiAoaXMuaGV4KGEpIHx8IGlzLnJnYihhKSB8fCBpcy5oc2woYSkpOyB9LFxuICBrZXk6IGZ1bmN0aW9uIChhKSB7IHJldHVybiAhZGVmYXVsdEluc3RhbmNlU2V0dGluZ3MuaGFzT3duUHJvcGVydHkoYSkgJiYgIWRlZmF1bHRUd2VlblNldHRpbmdzLmhhc093blByb3BlcnR5KGEpICYmIGEgIT09ICd0YXJnZXRzJyAmJiBhICE9PSAna2V5ZnJhbWVzJzsgfVxufTtcblxuLy8gRWFzaW5nc1xuXG5mdW5jdGlvbiBwYXJzZUVhc2luZ1BhcmFtZXRlcnMoc3RyaW5nKSB7XG4gIHZhciBtYXRjaCA9IC9cXCgoW14pXSspXFwpLy5leGVjKHN0cmluZyk7XG4gIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdLnNwbGl0KCcsJykubWFwKGZ1bmN0aW9uIChwKSB7IHJldHVybiBwYXJzZUZsb2F0KHApOyB9KSA6IFtdO1xufVxuXG4vLyBTcHJpbmcgc29sdmVyIGluc3BpcmVkIGJ5IFdlYmtpdCBDb3B5cmlnaHQgwqkgMjAxNiBBcHBsZSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuIGh0dHBzOi8vd2Via2l0Lm9yZy9kZW1vcy9zcHJpbmcvc3ByaW5nLmpzXG5cbmZ1bmN0aW9uIHNwcmluZyhzdHJpbmcsIGR1cmF0aW9uKSB7XG5cbiAgdmFyIHBhcmFtcyA9IHBhcnNlRWFzaW5nUGFyYW1ldGVycyhzdHJpbmcpO1xuICB2YXIgbWFzcyA9IG1pbk1heChpcy51bmQocGFyYW1zWzBdKSA/IDEgOiBwYXJhbXNbMF0sIC4xLCAxMDApO1xuICB2YXIgc3RpZmZuZXNzID0gbWluTWF4KGlzLnVuZChwYXJhbXNbMV0pID8gMTAwIDogcGFyYW1zWzFdLCAuMSwgMTAwKTtcbiAgdmFyIGRhbXBpbmcgPSBtaW5NYXgoaXMudW5kKHBhcmFtc1syXSkgPyAxMCA6IHBhcmFtc1syXSwgLjEsIDEwMCk7XG4gIHZhciB2ZWxvY2l0eSA9ICBtaW5NYXgoaXMudW5kKHBhcmFtc1szXSkgPyAwIDogcGFyYW1zWzNdLCAuMSwgMTAwKTtcbiAgdmFyIHcwID0gTWF0aC5zcXJ0KHN0aWZmbmVzcyAvIG1hc3MpO1xuICB2YXIgemV0YSA9IGRhbXBpbmcgLyAoMiAqIE1hdGguc3FydChzdGlmZm5lc3MgKiBtYXNzKSk7XG4gIHZhciB3ZCA9IHpldGEgPCAxID8gdzAgKiBNYXRoLnNxcnQoMSAtIHpldGEgKiB6ZXRhKSA6IDA7XG4gIHZhciBhID0gMTtcbiAgdmFyIGIgPSB6ZXRhIDwgMSA/ICh6ZXRhICogdzAgKyAtdmVsb2NpdHkpIC8gd2QgOiAtdmVsb2NpdHkgKyB3MDtcblxuICBmdW5jdGlvbiBzb2x2ZXIodCkge1xuICAgIHZhciBwcm9ncmVzcyA9IGR1cmF0aW9uID8gKGR1cmF0aW9uICogdCkgLyAxMDAwIDogdDtcbiAgICBpZiAoemV0YSA8IDEpIHtcbiAgICAgIHByb2dyZXNzID0gTWF0aC5leHAoLXByb2dyZXNzICogemV0YSAqIHcwKSAqIChhICogTWF0aC5jb3Mod2QgKiBwcm9ncmVzcykgKyBiICogTWF0aC5zaW4od2QgKiBwcm9ncmVzcykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9ncmVzcyA9IChhICsgYiAqIHByb2dyZXNzKSAqIE1hdGguZXhwKC1wcm9ncmVzcyAqIHcwKTtcbiAgICB9XG4gICAgaWYgKHQgPT09IDAgfHwgdCA9PT0gMSkgeyByZXR1cm4gdDsgfVxuICAgIHJldHVybiAxIC0gcHJvZ3Jlc3M7XG4gIH1cblxuICBmdW5jdGlvbiBnZXREdXJhdGlvbigpIHtcbiAgICB2YXIgY2FjaGVkID0gY2FjaGUuc3ByaW5nc1tzdHJpbmddO1xuICAgIGlmIChjYWNoZWQpIHsgcmV0dXJuIGNhY2hlZDsgfVxuICAgIHZhciBmcmFtZSA9IDEvNjtcbiAgICB2YXIgZWxhcHNlZCA9IDA7XG4gICAgdmFyIHJlc3QgPSAwO1xuICAgIHdoaWxlKHRydWUpIHtcbiAgICAgIGVsYXBzZWQgKz0gZnJhbWU7XG4gICAgICBpZiAoc29sdmVyKGVsYXBzZWQpID09PSAxKSB7XG4gICAgICAgIHJlc3QrKztcbiAgICAgICAgaWYgKHJlc3QgPj0gMTYpIHsgYnJlYWs7IH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3QgPSAwO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgZHVyYXRpb24gPSBlbGFwc2VkICogZnJhbWUgKiAxMDAwO1xuICAgIGNhY2hlLnNwcmluZ3Nbc3RyaW5nXSA9IGR1cmF0aW9uO1xuICAgIHJldHVybiBkdXJhdGlvbjtcbiAgfVxuXG4gIHJldHVybiBkdXJhdGlvbiA/IHNvbHZlciA6IGdldER1cmF0aW9uO1xuXG59XG5cbi8vIEVsYXN0aWMgZWFzaW5nIGFkYXB0ZWQgZnJvbSBqUXVlcnlVSSBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9lYXNpbmdzL1xuXG5mdW5jdGlvbiBlbGFzdGljKGFtcGxpdHVkZSwgcGVyaW9kKSB7XG4gIGlmICggYW1wbGl0dWRlID09PSB2b2lkIDAgKSBhbXBsaXR1ZGUgPSAxO1xuICBpZiAoIHBlcmlvZCA9PT0gdm9pZCAwICkgcGVyaW9kID0gLjU7XG5cbiAgdmFyIGEgPSBtaW5NYXgoYW1wbGl0dWRlLCAxLCAxMCk7XG4gIHZhciBwID0gbWluTWF4KHBlcmlvZCwgLjEsIDIpO1xuICByZXR1cm4gZnVuY3Rpb24gKHQpIHtcbiAgICByZXR1cm4gKHQgPT09IDAgfHwgdCA9PT0gMSkgPyB0IDogXG4gICAgICAtYSAqIE1hdGgucG93KDIsIDEwICogKHQgLSAxKSkgKiBNYXRoLnNpbigoKCh0IC0gMSkgLSAocCAvIChNYXRoLlBJICogMikgKiBNYXRoLmFzaW4oMSAvIGEpKSkgKiAoTWF0aC5QSSAqIDIpKSAvIHApO1xuICB9XG59XG5cbi8vIEJhc2ljIHN0ZXBzIGVhc2luZyBpbXBsZW1lbnRhdGlvbiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9mci9kb2NzL1dlYi9DU1MvdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb25cblxuZnVuY3Rpb24gc3RlcHMoc3RlcHMpIHtcbiAgaWYgKCBzdGVwcyA9PT0gdm9pZCAwICkgc3RlcHMgPSAxMDtcblxuICByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIE1hdGgucm91bmQodCAqIHN0ZXBzKSAqICgxIC8gc3RlcHMpOyB9O1xufVxuXG4vLyBCZXppZXJFYXNpbmcgaHR0cHM6Ly9naXRodWIuY29tL2dyZS9iZXppZXItZWFzaW5nXG5cbnZhciBiZXppZXIgPSAoZnVuY3Rpb24gKCkge1xuXG4gIHZhciBrU3BsaW5lVGFibGVTaXplID0gMTE7XG4gIHZhciBrU2FtcGxlU3RlcFNpemUgPSAxLjAgLyAoa1NwbGluZVRhYmxlU2l6ZSAtIDEuMCk7XG5cbiAgZnVuY3Rpb24gQShhQTEsIGFBMikgeyByZXR1cm4gMS4wIC0gMy4wICogYUEyICsgMy4wICogYUExIH1cbiAgZnVuY3Rpb24gQihhQTEsIGFBMikgeyByZXR1cm4gMy4wICogYUEyIC0gNi4wICogYUExIH1cbiAgZnVuY3Rpb24gQyhhQTEpICAgICAgeyByZXR1cm4gMy4wICogYUExIH1cblxuICBmdW5jdGlvbiBjYWxjQmV6aWVyKGFULCBhQTEsIGFBMikgeyByZXR1cm4gKChBKGFBMSwgYUEyKSAqIGFUICsgQihhQTEsIGFBMikpICogYVQgKyBDKGFBMSkpICogYVQgfVxuICBmdW5jdGlvbiBnZXRTbG9wZShhVCwgYUExLCBhQTIpIHsgcmV0dXJuIDMuMCAqIEEoYUExLCBhQTIpICogYVQgKiBhVCArIDIuMCAqIEIoYUExLCBhQTIpICogYVQgKyBDKGFBMSkgfVxuXG4gIGZ1bmN0aW9uIGJpbmFyeVN1YmRpdmlkZShhWCwgYUEsIGFCLCBtWDEsIG1YMikge1xuICAgIHZhciBjdXJyZW50WCwgY3VycmVudFQsIGkgPSAwO1xuICAgIGRvIHtcbiAgICAgIGN1cnJlbnRUID0gYUEgKyAoYUIgLSBhQSkgLyAyLjA7XG4gICAgICBjdXJyZW50WCA9IGNhbGNCZXppZXIoY3VycmVudFQsIG1YMSwgbVgyKSAtIGFYO1xuICAgICAgaWYgKGN1cnJlbnRYID4gMC4wKSB7IGFCID0gY3VycmVudFQ7IH0gZWxzZSB7IGFBID0gY3VycmVudFQ7IH1cbiAgICB9IHdoaWxlIChNYXRoLmFicyhjdXJyZW50WCkgPiAwLjAwMDAwMDEgJiYgKytpIDwgMTApO1xuICAgIHJldHVybiBjdXJyZW50VDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5ld3RvblJhcGhzb25JdGVyYXRlKGFYLCBhR3Vlc3NULCBtWDEsIG1YMikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgKytpKSB7XG4gICAgICB2YXIgY3VycmVudFNsb3BlID0gZ2V0U2xvcGUoYUd1ZXNzVCwgbVgxLCBtWDIpO1xuICAgICAgaWYgKGN1cnJlbnRTbG9wZSA9PT0gMC4wKSB7IHJldHVybiBhR3Vlc3NUOyB9XG4gICAgICB2YXIgY3VycmVudFggPSBjYWxjQmV6aWVyKGFHdWVzc1QsIG1YMSwgbVgyKSAtIGFYO1xuICAgICAgYUd1ZXNzVCAtPSBjdXJyZW50WCAvIGN1cnJlbnRTbG9wZTtcbiAgICB9XG4gICAgcmV0dXJuIGFHdWVzc1Q7XG4gIH1cblxuICBmdW5jdGlvbiBiZXppZXIobVgxLCBtWTEsIG1YMiwgbVkyKSB7XG5cbiAgICBpZiAoISgwIDw9IG1YMSAmJiBtWDEgPD0gMSAmJiAwIDw9IG1YMiAmJiBtWDIgPD0gMSkpIHsgcmV0dXJuOyB9XG4gICAgdmFyIHNhbXBsZVZhbHVlcyA9IG5ldyBGbG9hdDMyQXJyYXkoa1NwbGluZVRhYmxlU2l6ZSk7XG5cbiAgICBpZiAobVgxICE9PSBtWTEgfHwgbVgyICE9PSBtWTIpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga1NwbGluZVRhYmxlU2l6ZTsgKytpKSB7XG4gICAgICAgIHNhbXBsZVZhbHVlc1tpXSA9IGNhbGNCZXppZXIoaSAqIGtTYW1wbGVTdGVwU2l6ZSwgbVgxLCBtWDIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFRGb3JYKGFYKSB7XG5cbiAgICAgIHZhciBpbnRlcnZhbFN0YXJ0ID0gMDtcbiAgICAgIHZhciBjdXJyZW50U2FtcGxlID0gMTtcbiAgICAgIHZhciBsYXN0U2FtcGxlID0ga1NwbGluZVRhYmxlU2l6ZSAtIDE7XG5cbiAgICAgIGZvciAoOyBjdXJyZW50U2FtcGxlICE9PSBsYXN0U2FtcGxlICYmIHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSA8PSBhWDsgKytjdXJyZW50U2FtcGxlKSB7XG4gICAgICAgIGludGVydmFsU3RhcnQgKz0ga1NhbXBsZVN0ZXBTaXplO1xuICAgICAgfVxuXG4gICAgICAtLWN1cnJlbnRTYW1wbGU7XG5cbiAgICAgIHZhciBkaXN0ID0gKGFYIC0gc2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGVdKSAvIChzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZSArIDFdIC0gc2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGVdKTtcbiAgICAgIHZhciBndWVzc0ZvclQgPSBpbnRlcnZhbFN0YXJ0ICsgZGlzdCAqIGtTYW1wbGVTdGVwU2l6ZTtcbiAgICAgIHZhciBpbml0aWFsU2xvcGUgPSBnZXRTbG9wZShndWVzc0ZvclQsIG1YMSwgbVgyKTtcblxuICAgICAgaWYgKGluaXRpYWxTbG9wZSA+PSAwLjAwMSkge1xuICAgICAgICByZXR1cm4gbmV3dG9uUmFwaHNvbkl0ZXJhdGUoYVgsIGd1ZXNzRm9yVCwgbVgxLCBtWDIpO1xuICAgICAgfSBlbHNlIGlmIChpbml0aWFsU2xvcGUgPT09IDAuMCkge1xuICAgICAgICByZXR1cm4gZ3Vlc3NGb3JUO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGJpbmFyeVN1YmRpdmlkZShhWCwgaW50ZXJ2YWxTdGFydCwgaW50ZXJ2YWxTdGFydCArIGtTYW1wbGVTdGVwU2l6ZSwgbVgxLCBtWDIpO1xuICAgICAgfVxuXG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh4KSB7XG4gICAgICBpZiAobVgxID09PSBtWTEgJiYgbVgyID09PSBtWTIpIHsgcmV0dXJuIHg7IH1cbiAgICAgIGlmICh4ID09PSAwIHx8IHggPT09IDEpIHsgcmV0dXJuIHg7IH1cbiAgICAgIHJldHVybiBjYWxjQmV6aWVyKGdldFRGb3JYKHgpLCBtWTEsIG1ZMik7XG4gICAgfVxuXG4gIH1cblxuICByZXR1cm4gYmV6aWVyO1xuXG59KSgpO1xuXG52YXIgcGVubmVyID0gKGZ1bmN0aW9uICgpIHtcblxuICB2YXIgbmFtZXMgPSBbJ1F1YWQnLCAnQ3ViaWMnLCAnUXVhcnQnLCAnUXVpbnQnLCAnU2luZScsICdFeHBvJywgJ0NpcmMnLCAnQmFjaycsICdFbGFzdGljJ107XG5cbiAgLy8gQXBwcm94aW1hdGVkIFBlbm5lciBlcXVhdGlvbnMgaHR0cDovL21hdHRoZXdsZWluLmNvbS9jZWFzZXIvXG5cbiAgdmFyIGN1cnZlcyA9IHtcbiAgICBJbjogW1xuICAgICAgWzAuNTUwLCAwLjA4NSwgMC42ODAsIDAuNTMwXSwgLyogaW5RdWFkICovXG4gICAgICBbMC41NTAsIDAuMDU1LCAwLjY3NSwgMC4xOTBdLCAvKiBpbkN1YmljICovXG4gICAgICBbMC44OTUsIDAuMDMwLCAwLjY4NSwgMC4yMjBdLCAvKiBpblF1YXJ0ICovXG4gICAgICBbMC43NTUsIDAuMDUwLCAwLjg1NSwgMC4wNjBdLCAvKiBpblF1aW50ICovXG4gICAgICBbMC40NzAsIDAuMDAwLCAwLjc0NSwgMC43MTVdLCAvKiBpblNpbmUgKi9cbiAgICAgIFswLjk1MCwgMC4wNTAsIDAuNzk1LCAwLjAzNV0sIC8qIGluRXhwbyAqL1xuICAgICAgWzAuNjAwLCAwLjA0MCwgMC45ODAsIDAuMzM1XSwgLyogaW5DaXJjICovXG4gICAgICBbMC42MDAsLTAuMjgwLCAwLjczNSwgMC4wNDVdLCAvKiBpbkJhY2sgKi9cbiAgICAgIGVsYXN0aWMgLyogaW5FbGFzdGljICovXG4gICAgXSxcbiAgICBPdXQ6IFtcbiAgICAgIFswLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MF0sIC8qIG91dFF1YWQgKi9cbiAgICAgIFswLjIxNSwgMC42MTAsIDAuMzU1LCAxLjAwMF0sIC8qIG91dEN1YmljICovXG4gICAgICBbMC4xNjUsIDAuODQwLCAwLjQ0MCwgMS4wMDBdLCAvKiBvdXRRdWFydCAqL1xuICAgICAgWzAuMjMwLCAxLjAwMCwgMC4zMjAsIDEuMDAwXSwgLyogb3V0UXVpbnQgKi9cbiAgICAgIFswLjM5MCwgMC41NzUsIDAuNTY1LCAxLjAwMF0sIC8qIG91dFNpbmUgKi9cbiAgICAgIFswLjE5MCwgMS4wMDAsIDAuMjIwLCAxLjAwMF0sIC8qIG91dEV4cG8gKi9cbiAgICAgIFswLjA3NSwgMC44MjAsIDAuMTY1LCAxLjAwMF0sIC8qIG91dENpcmMgKi9cbiAgICAgIFswLjE3NSwgMC44ODUsIDAuMzIwLCAxLjI3NV0sIC8qIG91dEJhY2sgKi9cbiAgICAgIGZ1bmN0aW9uIChhLCBwKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gMSAtIGVsYXN0aWMoYSwgcCkoMSAtIHQpOyB9OyB9IC8qIG91dEVsYXN0aWMgKi9cbiAgICBdLFxuICAgIEluT3V0OiBbXG4gICAgICBbMC40NTUsIDAuMDMwLCAwLjUxNSwgMC45NTVdLCAvKiBpbk91dFF1YWQgKi9cbiAgICAgIFswLjY0NSwgMC4wNDUsIDAuMzU1LCAxLjAwMF0sIC8qIGluT3V0Q3ViaWMgKi9cbiAgICAgIFswLjc3MCwgMC4wMDAsIDAuMTc1LCAxLjAwMF0sIC8qIGluT3V0UXVhcnQgKi9cbiAgICAgIFswLjg2MCwgMC4wMDAsIDAuMDcwLCAxLjAwMF0sIC8qIGluT3V0UXVpbnQgKi9cbiAgICAgIFswLjQ0NSwgMC4wNTAsIDAuNTUwLCAwLjk1MF0sIC8qIGluT3V0U2luZSAqL1xuICAgICAgWzEuMDAwLCAwLjAwMCwgMC4wMDAsIDEuMDAwXSwgLyogaW5PdXRFeHBvICovXG4gICAgICBbMC43ODUsIDAuMTM1LCAwLjE1MCwgMC44NjBdLCAvKiBpbk91dENpcmMgKi9cbiAgICAgIFswLjY4MCwtMC41NTAsIDAuMjY1LCAxLjU1MF0sIC8qIGluT3V0QmFjayAqL1xuICAgICAgZnVuY3Rpb24gKGEsIHApIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiB0IDwgLjUgPyBlbGFzdGljKGEsIHApKHQgKiAyKSAvIDIgOiAxIC0gZWxhc3RpYyhhLCBwKSh0ICogLTIgKyAyKSAvIDI7IH07IH0gLyogaW5PdXRFbGFzdGljICovXG4gICAgXVxuICB9O1xuXG4gIHZhciBlYXNlcyA9IHsgXG4gICAgbGluZWFyOiBbMC4yNTAsIDAuMjUwLCAwLjc1MCwgMC43NTBdXG4gIH07XG5cbiAgdmFyIGxvb3AgPSBmdW5jdGlvbiAoIGNvb3JkcyApIHtcbiAgICBjdXJ2ZXNbY29vcmRzXS5mb3JFYWNoKGZ1bmN0aW9uIChlYXNlLCBpKSB7XG4gICAgICBlYXNlc1snZWFzZScrY29vcmRzK25hbWVzW2ldXSA9IGVhc2U7XG4gICAgfSk7XG4gIH07XG5cbiAgZm9yICh2YXIgY29vcmRzIGluIGN1cnZlcykgbG9vcCggY29vcmRzICk7XG5cbiAgcmV0dXJuIGVhc2VzO1xuXG59KSgpO1xuXG5mdW5jdGlvbiBwYXJzZUVhc2luZ3MoZWFzaW5nLCBkdXJhdGlvbikge1xuICBpZiAoaXMuZm5jKGVhc2luZykpIHsgcmV0dXJuIGVhc2luZzsgfVxuICB2YXIgbmFtZSA9IGVhc2luZy5zcGxpdCgnKCcpWzBdO1xuICB2YXIgZWFzZSA9IHBlbm5lcltuYW1lXTtcbiAgdmFyIGFyZ3MgPSBwYXJzZUVhc2luZ1BhcmFtZXRlcnMoZWFzaW5nKTtcbiAgc3dpdGNoIChuYW1lKSB7XG4gICAgY2FzZSAnc3ByaW5nJyA6IHJldHVybiBzcHJpbmcoZWFzaW5nLCBkdXJhdGlvbik7XG4gICAgY2FzZSAnY3ViaWNCZXppZXInIDogcmV0dXJuIGFwcGx5QXJndW1lbnRzKGJlemllciwgYXJncyk7XG4gICAgY2FzZSAnc3RlcHMnIDogcmV0dXJuIGFwcGx5QXJndW1lbnRzKHN0ZXBzLCBhcmdzKTtcbiAgICBkZWZhdWx0IDogcmV0dXJuIGlzLmZuYyhlYXNlKSA/IGFwcGx5QXJndW1lbnRzKGVhc2UsIGFyZ3MpIDogYXBwbHlBcmd1bWVudHMoYmV6aWVyLCBlYXNlKTtcbiAgfVxufVxuXG4vLyBTdHJpbmdzXG5cbmZ1bmN0aW9uIHNlbGVjdFN0cmluZyhzdHIpIHtcbiAgdHJ5IHtcbiAgICB2YXIgbm9kZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHN0cik7XG4gICAgcmV0dXJuIG5vZGVzO1xuICB9IGNhdGNoKGUpIHtcbiAgICByZXR1cm47XG4gIH1cbn1cblxuLy8gQXJyYXlzXG5cbmZ1bmN0aW9uIGZpbHRlckFycmF5KGFyciwgY2FsbGJhY2spIHtcbiAgdmFyIGxlbiA9IGFyci5sZW5ndGg7XG4gIHZhciB0aGlzQXJnID0gYXJndW1lbnRzLmxlbmd0aCA+PSAyID8gYXJndW1lbnRzWzFdIDogdm9pZCAwO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZiAoaSBpbiBhcnIpIHtcbiAgICAgIHZhciB2YWwgPSBhcnJbaV07XG4gICAgICBpZiAoY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB2YWwsIGksIGFycikpIHtcbiAgICAgICAgcmVzdWx0LnB1c2godmFsKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gZmxhdHRlbkFycmF5KGFycikge1xuICByZXR1cm4gYXJyLnJlZHVjZShmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYS5jb25jYXQoaXMuYXJyKGIpID8gZmxhdHRlbkFycmF5KGIpIDogYik7IH0sIFtdKTtcbn1cblxuZnVuY3Rpb24gdG9BcnJheShvKSB7XG4gIGlmIChpcy5hcnIobykpIHsgcmV0dXJuIG87IH1cbiAgaWYgKGlzLnN0cihvKSkgeyBvID0gc2VsZWN0U3RyaW5nKG8pIHx8IG87IH1cbiAgaWYgKG8gaW5zdGFuY2VvZiBOb2RlTGlzdCB8fCBvIGluc3RhbmNlb2YgSFRNTENvbGxlY3Rpb24pIHsgcmV0dXJuIFtdLnNsaWNlLmNhbGwobyk7IH1cbiAgcmV0dXJuIFtvXTtcbn1cblxuZnVuY3Rpb24gYXJyYXlDb250YWlucyhhcnIsIHZhbCkge1xuICByZXR1cm4gYXJyLnNvbWUoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEgPT09IHZhbDsgfSk7XG59XG5cbi8vIE9iamVjdHNcblxuZnVuY3Rpb24gY2xvbmVPYmplY3Qobykge1xuICB2YXIgY2xvbmUgPSB7fTtcbiAgZm9yICh2YXIgcCBpbiBvKSB7IGNsb25lW3BdID0gb1twXTsgfVxuICByZXR1cm4gY2xvbmU7XG59XG5cbmZ1bmN0aW9uIHJlcGxhY2VPYmplY3RQcm9wcyhvMSwgbzIpIHtcbiAgdmFyIG8gPSBjbG9uZU9iamVjdChvMSk7XG4gIGZvciAodmFyIHAgaW4gbzEpIHsgb1twXSA9IG8yLmhhc093blByb3BlcnR5KHApID8gbzJbcF0gOiBvMVtwXTsgfVxuICByZXR1cm4gbztcbn1cblxuZnVuY3Rpb24gbWVyZ2VPYmplY3RzKG8xLCBvMikge1xuICB2YXIgbyA9IGNsb25lT2JqZWN0KG8xKTtcbiAgZm9yICh2YXIgcCBpbiBvMikgeyBvW3BdID0gaXMudW5kKG8xW3BdKSA/IG8yW3BdIDogbzFbcF07IH1cbiAgcmV0dXJuIG87XG59XG5cbi8vIENvbG9yc1xuXG5mdW5jdGlvbiByZ2JUb1JnYmEocmdiVmFsdWUpIHtcbiAgdmFyIHJnYiA9IC9yZ2JcXCgoXFxkKyxcXHMqW1xcZF0rLFxccypbXFxkXSspXFwpL2cuZXhlYyhyZ2JWYWx1ZSk7XG4gIHJldHVybiByZ2IgPyAoXCJyZ2JhKFwiICsgKHJnYlsxXSkgKyBcIiwxKVwiKSA6IHJnYlZhbHVlO1xufVxuXG5mdW5jdGlvbiBoZXhUb1JnYmEoaGV4VmFsdWUpIHtcbiAgdmFyIHJneCA9IC9eIz8oW2EtZlxcZF0pKFthLWZcXGRdKShbYS1mXFxkXSkkL2k7XG4gIHZhciBoZXggPSBoZXhWYWx1ZS5yZXBsYWNlKHJneCwgZnVuY3Rpb24gKG0sIHIsIGcsIGIpIHsgcmV0dXJuIHIgKyByICsgZyArIGcgKyBiICsgYjsgfSApO1xuICB2YXIgcmdiID0gL14jPyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KSQvaS5leGVjKGhleCk7XG4gIHZhciByID0gcGFyc2VJbnQocmdiWzFdLCAxNik7XG4gIHZhciBnID0gcGFyc2VJbnQocmdiWzJdLCAxNik7XG4gIHZhciBiID0gcGFyc2VJbnQocmdiWzNdLCAxNik7XG4gIHJldHVybiAoXCJyZ2JhKFwiICsgciArIFwiLFwiICsgZyArIFwiLFwiICsgYiArIFwiLDEpXCIpO1xufVxuXG5mdW5jdGlvbiBoc2xUb1JnYmEoaHNsVmFsdWUpIHtcbiAgdmFyIGhzbCA9IC9oc2xcXCgoXFxkKyksXFxzKihbXFxkLl0rKSUsXFxzKihbXFxkLl0rKSVcXCkvZy5leGVjKGhzbFZhbHVlKSB8fCAvaHNsYVxcKChcXGQrKSxcXHMqKFtcXGQuXSspJSxcXHMqKFtcXGQuXSspJSxcXHMqKFtcXGQuXSspXFwpL2cuZXhlYyhoc2xWYWx1ZSk7XG4gIHZhciBoID0gcGFyc2VJbnQoaHNsWzFdLCAxMCkgLyAzNjA7XG4gIHZhciBzID0gcGFyc2VJbnQoaHNsWzJdLCAxMCkgLyAxMDA7XG4gIHZhciBsID0gcGFyc2VJbnQoaHNsWzNdLCAxMCkgLyAxMDA7XG4gIHZhciBhID0gaHNsWzRdIHx8IDE7XG4gIGZ1bmN0aW9uIGh1ZTJyZ2IocCwgcSwgdCkge1xuICAgIGlmICh0IDwgMCkgeyB0ICs9IDE7IH1cbiAgICBpZiAodCA+IDEpIHsgdCAtPSAxOyB9XG4gICAgaWYgKHQgPCAxLzYpIHsgcmV0dXJuIHAgKyAocSAtIHApICogNiAqIHQ7IH1cbiAgICBpZiAodCA8IDEvMikgeyByZXR1cm4gcTsgfVxuICAgIGlmICh0IDwgMi8zKSB7IHJldHVybiBwICsgKHEgLSBwKSAqICgyLzMgLSB0KSAqIDY7IH1cbiAgICByZXR1cm4gcDtcbiAgfVxuICB2YXIgciwgZywgYjtcbiAgaWYgKHMgPT0gMCkge1xuICAgIHIgPSBnID0gYiA9IGw7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHEgPSBsIDwgMC41ID8gbCAqICgxICsgcykgOiBsICsgcyAtIGwgKiBzO1xuICAgIHZhciBwID0gMiAqIGwgLSBxO1xuICAgIHIgPSBodWUycmdiKHAsIHEsIGggKyAxLzMpO1xuICAgIGcgPSBodWUycmdiKHAsIHEsIGgpO1xuICAgIGIgPSBodWUycmdiKHAsIHEsIGggLSAxLzMpO1xuICB9XG4gIHJldHVybiAoXCJyZ2JhKFwiICsgKHIgKiAyNTUpICsgXCIsXCIgKyAoZyAqIDI1NSkgKyBcIixcIiArIChiICogMjU1KSArIFwiLFwiICsgYSArIFwiKVwiKTtcbn1cblxuZnVuY3Rpb24gY29sb3JUb1JnYih2YWwpIHtcbiAgaWYgKGlzLnJnYih2YWwpKSB7IHJldHVybiByZ2JUb1JnYmEodmFsKTsgfVxuICBpZiAoaXMuaGV4KHZhbCkpIHsgcmV0dXJuIGhleFRvUmdiYSh2YWwpOyB9XG4gIGlmIChpcy5oc2wodmFsKSkgeyByZXR1cm4gaHNsVG9SZ2JhKHZhbCk7IH1cbn1cblxuLy8gVW5pdHNcblxuZnVuY3Rpb24gZ2V0VW5pdCh2YWwpIHtcbiAgdmFyIHNwbGl0ID0gLyhbXFwrXFwtXT9bMC05I1xcLl0rKSglfHB4fHB0fGVtfHJlbXxpbnxjbXxtbXxleHxjaHxwY3x2d3x2aHx2bWlufHZtYXh8ZGVnfHJhZHx0dXJuKT8kLy5leGVjKHZhbCk7XG4gIGlmIChzcGxpdCkgeyByZXR1cm4gc3BsaXRbMl07IH1cbn1cblxuZnVuY3Rpb24gZ2V0VHJhbnNmb3JtVW5pdChwcm9wTmFtZSkge1xuICBpZiAoc3RyaW5nQ29udGFpbnMocHJvcE5hbWUsICd0cmFuc2xhdGUnKSB8fCBwcm9wTmFtZSA9PT0gJ3BlcnNwZWN0aXZlJykgeyByZXR1cm4gJ3B4JzsgfVxuICBpZiAoc3RyaW5nQ29udGFpbnMocHJvcE5hbWUsICdyb3RhdGUnKSB8fCBzdHJpbmdDb250YWlucyhwcm9wTmFtZSwgJ3NrZXcnKSkgeyByZXR1cm4gJ2RlZyc7IH1cbn1cblxuLy8gVmFsdWVzXG5cbmZ1bmN0aW9uIGdldEZ1bmN0aW9uVmFsdWUodmFsLCBhbmltYXRhYmxlKSB7XG4gIGlmICghaXMuZm5jKHZhbCkpIHsgcmV0dXJuIHZhbDsgfVxuICByZXR1cm4gdmFsKGFuaW1hdGFibGUudGFyZ2V0LCBhbmltYXRhYmxlLmlkLCBhbmltYXRhYmxlLnRvdGFsKTtcbn1cblxuZnVuY3Rpb24gZ2V0QXR0cmlidXRlKGVsLCBwcm9wKSB7XG4gIHJldHVybiBlbC5nZXRBdHRyaWJ1dGUocHJvcCk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRQeFRvVW5pdChlbCwgdmFsdWUsIHVuaXQpIHtcbiAgdmFyIHZhbHVlVW5pdCA9IGdldFVuaXQodmFsdWUpO1xuICBpZiAoYXJyYXlDb250YWlucyhbdW5pdCwgJ2RlZycsICdyYWQnLCAndHVybiddLCB2YWx1ZVVuaXQpKSB7IHJldHVybiB2YWx1ZTsgfVxuICB2YXIgY2FjaGVkID0gY2FjaGUuQ1NTW3ZhbHVlICsgdW5pdF07XG4gIGlmICghaXMudW5kKGNhY2hlZCkpIHsgcmV0dXJuIGNhY2hlZDsgfVxuICB2YXIgYmFzZWxpbmUgPSAxMDA7XG4gIHZhciB0ZW1wRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGVsLnRhZ05hbWUpO1xuICB2YXIgcGFyZW50RWwgPSAoZWwucGFyZW50Tm9kZSAmJiAoZWwucGFyZW50Tm9kZSAhPT0gZG9jdW1lbnQpKSA/IGVsLnBhcmVudE5vZGUgOiBkb2N1bWVudC5ib2R5O1xuICBwYXJlbnRFbC5hcHBlbmRDaGlsZCh0ZW1wRWwpO1xuICB0ZW1wRWwuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICB0ZW1wRWwuc3R5bGUud2lkdGggPSBiYXNlbGluZSArIHVuaXQ7XG4gIHZhciBmYWN0b3IgPSBiYXNlbGluZSAvIHRlbXBFbC5vZmZzZXRXaWR0aDtcbiAgcGFyZW50RWwucmVtb3ZlQ2hpbGQodGVtcEVsKTtcbiAgdmFyIGNvbnZlcnRlZFVuaXQgPSBmYWN0b3IgKiBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgY2FjaGUuQ1NTW3ZhbHVlICsgdW5pdF0gPSBjb252ZXJ0ZWRVbml0O1xuICByZXR1cm4gY29udmVydGVkVW5pdDtcbn1cblxuZnVuY3Rpb24gZ2V0Q1NTVmFsdWUoZWwsIHByb3AsIHVuaXQpIHtcbiAgaWYgKHByb3AgaW4gZWwuc3R5bGUpIHtcbiAgICB2YXIgdXBwZXJjYXNlUHJvcE5hbWUgPSBwcm9wLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csICckMS0kMicpLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFyIHZhbHVlID0gZWwuc3R5bGVbcHJvcF0gfHwgZ2V0Q29tcHV0ZWRTdHlsZShlbCkuZ2V0UHJvcGVydHlWYWx1ZSh1cHBlcmNhc2VQcm9wTmFtZSkgfHwgJzAnO1xuICAgIHJldHVybiB1bml0ID8gY29udmVydFB4VG9Vbml0KGVsLCB2YWx1ZSwgdW5pdCkgOiB2YWx1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRBbmltYXRpb25UeXBlKGVsLCBwcm9wKSB7XG4gIGlmIChpcy5kb20oZWwpICYmICFpcy5pbnAoZWwpICYmIChnZXRBdHRyaWJ1dGUoZWwsIHByb3ApIHx8IChpcy5zdmcoZWwpICYmIGVsW3Byb3BdKSkpIHsgcmV0dXJuICdhdHRyaWJ1dGUnOyB9XG4gIGlmIChpcy5kb20oZWwpICYmIGFycmF5Q29udGFpbnModmFsaWRUcmFuc2Zvcm1zLCBwcm9wKSkgeyByZXR1cm4gJ3RyYW5zZm9ybSc7IH1cbiAgaWYgKGlzLmRvbShlbCkgJiYgKHByb3AgIT09ICd0cmFuc2Zvcm0nICYmIGdldENTU1ZhbHVlKGVsLCBwcm9wKSkpIHsgcmV0dXJuICdjc3MnOyB9XG4gIGlmIChlbFtwcm9wXSAhPSBudWxsKSB7IHJldHVybiAnb2JqZWN0JzsgfVxufVxuXG5mdW5jdGlvbiBnZXRFbGVtZW50VHJhbnNmb3JtcyhlbCkge1xuICBpZiAoIWlzLmRvbShlbCkpIHsgcmV0dXJuOyB9XG4gIHZhciBzdHIgPSBlbC5zdHlsZS50cmFuc2Zvcm0gfHwgJyc7XG4gIHZhciByZWcgID0gLyhcXHcrKVxcKChbXildKilcXCkvZztcbiAgdmFyIHRyYW5zZm9ybXMgPSBuZXcgTWFwKCk7XG4gIHZhciBtOyB3aGlsZSAobSA9IHJlZy5leGVjKHN0cikpIHsgdHJhbnNmb3Jtcy5zZXQobVsxXSwgbVsyXSk7IH1cbiAgcmV0dXJuIHRyYW5zZm9ybXM7XG59XG5cbmZ1bmN0aW9uIGdldFRyYW5zZm9ybVZhbHVlKGVsLCBwcm9wTmFtZSwgYW5pbWF0YWJsZSwgdW5pdCkge1xuICB2YXIgZGVmYXVsdFZhbCA9IHN0cmluZ0NvbnRhaW5zKHByb3BOYW1lLCAnc2NhbGUnKSA/IDEgOiAwICsgZ2V0VHJhbnNmb3JtVW5pdChwcm9wTmFtZSk7XG4gIHZhciB2YWx1ZSA9IGdldEVsZW1lbnRUcmFuc2Zvcm1zKGVsKS5nZXQocHJvcE5hbWUpIHx8IGRlZmF1bHRWYWw7XG4gIGlmIChhbmltYXRhYmxlKSB7XG4gICAgYW5pbWF0YWJsZS50cmFuc2Zvcm1zLmxpc3Quc2V0KHByb3BOYW1lLCB2YWx1ZSk7XG4gICAgYW5pbWF0YWJsZS50cmFuc2Zvcm1zWydsYXN0J10gPSBwcm9wTmFtZTtcbiAgfVxuICByZXR1cm4gdW5pdCA/IGNvbnZlcnRQeFRvVW5pdChlbCwgdmFsdWUsIHVuaXQpIDogdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGdldE9yaWdpbmFsVGFyZ2V0VmFsdWUodGFyZ2V0LCBwcm9wTmFtZSwgdW5pdCwgYW5pbWF0YWJsZSkge1xuICBzd2l0Y2ggKGdldEFuaW1hdGlvblR5cGUodGFyZ2V0LCBwcm9wTmFtZSkpIHtcbiAgICBjYXNlICd0cmFuc2Zvcm0nOiByZXR1cm4gZ2V0VHJhbnNmb3JtVmFsdWUodGFyZ2V0LCBwcm9wTmFtZSwgYW5pbWF0YWJsZSwgdW5pdCk7XG4gICAgY2FzZSAnY3NzJzogcmV0dXJuIGdldENTU1ZhbHVlKHRhcmdldCwgcHJvcE5hbWUsIHVuaXQpO1xuICAgIGNhc2UgJ2F0dHJpYnV0ZSc6IHJldHVybiBnZXRBdHRyaWJ1dGUodGFyZ2V0LCBwcm9wTmFtZSk7XG4gICAgZGVmYXVsdDogcmV0dXJuIHRhcmdldFtwcm9wTmFtZV0gfHwgMDtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRSZWxhdGl2ZVZhbHVlKHRvLCBmcm9tKSB7XG4gIHZhciBvcGVyYXRvciA9IC9eKFxcKj18XFwrPXwtPSkvLmV4ZWModG8pO1xuICBpZiAoIW9wZXJhdG9yKSB7IHJldHVybiB0bzsgfVxuICB2YXIgdSA9IGdldFVuaXQodG8pIHx8IDA7XG4gIHZhciB4ID0gcGFyc2VGbG9hdChmcm9tKTtcbiAgdmFyIHkgPSBwYXJzZUZsb2F0KHRvLnJlcGxhY2Uob3BlcmF0b3JbMF0sICcnKSk7XG4gIHN3aXRjaCAob3BlcmF0b3JbMF1bMF0pIHtcbiAgICBjYXNlICcrJzogcmV0dXJuIHggKyB5ICsgdTtcbiAgICBjYXNlICctJzogcmV0dXJuIHggLSB5ICsgdTtcbiAgICBjYXNlICcqJzogcmV0dXJuIHggKiB5ICsgdTtcbiAgfVxufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVZhbHVlKHZhbCwgdW5pdCkge1xuICBpZiAoaXMuY29sKHZhbCkpIHsgcmV0dXJuIGNvbG9yVG9SZ2IodmFsKTsgfVxuICB2YXIgb3JpZ2luYWxVbml0ID0gZ2V0VW5pdCh2YWwpO1xuICB2YXIgdW5pdExlc3MgPSBvcmlnaW5hbFVuaXQgPyB2YWwuc3Vic3RyKDAsIHZhbC5sZW5ndGggLSBvcmlnaW5hbFVuaXQubGVuZ3RoKSA6IHZhbDtcbiAgcmV0dXJuIHVuaXQgJiYgIS9cXHMvZy50ZXN0KHZhbCkgPyB1bml0TGVzcyArIHVuaXQgOiB1bml0TGVzcztcbn1cblxuLy8gZ2V0VG90YWxMZW5ndGgoKSBlcXVpdmFsZW50IGZvciBjaXJjbGUsIHJlY3QsIHBvbHlsaW5lLCBwb2x5Z29uIGFuZCBsaW5lIHNoYXBlc1xuLy8gYWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL1NlYkxhbWJsYS8zZTA1NTBjNDk2YzIzNjcwOTc0NFxuXG5mdW5jdGlvbiBnZXREaXN0YW5jZShwMSwgcDIpIHtcbiAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhwMi54IC0gcDEueCwgMikgKyBNYXRoLnBvdyhwMi55IC0gcDEueSwgMikpO1xufVxuXG5mdW5jdGlvbiBnZXRDaXJjbGVMZW5ndGgoZWwpIHtcbiAgcmV0dXJuIE1hdGguUEkgKiAyICogZ2V0QXR0cmlidXRlKGVsLCAncicpO1xufVxuXG5mdW5jdGlvbiBnZXRSZWN0TGVuZ3RoKGVsKSB7XG4gIHJldHVybiAoZ2V0QXR0cmlidXRlKGVsLCAnd2lkdGgnKSAqIDIpICsgKGdldEF0dHJpYnV0ZShlbCwgJ2hlaWdodCcpICogMik7XG59XG5cbmZ1bmN0aW9uIGdldExpbmVMZW5ndGgoZWwpIHtcbiAgcmV0dXJuIGdldERpc3RhbmNlKFxuICAgIHt4OiBnZXRBdHRyaWJ1dGUoZWwsICd4MScpLCB5OiBnZXRBdHRyaWJ1dGUoZWwsICd5MScpfSwgXG4gICAge3g6IGdldEF0dHJpYnV0ZShlbCwgJ3gyJyksIHk6IGdldEF0dHJpYnV0ZShlbCwgJ3kyJyl9XG4gICk7XG59XG5cbmZ1bmN0aW9uIGdldFBvbHlsaW5lTGVuZ3RoKGVsKSB7XG4gIHZhciBwb2ludHMgPSBlbC5wb2ludHM7XG4gIHZhciB0b3RhbExlbmd0aCA9IDA7XG4gIHZhciBwcmV2aW91c1BvcztcbiAgZm9yICh2YXIgaSA9IDAgOyBpIDwgcG9pbnRzLm51bWJlck9mSXRlbXM7IGkrKykge1xuICAgIHZhciBjdXJyZW50UG9zID0gcG9pbnRzLmdldEl0ZW0oaSk7XG4gICAgaWYgKGkgPiAwKSB7IHRvdGFsTGVuZ3RoICs9IGdldERpc3RhbmNlKHByZXZpb3VzUG9zLCBjdXJyZW50UG9zKTsgfVxuICAgIHByZXZpb3VzUG9zID0gY3VycmVudFBvcztcbiAgfVxuICByZXR1cm4gdG90YWxMZW5ndGg7XG59XG5cbmZ1bmN0aW9uIGdldFBvbHlnb25MZW5ndGgoZWwpIHtcbiAgdmFyIHBvaW50cyA9IGVsLnBvaW50cztcbiAgcmV0dXJuIGdldFBvbHlsaW5lTGVuZ3RoKGVsKSArIGdldERpc3RhbmNlKHBvaW50cy5nZXRJdGVtKHBvaW50cy5udW1iZXJPZkl0ZW1zIC0gMSksIHBvaW50cy5nZXRJdGVtKDApKTtcbn1cblxuLy8gUGF0aCBhbmltYXRpb25cblxuZnVuY3Rpb24gZ2V0VG90YWxMZW5ndGgoZWwpIHtcbiAgaWYgKGVsLmdldFRvdGFsTGVuZ3RoKSB7IHJldHVybiBlbC5nZXRUb3RhbExlbmd0aCgpOyB9XG4gIHN3aXRjaChlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICBjYXNlICdjaXJjbGUnOiByZXR1cm4gZ2V0Q2lyY2xlTGVuZ3RoKGVsKTtcbiAgICBjYXNlICdyZWN0JzogcmV0dXJuIGdldFJlY3RMZW5ndGgoZWwpO1xuICAgIGNhc2UgJ2xpbmUnOiByZXR1cm4gZ2V0TGluZUxlbmd0aChlbCk7XG4gICAgY2FzZSAncG9seWxpbmUnOiByZXR1cm4gZ2V0UG9seWxpbmVMZW5ndGgoZWwpO1xuICAgIGNhc2UgJ3BvbHlnb24nOiByZXR1cm4gZ2V0UG9seWdvbkxlbmd0aChlbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0RGFzaG9mZnNldChlbCkge1xuICB2YXIgcGF0aExlbmd0aCA9IGdldFRvdGFsTGVuZ3RoKGVsKTtcbiAgZWwuc2V0QXR0cmlidXRlKCdzdHJva2UtZGFzaGFycmF5JywgcGF0aExlbmd0aCk7XG4gIHJldHVybiBwYXRoTGVuZ3RoO1xufVxuXG4vLyBNb3Rpb24gcGF0aFxuXG5mdW5jdGlvbiBnZXRQYXJlbnRTdmdFbChlbCkge1xuICB2YXIgcGFyZW50RWwgPSBlbC5wYXJlbnROb2RlO1xuICB3aGlsZSAoaXMuc3ZnKHBhcmVudEVsKSkge1xuICAgIHBhcmVudEVsID0gcGFyZW50RWwucGFyZW50Tm9kZTtcbiAgICBpZiAoIWlzLnN2ZyhwYXJlbnRFbC5wYXJlbnROb2RlKSkgeyBicmVhazsgfVxuICB9XG4gIHJldHVybiBwYXJlbnRFbDtcbn1cblxuZnVuY3Rpb24gZ2V0UGFyZW50U3ZnKHBhdGhFbCwgc3ZnRGF0YSkge1xuICB2YXIgc3ZnID0gc3ZnRGF0YSB8fCB7fTtcbiAgdmFyIHBhcmVudFN2Z0VsID0gc3ZnLmVsIHx8IGdldFBhcmVudFN2Z0VsKHBhdGhFbCk7XG4gIHZhciByZWN0ID0gcGFyZW50U3ZnRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHZhciB2aWV3Qm94QXR0ciA9IGdldEF0dHJpYnV0ZShwYXJlbnRTdmdFbCwgJ3ZpZXdCb3gnKTtcbiAgdmFyIHdpZHRoID0gcmVjdC53aWR0aDtcbiAgdmFyIGhlaWdodCA9IHJlY3QuaGVpZ2h0O1xuICB2YXIgdmlld0JveCA9IHN2Zy52aWV3Qm94IHx8ICh2aWV3Qm94QXR0ciA/IHZpZXdCb3hBdHRyLnNwbGl0KCcgJykgOiBbMCwgMCwgd2lkdGgsIGhlaWdodF0pO1xuICByZXR1cm4ge1xuICAgIGVsOiBwYXJlbnRTdmdFbCxcbiAgICB2aWV3Qm94OiB2aWV3Qm94LFxuICAgIHg6IHZpZXdCb3hbMF0gLyAxLFxuICAgIHk6IHZpZXdCb3hbMV0gLyAxLFxuICAgIHc6IHdpZHRoIC8gdmlld0JveFsyXSxcbiAgICBoOiBoZWlnaHQgLyB2aWV3Qm94WzNdXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UGF0aChwYXRoLCBwZXJjZW50KSB7XG4gIHZhciBwYXRoRWwgPSBpcy5zdHIocGF0aCkgPyBzZWxlY3RTdHJpbmcocGF0aClbMF0gOiBwYXRoO1xuICB2YXIgcCA9IHBlcmNlbnQgfHwgMTAwO1xuICByZXR1cm4gZnVuY3Rpb24ocHJvcGVydHkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJvcGVydHk6IHByb3BlcnR5LFxuICAgICAgZWw6IHBhdGhFbCxcbiAgICAgIHN2ZzogZ2V0UGFyZW50U3ZnKHBhdGhFbCksXG4gICAgICB0b3RhbExlbmd0aDogZ2V0VG90YWxMZW5ndGgocGF0aEVsKSAqIChwIC8gMTAwKVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRQYXRoUHJvZ3Jlc3MocGF0aCwgcHJvZ3Jlc3MpIHtcbiAgZnVuY3Rpb24gcG9pbnQob2Zmc2V0KSB7XG4gICAgaWYgKCBvZmZzZXQgPT09IHZvaWQgMCApIG9mZnNldCA9IDA7XG5cbiAgICB2YXIgbCA9IHByb2dyZXNzICsgb2Zmc2V0ID49IDEgPyBwcm9ncmVzcyArIG9mZnNldCA6IDA7XG4gICAgcmV0dXJuIHBhdGguZWwuZ2V0UG9pbnRBdExlbmd0aChsKTtcbiAgfVxuICB2YXIgc3ZnID0gZ2V0UGFyZW50U3ZnKHBhdGguZWwsIHBhdGguc3ZnKTtcbiAgdmFyIHAgPSBwb2ludCgpO1xuICB2YXIgcDAgPSBwb2ludCgtMSk7XG4gIHZhciBwMSA9IHBvaW50KCsxKTtcbiAgc3dpdGNoIChwYXRoLnByb3BlcnR5KSB7XG4gICAgY2FzZSAneCc6IHJldHVybiAocC54IC0gc3ZnLngpICogc3ZnLnc7XG4gICAgY2FzZSAneSc6IHJldHVybiAocC55IC0gc3ZnLnkpICogc3ZnLmg7XG4gICAgY2FzZSAnYW5nbGUnOiByZXR1cm4gTWF0aC5hdGFuMihwMS55IC0gcDAueSwgcDEueCAtIHAwLngpICogMTgwIC8gTWF0aC5QSTtcbiAgfVxufVxuXG4vLyBEZWNvbXBvc2UgdmFsdWVcblxuZnVuY3Rpb24gZGVjb21wb3NlVmFsdWUodmFsLCB1bml0KSB7XG4gIHZhciByZ3ggPSAvLT9cXGQqXFwuP1xcZCsvZztcbiAgdmFyIHZhbHVlID0gdmFsaWRhdGVWYWx1ZSgoaXMucHRoKHZhbCkgPyB2YWwudG90YWxMZW5ndGggOiB2YWwpLCB1bml0KSArICcnO1xuICByZXR1cm4ge1xuICAgIG9yaWdpbmFsOiB2YWx1ZSxcbiAgICBudW1iZXJzOiB2YWx1ZS5tYXRjaChyZ3gpID8gdmFsdWUubWF0Y2gocmd4KS5tYXAoTnVtYmVyKSA6IFswXSxcbiAgICBzdHJpbmdzOiAoaXMuc3RyKHZhbCkgfHwgdW5pdCkgPyB2YWx1ZS5zcGxpdChyZ3gpIDogW11cbiAgfVxufVxuXG4vLyBBbmltYXRhYmxlc1xuXG5mdW5jdGlvbiBwYXJzZVRhcmdldHModGFyZ2V0cykge1xuICB2YXIgdGFyZ2V0c0FycmF5ID0gdGFyZ2V0cyA/IChmbGF0dGVuQXJyYXkoaXMuYXJyKHRhcmdldHMpID8gdGFyZ2V0cy5tYXAodG9BcnJheSkgOiB0b0FycmF5KHRhcmdldHMpKSkgOiBbXTtcbiAgcmV0dXJuIGZpbHRlckFycmF5KHRhcmdldHNBcnJheSwgZnVuY3Rpb24gKGl0ZW0sIHBvcywgc2VsZikgeyByZXR1cm4gc2VsZi5pbmRleE9mKGl0ZW0pID09PSBwb3M7IH0pO1xufVxuXG5mdW5jdGlvbiBnZXRBbmltYXRhYmxlcyh0YXJnZXRzKSB7XG4gIHZhciBwYXJzZWQgPSBwYXJzZVRhcmdldHModGFyZ2V0cyk7XG4gIHJldHVybiBwYXJzZWQubWFwKGZ1bmN0aW9uICh0LCBpKSB7XG4gICAgcmV0dXJuIHt0YXJnZXQ6IHQsIGlkOiBpLCB0b3RhbDogcGFyc2VkLmxlbmd0aCwgdHJhbnNmb3JtczogeyBsaXN0OiBnZXRFbGVtZW50VHJhbnNmb3Jtcyh0KSB9IH07XG4gIH0pO1xufVxuXG4vLyBQcm9wZXJ0aWVzXG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVByb3BlcnR5VHdlZW5zKHByb3AsIHR3ZWVuU2V0dGluZ3MpIHtcbiAgdmFyIHNldHRpbmdzID0gY2xvbmVPYmplY3QodHdlZW5TZXR0aW5ncyk7XG4gIC8vIE92ZXJyaWRlIGR1cmF0aW9uIGlmIGVhc2luZyBpcyBhIHNwcmluZ1xuICBpZiAoL15zcHJpbmcvLnRlc3Qoc2V0dGluZ3MuZWFzaW5nKSkgeyBzZXR0aW5ncy5kdXJhdGlvbiA9IHNwcmluZyhzZXR0aW5ncy5lYXNpbmcpOyB9XG4gIGlmIChpcy5hcnIocHJvcCkpIHtcbiAgICB2YXIgbCA9IHByb3AubGVuZ3RoO1xuICAgIHZhciBpc0Zyb21UbyA9IChsID09PSAyICYmICFpcy5vYmoocHJvcFswXSkpO1xuICAgIGlmICghaXNGcm9tVG8pIHtcbiAgICAgIC8vIER1cmF0aW9uIGRpdmlkZWQgYnkgdGhlIG51bWJlciBvZiB0d2VlbnNcbiAgICAgIGlmICghaXMuZm5jKHR3ZWVuU2V0dGluZ3MuZHVyYXRpb24pKSB7IHNldHRpbmdzLmR1cmF0aW9uID0gdHdlZW5TZXR0aW5ncy5kdXJhdGlvbiAvIGw7IH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVHJhbnNmb3JtIFtmcm9tLCB0b10gdmFsdWVzIHNob3J0aGFuZCB0byBhIHZhbGlkIHR3ZWVuIHZhbHVlXG4gICAgICBwcm9wID0ge3ZhbHVlOiBwcm9wfTtcbiAgICB9XG4gIH1cbiAgdmFyIHByb3BBcnJheSA9IGlzLmFycihwcm9wKSA/IHByb3AgOiBbcHJvcF07XG4gIHJldHVybiBwcm9wQXJyYXkubWFwKGZ1bmN0aW9uICh2LCBpKSB7XG4gICAgdmFyIG9iaiA9IChpcy5vYmoodikgJiYgIWlzLnB0aCh2KSkgPyB2IDoge3ZhbHVlOiB2fTtcbiAgICAvLyBEZWZhdWx0IGRlbGF5IHZhbHVlIHNob3VsZCBvbmx5IGJlIGFwcGxpZWQgdG8gdGhlIGZpcnN0IHR3ZWVuXG4gICAgaWYgKGlzLnVuZChvYmouZGVsYXkpKSB7IG9iai5kZWxheSA9ICFpID8gdHdlZW5TZXR0aW5ncy5kZWxheSA6IDA7IH1cbiAgICAvLyBEZWZhdWx0IGVuZERlbGF5IHZhbHVlIHNob3VsZCBvbmx5IGJlIGFwcGxpZWQgdG8gdGhlIGxhc3QgdHdlZW5cbiAgICBpZiAoaXMudW5kKG9iai5lbmREZWxheSkpIHsgb2JqLmVuZERlbGF5ID0gaSA9PT0gcHJvcEFycmF5Lmxlbmd0aCAtIDEgPyB0d2VlblNldHRpbmdzLmVuZERlbGF5IDogMDsgfVxuICAgIHJldHVybiBvYmo7XG4gIH0pLm1hcChmdW5jdGlvbiAoaykgeyByZXR1cm4gbWVyZ2VPYmplY3RzKGssIHNldHRpbmdzKTsgfSk7XG59XG5cblxuZnVuY3Rpb24gZmxhdHRlbktleWZyYW1lcyhrZXlmcmFtZXMpIHtcbiAgdmFyIHByb3BlcnR5TmFtZXMgPSBmaWx0ZXJBcnJheShmbGF0dGVuQXJyYXkoa2V5ZnJhbWVzLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBPYmplY3Qua2V5cyhrZXkpOyB9KSksIGZ1bmN0aW9uIChwKSB7IHJldHVybiBpcy5rZXkocCk7IH0pXG4gIC5yZWR1Y2UoZnVuY3Rpb24gKGEsYikgeyBpZiAoYS5pbmRleE9mKGIpIDwgMCkgeyBhLnB1c2goYik7IH0gcmV0dXJuIGE7IH0sIFtdKTtcbiAgdmFyIHByb3BlcnRpZXMgPSB7fTtcbiAgdmFyIGxvb3AgPSBmdW5jdGlvbiAoIGkgKSB7XG4gICAgdmFyIHByb3BOYW1lID0gcHJvcGVydHlOYW1lc1tpXTtcbiAgICBwcm9wZXJ0aWVzW3Byb3BOYW1lXSA9IGtleWZyYW1lcy5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIG5ld0tleSA9IHt9O1xuICAgICAgZm9yICh2YXIgcCBpbiBrZXkpIHtcbiAgICAgICAgaWYgKGlzLmtleShwKSkge1xuICAgICAgICAgIGlmIChwID09IHByb3BOYW1lKSB7IG5ld0tleS52YWx1ZSA9IGtleVtwXTsgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld0tleVtwXSA9IGtleVtwXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5ld0tleTtcbiAgICB9KTtcbiAgfTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BlcnR5TmFtZXMubGVuZ3RoOyBpKyspIGxvb3AoIGkgKTtcbiAgcmV0dXJuIHByb3BlcnRpZXM7XG59XG5cbmZ1bmN0aW9uIGdldFByb3BlcnRpZXModHdlZW5TZXR0aW5ncywgcGFyYW1zKSB7XG4gIHZhciBwcm9wZXJ0aWVzID0gW107XG4gIHZhciBrZXlmcmFtZXMgPSBwYXJhbXMua2V5ZnJhbWVzO1xuICBpZiAoa2V5ZnJhbWVzKSB7IHBhcmFtcyA9IG1lcmdlT2JqZWN0cyhmbGF0dGVuS2V5ZnJhbWVzKGtleWZyYW1lcyksIHBhcmFtcyk7IH1cbiAgZm9yICh2YXIgcCBpbiBwYXJhbXMpIHtcbiAgICBpZiAoaXMua2V5KHApKSB7XG4gICAgICBwcm9wZXJ0aWVzLnB1c2goe1xuICAgICAgICBuYW1lOiBwLFxuICAgICAgICB0d2VlbnM6IG5vcm1hbGl6ZVByb3BlcnR5VHdlZW5zKHBhcmFtc1twXSwgdHdlZW5TZXR0aW5ncylcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcHJvcGVydGllcztcbn1cblxuLy8gVHdlZW5zXG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVR3ZWVuVmFsdWVzKHR3ZWVuLCBhbmltYXRhYmxlKSB7XG4gIHZhciB0ID0ge307XG4gIGZvciAodmFyIHAgaW4gdHdlZW4pIHtcbiAgICB2YXIgdmFsdWUgPSBnZXRGdW5jdGlvblZhbHVlKHR3ZWVuW3BdLCBhbmltYXRhYmxlKTtcbiAgICBpZiAoaXMuYXJyKHZhbHVlKSkge1xuICAgICAgdmFsdWUgPSB2YWx1ZS5tYXAoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIGdldEZ1bmN0aW9uVmFsdWUodiwgYW5pbWF0YWJsZSk7IH0pO1xuICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMSkgeyB2YWx1ZSA9IHZhbHVlWzBdOyB9XG4gICAgfVxuICAgIHRbcF0gPSB2YWx1ZTtcbiAgfVxuICB0LmR1cmF0aW9uID0gcGFyc2VGbG9hdCh0LmR1cmF0aW9uKTtcbiAgdC5kZWxheSA9IHBhcnNlRmxvYXQodC5kZWxheSk7XG4gIHJldHVybiB0O1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVUd2VlbnMocHJvcCwgYW5pbWF0YWJsZSkge1xuICB2YXIgcHJldmlvdXNUd2VlbjtcbiAgcmV0dXJuIHByb3AudHdlZW5zLm1hcChmdW5jdGlvbiAodCkge1xuICAgIHZhciB0d2VlbiA9IG5vcm1hbGl6ZVR3ZWVuVmFsdWVzKHQsIGFuaW1hdGFibGUpO1xuICAgIHZhciB0d2VlblZhbHVlID0gdHdlZW4udmFsdWU7XG4gICAgdmFyIHRvID0gaXMuYXJyKHR3ZWVuVmFsdWUpID8gdHdlZW5WYWx1ZVsxXSA6IHR3ZWVuVmFsdWU7XG4gICAgdmFyIHRvVW5pdCA9IGdldFVuaXQodG8pO1xuICAgIHZhciBvcmlnaW5hbFZhbHVlID0gZ2V0T3JpZ2luYWxUYXJnZXRWYWx1ZShhbmltYXRhYmxlLnRhcmdldCwgcHJvcC5uYW1lLCB0b1VuaXQsIGFuaW1hdGFibGUpO1xuICAgIHZhciBwcmV2aW91c1ZhbHVlID0gcHJldmlvdXNUd2VlbiA/IHByZXZpb3VzVHdlZW4udG8ub3JpZ2luYWwgOiBvcmlnaW5hbFZhbHVlO1xuICAgIHZhciBmcm9tID0gaXMuYXJyKHR3ZWVuVmFsdWUpID8gdHdlZW5WYWx1ZVswXSA6IHByZXZpb3VzVmFsdWU7XG4gICAgdmFyIGZyb21Vbml0ID0gZ2V0VW5pdChmcm9tKSB8fCBnZXRVbml0KG9yaWdpbmFsVmFsdWUpO1xuICAgIHZhciB1bml0ID0gdG9Vbml0IHx8IGZyb21Vbml0O1xuICAgIGlmIChpcy51bmQodG8pKSB7IHRvID0gcHJldmlvdXNWYWx1ZTsgfVxuICAgIHR3ZWVuLmZyb20gPSBkZWNvbXBvc2VWYWx1ZShmcm9tLCB1bml0KTtcbiAgICB0d2Vlbi50byA9IGRlY29tcG9zZVZhbHVlKGdldFJlbGF0aXZlVmFsdWUodG8sIGZyb20pLCB1bml0KTtcbiAgICB0d2Vlbi5zdGFydCA9IHByZXZpb3VzVHdlZW4gPyBwcmV2aW91c1R3ZWVuLmVuZCA6IDA7XG4gICAgdHdlZW4uZW5kID0gdHdlZW4uc3RhcnQgKyB0d2Vlbi5kZWxheSArIHR3ZWVuLmR1cmF0aW9uICsgdHdlZW4uZW5kRGVsYXk7XG4gICAgdHdlZW4uZWFzaW5nID0gcGFyc2VFYXNpbmdzKHR3ZWVuLmVhc2luZywgdHdlZW4uZHVyYXRpb24pO1xuICAgIHR3ZWVuLmlzUGF0aCA9IGlzLnB0aCh0d2VlblZhbHVlKTtcbiAgICB0d2Vlbi5pc0NvbG9yID0gaXMuY29sKHR3ZWVuLmZyb20ub3JpZ2luYWwpO1xuICAgIGlmICh0d2Vlbi5pc0NvbG9yKSB7IHR3ZWVuLnJvdW5kID0gMTsgfVxuICAgIHByZXZpb3VzVHdlZW4gPSB0d2VlbjtcbiAgICByZXR1cm4gdHdlZW47XG4gIH0pO1xufVxuXG4vLyBUd2VlbiBwcm9ncmVzc1xuXG52YXIgc2V0UHJvZ3Jlc3NWYWx1ZSA9IHtcbiAgY3NzOiBmdW5jdGlvbiAodCwgcCwgdikgeyByZXR1cm4gdC5zdHlsZVtwXSA9IHY7IH0sXG4gIGF0dHJpYnV0ZTogZnVuY3Rpb24gKHQsIHAsIHYpIHsgcmV0dXJuIHQuc2V0QXR0cmlidXRlKHAsIHYpOyB9LFxuICBvYmplY3Q6IGZ1bmN0aW9uICh0LCBwLCB2KSB7IHJldHVybiB0W3BdID0gdjsgfSxcbiAgdHJhbnNmb3JtOiBmdW5jdGlvbiAodCwgcCwgdiwgdHJhbnNmb3JtcywgbWFudWFsKSB7XG4gICAgdHJhbnNmb3Jtcy5saXN0LnNldChwLCB2KTtcbiAgICBpZiAocCA9PT0gdHJhbnNmb3Jtcy5sYXN0IHx8IG1hbnVhbCkge1xuICAgICAgdmFyIHN0ciA9ICcnO1xuICAgICAgdHJhbnNmb3Jtcy5saXN0LmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBwcm9wKSB7IHN0ciArPSBwcm9wICsgXCIoXCIgKyB2YWx1ZSArIFwiKSBcIjsgfSk7XG4gICAgICB0LnN0eWxlLnRyYW5zZm9ybSA9IHN0cjtcbiAgICB9XG4gIH1cbn07XG5cbi8vIFNldCBWYWx1ZSBoZWxwZXJcblxuZnVuY3Rpb24gc2V0VGFyZ2V0c1ZhbHVlKHRhcmdldHMsIHByb3BlcnRpZXMpIHtcbiAgdmFyIGFuaW1hdGFibGVzID0gZ2V0QW5pbWF0YWJsZXModGFyZ2V0cyk7XG4gIGFuaW1hdGFibGVzLmZvckVhY2goZnVuY3Rpb24gKGFuaW1hdGFibGUpIHtcbiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICB2YXIgdmFsdWUgPSBnZXRGdW5jdGlvblZhbHVlKHByb3BlcnRpZXNbcHJvcGVydHldLCBhbmltYXRhYmxlKTtcbiAgICAgIHZhciB0YXJnZXQgPSBhbmltYXRhYmxlLnRhcmdldDtcbiAgICAgIHZhciB2YWx1ZVVuaXQgPSBnZXRVbml0KHZhbHVlKTtcbiAgICAgIHZhciBvcmlnaW5hbFZhbHVlID0gZ2V0T3JpZ2luYWxUYXJnZXRWYWx1ZSh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZVVuaXQsIGFuaW1hdGFibGUpO1xuICAgICAgdmFyIHVuaXQgPSB2YWx1ZVVuaXQgfHwgZ2V0VW5pdChvcmlnaW5hbFZhbHVlKTtcbiAgICAgIHZhciB0byA9IGdldFJlbGF0aXZlVmFsdWUodmFsaWRhdGVWYWx1ZSh2YWx1ZSwgdW5pdCksIG9yaWdpbmFsVmFsdWUpO1xuICAgICAgdmFyIGFuaW1UeXBlID0gZ2V0QW5pbWF0aW9uVHlwZSh0YXJnZXQsIHByb3BlcnR5KTtcbiAgICAgIHNldFByb2dyZXNzVmFsdWVbYW5pbVR5cGVdKHRhcmdldCwgcHJvcGVydHksIHRvLCBhbmltYXRhYmxlLnRyYW5zZm9ybXMsIHRydWUpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIEFuaW1hdGlvbnNcblxuZnVuY3Rpb24gY3JlYXRlQW5pbWF0aW9uKGFuaW1hdGFibGUsIHByb3ApIHtcbiAgdmFyIGFuaW1UeXBlID0gZ2V0QW5pbWF0aW9uVHlwZShhbmltYXRhYmxlLnRhcmdldCwgcHJvcC5uYW1lKTtcbiAgaWYgKGFuaW1UeXBlKSB7XG4gICAgdmFyIHR3ZWVucyA9IG5vcm1hbGl6ZVR3ZWVucyhwcm9wLCBhbmltYXRhYmxlKTtcbiAgICB2YXIgbGFzdFR3ZWVuID0gdHdlZW5zW3R3ZWVucy5sZW5ndGggLSAxXTtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogYW5pbVR5cGUsXG4gICAgICBwcm9wZXJ0eTogcHJvcC5uYW1lLFxuICAgICAgYW5pbWF0YWJsZTogYW5pbWF0YWJsZSxcbiAgICAgIHR3ZWVuczogdHdlZW5zLFxuICAgICAgZHVyYXRpb246IGxhc3RUd2Vlbi5lbmQsXG4gICAgICBkZWxheTogdHdlZW5zWzBdLmRlbGF5LFxuICAgICAgZW5kRGVsYXk6IGxhc3RUd2Vlbi5lbmREZWxheVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRBbmltYXRpb25zKGFuaW1hdGFibGVzLCBwcm9wZXJ0aWVzKSB7XG4gIHJldHVybiBmaWx0ZXJBcnJheShmbGF0dGVuQXJyYXkoYW5pbWF0YWJsZXMubWFwKGZ1bmN0aW9uIChhbmltYXRhYmxlKSB7XG4gICAgcmV0dXJuIHByb3BlcnRpZXMubWFwKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICByZXR1cm4gY3JlYXRlQW5pbWF0aW9uKGFuaW1hdGFibGUsIHByb3ApO1xuICAgIH0pO1xuICB9KSksIGZ1bmN0aW9uIChhKSB7IHJldHVybiAhaXMudW5kKGEpOyB9KTtcbn1cblxuLy8gQ3JlYXRlIEluc3RhbmNlXG5cbmZ1bmN0aW9uIGdldEluc3RhbmNlVGltaW5ncyhhbmltYXRpb25zLCB0d2VlblNldHRpbmdzKSB7XG4gIHZhciBhbmltTGVuZ3RoID0gYW5pbWF0aW9ucy5sZW5ndGg7XG4gIHZhciBnZXRUbE9mZnNldCA9IGZ1bmN0aW9uIChhbmltKSB7IHJldHVybiBhbmltLnRpbWVsaW5lT2Zmc2V0ID8gYW5pbS50aW1lbGluZU9mZnNldCA6IDA7IH07XG4gIHZhciB0aW1pbmdzID0ge307XG4gIHRpbWluZ3MuZHVyYXRpb24gPSBhbmltTGVuZ3RoID8gTWF0aC5tYXguYXBwbHkoTWF0aCwgYW5pbWF0aW9ucy5tYXAoZnVuY3Rpb24gKGFuaW0pIHsgcmV0dXJuIGdldFRsT2Zmc2V0KGFuaW0pICsgYW5pbS5kdXJhdGlvbjsgfSkpIDogdHdlZW5TZXR0aW5ncy5kdXJhdGlvbjtcbiAgdGltaW5ncy5kZWxheSA9IGFuaW1MZW5ndGggPyBNYXRoLm1pbi5hcHBseShNYXRoLCBhbmltYXRpb25zLm1hcChmdW5jdGlvbiAoYW5pbSkgeyByZXR1cm4gZ2V0VGxPZmZzZXQoYW5pbSkgKyBhbmltLmRlbGF5OyB9KSkgOiB0d2VlblNldHRpbmdzLmRlbGF5O1xuICB0aW1pbmdzLmVuZERlbGF5ID0gYW5pbUxlbmd0aCA/IHRpbWluZ3MuZHVyYXRpb24gLSBNYXRoLm1heC5hcHBseShNYXRoLCBhbmltYXRpb25zLm1hcChmdW5jdGlvbiAoYW5pbSkgeyByZXR1cm4gZ2V0VGxPZmZzZXQoYW5pbSkgKyBhbmltLmR1cmF0aW9uIC0gYW5pbS5lbmREZWxheTsgfSkpIDogdHdlZW5TZXR0aW5ncy5lbmREZWxheTtcbiAgcmV0dXJuIHRpbWluZ3M7XG59XG5cbnZhciBpbnN0YW5jZUlEID0gMDtcblxuZnVuY3Rpb24gY3JlYXRlTmV3SW5zdGFuY2UocGFyYW1zKSB7XG4gIHZhciBpbnN0YW5jZVNldHRpbmdzID0gcmVwbGFjZU9iamVjdFByb3BzKGRlZmF1bHRJbnN0YW5jZVNldHRpbmdzLCBwYXJhbXMpO1xuICB2YXIgdHdlZW5TZXR0aW5ncyA9IHJlcGxhY2VPYmplY3RQcm9wcyhkZWZhdWx0VHdlZW5TZXR0aW5ncywgcGFyYW1zKTtcbiAgdmFyIHByb3BlcnRpZXMgPSBnZXRQcm9wZXJ0aWVzKHR3ZWVuU2V0dGluZ3MsIHBhcmFtcyk7XG4gIHZhciBhbmltYXRhYmxlcyA9IGdldEFuaW1hdGFibGVzKHBhcmFtcy50YXJnZXRzKTtcbiAgdmFyIGFuaW1hdGlvbnMgPSBnZXRBbmltYXRpb25zKGFuaW1hdGFibGVzLCBwcm9wZXJ0aWVzKTtcbiAgdmFyIHRpbWluZ3MgPSBnZXRJbnN0YW5jZVRpbWluZ3MoYW5pbWF0aW9ucywgdHdlZW5TZXR0aW5ncyk7XG4gIHZhciBpZCA9IGluc3RhbmNlSUQ7XG4gIGluc3RhbmNlSUQrKztcbiAgcmV0dXJuIG1lcmdlT2JqZWN0cyhpbnN0YW5jZVNldHRpbmdzLCB7XG4gICAgaWQ6IGlkLFxuICAgIGNoaWxkcmVuOiBbXSxcbiAgICBhbmltYXRhYmxlczogYW5pbWF0YWJsZXMsXG4gICAgYW5pbWF0aW9uczogYW5pbWF0aW9ucyxcbiAgICBkdXJhdGlvbjogdGltaW5ncy5kdXJhdGlvbixcbiAgICBkZWxheTogdGltaW5ncy5kZWxheSxcbiAgICBlbmREZWxheTogdGltaW5ncy5lbmREZWxheVxuICB9KTtcbn1cblxuLy8gQ29yZVxuXG52YXIgYWN0aXZlSW5zdGFuY2VzID0gW107XG52YXIgcGF1c2VkSW5zdGFuY2VzID0gW107XG52YXIgcmFmO1xuXG52YXIgZW5naW5lID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gcGxheSgpIHsgXG4gICAgcmFmID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXApO1xuICB9XG4gIGZ1bmN0aW9uIHN0ZXAodCkge1xuICAgIHZhciBhY3RpdmVJbnN0YW5jZXNMZW5ndGggPSBhY3RpdmVJbnN0YW5jZXMubGVuZ3RoO1xuICAgIGlmIChhY3RpdmVJbnN0YW5jZXNMZW5ndGgpIHtcbiAgICAgIHZhciBpID0gMDtcbiAgICAgIHdoaWxlIChpIDwgYWN0aXZlSW5zdGFuY2VzTGVuZ3RoKSB7XG4gICAgICAgIHZhciBhY3RpdmVJbnN0YW5jZSA9IGFjdGl2ZUluc3RhbmNlc1tpXTtcbiAgICAgICAgaWYgKCFhY3RpdmVJbnN0YW5jZS5wYXVzZWQpIHtcbiAgICAgICAgICBhY3RpdmVJbnN0YW5jZS50aWNrKHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBpbnN0YW5jZUluZGV4ID0gYWN0aXZlSW5zdGFuY2VzLmluZGV4T2YoYWN0aXZlSW5zdGFuY2UpO1xuICAgICAgICAgIGlmIChpbnN0YW5jZUluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIGFjdGl2ZUluc3RhbmNlcy5zcGxpY2UoaW5zdGFuY2VJbmRleCwgMSk7XG4gICAgICAgICAgICBhY3RpdmVJbnN0YW5jZXNMZW5ndGggPSBhY3RpdmVJbnN0YW5jZXMubGVuZ3RoO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgICBwbGF5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJhZiA9IGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZik7XG4gICAgfVxuICB9XG4gIHJldHVybiBwbGF5O1xufSkoKTtcblxuZnVuY3Rpb24gaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSgpIHtcbiAgaWYgKGRvY3VtZW50LmhpZGRlbikge1xuICAgIGFjdGl2ZUluc3RhbmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChpbnMpIHsgcmV0dXJuIGlucy5wYXVzZSgpOyB9KTtcbiAgICBwYXVzZWRJbnN0YW5jZXMgPSBhY3RpdmVJbnN0YW5jZXMuc2xpY2UoMCk7XG4gICAgYWN0aXZlSW5zdGFuY2VzID0gW107XG4gIH0gZWxzZSB7XG4gICAgcGF1c2VkSW5zdGFuY2VzLmZvckVhY2goZnVuY3Rpb24gKGlucykgeyByZXR1cm4gaW5zLnBsYXkoKTsgfSk7XG4gIH1cbn1cblxuaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UpO1xufVxuXG4vLyBQdWJsaWMgSW5zdGFuY2VcblxuZnVuY3Rpb24gYW5pbWUocGFyYW1zKSB7XG4gIGlmICggcGFyYW1zID09PSB2b2lkIDAgKSBwYXJhbXMgPSB7fTtcblxuXG4gIHZhciBzdGFydFRpbWUgPSAwLCBsYXN0VGltZSA9IDAsIG5vdyA9IDA7XG4gIHZhciBjaGlsZHJlbiwgY2hpbGRyZW5MZW5ndGggPSAwO1xuICB2YXIgcmVzb2x2ZSA9IG51bGw7XG5cbiAgZnVuY3Rpb24gbWFrZVByb21pc2UoaW5zdGFuY2UpIHtcbiAgICB2YXIgcHJvbWlzZSA9IHdpbmRvdy5Qcm9taXNlICYmIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChfcmVzb2x2ZSkgeyByZXR1cm4gcmVzb2x2ZSA9IF9yZXNvbHZlOyB9KTtcbiAgICBpbnN0YW5jZS5maW5pc2hlZCA9IHByb21pc2U7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICB2YXIgaW5zdGFuY2UgPSBjcmVhdGVOZXdJbnN0YW5jZShwYXJhbXMpO1xuICB2YXIgcHJvbWlzZSA9IG1ha2VQcm9taXNlKGluc3RhbmNlKTtcblxuICBmdW5jdGlvbiB0b2dnbGVJbnN0YW5jZURpcmVjdGlvbigpIHtcbiAgICB2YXIgZGlyZWN0aW9uID0gaW5zdGFuY2UuZGlyZWN0aW9uO1xuICAgIGlmIChkaXJlY3Rpb24gIT09ICdhbHRlcm5hdGUnKSB7XG4gICAgICBpbnN0YW5jZS5kaXJlY3Rpb24gPSBkaXJlY3Rpb24gIT09ICdub3JtYWwnID8gJ25vcm1hbCcgOiAncmV2ZXJzZSc7XG4gICAgfVxuICAgIGluc3RhbmNlLnJldmVyc2VkID0gIWluc3RhbmNlLnJldmVyc2VkO1xuICAgIGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7IHJldHVybiBjaGlsZC5yZXZlcnNlZCA9IGluc3RhbmNlLnJldmVyc2VkOyB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkanVzdFRpbWUodGltZSkge1xuICAgIHJldHVybiBpbnN0YW5jZS5yZXZlcnNlZCA/IGluc3RhbmNlLmR1cmF0aW9uIC0gdGltZSA6IHRpbWU7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFRpbWUoKSB7XG4gICAgc3RhcnRUaW1lID0gMDtcbiAgICBsYXN0VGltZSA9IGFkanVzdFRpbWUoaW5zdGFuY2UuY3VycmVudFRpbWUpICogKDEgLyBhbmltZS5zcGVlZCk7XG4gIH1cblxuICBmdW5jdGlvbiBzZWVrQ2lsZCh0aW1lLCBjaGlsZCkge1xuICAgIGlmIChjaGlsZCkgeyBjaGlsZC5zZWVrKHRpbWUgLSBjaGlsZC50aW1lbGluZU9mZnNldCk7IH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN5bmNJbnN0YW5jZUNoaWxkcmVuKHRpbWUpIHtcbiAgICBpZiAoIWluc3RhbmNlLnJldmVyc2VQbGF5YmFjaykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbkxlbmd0aDsgaSsrKSB7IHNlZWtDaWxkKHRpbWUsIGNoaWxkcmVuW2ldKTsgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKHZhciBpJDEgPSBjaGlsZHJlbkxlbmd0aDsgaSQxLS07KSB7IHNlZWtDaWxkKHRpbWUsIGNoaWxkcmVuW2kkMV0pOyB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0QW5pbWF0aW9uc1Byb2dyZXNzKGluc1RpbWUpIHtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGFuaW1hdGlvbnMgPSBpbnN0YW5jZS5hbmltYXRpb25zO1xuICAgIHZhciBhbmltYXRpb25zTGVuZ3RoID0gYW5pbWF0aW9ucy5sZW5ndGg7XG4gICAgd2hpbGUgKGkgPCBhbmltYXRpb25zTGVuZ3RoKSB7XG4gICAgICB2YXIgYW5pbSA9IGFuaW1hdGlvbnNbaV07XG4gICAgICB2YXIgYW5pbWF0YWJsZSA9IGFuaW0uYW5pbWF0YWJsZTtcbiAgICAgIHZhciB0d2VlbnMgPSBhbmltLnR3ZWVucztcbiAgICAgIHZhciB0d2Vlbkxlbmd0aCA9IHR3ZWVucy5sZW5ndGggLSAxO1xuICAgICAgdmFyIHR3ZWVuID0gdHdlZW5zW3R3ZWVuTGVuZ3RoXTtcbiAgICAgIC8vIE9ubHkgY2hlY2sgZm9yIGtleWZyYW1lcyBpZiB0aGVyZSBpcyBtb3JlIHRoYW4gb25lIHR3ZWVuXG4gICAgICBpZiAodHdlZW5MZW5ndGgpIHsgdHdlZW4gPSBmaWx0ZXJBcnJheSh0d2VlbnMsIGZ1bmN0aW9uICh0KSB7IHJldHVybiAoaW5zVGltZSA8IHQuZW5kKTsgfSlbMF0gfHwgdHdlZW47IH1cbiAgICAgIHZhciBlbGFwc2VkID0gbWluTWF4KGluc1RpbWUgLSB0d2Vlbi5zdGFydCAtIHR3ZWVuLmRlbGF5LCAwLCB0d2Vlbi5kdXJhdGlvbikgLyB0d2Vlbi5kdXJhdGlvbjtcbiAgICAgIHZhciBlYXNlZCA9IGlzTmFOKGVsYXBzZWQpID8gMSA6IHR3ZWVuLmVhc2luZyhlbGFwc2VkKTtcbiAgICAgIHZhciBzdHJpbmdzID0gdHdlZW4udG8uc3RyaW5ncztcbiAgICAgIHZhciByb3VuZCA9IHR3ZWVuLnJvdW5kO1xuICAgICAgdmFyIG51bWJlcnMgPSBbXTtcbiAgICAgIHZhciB0b051bWJlcnNMZW5ndGggPSB0d2Vlbi50by5udW1iZXJzLmxlbmd0aDtcbiAgICAgIHZhciBwcm9ncmVzcyA9ICh2b2lkIDApO1xuICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCB0b051bWJlcnNMZW5ndGg7IG4rKykge1xuICAgICAgICB2YXIgdmFsdWUgPSAodm9pZCAwKTtcbiAgICAgICAgdmFyIHRvTnVtYmVyID0gdHdlZW4udG8ubnVtYmVyc1tuXTtcbiAgICAgICAgdmFyIGZyb21OdW1iZXIgPSB0d2Vlbi5mcm9tLm51bWJlcnNbbl0gfHwgMDtcbiAgICAgICAgaWYgKCF0d2Vlbi5pc1BhdGgpIHtcbiAgICAgICAgICB2YWx1ZSA9IGZyb21OdW1iZXIgKyAoZWFzZWQgKiAodG9OdW1iZXIgLSBmcm9tTnVtYmVyKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsdWUgPSBnZXRQYXRoUHJvZ3Jlc3ModHdlZW4udmFsdWUsIGVhc2VkICogdG9OdW1iZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyb3VuZCkge1xuICAgICAgICAgIGlmICghKHR3ZWVuLmlzQ29sb3IgJiYgbiA+IDIpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IE1hdGgucm91bmQodmFsdWUgKiByb3VuZCkgLyByb3VuZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbnVtYmVycy5wdXNoKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8vIE1hbnVhbCBBcnJheS5yZWR1Y2UgZm9yIGJldHRlciBwZXJmb3JtYW5jZXNcbiAgICAgIHZhciBzdHJpbmdzTGVuZ3RoID0gc3RyaW5ncy5sZW5ndGg7XG4gICAgICBpZiAoIXN0cmluZ3NMZW5ndGgpIHtcbiAgICAgICAgcHJvZ3Jlc3MgPSBudW1iZXJzWzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvZ3Jlc3MgPSBzdHJpbmdzWzBdO1xuICAgICAgICBmb3IgKHZhciBzID0gMDsgcyA8IHN0cmluZ3NMZW5ndGg7IHMrKykge1xuICAgICAgICAgIHZhciBhID0gc3RyaW5nc1tzXTtcbiAgICAgICAgICB2YXIgYiA9IHN0cmluZ3NbcyArIDFdO1xuICAgICAgICAgIHZhciBuJDEgPSBudW1iZXJzW3NdO1xuICAgICAgICAgIGlmICghaXNOYU4obiQxKSkge1xuICAgICAgICAgICAgaWYgKCFiKSB7XG4gICAgICAgICAgICAgIHByb2dyZXNzICs9IG4kMSArICcgJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHByb2dyZXNzICs9IG4kMSArIGI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzZXRQcm9ncmVzc1ZhbHVlW2FuaW0udHlwZV0oYW5pbWF0YWJsZS50YXJnZXQsIGFuaW0ucHJvcGVydHksIHByb2dyZXNzLCBhbmltYXRhYmxlLnRyYW5zZm9ybXMpO1xuICAgICAgYW5pbS5jdXJyZW50VmFsdWUgPSBwcm9ncmVzcztcbiAgICAgIGkrKztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRDYWxsYmFjayhjYikge1xuICAgIGlmIChpbnN0YW5jZVtjYl0gJiYgIWluc3RhbmNlLnBhc3NUaHJvdWdoKSB7IGluc3RhbmNlW2NiXShpbnN0YW5jZSk7IH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvdW50SXRlcmF0aW9uKCkge1xuICAgIGlmIChpbnN0YW5jZS5yZW1haW5pbmcgJiYgaW5zdGFuY2UucmVtYWluaW5nICE9PSB0cnVlKSB7XG4gICAgICBpbnN0YW5jZS5yZW1haW5pbmctLTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRJbnN0YW5jZVByb2dyZXNzKGVuZ2luZVRpbWUpIHtcbiAgICB2YXIgaW5zRHVyYXRpb24gPSBpbnN0YW5jZS5kdXJhdGlvbjtcbiAgICB2YXIgaW5zRGVsYXkgPSBpbnN0YW5jZS5kZWxheTtcbiAgICB2YXIgaW5zRW5kRGVsYXkgPSBpbnNEdXJhdGlvbiAtIGluc3RhbmNlLmVuZERlbGF5O1xuICAgIHZhciBpbnNUaW1lID0gYWRqdXN0VGltZShlbmdpbmVUaW1lKTtcbiAgICBpbnN0YW5jZS5wcm9ncmVzcyA9IG1pbk1heCgoaW5zVGltZSAvIGluc0R1cmF0aW9uKSAqIDEwMCwgMCwgMTAwKTtcbiAgICBpbnN0YW5jZS5yZXZlcnNlUGxheWJhY2sgPSBpbnNUaW1lIDwgaW5zdGFuY2UuY3VycmVudFRpbWU7XG4gICAgaWYgKGNoaWxkcmVuKSB7IHN5bmNJbnN0YW5jZUNoaWxkcmVuKGluc1RpbWUpOyB9XG4gICAgaWYgKCFpbnN0YW5jZS5iZWdhbiAmJiBpbnN0YW5jZS5jdXJyZW50VGltZSA+IDApIHtcbiAgICAgIGluc3RhbmNlLmJlZ2FuID0gdHJ1ZTtcbiAgICAgIHNldENhbGxiYWNrKCdiZWdpbicpO1xuICAgICAgc2V0Q2FsbGJhY2soJ2xvb3BCZWdpbicpO1xuICAgIH1cbiAgICBpZiAoaW5zVGltZSA8PSBpbnNEZWxheSAmJiBpbnN0YW5jZS5jdXJyZW50VGltZSAhPT0gMCkge1xuICAgICAgc2V0QW5pbWF0aW9uc1Byb2dyZXNzKDApO1xuICAgIH1cbiAgICBpZiAoKGluc1RpbWUgPj0gaW5zRW5kRGVsYXkgJiYgaW5zdGFuY2UuY3VycmVudFRpbWUgIT09IGluc0R1cmF0aW9uKSB8fCAhaW5zRHVyYXRpb24pIHtcbiAgICAgIHNldEFuaW1hdGlvbnNQcm9ncmVzcyhpbnNEdXJhdGlvbik7XG4gICAgfVxuICAgIGlmIChpbnNUaW1lID4gaW5zRGVsYXkgJiYgaW5zVGltZSA8IGluc0VuZERlbGF5KSB7XG4gICAgICBpZiAoIWluc3RhbmNlLmNoYW5nZUJlZ2FuKSB7XG4gICAgICAgIGluc3RhbmNlLmNoYW5nZUJlZ2FuID0gdHJ1ZTtcbiAgICAgICAgaW5zdGFuY2UuY2hhbmdlQ29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgIHNldENhbGxiYWNrKCdjaGFuZ2VCZWdpbicpO1xuICAgICAgfVxuICAgICAgc2V0Q2FsbGJhY2soJ2NoYW5nZScpO1xuICAgICAgc2V0QW5pbWF0aW9uc1Byb2dyZXNzKGluc1RpbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaW5zdGFuY2UuY2hhbmdlQmVnYW4pIHtcbiAgICAgICAgaW5zdGFuY2UuY2hhbmdlQ29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgaW5zdGFuY2UuY2hhbmdlQmVnYW4gPSBmYWxzZTtcbiAgICAgICAgc2V0Q2FsbGJhY2soJ2NoYW5nZUNvbXBsZXRlJyk7XG4gICAgICB9XG4gICAgfVxuICAgIGluc3RhbmNlLmN1cnJlbnRUaW1lID0gbWluTWF4KGluc1RpbWUsIDAsIGluc0R1cmF0aW9uKTtcbiAgICBpZiAoaW5zdGFuY2UuYmVnYW4pIHsgc2V0Q2FsbGJhY2soJ3VwZGF0ZScpOyB9XG4gICAgaWYgKGVuZ2luZVRpbWUgPj0gaW5zRHVyYXRpb24pIHtcbiAgICAgIGxhc3RUaW1lID0gMDtcbiAgICAgIGNvdW50SXRlcmF0aW9uKCk7XG4gICAgICBpZiAoaW5zdGFuY2UucmVtYWluaW5nKSB7XG4gICAgICAgIHN0YXJ0VGltZSA9IG5vdztcbiAgICAgICAgc2V0Q2FsbGJhY2soJ2xvb3BDb21wbGV0ZScpO1xuICAgICAgICBzZXRDYWxsYmFjaygnbG9vcEJlZ2luJyk7XG4gICAgICAgIGlmIChpbnN0YW5jZS5kaXJlY3Rpb24gPT09ICdhbHRlcm5hdGUnKSB7IHRvZ2dsZUluc3RhbmNlRGlyZWN0aW9uKCk7IH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluc3RhbmNlLnBhdXNlZCA9IHRydWU7XG4gICAgICAgIGlmICghaW5zdGFuY2UuY29tcGxldGVkKSB7XG4gICAgICAgICAgaW5zdGFuY2UuY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgICBzZXRDYWxsYmFjaygnbG9vcENvbXBsZXRlJyk7XG4gICAgICAgICAgc2V0Q2FsbGJhY2soJ2NvbXBsZXRlJyk7XG4gICAgICAgICAgaWYgKCFpbnN0YW5jZS5wYXNzVGhyb3VnaCAmJiAnUHJvbWlzZScgaW4gd2luZG93KSB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICBwcm9taXNlID0gbWFrZVByb21pc2UoaW5zdGFuY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGluc3RhbmNlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRpcmVjdGlvbiA9IGluc3RhbmNlLmRpcmVjdGlvbjtcbiAgICBpbnN0YW5jZS5wYXNzVGhyb3VnaCA9IGZhbHNlO1xuICAgIGluc3RhbmNlLmN1cnJlbnRUaW1lID0gMDtcbiAgICBpbnN0YW5jZS5wcm9ncmVzcyA9IDA7XG4gICAgaW5zdGFuY2UucGF1c2VkID0gdHJ1ZTtcbiAgICBpbnN0YW5jZS5iZWdhbiA9IGZhbHNlO1xuICAgIGluc3RhbmNlLmNoYW5nZUJlZ2FuID0gZmFsc2U7XG4gICAgaW5zdGFuY2UuY29tcGxldGVkID0gZmFsc2U7XG4gICAgaW5zdGFuY2UuY2hhbmdlQ29tcGxldGVkID0gZmFsc2U7XG4gICAgaW5zdGFuY2UucmV2ZXJzZVBsYXliYWNrID0gZmFsc2U7XG4gICAgaW5zdGFuY2UucmV2ZXJzZWQgPSBkaXJlY3Rpb24gPT09ICdyZXZlcnNlJztcbiAgICBpbnN0YW5jZS5yZW1haW5pbmcgPSBpbnN0YW5jZS5sb29wO1xuICAgIGNoaWxkcmVuID0gaW5zdGFuY2UuY2hpbGRyZW47XG4gICAgY2hpbGRyZW5MZW5ndGggPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IGNoaWxkcmVuTGVuZ3RoOyBpLS07KSB7IGluc3RhbmNlLmNoaWxkcmVuW2ldLnJlc2V0KCk7IH1cbiAgICBpZiAoaW5zdGFuY2UucmV2ZXJzZWQgJiYgaW5zdGFuY2UubG9vcCAhPT0gdHJ1ZSB8fCAoZGlyZWN0aW9uID09PSAnYWx0ZXJuYXRlJyAmJiBpbnN0YW5jZS5sb29wID09PSAxKSkgeyBpbnN0YW5jZS5yZW1haW5pbmcrKzsgfVxuICAgIHNldEFuaW1hdGlvbnNQcm9ncmVzcygwKTtcbiAgfTtcblxuICAvLyBTZXQgVmFsdWUgaGVscGVyXG5cbiAgaW5zdGFuY2Uuc2V0ID0gZnVuY3Rpb24odGFyZ2V0cywgcHJvcGVydGllcykge1xuICAgIHNldFRhcmdldHNWYWx1ZSh0YXJnZXRzLCBwcm9wZXJ0aWVzKTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH07XG5cbiAgaW5zdGFuY2UudGljayA9IGZ1bmN0aW9uKHQpIHtcbiAgICBub3cgPSB0O1xuICAgIGlmICghc3RhcnRUaW1lKSB7IHN0YXJ0VGltZSA9IG5vdzsgfVxuICAgIHNldEluc3RhbmNlUHJvZ3Jlc3MoKG5vdyArIChsYXN0VGltZSAtIHN0YXJ0VGltZSkpICogYW5pbWUuc3BlZWQpO1xuICB9O1xuXG4gIGluc3RhbmNlLnNlZWsgPSBmdW5jdGlvbih0aW1lKSB7XG4gICAgc2V0SW5zdGFuY2VQcm9ncmVzcyhhZGp1c3RUaW1lKHRpbWUpKTtcbiAgfTtcblxuICBpbnN0YW5jZS5wYXVzZSA9IGZ1bmN0aW9uKCkge1xuICAgIGluc3RhbmNlLnBhdXNlZCA9IHRydWU7XG4gICAgcmVzZXRUaW1lKCk7XG4gIH07XG5cbiAgaW5zdGFuY2UucGxheSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghaW5zdGFuY2UucGF1c2VkKSB7IHJldHVybjsgfVxuICAgIGlmIChpbnN0YW5jZS5jb21wbGV0ZWQpIHsgaW5zdGFuY2UucmVzZXQoKTsgfVxuICAgIGluc3RhbmNlLnBhdXNlZCA9IGZhbHNlO1xuICAgIGFjdGl2ZUluc3RhbmNlcy5wdXNoKGluc3RhbmNlKTtcbiAgICByZXNldFRpbWUoKTtcbiAgICBpZiAoIXJhZikgeyBlbmdpbmUoKTsgfVxuICB9O1xuXG4gIGluc3RhbmNlLnJldmVyc2UgPSBmdW5jdGlvbigpIHtcbiAgICB0b2dnbGVJbnN0YW5jZURpcmVjdGlvbigpO1xuICAgIHJlc2V0VGltZSgpO1xuICB9O1xuXG4gIGluc3RhbmNlLnJlc3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgICBpbnN0YW5jZS5yZXNldCgpO1xuICAgIGluc3RhbmNlLnBsYXkoKTtcbiAgfTtcblxuICBpbnN0YW5jZS5yZXNldCgpO1xuXG4gIGlmIChpbnN0YW5jZS5hdXRvcGxheSkgeyBpbnN0YW5jZS5wbGF5KCk7IH1cblxuICByZXR1cm4gaW5zdGFuY2U7XG5cbn1cblxuLy8gUmVtb3ZlIHRhcmdldHMgZnJvbSBhbmltYXRpb25cblxuZnVuY3Rpb24gcmVtb3ZlVGFyZ2V0c0Zyb21BbmltYXRpb25zKHRhcmdldHNBcnJheSwgYW5pbWF0aW9ucykge1xuICBmb3IgKHZhciBhID0gYW5pbWF0aW9ucy5sZW5ndGg7IGEtLTspIHtcbiAgICBpZiAoYXJyYXlDb250YWlucyh0YXJnZXRzQXJyYXksIGFuaW1hdGlvbnNbYV0uYW5pbWF0YWJsZS50YXJnZXQpKSB7XG4gICAgICBhbmltYXRpb25zLnNwbGljZShhLCAxKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlVGFyZ2V0cyh0YXJnZXRzKSB7XG4gIHZhciB0YXJnZXRzQXJyYXkgPSBwYXJzZVRhcmdldHModGFyZ2V0cyk7XG4gIGZvciAodmFyIGkgPSBhY3RpdmVJbnN0YW5jZXMubGVuZ3RoOyBpLS07KSB7XG4gICAgdmFyIGluc3RhbmNlID0gYWN0aXZlSW5zdGFuY2VzW2ldO1xuICAgIHZhciBhbmltYXRpb25zID0gaW5zdGFuY2UuYW5pbWF0aW9ucztcbiAgICB2YXIgY2hpbGRyZW4gPSBpbnN0YW5jZS5jaGlsZHJlbjtcbiAgICByZW1vdmVUYXJnZXRzRnJvbUFuaW1hdGlvbnModGFyZ2V0c0FycmF5LCBhbmltYXRpb25zKTtcbiAgICBmb3IgKHZhciBjID0gY2hpbGRyZW4ubGVuZ3RoOyBjLS07KSB7XG4gICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltjXTtcbiAgICAgIHZhciBjaGlsZEFuaW1hdGlvbnMgPSBjaGlsZC5hbmltYXRpb25zO1xuICAgICAgcmVtb3ZlVGFyZ2V0c0Zyb21BbmltYXRpb25zKHRhcmdldHNBcnJheSwgY2hpbGRBbmltYXRpb25zKTtcbiAgICAgIGlmICghY2hpbGRBbmltYXRpb25zLmxlbmd0aCAmJiAhY2hpbGQuY2hpbGRyZW4ubGVuZ3RoKSB7IGNoaWxkcmVuLnNwbGljZShjLCAxKTsgfVxuICAgIH1cbiAgICBpZiAoIWFuaW1hdGlvbnMubGVuZ3RoICYmICFjaGlsZHJlbi5sZW5ndGgpIHsgaW5zdGFuY2UucGF1c2UoKTsgfVxuICB9XG59XG5cbi8vIFN0YWdnZXIgaGVscGVyc1xuXG5mdW5jdGlvbiBzdGFnZ2VyKHZhbCwgcGFyYW1zKSB7XG4gIGlmICggcGFyYW1zID09PSB2b2lkIDAgKSBwYXJhbXMgPSB7fTtcblxuICB2YXIgZGlyZWN0aW9uID0gcGFyYW1zLmRpcmVjdGlvbiB8fCAnbm9ybWFsJztcbiAgdmFyIGVhc2luZyA9IHBhcmFtcy5lYXNpbmcgPyBwYXJzZUVhc2luZ3MocGFyYW1zLmVhc2luZykgOiBudWxsO1xuICB2YXIgZ3JpZCA9IHBhcmFtcy5ncmlkO1xuICB2YXIgYXhpcyA9IHBhcmFtcy5heGlzO1xuICB2YXIgZnJvbUluZGV4ID0gcGFyYW1zLmZyb20gfHwgMDtcbiAgdmFyIGZyb21GaXJzdCA9IGZyb21JbmRleCA9PT0gJ2ZpcnN0JztcbiAgdmFyIGZyb21DZW50ZXIgPSBmcm9tSW5kZXggPT09ICdjZW50ZXInO1xuICB2YXIgZnJvbUxhc3QgPSBmcm9tSW5kZXggPT09ICdsYXN0JztcbiAgdmFyIGlzUmFuZ2UgPSBpcy5hcnIodmFsKTtcbiAgdmFyIHZhbDEgPSBpc1JhbmdlID8gcGFyc2VGbG9hdCh2YWxbMF0pIDogcGFyc2VGbG9hdCh2YWwpO1xuICB2YXIgdmFsMiA9IGlzUmFuZ2UgPyBwYXJzZUZsb2F0KHZhbFsxXSkgOiAwO1xuICB2YXIgdW5pdCA9IGdldFVuaXQoaXNSYW5nZSA/IHZhbFsxXSA6IHZhbCkgfHwgMDtcbiAgdmFyIHN0YXJ0ID0gcGFyYW1zLnN0YXJ0IHx8IDAgKyAoaXNSYW5nZSA/IHZhbDEgOiAwKTtcbiAgdmFyIHZhbHVlcyA9IFtdO1xuICB2YXIgbWF4VmFsdWUgPSAwO1xuICByZXR1cm4gZnVuY3Rpb24gKGVsLCBpLCB0KSB7XG4gICAgaWYgKGZyb21GaXJzdCkgeyBmcm9tSW5kZXggPSAwOyB9XG4gICAgaWYgKGZyb21DZW50ZXIpIHsgZnJvbUluZGV4ID0gKHQgLSAxKSAvIDI7IH1cbiAgICBpZiAoZnJvbUxhc3QpIHsgZnJvbUluZGV4ID0gdCAtIDE7IH1cbiAgICBpZiAoIXZhbHVlcy5sZW5ndGgpIHtcbiAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCB0OyBpbmRleCsrKSB7XG4gICAgICAgIGlmICghZ3JpZCkge1xuICAgICAgICAgIHZhbHVlcy5wdXNoKE1hdGguYWJzKGZyb21JbmRleCAtIGluZGV4KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGZyb21YID0gIWZyb21DZW50ZXIgPyBmcm9tSW5kZXglZ3JpZFswXSA6IChncmlkWzBdLTEpLzI7XG4gICAgICAgICAgdmFyIGZyb21ZID0gIWZyb21DZW50ZXIgPyBNYXRoLmZsb29yKGZyb21JbmRleC9ncmlkWzBdKSA6IChncmlkWzFdLTEpLzI7XG4gICAgICAgICAgdmFyIHRvWCA9IGluZGV4JWdyaWRbMF07XG4gICAgICAgICAgdmFyIHRvWSA9IE1hdGguZmxvb3IoaW5kZXgvZ3JpZFswXSk7XG4gICAgICAgICAgdmFyIGRpc3RhbmNlWCA9IGZyb21YIC0gdG9YO1xuICAgICAgICAgIHZhciBkaXN0YW5jZVkgPSBmcm9tWSAtIHRvWTtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBNYXRoLnNxcnQoZGlzdGFuY2VYICogZGlzdGFuY2VYICsgZGlzdGFuY2VZICogZGlzdGFuY2VZKTtcbiAgICAgICAgICBpZiAoYXhpcyA9PT0gJ3gnKSB7IHZhbHVlID0gLWRpc3RhbmNlWDsgfVxuICAgICAgICAgIGlmIChheGlzID09PSAneScpIHsgdmFsdWUgPSAtZGlzdGFuY2VZOyB9XG4gICAgICAgICAgdmFsdWVzLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIG1heFZhbHVlID0gTWF0aC5tYXguYXBwbHkoTWF0aCwgdmFsdWVzKTtcbiAgICAgIH1cbiAgICAgIGlmIChlYXNpbmcpIHsgdmFsdWVzID0gdmFsdWVzLm1hcChmdW5jdGlvbiAodmFsKSB7IHJldHVybiBlYXNpbmcodmFsIC8gbWF4VmFsdWUpICogbWF4VmFsdWU7IH0pOyB9XG4gICAgICBpZiAoZGlyZWN0aW9uID09PSAncmV2ZXJzZScpIHsgdmFsdWVzID0gdmFsdWVzLm1hcChmdW5jdGlvbiAodmFsKSB7IHJldHVybiBheGlzID8gKHZhbCA8IDApID8gdmFsICogLTEgOiAtdmFsIDogTWF0aC5hYnMobWF4VmFsdWUgLSB2YWwpOyB9KTsgfVxuICAgIH1cbiAgICB2YXIgc3BhY2luZyA9IGlzUmFuZ2UgPyAodmFsMiAtIHZhbDEpIC8gbWF4VmFsdWUgOiB2YWwxO1xuICAgIHJldHVybiBzdGFydCArIChzcGFjaW5nICogKE1hdGgucm91bmQodmFsdWVzW2ldICogMTAwKSAvIDEwMCkpICsgdW5pdDtcbiAgfVxufVxuXG4vLyBUaW1lbGluZVxuXG5mdW5jdGlvbiB0aW1lbGluZShwYXJhbXMpIHtcbiAgaWYgKCBwYXJhbXMgPT09IHZvaWQgMCApIHBhcmFtcyA9IHt9O1xuXG4gIHZhciB0bCA9IGFuaW1lKHBhcmFtcyk7XG4gIHRsLmR1cmF0aW9uID0gMDtcbiAgdGwuYWRkID0gZnVuY3Rpb24oaW5zdGFuY2VQYXJhbXMsIHRpbWVsaW5lT2Zmc2V0KSB7XG4gICAgdmFyIHRsSW5kZXggPSBhY3RpdmVJbnN0YW5jZXMuaW5kZXhPZih0bCk7XG4gICAgdmFyIGNoaWxkcmVuID0gdGwuY2hpbGRyZW47XG4gICAgaWYgKHRsSW5kZXggPiAtMSkgeyBhY3RpdmVJbnN0YW5jZXMuc3BsaWNlKHRsSW5kZXgsIDEpOyB9XG4gICAgZnVuY3Rpb24gcGFzc1Rocm91Z2goaW5zKSB7IGlucy5wYXNzVGhyb3VnaCA9IHRydWU7IH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7IHBhc3NUaHJvdWdoKGNoaWxkcmVuW2ldKTsgfVxuICAgIHZhciBpbnNQYXJhbXMgPSBtZXJnZU9iamVjdHMoaW5zdGFuY2VQYXJhbXMsIHJlcGxhY2VPYmplY3RQcm9wcyhkZWZhdWx0VHdlZW5TZXR0aW5ncywgcGFyYW1zKSk7XG4gICAgaW5zUGFyYW1zLnRhcmdldHMgPSBpbnNQYXJhbXMudGFyZ2V0cyB8fCBwYXJhbXMudGFyZ2V0cztcbiAgICB2YXIgdGxEdXJhdGlvbiA9IHRsLmR1cmF0aW9uO1xuICAgIGluc1BhcmFtcy5hdXRvcGxheSA9IGZhbHNlO1xuICAgIGluc1BhcmFtcy5kaXJlY3Rpb24gPSB0bC5kaXJlY3Rpb247XG4gICAgaW5zUGFyYW1zLnRpbWVsaW5lT2Zmc2V0ID0gaXMudW5kKHRpbWVsaW5lT2Zmc2V0KSA/IHRsRHVyYXRpb24gOiBnZXRSZWxhdGl2ZVZhbHVlKHRpbWVsaW5lT2Zmc2V0LCB0bER1cmF0aW9uKTtcbiAgICBwYXNzVGhyb3VnaCh0bCk7XG4gICAgdGwuc2VlayhpbnNQYXJhbXMudGltZWxpbmVPZmZzZXQpO1xuICAgIHZhciBpbnMgPSBhbmltZShpbnNQYXJhbXMpO1xuICAgIHBhc3NUaHJvdWdoKGlucyk7XG4gICAgY2hpbGRyZW4ucHVzaChpbnMpO1xuICAgIHZhciB0aW1pbmdzID0gZ2V0SW5zdGFuY2VUaW1pbmdzKGNoaWxkcmVuLCBwYXJhbXMpO1xuICAgIHRsLmRlbGF5ID0gdGltaW5ncy5kZWxheTtcbiAgICB0bC5lbmREZWxheSA9IHRpbWluZ3MuZW5kRGVsYXk7XG4gICAgdGwuZHVyYXRpb24gPSB0aW1pbmdzLmR1cmF0aW9uO1xuICAgIHRsLnNlZWsoMCk7XG4gICAgdGwucmVzZXQoKTtcbiAgICBpZiAodGwuYXV0b3BsYXkpIHsgdGwucGxheSgpOyB9XG4gICAgcmV0dXJuIHRsO1xuICB9O1xuICByZXR1cm4gdGw7XG59XG5cbmFuaW1lLnZlcnNpb24gPSAnMy4wLjEnO1xuYW5pbWUuc3BlZWQgPSAxO1xuYW5pbWUucnVubmluZyA9IGFjdGl2ZUluc3RhbmNlcztcbmFuaW1lLnJlbW92ZSA9IHJlbW92ZVRhcmdldHM7XG5hbmltZS5nZXQgPSBnZXRPcmlnaW5hbFRhcmdldFZhbHVlO1xuYW5pbWUuc2V0ID0gc2V0VGFyZ2V0c1ZhbHVlO1xuYW5pbWUuY29udmVydFB4ID0gY29udmVydFB4VG9Vbml0O1xuYW5pbWUucGF0aCA9IGdldFBhdGg7XG5hbmltZS5zZXREYXNob2Zmc2V0ID0gc2V0RGFzaG9mZnNldDtcbmFuaW1lLnN0YWdnZXIgPSBzdGFnZ2VyO1xuYW5pbWUudGltZWxpbmUgPSB0aW1lbGluZTtcbmFuaW1lLmVhc2luZyA9IHBhcnNlRWFzaW5ncztcbmFuaW1lLnBlbm5lciA9IHBlbm5lcjtcbmFuaW1lLnJhbmRvbSA9IGZ1bmN0aW9uIChtaW4sIG1heCkgeyByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjsgfTtcblxuZXhwb3J0IGRlZmF1bHQgYW5pbWU7XG4iLCIvKiohXG4gKiBTb3J0YWJsZSAxLjEwLjAtcmMzXG4gKiBAYXV0aG9yXHRSdWJhWGEgICA8dHJhc2hAcnViYXhhLm9yZz5cbiAqIEBhdXRob3JcdG93ZW5tICAgIDxvd2VuMjMzNTVAZ21haWwuY29tPlxuICogQGxpY2Vuc2UgTUlUXG4gKi9cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikge1xuICAgIF90eXBlb2YgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9iajtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIF90eXBlb2YgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIF90eXBlb2Yob2JqKTtcbn1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307XG4gICAgdmFyIG93bktleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuXG4gICAgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBvd25LZXlzID0gb3duS2V5cy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgc3ltKS5lbnVtZXJhYmxlO1xuICAgICAgfSkpO1xuICAgIH1cblxuICAgIG93bktleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICB2YXIga2V5LCBpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcblxuICB2YXIgdGFyZ2V0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7XG5cbiAgdmFyIGtleSwgaTtcblxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHZhciBzb3VyY2VTeW1ib2xLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07XG4gICAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTtcbiAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgYXJyMltpXSA9IGFycltpXTtcblxuICAgIHJldHVybiBhcnIyO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikge1xuICBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaXRlcikgPT09IFwiW29iamVjdCBBcmd1bWVudHNdXCIpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xufVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTtcbn1cblxudmFyIHZlcnNpb24gPSBcIjEuMTAuMC1yYzNcIjtcblxuZnVuY3Rpb24gdXNlckFnZW50KHBhdHRlcm4pIHtcbiAgcmV0dXJuICEhXG4gIC8qQF9fUFVSRV9fKi9cbiAgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaChwYXR0ZXJuKTtcbn1cblxudmFyIElFMTFPckxlc3MgPSB1c2VyQWdlbnQoLyg/OlRyaWRlbnQuKnJ2WyA6XT8xMVxcLnxtc2llfGllbW9iaWxlfFdpbmRvd3MgUGhvbmUpL2kpO1xudmFyIEVkZ2UgPSB1c2VyQWdlbnQoL0VkZ2UvaSk7XG52YXIgRmlyZUZveCA9IHVzZXJBZ2VudCgvZmlyZWZveC9pKTtcbnZhciBTYWZhcmkgPSB1c2VyQWdlbnQoL3NhZmFyaS9pKSAmJiAhdXNlckFnZW50KC9jaHJvbWUvaSkgJiYgIXVzZXJBZ2VudCgvYW5kcm9pZC9pKTtcbnZhciBJT1MgPSB1c2VyQWdlbnQoL2lQKGFkfG9kfGhvbmUpL2kpO1xudmFyIENocm9tZUZvckFuZHJvaWQgPSB1c2VyQWdlbnQoL2Nocm9tZS9pKSAmJiB1c2VyQWdlbnQoL2FuZHJvaWQvaSk7XG5cbnZhciBjYXB0dXJlTW9kZSA9IHtcbiAgY2FwdHVyZTogZmFsc2UsXG4gIHBhc3NpdmU6IGZhbHNlXG59O1xuXG5mdW5jdGlvbiBvbihlbCwgZXZlbnQsIGZuKSB7XG4gIGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGZuLCAhSUUxMU9yTGVzcyAmJiBjYXB0dXJlTW9kZSk7XG59XG5cbmZ1bmN0aW9uIG9mZihlbCwgZXZlbnQsIGZuKSB7XG4gIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGZuLCAhSUUxMU9yTGVzcyAmJiBjYXB0dXJlTW9kZSk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoZXMoXG4vKipIVE1MRWxlbWVudCovXG5lbCxcbi8qKlN0cmluZyovXG5zZWxlY3Rvcikge1xuICBpZiAoIXNlbGVjdG9yKSByZXR1cm47XG4gIHNlbGVjdG9yWzBdID09PSAnPicgJiYgKHNlbGVjdG9yID0gc2VsZWN0b3Iuc3Vic3RyaW5nKDEpKTtcblxuICBpZiAoZWwpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKGVsLm1hdGNoZXMpIHtcbiAgICAgICAgcmV0dXJuIGVsLm1hdGNoZXMoc2VsZWN0b3IpO1xuICAgICAgfSBlbHNlIGlmIChlbC5tc01hdGNoZXNTZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gZWwubXNNYXRjaGVzU2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgfSBlbHNlIGlmIChlbC53ZWJraXRNYXRjaGVzU2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIGVsLndlYmtpdE1hdGNoZXNTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoXykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZ2V0UGFyZW50T3JIb3N0KGVsKSB7XG4gIHJldHVybiBlbC5ob3N0ICYmIGVsICE9PSBkb2N1bWVudCAmJiBlbC5ob3N0Lm5vZGVUeXBlID8gZWwuaG9zdCA6IGVsLnBhcmVudE5vZGU7XG59XG5cbmZ1bmN0aW9uIGNsb3Nlc3QoXG4vKipIVE1MRWxlbWVudCovXG5lbCxcbi8qKlN0cmluZyovXG5zZWxlY3Rvcixcbi8qKkhUTUxFbGVtZW50Ki9cbmN0eCwgaW5jbHVkZUNUWCkge1xuICBpZiAoZWwpIHtcbiAgICBjdHggPSBjdHggfHwgZG9jdW1lbnQ7XG5cbiAgICBkbyB7XG4gICAgICBpZiAoc2VsZWN0b3IgIT0gbnVsbCAmJiAoc2VsZWN0b3JbMF0gPT09ICc+JyA/IGVsLnBhcmVudE5vZGUgPT09IGN0eCAmJiBtYXRjaGVzKGVsLCBzZWxlY3RvcikgOiBtYXRjaGVzKGVsLCBzZWxlY3RvcikpIHx8IGluY2x1ZGVDVFggJiYgZWwgPT09IGN0eCkge1xuICAgICAgICByZXR1cm4gZWw7XG4gICAgICB9XG5cbiAgICAgIGlmIChlbCA9PT0gY3R4KSBicmVhaztcbiAgICAgIC8qIGpzaGludCBib3NzOnRydWUgKi9cbiAgICB9IHdoaWxlIChlbCA9IGdldFBhcmVudE9ySG9zdChlbCkpO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbnZhciBSX1NQQUNFID0gL1xccysvZztcblxuZnVuY3Rpb24gdG9nZ2xlQ2xhc3MoZWwsIG5hbWUsIHN0YXRlKSB7XG4gIGlmIChlbCAmJiBuYW1lKSB7XG4gICAgaWYgKGVsLmNsYXNzTGlzdCkge1xuICAgICAgZWwuY2xhc3NMaXN0W3N0YXRlID8gJ2FkZCcgOiAncmVtb3ZlJ10obmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBjbGFzc05hbWUgPSAoJyAnICsgZWwuY2xhc3NOYW1lICsgJyAnKS5yZXBsYWNlKFJfU1BBQ0UsICcgJykucmVwbGFjZSgnICcgKyBuYW1lICsgJyAnLCAnICcpO1xuICAgICAgZWwuY2xhc3NOYW1lID0gKGNsYXNzTmFtZSArIChzdGF0ZSA/ICcgJyArIG5hbWUgOiAnJykpLnJlcGxhY2UoUl9TUEFDRSwgJyAnKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY3NzKGVsLCBwcm9wLCB2YWwpIHtcbiAgdmFyIHN0eWxlID0gZWwgJiYgZWwuc3R5bGU7XG5cbiAgaWYgKHN0eWxlKSB7XG4gICAgaWYgKHZhbCA9PT0gdm9pZCAwKSB7XG4gICAgICBpZiAoZG9jdW1lbnQuZGVmYXVsdFZpZXcgJiYgZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSkge1xuICAgICAgICB2YWwgPSBkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGVsLCAnJyk7XG4gICAgICB9IGVsc2UgaWYgKGVsLmN1cnJlbnRTdHlsZSkge1xuICAgICAgICB2YWwgPSBlbC5jdXJyZW50U3R5bGU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcm9wID09PSB2b2lkIDAgPyB2YWwgOiB2YWxbcHJvcF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghKHByb3AgaW4gc3R5bGUpICYmIHByb3AuaW5kZXhPZignd2Via2l0JykgPT09IC0xKSB7XG4gICAgICAgIHByb3AgPSAnLXdlYmtpdC0nICsgcHJvcDtcbiAgICAgIH1cblxuICAgICAgc3R5bGVbcHJvcF0gPSB2YWwgKyAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgPyAnJyA6ICdweCcpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBtYXRyaXgoZWwsIHNlbGZPbmx5KSB7XG4gIHZhciBhcHBsaWVkVHJhbnNmb3JtcyA9ICcnO1xuXG4gIGRvIHtcbiAgICB2YXIgdHJhbnNmb3JtID0gY3NzKGVsLCAndHJhbnNmb3JtJyk7XG5cbiAgICBpZiAodHJhbnNmb3JtICYmIHRyYW5zZm9ybSAhPT0gJ25vbmUnKSB7XG4gICAgICBhcHBsaWVkVHJhbnNmb3JtcyA9IHRyYW5zZm9ybSArICcgJyArIGFwcGxpZWRUcmFuc2Zvcm1zO1xuICAgIH1cbiAgICAvKiBqc2hpbnQgYm9zczp0cnVlICovXG5cbiAgfSB3aGlsZSAoIXNlbGZPbmx5ICYmIChlbCA9IGVsLnBhcmVudE5vZGUpKTtcblxuICB2YXIgbWF0cml4Rm4gPSB3aW5kb3cuRE9NTWF0cml4IHx8IHdpbmRvdy5XZWJLaXRDU1NNYXRyaXggfHwgd2luZG93LkNTU01hdHJpeDtcbiAgLypqc2hpbnQgLVcwNTYgKi9cblxuICByZXR1cm4gbWF0cml4Rm4gJiYgbmV3IG1hdHJpeEZuKGFwcGxpZWRUcmFuc2Zvcm1zKTtcbn1cblxuZnVuY3Rpb24gZmluZChjdHgsIHRhZ05hbWUsIGl0ZXJhdG9yKSB7XG4gIGlmIChjdHgpIHtcbiAgICB2YXIgbGlzdCA9IGN0eC5nZXRFbGVtZW50c0J5VGFnTmFtZSh0YWdOYW1lKSxcbiAgICAgICAgaSA9IDAsXG4gICAgICAgIG4gPSBsaXN0Lmxlbmd0aDtcblxuICAgIGlmIChpdGVyYXRvcikge1xuICAgICAgZm9yICg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgaXRlcmF0b3IobGlzdFtpXSwgaSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGxpc3Q7XG4gIH1cblxuICByZXR1cm4gW107XG59XG5cbmZ1bmN0aW9uIGdldFdpbmRvd1Njcm9sbGluZ0VsZW1lbnQoKSB7XG4gIGlmIChJRTExT3JMZXNzKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudDtcbiAgfVxufVxuLyoqXHJcbiAqIFJldHVybnMgdGhlIFwiYm91bmRpbmcgY2xpZW50IHJlY3RcIiBvZiBnaXZlbiBlbGVtZW50XHJcbiAqIEBwYXJhbSAge0hUTUxFbGVtZW50fSBlbCAgICAgICAgICAgICAgICAgICAgICAgVGhlIGVsZW1lbnQgd2hvc2UgYm91bmRpbmdDbGllbnRSZWN0IGlzIHdhbnRlZFxyXG4gKiBAcGFyYW0gIHtbQm9vbGVhbl19IHJlbGF0aXZlVG9Db250YWluaW5nQmxvY2sgIFdoZXRoZXIgdGhlIHJlY3Qgc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBjb250YWluaW5nIGJsb2NrIG9mIChpbmNsdWRpbmcpIHRoZSBjb250YWluZXJcclxuICogQHBhcmFtICB7W0Jvb2xlYW5dfSByZWxhdGl2ZVRvTm9uU3RhdGljUGFyZW50ICBXaGV0aGVyIHRoZSByZWN0IHNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgcmVsYXRpdmUgcGFyZW50IG9mIChpbmNsdWRpbmcpIHRoZSBjb250YWllbnJcclxuICogQHBhcmFtICB7W0Jvb2xlYW5dfSB1bmRvU2NhbGUgICAgICAgICAgICAgICAgICBXaGV0aGVyIHRoZSBjb250YWluZXIncyBzY2FsZSgpIHNob3VsZCBiZSB1bmRvbmVcclxuICogQHBhcmFtICB7W0hUTUxFbGVtZW50XX0gY29udGFpbmVyICAgICAgICAgICAgICBUaGUgcGFyZW50IHRoZSBlbGVtZW50IHdpbGwgYmUgcGxhY2VkIGluXHJcbiAqIEByZXR1cm4ge09iamVjdH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhlIGJvdW5kaW5nQ2xpZW50UmVjdCBvZiBlbCwgd2l0aCBzcGVjaWZpZWQgYWRqdXN0bWVudHNcclxuICovXG5cblxuZnVuY3Rpb24gZ2V0UmVjdChlbCwgcmVsYXRpdmVUb0NvbnRhaW5pbmdCbG9jaywgcmVsYXRpdmVUb05vblN0YXRpY1BhcmVudCwgdW5kb1NjYWxlLCBjb250YWluZXIpIHtcbiAgaWYgKCFlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QgJiYgZWwgIT09IHdpbmRvdykgcmV0dXJuO1xuICB2YXIgZWxSZWN0LCB0b3AsIGxlZnQsIGJvdHRvbSwgcmlnaHQsIGhlaWdodCwgd2lkdGg7XG5cbiAgaWYgKGVsICE9PSB3aW5kb3cgJiYgZWwgIT09IGdldFdpbmRvd1Njcm9sbGluZ0VsZW1lbnQoKSkge1xuICAgIGVsUmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHRvcCA9IGVsUmVjdC50b3A7XG4gICAgbGVmdCA9IGVsUmVjdC5sZWZ0O1xuICAgIGJvdHRvbSA9IGVsUmVjdC5ib3R0b207XG4gICAgcmlnaHQgPSBlbFJlY3QucmlnaHQ7XG4gICAgaGVpZ2h0ID0gZWxSZWN0LmhlaWdodDtcbiAgICB3aWR0aCA9IGVsUmVjdC53aWR0aDtcbiAgfSBlbHNlIHtcbiAgICB0b3AgPSAwO1xuICAgIGxlZnQgPSAwO1xuICAgIGJvdHRvbSA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICByaWdodCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICB9XG5cbiAgaWYgKChyZWxhdGl2ZVRvQ29udGFpbmluZ0Jsb2NrIHx8IHJlbGF0aXZlVG9Ob25TdGF0aWNQYXJlbnQpICYmIGVsICE9PSB3aW5kb3cpIHtcbiAgICAvLyBBZGp1c3QgZm9yIHRyYW5zbGF0ZSgpXG4gICAgY29udGFpbmVyID0gY29udGFpbmVyIHx8IGVsLnBhcmVudE5vZGU7IC8vIHNvbHZlcyAjMTEyMyAoc2VlOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzc5NTM4MDYvNjA4ODMxMilcbiAgICAvLyBOb3QgbmVlZGVkIG9uIDw9IElFMTFcblxuICAgIGlmICghSUUxMU9yTGVzcykge1xuICAgICAgZG8ge1xuICAgICAgICBpZiAoY29udGFpbmVyICYmIGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QgJiYgKGNzcyhjb250YWluZXIsICd0cmFuc2Zvcm0nKSAhPT0gJ25vbmUnIHx8IHJlbGF0aXZlVG9Ob25TdGF0aWNQYXJlbnQgJiYgY3NzKGNvbnRhaW5lciwgJ3Bvc2l0aW9uJykgIT09ICdzdGF0aWMnKSkge1xuICAgICAgICAgIHZhciBjb250YWluZXJSZWN0ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOyAvLyBTZXQgcmVsYXRpdmUgdG8gZWRnZXMgb2YgcGFkZGluZyBib3ggb2YgY29udGFpbmVyXG5cbiAgICAgICAgICB0b3AgLT0gY29udGFpbmVyUmVjdC50b3AgKyBwYXJzZUludChjc3MoY29udGFpbmVyLCAnYm9yZGVyLXRvcC13aWR0aCcpKTtcbiAgICAgICAgICBsZWZ0IC09IGNvbnRhaW5lclJlY3QubGVmdCArIHBhcnNlSW50KGNzcyhjb250YWluZXIsICdib3JkZXItbGVmdC13aWR0aCcpKTtcbiAgICAgICAgICBib3R0b20gPSB0b3AgKyBlbFJlY3QuaGVpZ2h0O1xuICAgICAgICAgIHJpZ2h0ID0gbGVmdCArIGVsUmVjdC53aWR0aDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvKiBqc2hpbnQgYm9zczp0cnVlICovXG5cbiAgICAgIH0gd2hpbGUgKGNvbnRhaW5lciA9IGNvbnRhaW5lci5wYXJlbnROb2RlKTtcbiAgICB9XG4gIH1cblxuICBpZiAodW5kb1NjYWxlICYmIGVsICE9PSB3aW5kb3cpIHtcbiAgICAvLyBBZGp1c3QgZm9yIHNjYWxlKClcbiAgICB2YXIgZWxNYXRyaXggPSBtYXRyaXgoY29udGFpbmVyIHx8IGVsKSxcbiAgICAgICAgc2NhbGVYID0gZWxNYXRyaXggJiYgZWxNYXRyaXguYSxcbiAgICAgICAgc2NhbGVZID0gZWxNYXRyaXggJiYgZWxNYXRyaXguZDtcblxuICAgIGlmIChlbE1hdHJpeCkge1xuICAgICAgdG9wIC89IHNjYWxlWTtcbiAgICAgIGxlZnQgLz0gc2NhbGVYO1xuICAgICAgd2lkdGggLz0gc2NhbGVYO1xuICAgICAgaGVpZ2h0IC89IHNjYWxlWTtcbiAgICAgIGJvdHRvbSA9IHRvcCArIGhlaWdodDtcbiAgICAgIHJpZ2h0ID0gbGVmdCArIHdpZHRoO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdG9wOiB0b3AsXG4gICAgbGVmdDogbGVmdCxcbiAgICBib3R0b206IGJvdHRvbSxcbiAgICByaWdodDogcmlnaHQsXG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0XG4gIH07XG59XG4vKipcclxuICogQ2hlY2tzIGlmIGEgc2lkZSBvZiBhbiBlbGVtZW50IGlzIHNjcm9sbGVkIHBhc3QgYSBzaWRlIG9mIGl0cyBwYXJlbnRzXHJcbiAqIEBwYXJhbSAge0hUTUxFbGVtZW50fSAgZWwgICAgICAgICAgIFRoZSBlbGVtZW50IHdobydzIHNpZGUgYmVpbmcgc2Nyb2xsZWQgb3V0IG9mIHZpZXcgaXMgaW4gcXVlc3Rpb25cclxuICogQHBhcmFtICB7W0RPTVJlY3RdfSAgICByZWN0ICAgICAgICAgT3B0aW9uYWwgcmVjdCBvZiBgZWxgIHRvIHVzZVxyXG4gKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgIGVsU2lkZSAgICAgICBTaWRlIG9mIHRoZSBlbGVtZW50IGluIHF1ZXN0aW9uICgndG9wJywgJ2xlZnQnLCAncmlnaHQnLCAnYm90dG9tJylcclxuICogQHBhcmFtICB7U3RyaW5nfSAgICAgICBwYXJlbnRTaWRlICAgU2lkZSBvZiB0aGUgcGFyZW50IGluIHF1ZXN0aW9uICgndG9wJywgJ2xlZnQnLCAncmlnaHQnLCAnYm90dG9tJylcclxuICogQHJldHVybiB7SFRNTEVsZW1lbnR9ICAgICAgICAgICAgICAgVGhlIHBhcmVudCBzY3JvbGwgZWxlbWVudCB0aGF0IHRoZSBlbCdzIHNpZGUgaXMgc2Nyb2xsZWQgcGFzdCwgb3IgbnVsbCBpZiB0aGVyZSBpcyBubyBzdWNoIGVsZW1lbnRcclxuICovXG5cblxuZnVuY3Rpb24gaXNTY3JvbGxlZFBhc3QoZWwsIHJlY3QsIGVsU2lkZSwgcGFyZW50U2lkZSkge1xuICB2YXIgcGFyZW50ID0gZ2V0UGFyZW50QXV0b1Njcm9sbEVsZW1lbnQoZWwsIHRydWUpLFxuICAgICAgZWxTaWRlVmFsID0gKHJlY3QgPyByZWN0IDogZ2V0UmVjdChlbCkpW2VsU2lkZV07XG4gIC8qIGpzaGludCBib3NzOnRydWUgKi9cblxuICB3aGlsZSAocGFyZW50KSB7XG4gICAgdmFyIHBhcmVudFNpZGVWYWwgPSBnZXRSZWN0KHBhcmVudClbcGFyZW50U2lkZV0sXG4gICAgICAgIHZpc2libGUgPSB2b2lkIDA7XG5cbiAgICBpZiAocGFyZW50U2lkZSA9PT0gJ3RvcCcgfHwgcGFyZW50U2lkZSA9PT0gJ2xlZnQnKSB7XG4gICAgICB2aXNpYmxlID0gZWxTaWRlVmFsID49IHBhcmVudFNpZGVWYWw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZpc2libGUgPSBlbFNpZGVWYWwgPD0gcGFyZW50U2lkZVZhbDtcbiAgICB9XG5cbiAgICBpZiAoIXZpc2libGUpIHJldHVybiBwYXJlbnQ7XG4gICAgaWYgKHBhcmVudCA9PT0gZ2V0V2luZG93U2Nyb2xsaW5nRWxlbWVudCgpKSBicmVhaztcbiAgICBwYXJlbnQgPSBnZXRQYXJlbnRBdXRvU2Nyb2xsRWxlbWVudChwYXJlbnQsIGZhbHNlKTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cbi8qKlxyXG4gKiBHZXRzIG50aCBjaGlsZCBvZiBlbCwgaWdub3JpbmcgaGlkZGVuIGNoaWxkcmVuLCBzb3J0YWJsZSdzIGVsZW1lbnRzIChkb2VzIG5vdCBpZ25vcmUgY2xvbmUgaWYgaXQncyB2aXNpYmxlKVxyXG4gKiBhbmQgbm9uLWRyYWdnYWJsZSBlbGVtZW50c1xyXG4gKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gZWwgICAgICAgVGhlIHBhcmVudCBlbGVtZW50XHJcbiAqIEBwYXJhbSAge051bWJlcn0gY2hpbGROdW0gICAgICBUaGUgaW5kZXggb2YgdGhlIGNoaWxkXHJcbiAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9ucyAgICAgICBQYXJlbnQgU29ydGFibGUncyBvcHRpb25zXHJcbiAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSAgICAgICAgICBUaGUgY2hpbGQgYXQgaW5kZXggY2hpbGROdW0sIG9yIG51bGwgaWYgbm90IGZvdW5kXHJcbiAqL1xuXG5cbmZ1bmN0aW9uIGdldENoaWxkKGVsLCBjaGlsZE51bSwgb3B0aW9ucykge1xuICB2YXIgY3VycmVudENoaWxkID0gMCxcbiAgICAgIGkgPSAwLFxuICAgICAgY2hpbGRyZW4gPSBlbC5jaGlsZHJlbjtcblxuICB3aGlsZSAoaSA8IGNoaWxkcmVuLmxlbmd0aCkge1xuICAgIGlmIChjaGlsZHJlbltpXS5zdHlsZS5kaXNwbGF5ICE9PSAnbm9uZScgJiYgY2hpbGRyZW5baV0gIT09IFNvcnRhYmxlLmdob3N0ICYmIGNoaWxkcmVuW2ldICE9PSBTb3J0YWJsZS5kcmFnZ2VkICYmIGNsb3Nlc3QoY2hpbGRyZW5baV0sIG9wdGlvbnMuZHJhZ2dhYmxlLCBlbCwgZmFsc2UpKSB7XG4gICAgICBpZiAoY3VycmVudENoaWxkID09PSBjaGlsZE51bSkge1xuICAgICAgICByZXR1cm4gY2hpbGRyZW5baV07XG4gICAgICB9XG5cbiAgICAgIGN1cnJlbnRDaGlsZCsrO1xuICAgIH1cblxuICAgIGkrKztcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuLyoqXHJcbiAqIEdldHMgdGhlIGxhc3QgY2hpbGQgaW4gdGhlIGVsLCBpZ25vcmluZyBnaG9zdEVsIG9yIGludmlzaWJsZSBlbGVtZW50cyAoY2xvbmVzKVxyXG4gKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gZWwgICAgICAgUGFyZW50IGVsZW1lbnRcclxuICogQHBhcmFtICB7c2VsZWN0b3J9IHNlbGVjdG9yICAgIEFueSBvdGhlciBlbGVtZW50cyB0aGF0IHNob3VsZCBiZSBpZ25vcmVkXHJcbiAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSAgICAgICAgICBUaGUgbGFzdCBjaGlsZCwgaWdub3JpbmcgZ2hvc3RFbFxyXG4gKi9cblxuXG5mdW5jdGlvbiBsYXN0Q2hpbGQoZWwsIHNlbGVjdG9yKSB7XG4gIHZhciBsYXN0ID0gZWwubGFzdEVsZW1lbnRDaGlsZDtcblxuICB3aGlsZSAobGFzdCAmJiAobGFzdCA9PT0gU29ydGFibGUuZ2hvc3QgfHwgY3NzKGxhc3QsICdkaXNwbGF5JykgPT09ICdub25lJyB8fCBzZWxlY3RvciAmJiAhbWF0Y2hlcyhsYXN0LCBzZWxlY3RvcikpKSB7XG4gICAgbGFzdCA9IGxhc3QucHJldmlvdXNFbGVtZW50U2libGluZztcbiAgfVxuXG4gIHJldHVybiBsYXN0IHx8IG51bGw7XG59XG4vKipcclxuICogUmV0dXJucyB0aGUgaW5kZXggb2YgYW4gZWxlbWVudCB3aXRoaW4gaXRzIHBhcmVudCBmb3IgYSBzZWxlY3RlZCBzZXQgb2ZcclxuICogZWxlbWVudHNcclxuICogQHBhcmFtICB7SFRNTEVsZW1lbnR9IGVsXHJcbiAqIEBwYXJhbSAge3NlbGVjdG9yfSBzZWxlY3RvclxyXG4gKiBAcmV0dXJuIHtudW1iZXJ9XHJcbiAqL1xuXG5cbmZ1bmN0aW9uIGluZGV4KGVsLCBzZWxlY3Rvcikge1xuICB2YXIgaW5kZXggPSAwO1xuXG4gIGlmICghZWwgfHwgIWVsLnBhcmVudE5vZGUpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgLyoganNoaW50IGJvc3M6dHJ1ZSAqL1xuXG5cbiAgd2hpbGUgKGVsID0gZWwucHJldmlvdXNFbGVtZW50U2libGluZykge1xuICAgIGlmIChlbC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpICE9PSAnVEVNUExBVEUnICYmIGVsICE9PSBTb3J0YWJsZS5jbG9uZSAmJiAoIXNlbGVjdG9yIHx8IG1hdGNoZXMoZWwsIHNlbGVjdG9yKSkpIHtcbiAgICAgIGluZGV4Kys7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGluZGV4O1xufVxuLyoqXHJcbiAqIFJldHVybnMgdGhlIHNjcm9sbCBvZmZzZXQgb2YgdGhlIGdpdmVuIGVsZW1lbnQsIGFkZGVkIHdpdGggYWxsIHRoZSBzY3JvbGwgb2Zmc2V0cyBvZiBwYXJlbnQgZWxlbWVudHMuXHJcbiAqIFRoZSB2YWx1ZSBpcyByZXR1cm5lZCBpbiByZWFsIHBpeGVscy5cclxuICogQHBhcmFtICB7SFRNTEVsZW1lbnR9IGVsXHJcbiAqIEByZXR1cm4ge0FycmF5fSAgICAgICAgICAgICBPZmZzZXRzIGluIHRoZSBmb3JtYXQgb2YgW2xlZnQsIHRvcF1cclxuICovXG5cblxuZnVuY3Rpb24gZ2V0UmVsYXRpdmVTY3JvbGxPZmZzZXQoZWwpIHtcbiAgdmFyIG9mZnNldExlZnQgPSAwLFxuICAgICAgb2Zmc2V0VG9wID0gMCxcbiAgICAgIHdpblNjcm9sbGVyID0gZ2V0V2luZG93U2Nyb2xsaW5nRWxlbWVudCgpO1xuXG4gIGlmIChlbCkge1xuICAgIGRvIHtcbiAgICAgIHZhciBlbE1hdHJpeCA9IG1hdHJpeChlbCksXG4gICAgICAgICAgc2NhbGVYID0gZWxNYXRyaXguYSxcbiAgICAgICAgICBzY2FsZVkgPSBlbE1hdHJpeC5kO1xuICAgICAgb2Zmc2V0TGVmdCArPSBlbC5zY3JvbGxMZWZ0ICogc2NhbGVYO1xuICAgICAgb2Zmc2V0VG9wICs9IGVsLnNjcm9sbFRvcCAqIHNjYWxlWTtcbiAgICB9IHdoaWxlIChlbCAhPT0gd2luU2Nyb2xsZXIgJiYgKGVsID0gZWwucGFyZW50Tm9kZSkpO1xuICB9XG5cbiAgcmV0dXJuIFtvZmZzZXRMZWZ0LCBvZmZzZXRUb3BdO1xufVxuLyoqXHJcbiAqIFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBvYmplY3Qgd2l0aGluIHRoZSBnaXZlbiBhcnJheVxyXG4gKiBAcGFyYW0gIHtBcnJheX0gYXJyICAgQXJyYXkgdGhhdCBtYXkgb3IgbWF5IG5vdCBob2xkIHRoZSBvYmplY3RcclxuICogQHBhcmFtICB7T2JqZWN0fSBvYmogIEFuIG9iamVjdCB0aGF0IGhhcyBhIGtleS12YWx1ZSBwYWlyIHVuaXF1ZSB0byBhbmQgaWRlbnRpY2FsIHRvIGEga2V5LXZhbHVlIHBhaXIgaW4gdGhlIG9iamVjdCB5b3Ugd2FudCB0byBmaW5kXHJcbiAqIEByZXR1cm4ge051bWJlcn0gICAgICBUaGUgaW5kZXggb2YgdGhlIG9iamVjdCBpbiB0aGUgYXJyYXksIG9yIC0xXHJcbiAqL1xuXG5cbmZ1bmN0aW9uIGluZGV4T2ZPYmplY3QoYXJyLCBvYmopIHtcbiAgZm9yICh2YXIgaSBpbiBhcnIpIHtcbiAgICBpZiAoIWFyci5oYXNPd25Qcm9wZXJ0eShpKSkgY29udGludWU7XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkgJiYgb2JqW2tleV0gPT09IGFycltpXVtrZXldKSByZXR1cm4gTnVtYmVyKGkpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAtMTtcbn1cblxuZnVuY3Rpb24gZ2V0UGFyZW50QXV0b1Njcm9sbEVsZW1lbnQoZWwsIGluY2x1ZGVTZWxmKSB7XG4gIC8vIHNraXAgdG8gd2luZG93XG4gIGlmICghZWwgfHwgIWVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCkgcmV0dXJuIGdldFdpbmRvd1Njcm9sbGluZ0VsZW1lbnQoKTtcbiAgdmFyIGVsZW0gPSBlbDtcbiAgdmFyIGdvdFNlbGYgPSBmYWxzZTtcblxuICBkbyB7XG4gICAgLy8gd2UgZG9uJ3QgbmVlZCB0byBnZXQgZWxlbSBjc3MgaWYgaXQgaXNuJ3QgZXZlbiBvdmVyZmxvd2luZyBpbiB0aGUgZmlyc3QgcGxhY2UgKHBlcmZvcm1hbmNlKVxuICAgIGlmIChlbGVtLmNsaWVudFdpZHRoIDwgZWxlbS5zY3JvbGxXaWR0aCB8fCBlbGVtLmNsaWVudEhlaWdodCA8IGVsZW0uc2Nyb2xsSGVpZ2h0KSB7XG4gICAgICB2YXIgZWxlbUNTUyA9IGNzcyhlbGVtKTtcblxuICAgICAgaWYgKGVsZW0uY2xpZW50V2lkdGggPCBlbGVtLnNjcm9sbFdpZHRoICYmIChlbGVtQ1NTLm92ZXJmbG93WCA9PSAnYXV0bycgfHwgZWxlbUNTUy5vdmVyZmxvd1ggPT0gJ3Njcm9sbCcpIHx8IGVsZW0uY2xpZW50SGVpZ2h0IDwgZWxlbS5zY3JvbGxIZWlnaHQgJiYgKGVsZW1DU1Mub3ZlcmZsb3dZID09ICdhdXRvJyB8fCBlbGVtQ1NTLm92ZXJmbG93WSA9PSAnc2Nyb2xsJykpIHtcbiAgICAgICAgaWYgKCFlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCB8fCBlbGVtID09PSBkb2N1bWVudC5ib2R5KSByZXR1cm4gZ2V0V2luZG93U2Nyb2xsaW5nRWxlbWVudCgpO1xuICAgICAgICBpZiAoZ290U2VsZiB8fCBpbmNsdWRlU2VsZikgcmV0dXJuIGVsZW07XG4gICAgICAgIGdvdFNlbGYgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICAvKiBqc2hpbnQgYm9zczp0cnVlICovXG5cbiAgfSB3aGlsZSAoZWxlbSA9IGVsZW0ucGFyZW50Tm9kZSk7XG5cbiAgcmV0dXJuIGdldFdpbmRvd1Njcm9sbGluZ0VsZW1lbnQoKTtcbn1cblxuZnVuY3Rpb24gZXh0ZW5kKGRzdCwgc3JjKSB7XG4gIGlmIChkc3QgJiYgc3JjKSB7XG4gICAgZm9yICh2YXIga2V5IGluIHNyYykge1xuICAgICAgaWYgKHNyYy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIGRzdFtrZXldID0gc3JjW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRzdDtcbn1cblxuZnVuY3Rpb24gaXNSZWN0RXF1YWwocmVjdDEsIHJlY3QyKSB7XG4gIHJldHVybiBNYXRoLnJvdW5kKHJlY3QxLnRvcCkgPT09IE1hdGgucm91bmQocmVjdDIudG9wKSAmJiBNYXRoLnJvdW5kKHJlY3QxLmxlZnQpID09PSBNYXRoLnJvdW5kKHJlY3QyLmxlZnQpICYmIE1hdGgucm91bmQocmVjdDEuaGVpZ2h0KSA9PT0gTWF0aC5yb3VuZChyZWN0Mi5oZWlnaHQpICYmIE1hdGgucm91bmQocmVjdDEud2lkdGgpID09PSBNYXRoLnJvdW5kKHJlY3QyLndpZHRoKTtcbn1cblxudmFyIF90aHJvdHRsZVRpbWVvdXQ7XG5cbmZ1bmN0aW9uIHRocm90dGxlKGNhbGxiYWNrLCBtcykge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmICghX3Rocm90dGxlVGltZW91dCkge1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgY2FsbGJhY2suY2FsbChfdGhpcywgYXJnc1swXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjay5hcHBseShfdGhpcywgYXJncyk7XG4gICAgICB9XG5cbiAgICAgIF90aHJvdHRsZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3Rocm90dGxlVGltZW91dCA9IHZvaWQgMDtcbiAgICAgIH0sIG1zKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNhbmNlbFRocm90dGxlKCkge1xuICBjbGVhclRpbWVvdXQoX3Rocm90dGxlVGltZW91dCk7XG4gIF90aHJvdHRsZVRpbWVvdXQgPSB2b2lkIDA7XG59XG5cbmZ1bmN0aW9uIHNjcm9sbEJ5KGVsLCB4LCB5KSB7XG4gIGVsLnNjcm9sbExlZnQgKz0geDtcbiAgZWwuc2Nyb2xsVG9wICs9IHk7XG59XG5cbmZ1bmN0aW9uIGNsb25lKGVsKSB7XG4gIHZhciBQb2x5bWVyID0gd2luZG93LlBvbHltZXI7XG4gIHZhciAkID0gd2luZG93LmpRdWVyeSB8fCB3aW5kb3cuWmVwdG87XG5cbiAgaWYgKFBvbHltZXIgJiYgUG9seW1lci5kb20pIHtcbiAgICByZXR1cm4gUG9seW1lci5kb20oZWwpLmNsb25lTm9kZSh0cnVlKTtcbiAgfSBlbHNlIGlmICgkKSB7XG4gICAgcmV0dXJuICQoZWwpLmNsb25lKHRydWUpWzBdO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBlbC5jbG9uZU5vZGUodHJ1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0UmVjdChlbCwgcmVjdCkge1xuICBjc3MoZWwsICdwb3NpdGlvbicsICdhYnNvbHV0ZScpO1xuICBjc3MoZWwsICd0b3AnLCByZWN0LnRvcCk7XG4gIGNzcyhlbCwgJ2xlZnQnLCByZWN0LmxlZnQpO1xuICBjc3MoZWwsICd3aWR0aCcsIHJlY3Qud2lkdGgpO1xuICBjc3MoZWwsICdoZWlnaHQnLCByZWN0LmhlaWdodCk7XG59XG5cbmZ1bmN0aW9uIHVuc2V0UmVjdChlbCkge1xuICBjc3MoZWwsICdwb3NpdGlvbicsICcnKTtcbiAgY3NzKGVsLCAndG9wJywgJycpO1xuICBjc3MoZWwsICdsZWZ0JywgJycpO1xuICBjc3MoZWwsICd3aWR0aCcsICcnKTtcbiAgY3NzKGVsLCAnaGVpZ2h0JywgJycpO1xufVxuXG52YXIgZXhwYW5kbyA9ICdTb3J0YWJsZScgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuZnVuY3Rpb24gQW5pbWF0aW9uU3RhdGVNYW5hZ2VyKCkge1xuICB2YXIgYW5pbWF0aW9uU3RhdGVzID0gW10sXG4gICAgICBhbmltYXRpb25DYWxsYmFja0lkO1xuICByZXR1cm4ge1xuICAgIGNhcHR1cmVBbmltYXRpb25TdGF0ZTogZnVuY3Rpb24gY2FwdHVyZUFuaW1hdGlvblN0YXRlKCkge1xuICAgICAgYW5pbWF0aW9uU3RhdGVzID0gW107XG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy5hbmltYXRpb24pIHJldHVybjtcbiAgICAgIHZhciBjaGlsZHJlbiA9IFtdLnNsaWNlLmNhbGwodGhpcy5lbC5jaGlsZHJlbik7XG4gICAgICBjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICBpZiAoY3NzKGNoaWxkLCAnZGlzcGxheScpID09PSAnbm9uZScgfHwgY2hpbGQgPT09IFNvcnRhYmxlLmdob3N0KSByZXR1cm47XG4gICAgICAgIGFuaW1hdGlvblN0YXRlcy5wdXNoKHtcbiAgICAgICAgICB0YXJnZXQ6IGNoaWxkLFxuICAgICAgICAgIHJlY3Q6IGdldFJlY3QoY2hpbGQpXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgZnJvbVJlY3QgPSBnZXRSZWN0KGNoaWxkKTsgLy8gSWYgYW5pbWF0aW5nOiBjb21wZW5zYXRlIGZvciBjdXJyZW50IGFuaW1hdGlvblxuXG4gICAgICAgIGlmIChjaGlsZC50aGlzQW5pbWF0aW9uRHVyYXRpb24pIHtcbiAgICAgICAgICB2YXIgY2hpbGRNYXRyaXggPSBtYXRyaXgoY2hpbGQsIHRydWUpO1xuXG4gICAgICAgICAgaWYgKGNoaWxkTWF0cml4KSB7XG4gICAgICAgICAgICBmcm9tUmVjdC50b3AgLT0gY2hpbGRNYXRyaXguZjtcbiAgICAgICAgICAgIGZyb21SZWN0LmxlZnQgLT0gY2hpbGRNYXRyaXguZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjaGlsZC5mcm9tUmVjdCA9IGZyb21SZWN0O1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBhZGRBbmltYXRpb25TdGF0ZTogZnVuY3Rpb24gYWRkQW5pbWF0aW9uU3RhdGUoc3RhdGUpIHtcbiAgICAgIGFuaW1hdGlvblN0YXRlcy5wdXNoKHN0YXRlKTtcbiAgICB9LFxuICAgIHJlbW92ZUFuaW1hdGlvblN0YXRlOiBmdW5jdGlvbiByZW1vdmVBbmltYXRpb25TdGF0ZSh0YXJnZXQpIHtcbiAgICAgIGFuaW1hdGlvblN0YXRlcy5zcGxpY2UoaW5kZXhPZk9iamVjdChhbmltYXRpb25TdGF0ZXMsIHtcbiAgICAgICAgdGFyZ2V0OiB0YXJnZXRcbiAgICAgIH0pLCAxKTtcbiAgICB9LFxuICAgIGFuaW1hdGVBbGw6IGZ1bmN0aW9uIGFuaW1hdGVBbGwoY2FsbGJhY2spIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmICghdGhpcy5vcHRpb25zLmFuaW1hdGlvbikge1xuICAgICAgICBjbGVhclRpbWVvdXQoYW5pbWF0aW9uQ2FsbGJhY2tJZCk7XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGFuaW1hdGluZyA9IGZhbHNlLFxuICAgICAgICAgIGFuaW1hdGlvblRpbWUgPSAwO1xuICAgICAgYW5pbWF0aW9uU3RhdGVzLmZvckVhY2goZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHZhciB0aW1lID0gMCxcbiAgICAgICAgICAgIHRhcmdldCA9IHN0YXRlLnRhcmdldCxcbiAgICAgICAgICAgIGZyb21SZWN0ID0gdGFyZ2V0LmZyb21SZWN0LFxuICAgICAgICAgICAgdG9SZWN0ID0gZ2V0UmVjdCh0YXJnZXQpLFxuICAgICAgICAgICAgcHJldkZyb21SZWN0ID0gdGFyZ2V0LnByZXZGcm9tUmVjdCxcbiAgICAgICAgICAgIHByZXZUb1JlY3QgPSB0YXJnZXQucHJldlRvUmVjdCxcbiAgICAgICAgICAgIGFuaW1hdGluZ1JlY3QgPSBzdGF0ZS5yZWN0LFxuICAgICAgICAgICAgdGFyZ2V0TWF0cml4ID0gbWF0cml4KHRhcmdldCwgdHJ1ZSk7XG5cbiAgICAgICAgaWYgKHRhcmdldE1hdHJpeCkge1xuICAgICAgICAgIC8vIENvbXBlbnNhdGUgZm9yIGN1cnJlbnQgYW5pbWF0aW9uXG4gICAgICAgICAgdG9SZWN0LnRvcCAtPSB0YXJnZXRNYXRyaXguZjtcbiAgICAgICAgICB0b1JlY3QubGVmdCAtPSB0YXJnZXRNYXRyaXguZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhcmdldC50b1JlY3QgPSB0b1JlY3Q7IC8vIElmIGVsZW1lbnQgaXMgc2Nyb2xsZWQgb3V0IG9mIHZpZXc6IERvIG5vdCBhbmltYXRlXG5cbiAgICAgICAgaWYgKChpc1Njcm9sbGVkUGFzdCh0YXJnZXQsIHRvUmVjdCwgJ2JvdHRvbScsICd0b3AnKSB8fCBpc1Njcm9sbGVkUGFzdCh0YXJnZXQsIHRvUmVjdCwgJ3RvcCcsICdib3R0b20nKSB8fCBpc1Njcm9sbGVkUGFzdCh0YXJnZXQsIHRvUmVjdCwgJ3JpZ2h0JywgJ2xlZnQnKSB8fCBpc1Njcm9sbGVkUGFzdCh0YXJnZXQsIHRvUmVjdCwgJ2xlZnQnLCAncmlnaHQnKSkgJiYgKGlzU2Nyb2xsZWRQYXN0KHRhcmdldCwgYW5pbWF0aW5nUmVjdCwgJ2JvdHRvbScsICd0b3AnKSB8fCBpc1Njcm9sbGVkUGFzdCh0YXJnZXQsIGFuaW1hdGluZ1JlY3QsICd0b3AnLCAnYm90dG9tJykgfHwgaXNTY3JvbGxlZFBhc3QodGFyZ2V0LCBhbmltYXRpbmdSZWN0LCAncmlnaHQnLCAnbGVmdCcpIHx8IGlzU2Nyb2xsZWRQYXN0KHRhcmdldCwgYW5pbWF0aW5nUmVjdCwgJ2xlZnQnLCAncmlnaHQnKSkgJiYgKGlzU2Nyb2xsZWRQYXN0KHRhcmdldCwgZnJvbVJlY3QsICdib3R0b20nLCAndG9wJykgfHwgaXNTY3JvbGxlZFBhc3QodGFyZ2V0LCBmcm9tUmVjdCwgJ3RvcCcsICdib3R0b20nKSB8fCBpc1Njcm9sbGVkUGFzdCh0YXJnZXQsIGZyb21SZWN0LCAncmlnaHQnLCAnbGVmdCcpIHx8IGlzU2Nyb2xsZWRQYXN0KHRhcmdldCwgZnJvbVJlY3QsICdsZWZ0JywgJ3JpZ2h0JykpKSByZXR1cm47XG5cbiAgICAgICAgaWYgKHRhcmdldC50aGlzQW5pbWF0aW9uRHVyYXRpb24pIHtcbiAgICAgICAgICAvLyBDb3VsZCBhbHNvIGNoZWNrIGlmIGFuaW1hdGluZ1JlY3QgaXMgYmV0d2VlbiBmcm9tUmVjdCBhbmQgdG9SZWN0XG4gICAgICAgICAgaWYgKGlzUmVjdEVxdWFsKHByZXZGcm9tUmVjdCwgdG9SZWN0KSAmJiAhaXNSZWN0RXF1YWwoZnJvbVJlY3QsIHRvUmVjdCkgJiYgLy8gTWFrZSBzdXJlIGFuaW1hdGluZ1JlY3QgaXMgb24gbGluZSBiZXR3ZWVuIHRvUmVjdCAmIGZyb21SZWN0XG4gICAgICAgICAgKGFuaW1hdGluZ1JlY3QudG9wIC0gdG9SZWN0LnRvcCkgLyAoYW5pbWF0aW5nUmVjdC5sZWZ0IC0gdG9SZWN0LmxlZnQpID09PSAoZnJvbVJlY3QudG9wIC0gdG9SZWN0LnRvcCkgLyAoZnJvbVJlY3QubGVmdCAtIHRvUmVjdC5sZWZ0KSkge1xuICAgICAgICAgICAgLy8gSWYgcmV0dXJuaW5nIHRvIHNhbWUgcGxhY2UgYXMgc3RhcnRlZCBmcm9tIGFuaW1hdGlvbiBhbmQgb24gc2FtZSBheGlzXG4gICAgICAgICAgICB0aW1lID0gY2FsY3VsYXRlUmVhbFRpbWUoYW5pbWF0aW5nUmVjdCwgcHJldkZyb21SZWN0LCBwcmV2VG9SZWN0LCBfdGhpcy5vcHRpb25zKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gaWYgZnJvbVJlY3QgIT0gdG9SZWN0OiBhbmltYXRlXG5cblxuICAgICAgICBpZiAoIWlzUmVjdEVxdWFsKHRvUmVjdCwgZnJvbVJlY3QpKSB7XG4gICAgICAgICAgdGFyZ2V0LnByZXZGcm9tUmVjdCA9IGZyb21SZWN0O1xuICAgICAgICAgIHRhcmdldC5wcmV2VG9SZWN0ID0gdG9SZWN0O1xuXG4gICAgICAgICAgaWYgKCF0aW1lKSB7XG4gICAgICAgICAgICB0aW1lID0gX3RoaXMub3B0aW9ucy5hbmltYXRpb247XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3RoaXMuYW5pbWF0ZSh0YXJnZXQsIGFuaW1hdGluZ1JlY3QsIHRpbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRpbWUpIHtcbiAgICAgICAgICBhbmltYXRpbmcgPSB0cnVlO1xuICAgICAgICAgIGFuaW1hdGlvblRpbWUgPSBNYXRoLm1heChhbmltYXRpb25UaW1lLCB0aW1lKTtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGFyZ2V0LmFuaW1hdGlvblJlc2V0VGltZXIpO1xuICAgICAgICAgIHRhcmdldC5hbmltYXRpb25SZXNldFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0YXJnZXQuYW5pbWF0aW9uVGltZSA9IDA7XG4gICAgICAgICAgICB0YXJnZXQucHJldkZyb21SZWN0ID0gbnVsbDtcbiAgICAgICAgICAgIHRhcmdldC5mcm9tUmVjdCA9IG51bGw7XG4gICAgICAgICAgICB0YXJnZXQucHJldlRvUmVjdCA9IG51bGw7XG4gICAgICAgICAgICB0YXJnZXQudGhpc0FuaW1hdGlvbkR1cmF0aW9uID0gbnVsbDtcbiAgICAgICAgICB9LCB0aW1lKTtcbiAgICAgICAgICB0YXJnZXQudGhpc0FuaW1hdGlvbkR1cmF0aW9uID0gdGltZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjbGVhclRpbWVvdXQoYW5pbWF0aW9uQ2FsbGJhY2tJZCk7XG5cbiAgICAgIGlmICghYW5pbWF0aW5nKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbmltYXRpb25DYWxsYmFja0lkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2soKTtcbiAgICAgICAgfSwgYW5pbWF0aW9uVGltZSk7XG4gICAgICB9XG5cbiAgICAgIGFuaW1hdGlvblN0YXRlcyA9IFtdO1xuICAgIH0sXG4gICAgYW5pbWF0ZTogZnVuY3Rpb24gYW5pbWF0ZSh0YXJnZXQsIHByZXYsIGR1cmF0aW9uKSB7XG4gICAgICBpZiAoZHVyYXRpb24pIHtcbiAgICAgICAgY3NzKHRhcmdldCwgJ3RyYW5zaXRpb24nLCAnJyk7XG4gICAgICAgIGNzcyh0YXJnZXQsICd0cmFuc2Zvcm0nLCAnJyk7XG4gICAgICAgIHZhciBjdXJyZW50UmVjdCA9IGdldFJlY3QodGFyZ2V0KSxcbiAgICAgICAgICAgIGVsTWF0cml4ID0gbWF0cml4KHRoaXMuZWwpLFxuICAgICAgICAgICAgc2NhbGVYID0gZWxNYXRyaXggJiYgZWxNYXRyaXguYSxcbiAgICAgICAgICAgIHNjYWxlWSA9IGVsTWF0cml4ICYmIGVsTWF0cml4LmQsXG4gICAgICAgICAgICB0cmFuc2xhdGVYID0gKHByZXYubGVmdCAtIGN1cnJlbnRSZWN0LmxlZnQpIC8gKHNjYWxlWCB8fCAxKSxcbiAgICAgICAgICAgIHRyYW5zbGF0ZVkgPSAocHJldi50b3AgLSBjdXJyZW50UmVjdC50b3ApIC8gKHNjYWxlWSB8fCAxKTtcbiAgICAgICAgdGFyZ2V0LmFuaW1hdGluZ1ggPSAhIXRyYW5zbGF0ZVg7XG4gICAgICAgIHRhcmdldC5hbmltYXRpbmdZID0gISF0cmFuc2xhdGVZO1xuICAgICAgICBjc3ModGFyZ2V0LCAndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZTNkKCcgKyB0cmFuc2xhdGVYICsgJ3B4LCcgKyB0cmFuc2xhdGVZICsgJ3B4LDApJyk7XG4gICAgICAgIHJlcGFpbnQodGFyZ2V0KTsgLy8gcmVwYWludFxuXG4gICAgICAgIGNzcyh0YXJnZXQsICd0cmFuc2l0aW9uJywgJ3RyYW5zZm9ybSAnICsgZHVyYXRpb24gKyAnbXMnICsgKHRoaXMub3B0aW9ucy5lYXNpbmcgPyAnICcgKyB0aGlzLm9wdGlvbnMuZWFzaW5nIDogJycpKTtcbiAgICAgICAgY3NzKHRhcmdldCwgJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUzZCgwLDAsMCknKTtcbiAgICAgICAgdHlwZW9mIHRhcmdldC5hbmltYXRlZCA9PT0gJ251bWJlcicgJiYgY2xlYXJUaW1lb3V0KHRhcmdldC5hbmltYXRlZCk7XG4gICAgICAgIHRhcmdldC5hbmltYXRlZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNzcyh0YXJnZXQsICd0cmFuc2l0aW9uJywgJycpO1xuICAgICAgICAgIGNzcyh0YXJnZXQsICd0cmFuc2Zvcm0nLCAnJyk7XG4gICAgICAgICAgdGFyZ2V0LmFuaW1hdGVkID0gZmFsc2U7XG4gICAgICAgICAgdGFyZ2V0LmFuaW1hdGluZ1ggPSBmYWxzZTtcbiAgICAgICAgICB0YXJnZXQuYW5pbWF0aW5nWSA9IGZhbHNlO1xuICAgICAgICB9LCBkdXJhdGlvbik7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiByZXBhaW50KHRhcmdldCkge1xuICByZXR1cm4gdGFyZ2V0Lm9mZnNldFdpZHRoO1xufVxuXG5mdW5jdGlvbiBjYWxjdWxhdGVSZWFsVGltZShhbmltYXRpbmdSZWN0LCBmcm9tUmVjdCwgdG9SZWN0LCBvcHRpb25zKSB7XG4gIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coZnJvbVJlY3QudG9wIC0gYW5pbWF0aW5nUmVjdC50b3AsIDIpICsgTWF0aC5wb3coZnJvbVJlY3QubGVmdCAtIGFuaW1hdGluZ1JlY3QubGVmdCwgMikpIC8gTWF0aC5zcXJ0KE1hdGgucG93KGZyb21SZWN0LnRvcCAtIHRvUmVjdC50b3AsIDIpICsgTWF0aC5wb3coZnJvbVJlY3QubGVmdCAtIHRvUmVjdC5sZWZ0LCAyKSkgKiBvcHRpb25zLmFuaW1hdGlvbjtcbn1cblxudmFyIHBsdWdpbnMgPSBbXTtcbnZhciBkZWZhdWx0cyA9IHtcbiAgaW5pdGlhbGl6ZUJ5RGVmYXVsdDogdHJ1ZVxufTtcbnZhciBQbHVnaW5NYW5hZ2VyID0ge1xuICBtb3VudDogZnVuY3Rpb24gbW91bnQocGx1Z2luKSB7XG4gICAgLy8gU2V0IGRlZmF1bHQgc3RhdGljIHByb3BlcnRpZXNcbiAgICBmb3IgKHZhciBvcHRpb24gaW4gZGVmYXVsdHMpIHtcbiAgICAgIGlmIChkZWZhdWx0cy5oYXNPd25Qcm9wZXJ0eShvcHRpb24pICYmICEob3B0aW9uIGluIHBsdWdpbikpIHtcbiAgICAgICAgcGx1Z2luW29wdGlvbl0gPSBkZWZhdWx0c1tvcHRpb25dO1xuICAgICAgfVxuICAgIH1cblxuICAgIHBsdWdpbnMucHVzaChwbHVnaW4pO1xuICB9LFxuICBwbHVnaW5FdmVudDogZnVuY3Rpb24gcGx1Z2luRXZlbnQoZXZlbnROYW1lLCBzb3J0YWJsZSwgZXZ0KSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHRoaXMuZXZlbnRDYW5jZWxlZCA9IGZhbHNlO1xuICAgIHZhciBldmVudE5hbWVHbG9iYWwgPSBldmVudE5hbWUgKyAnR2xvYmFsJztcbiAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgaWYgKCFzb3J0YWJsZVtwbHVnaW4ucGx1Z2luTmFtZV0pIHJldHVybjsgLy8gRmlyZSBnbG9iYWwgZXZlbnRzIGlmIGl0IGV4aXN0cyBpbiB0aGlzIHNvcnRhYmxlXG5cbiAgICAgIGlmIChzb3J0YWJsZVtwbHVnaW4ucGx1Z2luTmFtZV1bZXZlbnROYW1lR2xvYmFsXSkge1xuICAgICAgICBfdGhpcy5ldmVudENhbmNlbGVkID0gISFzb3J0YWJsZVtwbHVnaW4ucGx1Z2luTmFtZV1bZXZlbnROYW1lR2xvYmFsXShfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICBzb3J0YWJsZTogc29ydGFibGVcbiAgICAgICAgfSwgZXZ0KSk7XG4gICAgICB9IC8vIE9ubHkgZmlyZSBwbHVnaW4gZXZlbnQgaWYgcGx1Z2luIGlzIGVuYWJsZWQgaW4gdGhpcyBzb3J0YWJsZSxcbiAgICAgIC8vIGFuZCBwbHVnaW4gaGFzIGV2ZW50IGRlZmluZWRcblxuXG4gICAgICBpZiAoc29ydGFibGUub3B0aW9uc1twbHVnaW4ucGx1Z2luTmFtZV0gJiYgc29ydGFibGVbcGx1Z2luLnBsdWdpbk5hbWVdW2V2ZW50TmFtZV0pIHtcbiAgICAgICAgX3RoaXMuZXZlbnRDYW5jZWxlZCA9IF90aGlzLmV2ZW50Q2FuY2VsZWQgfHwgISFzb3J0YWJsZVtwbHVnaW4ucGx1Z2luTmFtZV1bZXZlbnROYW1lXShfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICBzb3J0YWJsZTogc29ydGFibGVcbiAgICAgICAgfSwgZXZ0KSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIGluaXRpYWxpemVQbHVnaW5zOiBmdW5jdGlvbiBpbml0aWFsaXplUGx1Z2lucyhzb3J0YWJsZSwgZWwsIGRlZmF1bHRzKSB7XG4gICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgIHZhciBwbHVnaW5OYW1lID0gcGx1Z2luLnBsdWdpbk5hbWU7XG4gICAgICBpZiAoIXNvcnRhYmxlLm9wdGlvbnNbcGx1Z2luTmFtZV0gJiYgIXBsdWdpbi5pbml0aWFsaXplQnlEZWZhdWx0KSByZXR1cm47XG4gICAgICB2YXIgaW5pdGlhbGl6ZWQgPSBuZXcgcGx1Z2luKHNvcnRhYmxlLCBlbCk7XG4gICAgICBpbml0aWFsaXplZC5zb3J0YWJsZSA9IHNvcnRhYmxlO1xuICAgICAgc29ydGFibGVbcGx1Z2luTmFtZV0gPSBpbml0aWFsaXplZDsgLy8gQWRkIGRlZmF1bHQgb3B0aW9ucyBmcm9tIHBsdWdpblxuXG4gICAgICBfZXh0ZW5kcyhkZWZhdWx0cywgaW5pdGlhbGl6ZWQub3B0aW9ucyk7XG4gICAgfSk7XG5cbiAgICBmb3IgKHZhciBvcHRpb24gaW4gc29ydGFibGUub3B0aW9ucykge1xuICAgICAgaWYgKCFzb3J0YWJsZS5vcHRpb25zLmhhc093blByb3BlcnR5KG9wdGlvbikpIGNvbnRpbnVlO1xuICAgICAgdmFyIG1vZGlmaWVkID0gdGhpcy5tb2RpZnlPcHRpb24oc29ydGFibGUsIG9wdGlvbiwgc29ydGFibGUub3B0aW9uc1tvcHRpb25dKTtcblxuICAgICAgaWYgKHR5cGVvZiBtb2RpZmllZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc29ydGFibGUub3B0aW9uc1tvcHRpb25dID0gbW9kaWZpZWQ7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBnZXRFdmVudE9wdGlvbnM6IGZ1bmN0aW9uIGdldEV2ZW50T3B0aW9ucyhuYW1lLCBzb3J0YWJsZSkge1xuICAgIHZhciBldmVudE9wdGlvbnMgPSB7fTtcbiAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgaWYgKHR5cGVvZiBwbHVnaW4uZXZlbnRPcHRpb25zICE9PSAnZnVuY3Rpb24nKSByZXR1cm47XG5cbiAgICAgIF9leHRlbmRzKGV2ZW50T3B0aW9ucywgcGx1Z2luLmV2ZW50T3B0aW9ucy5jYWxsKHNvcnRhYmxlLCBuYW1lKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGV2ZW50T3B0aW9ucztcbiAgfSxcbiAgbW9kaWZ5T3B0aW9uOiBmdW5jdGlvbiBtb2RpZnlPcHRpb24oc29ydGFibGUsIG5hbWUsIHZhbHVlKSB7XG4gICAgdmFyIG1vZGlmaWVkVmFsdWU7XG4gICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgIC8vIFBsdWdpbiBtdXN0IGV4aXN0IG9uIHRoZSBTb3J0YWJsZVxuICAgICAgaWYgKCFzb3J0YWJsZVtwbHVnaW4ucGx1Z2luTmFtZV0pIHJldHVybjsgLy8gSWYgc3RhdGljIG9wdGlvbiBsaXN0ZW5lciBleGlzdHMgZm9yIHRoaXMgb3B0aW9uLCBjYWxsIGluIHRoZSBjb250ZXh0IG9mIHRoZSBTb3J0YWJsZSdzIGluc3RhbmNlIG9mIHRoaXMgcGx1Z2luXG5cbiAgICAgIGlmIChwbHVnaW4ub3B0aW9uTGlzdGVuZXJzICYmIHR5cGVvZiBwbHVnaW4ub3B0aW9uTGlzdGVuZXJzW25hbWVdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG1vZGlmaWVkVmFsdWUgPSBwbHVnaW4ub3B0aW9uTGlzdGVuZXJzW25hbWVdLmNhbGwoc29ydGFibGVbcGx1Z2luLnBsdWdpbk5hbWVdLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG1vZGlmaWVkVmFsdWU7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGRpc3BhdGNoRXZlbnQoX3JlZikge1xuICB2YXIgc29ydGFibGUgPSBfcmVmLnNvcnRhYmxlLFxuICAgICAgcm9vdEVsID0gX3JlZi5yb290RWwsXG4gICAgICBuYW1lID0gX3JlZi5uYW1lLFxuICAgICAgdGFyZ2V0RWwgPSBfcmVmLnRhcmdldEVsLFxuICAgICAgY2xvbmVFbCA9IF9yZWYuY2xvbmVFbCxcbiAgICAgIHRvRWwgPSBfcmVmLnRvRWwsXG4gICAgICBmcm9tRWwgPSBfcmVmLmZyb21FbCxcbiAgICAgIG9sZEluZGV4ID0gX3JlZi5vbGRJbmRleCxcbiAgICAgIG5ld0luZGV4ID0gX3JlZi5uZXdJbmRleCxcbiAgICAgIG9sZERyYWdnYWJsZUluZGV4ID0gX3JlZi5vbGREcmFnZ2FibGVJbmRleCxcbiAgICAgIG5ld0RyYWdnYWJsZUluZGV4ID0gX3JlZi5uZXdEcmFnZ2FibGVJbmRleCxcbiAgICAgIG9yaWdpbmFsRXZlbnQgPSBfcmVmLm9yaWdpbmFsRXZlbnQsXG4gICAgICBwdXRTb3J0YWJsZSA9IF9yZWYucHV0U29ydGFibGUsXG4gICAgICBldmVudE9wdGlvbnMgPSBfcmVmLmV2ZW50T3B0aW9ucztcbiAgc29ydGFibGUgPSBzb3J0YWJsZSB8fCByb290RWxbZXhwYW5kb107XG4gIHZhciBldnQsXG4gICAgICBvcHRpb25zID0gc29ydGFibGUub3B0aW9ucyxcbiAgICAgIG9uTmFtZSA9ICdvbicgKyBuYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zdWJzdHIoMSk7IC8vIFN1cHBvcnQgZm9yIG5ldyBDdXN0b21FdmVudCBmZWF0dXJlXG5cbiAgaWYgKHdpbmRvdy5DdXN0b21FdmVudCAmJiAhSUUxMU9yTGVzcyAmJiAhRWRnZSkge1xuICAgIGV2dCA9IG5ldyBDdXN0b21FdmVudChuYW1lLCB7XG4gICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgIGV2dC5pbml0RXZlbnQobmFtZSwgdHJ1ZSwgdHJ1ZSk7XG4gIH1cblxuICBldnQudG8gPSB0b0VsIHx8IHJvb3RFbDtcbiAgZXZ0LmZyb20gPSBmcm9tRWwgfHwgcm9vdEVsO1xuICBldnQuaXRlbSA9IHRhcmdldEVsIHx8IHJvb3RFbDtcbiAgZXZ0LmNsb25lID0gY2xvbmVFbDtcbiAgZXZ0Lm9sZEluZGV4ID0gb2xkSW5kZXg7XG4gIGV2dC5uZXdJbmRleCA9IG5ld0luZGV4O1xuICBldnQub2xkRHJhZ2dhYmxlSW5kZXggPSBvbGREcmFnZ2FibGVJbmRleDtcbiAgZXZ0Lm5ld0RyYWdnYWJsZUluZGV4ID0gbmV3RHJhZ2dhYmxlSW5kZXg7XG4gIGV2dC5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudDtcbiAgZXZ0LnB1bGxNb2RlID0gcHV0U29ydGFibGUgPyBwdXRTb3J0YWJsZS5sYXN0UHV0TW9kZSA6IHVuZGVmaW5lZDtcblxuICB2YXIgYWxsRXZlbnRPcHRpb25zID0gX29iamVjdFNwcmVhZCh7fSwgZXZlbnRPcHRpb25zLCBQbHVnaW5NYW5hZ2VyLmdldEV2ZW50T3B0aW9ucyhuYW1lLCBzb3J0YWJsZSkpO1xuXG4gIGZvciAodmFyIG9wdGlvbiBpbiBhbGxFdmVudE9wdGlvbnMpIHtcbiAgICBldnRbb3B0aW9uXSA9IGFsbEV2ZW50T3B0aW9uc1tvcHRpb25dO1xuICB9XG5cbiAgaWYgKHJvb3RFbCkge1xuICAgIHJvb3RFbC5kaXNwYXRjaEV2ZW50KGV2dCk7XG4gIH1cblxuICBpZiAob3B0aW9uc1tvbk5hbWVdKSB7XG4gICAgb3B0aW9uc1tvbk5hbWVdLmNhbGwoc29ydGFibGUsIGV2dCk7XG4gIH1cbn1cblxudmFyIHBsdWdpbkV2ZW50ID0gZnVuY3Rpb24gcGx1Z2luRXZlbnQoZXZlbnROYW1lLCBzb3J0YWJsZSkge1xuICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge30sXG4gICAgICBvcmlnaW5hbEV2ZW50ID0gX3JlZi5ldnQsXG4gICAgICBkYXRhID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIFtcImV2dFwiXSk7XG5cbiAgUGx1Z2luTWFuYWdlci5wbHVnaW5FdmVudC5iaW5kKFNvcnRhYmxlKShldmVudE5hbWUsIHNvcnRhYmxlLCBfb2JqZWN0U3ByZWFkKHtcbiAgICBkcmFnRWw6IGRyYWdFbCxcbiAgICBwYXJlbnRFbDogcGFyZW50RWwsXG4gICAgZ2hvc3RFbDogZ2hvc3RFbCxcbiAgICByb290RWw6IHJvb3RFbCxcbiAgICBuZXh0RWw6IG5leHRFbCxcbiAgICBsYXN0RG93bkVsOiBsYXN0RG93bkVsLFxuICAgIGNsb25lRWw6IGNsb25lRWwsXG4gICAgY2xvbmVIaWRkZW46IGNsb25lSGlkZGVuLFxuICAgIGRyYWdTdGFydGVkOiBtb3ZlZCxcbiAgICBwdXRTb3J0YWJsZTogcHV0U29ydGFibGUsXG4gICAgYWN0aXZlU29ydGFibGU6IFNvcnRhYmxlLmFjdGl2ZSxcbiAgICBvcmlnaW5hbEV2ZW50OiBvcmlnaW5hbEV2ZW50LFxuICAgIG9sZEluZGV4OiBvbGRJbmRleCxcbiAgICBvbGREcmFnZ2FibGVJbmRleDogb2xkRHJhZ2dhYmxlSW5kZXgsXG4gICAgbmV3SW5kZXg6IG5ld0luZGV4LFxuICAgIG5ld0RyYWdnYWJsZUluZGV4OiBuZXdEcmFnZ2FibGVJbmRleCxcbiAgICBoaWRlR2hvc3RGb3JUYXJnZXQ6IF9oaWRlR2hvc3RGb3JUYXJnZXQsXG4gICAgdW5oaWRlR2hvc3RGb3JUYXJnZXQ6IF91bmhpZGVHaG9zdEZvclRhcmdldCxcbiAgICBjbG9uZU5vd0hpZGRlbjogZnVuY3Rpb24gY2xvbmVOb3dIaWRkZW4oKSB7XG4gICAgICBjbG9uZUhpZGRlbiA9IHRydWU7XG4gICAgfSxcbiAgICBjbG9uZU5vd1Nob3duOiBmdW5jdGlvbiBjbG9uZU5vd1Nob3duKCkge1xuICAgICAgY2xvbmVIaWRkZW4gPSBmYWxzZTtcbiAgICB9LFxuICAgIGRpc3BhdGNoU29ydGFibGVFdmVudDogZnVuY3Rpb24gZGlzcGF0Y2hTb3J0YWJsZUV2ZW50KG5hbWUpIHtcbiAgICAgIF9kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgc29ydGFibGU6IHNvcnRhYmxlLFxuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBvcmlnaW5hbEV2ZW50OiBvcmlnaW5hbEV2ZW50XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIGRhdGEpKTtcbn07XG5cbmZ1bmN0aW9uIF9kaXNwYXRjaEV2ZW50KGluZm8pIHtcbiAgZGlzcGF0Y2hFdmVudChfb2JqZWN0U3ByZWFkKHtcbiAgICBwdXRTb3J0YWJsZTogcHV0U29ydGFibGUsXG4gICAgY2xvbmVFbDogY2xvbmVFbCxcbiAgICB0YXJnZXRFbDogZHJhZ0VsLFxuICAgIHJvb3RFbDogcm9vdEVsLFxuICAgIG9sZEluZGV4OiBvbGRJbmRleCxcbiAgICBvbGREcmFnZ2FibGVJbmRleDogb2xkRHJhZ2dhYmxlSW5kZXgsXG4gICAgbmV3SW5kZXg6IG5ld0luZGV4LFxuICAgIG5ld0RyYWdnYWJsZUluZGV4OiBuZXdEcmFnZ2FibGVJbmRleFxuICB9LCBpbmZvKSk7XG59XG5cbmlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiIHx8ICF3aW5kb3cuZG9jdW1lbnQpIHtcbiAgdGhyb3cgbmV3IEVycm9yKFwiU29ydGFibGUuanMgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50XCIpO1xufVxuXG52YXIgZHJhZ0VsLFxuICAgIHBhcmVudEVsLFxuICAgIGdob3N0RWwsXG4gICAgcm9vdEVsLFxuICAgIG5leHRFbCxcbiAgICBsYXN0RG93bkVsLFxuICAgIGNsb25lRWwsXG4gICAgY2xvbmVIaWRkZW4sXG4gICAgb2xkSW5kZXgsXG4gICAgbmV3SW5kZXgsXG4gICAgb2xkRHJhZ2dhYmxlSW5kZXgsXG4gICAgbmV3RHJhZ2dhYmxlSW5kZXgsXG4gICAgYWN0aXZlR3JvdXAsXG4gICAgcHV0U29ydGFibGUsXG4gICAgYXdhaXRpbmdEcmFnU3RhcnRlZCA9IGZhbHNlLFxuICAgIGlnbm9yZU5leHRDbGljayA9IGZhbHNlLFxuICAgIHNvcnRhYmxlcyA9IFtdLFxuICAgIHRhcEV2dCxcbiAgICB0b3VjaEV2dCxcbiAgICBtb3ZlZCxcbiAgICBsYXN0VGFyZ2V0LFxuICAgIGxhc3REaXJlY3Rpb24sXG4gICAgcGFzdEZpcnN0SW52ZXJ0VGhyZXNoID0gZmFsc2UsXG4gICAgaXNDaXJjdW1zdGFudGlhbEludmVydCA9IGZhbHNlLFxuICAgIHRhcmdldE1vdmVEaXN0YW5jZSxcbiAgICAvLyBGb3IgcG9zaXRpb25pbmcgZ2hvc3QgYWJzb2x1dGVseVxuZ2hvc3RSZWxhdGl2ZVBhcmVudCxcbiAgICBnaG9zdFJlbGF0aXZlUGFyZW50SW5pdGlhbFNjcm9sbCA9IFtdLFxuICAgIC8vIChsZWZ0LCB0b3ApXG5fc2lsZW50ID0gZmFsc2UsXG4gICAgc2F2ZWRJbnB1dENoZWNrZWQgPSBbXTtcbi8qKiBAY29uc3QgKi9cblxudmFyIFBvc2l0aW9uR2hvc3RBYnNvbHV0ZWx5ID0gSU9TLFxuICAgIENTU0Zsb2F0UHJvcGVydHkgPSBFZGdlIHx8IElFMTFPckxlc3MgPyAnY3NzRmxvYXQnIDogJ2Zsb2F0JyxcbiAgICAvLyBUaGlzIHdpbGwgbm90IHBhc3MgZm9yIElFOSwgYmVjYXVzZSBJRTkgRG5EIG9ubHkgd29ya3Mgb24gYW5jaG9yc1xuc3VwcG9ydERyYWdnYWJsZSA9ICFDaHJvbWVGb3JBbmRyb2lkICYmICFJT1MgJiYgJ2RyYWdnYWJsZScgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgc3VwcG9ydENzc1BvaW50ZXJFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIGZhbHNlIHdoZW4gPD0gSUUxMVxuICBpZiAoSUUxMU9yTGVzcykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3gnKTtcbiAgZWwuc3R5bGUuY3NzVGV4dCA9ICdwb2ludGVyLWV2ZW50czphdXRvJztcbiAgcmV0dXJuIGVsLnN0eWxlLnBvaW50ZXJFdmVudHMgPT09ICdhdXRvJztcbn0oKSxcbiAgICBfZGV0ZWN0RGlyZWN0aW9uID0gZnVuY3Rpb24gX2RldGVjdERpcmVjdGlvbihlbCwgb3B0aW9ucykge1xuICB2YXIgZWxDU1MgPSBjc3MoZWwpLFxuICAgICAgZWxXaWR0aCA9IHBhcnNlSW50KGVsQ1NTLndpZHRoKSAtIHBhcnNlSW50KGVsQ1NTLnBhZGRpbmdMZWZ0KSAtIHBhcnNlSW50KGVsQ1NTLnBhZGRpbmdSaWdodCkgLSBwYXJzZUludChlbENTUy5ib3JkZXJMZWZ0V2lkdGgpIC0gcGFyc2VJbnQoZWxDU1MuYm9yZGVyUmlnaHRXaWR0aCksXG4gICAgICBjaGlsZDEgPSBnZXRDaGlsZChlbCwgMCwgb3B0aW9ucyksXG4gICAgICBjaGlsZDIgPSBnZXRDaGlsZChlbCwgMSwgb3B0aW9ucyksXG4gICAgICBmaXJzdENoaWxkQ1NTID0gY2hpbGQxICYmIGNzcyhjaGlsZDEpLFxuICAgICAgc2Vjb25kQ2hpbGRDU1MgPSBjaGlsZDIgJiYgY3NzKGNoaWxkMiksXG4gICAgICBmaXJzdENoaWxkV2lkdGggPSBmaXJzdENoaWxkQ1NTICYmIHBhcnNlSW50KGZpcnN0Q2hpbGRDU1MubWFyZ2luTGVmdCkgKyBwYXJzZUludChmaXJzdENoaWxkQ1NTLm1hcmdpblJpZ2h0KSArIGdldFJlY3QoY2hpbGQxKS53aWR0aCxcbiAgICAgIHNlY29uZENoaWxkV2lkdGggPSBzZWNvbmRDaGlsZENTUyAmJiBwYXJzZUludChzZWNvbmRDaGlsZENTUy5tYXJnaW5MZWZ0KSArIHBhcnNlSW50KHNlY29uZENoaWxkQ1NTLm1hcmdpblJpZ2h0KSArIGdldFJlY3QoY2hpbGQyKS53aWR0aDtcblxuICBpZiAoZWxDU1MuZGlzcGxheSA9PT0gJ2ZsZXgnKSB7XG4gICAgcmV0dXJuIGVsQ1NTLmZsZXhEaXJlY3Rpb24gPT09ICdjb2x1bW4nIHx8IGVsQ1NTLmZsZXhEaXJlY3Rpb24gPT09ICdjb2x1bW4tcmV2ZXJzZScgPyAndmVydGljYWwnIDogJ2hvcml6b250YWwnO1xuICB9XG5cbiAgaWYgKGVsQ1NTLmRpc3BsYXkgPT09ICdncmlkJykge1xuICAgIHJldHVybiBlbENTUy5ncmlkVGVtcGxhdGVDb2x1bW5zLnNwbGl0KCcgJykubGVuZ3RoIDw9IDEgPyAndmVydGljYWwnIDogJ2hvcml6b250YWwnO1xuICB9XG5cbiAgaWYgKGNoaWxkMSAmJiBmaXJzdENoaWxkQ1NTW1wiZmxvYXRcIl0gIT09ICdub25lJykge1xuICAgIHZhciB0b3VjaGluZ1NpZGVDaGlsZDIgPSBmaXJzdENoaWxkQ1NTW1wiZmxvYXRcIl0gPT09ICdsZWZ0JyA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gICAgcmV0dXJuIGNoaWxkMiAmJiAoc2Vjb25kQ2hpbGRDU1MuY2xlYXIgPT09ICdib3RoJyB8fCBzZWNvbmRDaGlsZENTUy5jbGVhciA9PT0gdG91Y2hpbmdTaWRlQ2hpbGQyKSA/ICd2ZXJ0aWNhbCcgOiAnaG9yaXpvbnRhbCc7XG4gIH1cblxuICByZXR1cm4gY2hpbGQxICYmIChmaXJzdENoaWxkQ1NTLmRpc3BsYXkgPT09ICdibG9jaycgfHwgZmlyc3RDaGlsZENTUy5kaXNwbGF5ID09PSAnZmxleCcgfHwgZmlyc3RDaGlsZENTUy5kaXNwbGF5ID09PSAndGFibGUnIHx8IGZpcnN0Q2hpbGRDU1MuZGlzcGxheSA9PT0gJ2dyaWQnIHx8IGZpcnN0Q2hpbGRXaWR0aCA+PSBlbFdpZHRoICYmIGVsQ1NTW0NTU0Zsb2F0UHJvcGVydHldID09PSAnbm9uZScgfHwgY2hpbGQyICYmIGVsQ1NTW0NTU0Zsb2F0UHJvcGVydHldID09PSAnbm9uZScgJiYgZmlyc3RDaGlsZFdpZHRoICsgc2Vjb25kQ2hpbGRXaWR0aCA+IGVsV2lkdGgpID8gJ3ZlcnRpY2FsJyA6ICdob3Jpem9udGFsJztcbn0sXG4gICAgX2RyYWdFbEluUm93Q29sdW1uID0gZnVuY3Rpb24gX2RyYWdFbEluUm93Q29sdW1uKGRyYWdSZWN0LCB0YXJnZXRSZWN0LCB2ZXJ0aWNhbCkge1xuICB2YXIgZHJhZ0VsUzFPcHAgPSB2ZXJ0aWNhbCA/IGRyYWdSZWN0LmxlZnQgOiBkcmFnUmVjdC50b3AsXG4gICAgICBkcmFnRWxTMk9wcCA9IHZlcnRpY2FsID8gZHJhZ1JlY3QucmlnaHQgOiBkcmFnUmVjdC5ib3R0b20sXG4gICAgICBkcmFnRWxPcHBMZW5ndGggPSB2ZXJ0aWNhbCA/IGRyYWdSZWN0LndpZHRoIDogZHJhZ1JlY3QuaGVpZ2h0LFxuICAgICAgdGFyZ2V0UzFPcHAgPSB2ZXJ0aWNhbCA/IHRhcmdldFJlY3QubGVmdCA6IHRhcmdldFJlY3QudG9wLFxuICAgICAgdGFyZ2V0UzJPcHAgPSB2ZXJ0aWNhbCA/IHRhcmdldFJlY3QucmlnaHQgOiB0YXJnZXRSZWN0LmJvdHRvbSxcbiAgICAgIHRhcmdldE9wcExlbmd0aCA9IHZlcnRpY2FsID8gdGFyZ2V0UmVjdC53aWR0aCA6IHRhcmdldFJlY3QuaGVpZ2h0O1xuICByZXR1cm4gZHJhZ0VsUzFPcHAgPT09IHRhcmdldFMxT3BwIHx8IGRyYWdFbFMyT3BwID09PSB0YXJnZXRTMk9wcCB8fCBkcmFnRWxTMU9wcCArIGRyYWdFbE9wcExlbmd0aCAvIDIgPT09IHRhcmdldFMxT3BwICsgdGFyZ2V0T3BwTGVuZ3RoIC8gMjtcbn0sXG5cbi8qKlxuICogRGV0ZWN0cyBmaXJzdCBuZWFyZXN0IGVtcHR5IHNvcnRhYmxlIHRvIFggYW5kIFkgcG9zaXRpb24gdXNpbmcgZW1wdHlJbnNlcnRUaHJlc2hvbGQuXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHggICAgICBYIHBvc2l0aW9uXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHkgICAgICBZIHBvc2l0aW9uXG4gKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gICBFbGVtZW50IG9mIHRoZSBmaXJzdCBmb3VuZCBuZWFyZXN0IFNvcnRhYmxlXG4gKi9cbl9kZXRlY3ROZWFyZXN0RW1wdHlTb3J0YWJsZSA9IGZ1bmN0aW9uIF9kZXRlY3ROZWFyZXN0RW1wdHlTb3J0YWJsZSh4LCB5KSB7XG4gIHZhciByZXQ7XG4gIHNvcnRhYmxlcy5zb21lKGZ1bmN0aW9uIChzb3J0YWJsZSkge1xuICAgIGlmIChsYXN0Q2hpbGQoc29ydGFibGUpKSByZXR1cm47XG4gICAgdmFyIHJlY3QgPSBnZXRSZWN0KHNvcnRhYmxlKSxcbiAgICAgICAgdGhyZXNob2xkID0gc29ydGFibGVbZXhwYW5kb10ub3B0aW9ucy5lbXB0eUluc2VydFRocmVzaG9sZCxcbiAgICAgICAgaW5zaWRlSG9yaXpvbnRhbGx5ID0geCA+PSByZWN0LmxlZnQgLSB0aHJlc2hvbGQgJiYgeCA8PSByZWN0LnJpZ2h0ICsgdGhyZXNob2xkLFxuICAgICAgICBpbnNpZGVWZXJ0aWNhbGx5ID0geSA+PSByZWN0LnRvcCAtIHRocmVzaG9sZCAmJiB5IDw9IHJlY3QuYm90dG9tICsgdGhyZXNob2xkO1xuXG4gICAgaWYgKHRocmVzaG9sZCAmJiBpbnNpZGVIb3Jpem9udGFsbHkgJiYgaW5zaWRlVmVydGljYWxseSkge1xuICAgICAgcmV0dXJuIHJldCA9IHNvcnRhYmxlO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXQ7XG59LFxuICAgIF9wcmVwYXJlR3JvdXAgPSBmdW5jdGlvbiBfcHJlcGFyZUdyb3VwKG9wdGlvbnMpIHtcbiAgZnVuY3Rpb24gdG9Gbih2YWx1ZSwgcHVsbCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAodG8sIGZyb20sIGRyYWdFbCwgZXZ0KSB7XG4gICAgICB2YXIgc2FtZUdyb3VwID0gdG8ub3B0aW9ucy5ncm91cC5uYW1lICYmIGZyb20ub3B0aW9ucy5ncm91cC5uYW1lICYmIHRvLm9wdGlvbnMuZ3JvdXAubmFtZSA9PT0gZnJvbS5vcHRpb25zLmdyb3VwLm5hbWU7XG5cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsICYmIChwdWxsIHx8IHNhbWVHcm91cCkpIHtcbiAgICAgICAgLy8gRGVmYXVsdCBwdWxsIHZhbHVlXG4gICAgICAgIC8vIERlZmF1bHQgcHVsbCBhbmQgcHV0IHZhbHVlIGlmIHNhbWUgZ3JvdXBcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlID09IG51bGwgfHwgdmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAocHVsbCAmJiB2YWx1ZSA9PT0gJ2Nsb25lJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gdG9Gbih2YWx1ZSh0bywgZnJvbSwgZHJhZ0VsLCBldnQpLCBwdWxsKSh0bywgZnJvbSwgZHJhZ0VsLCBldnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG90aGVyR3JvdXAgPSAocHVsbCA/IHRvIDogZnJvbSkub3B0aW9ucy5ncm91cC5uYW1lO1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IHRydWUgfHwgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiB2YWx1ZSA9PT0gb3RoZXJHcm91cCB8fCB2YWx1ZS5qb2luICYmIHZhbHVlLmluZGV4T2Yob3RoZXJHcm91cCkgPiAtMTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgdmFyIGdyb3VwID0ge307XG4gIHZhciBvcmlnaW5hbEdyb3VwID0gb3B0aW9ucy5ncm91cDtcblxuICBpZiAoIW9yaWdpbmFsR3JvdXAgfHwgX3R5cGVvZihvcmlnaW5hbEdyb3VwKSAhPSAnb2JqZWN0Jykge1xuICAgIG9yaWdpbmFsR3JvdXAgPSB7XG4gICAgICBuYW1lOiBvcmlnaW5hbEdyb3VwXG4gICAgfTtcbiAgfVxuXG4gIGdyb3VwLm5hbWUgPSBvcmlnaW5hbEdyb3VwLm5hbWU7XG4gIGdyb3VwLmNoZWNrUHVsbCA9IHRvRm4ob3JpZ2luYWxHcm91cC5wdWxsLCB0cnVlKTtcbiAgZ3JvdXAuY2hlY2tQdXQgPSB0b0ZuKG9yaWdpbmFsR3JvdXAucHV0KTtcbiAgZ3JvdXAucmV2ZXJ0Q2xvbmUgPSBvcmlnaW5hbEdyb3VwLnJldmVydENsb25lO1xuICBvcHRpb25zLmdyb3VwID0gZ3JvdXA7XG59LFxuICAgIF9oaWRlR2hvc3RGb3JUYXJnZXQgPSBmdW5jdGlvbiBfaGlkZUdob3N0Rm9yVGFyZ2V0KCkge1xuICBpZiAoIXN1cHBvcnRDc3NQb2ludGVyRXZlbnRzICYmIGdob3N0RWwpIHtcbiAgICBjc3MoZ2hvc3RFbCwgJ2Rpc3BsYXknLCAnbm9uZScpO1xuICB9XG59LFxuICAgIF91bmhpZGVHaG9zdEZvclRhcmdldCA9IGZ1bmN0aW9uIF91bmhpZGVHaG9zdEZvclRhcmdldCgpIHtcbiAgaWYgKCFzdXBwb3J0Q3NzUG9pbnRlckV2ZW50cyAmJiBnaG9zdEVsKSB7XG4gICAgY3NzKGdob3N0RWwsICdkaXNwbGF5JywgJycpO1xuICB9XG59OyAvLyAjMTE4NCBmaXggLSBQcmV2ZW50IGNsaWNrIGV2ZW50IG9uIGZhbGxiYWNrIGlmIGRyYWdnZWQgYnV0IGl0ZW0gbm90IGNoYW5nZWQgcG9zaXRpb25cblxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldnQpIHtcbiAgaWYgKGlnbm9yZU5leHRDbGljaykge1xuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGV2dC5zdG9wUHJvcGFnYXRpb24gJiYgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGV2dC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gJiYgZXZ0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgIGlnbm9yZU5leHRDbGljayA9IGZhbHNlO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSwgdHJ1ZSk7XG5cbnZhciBuZWFyZXN0RW1wdHlJbnNlcnREZXRlY3RFdmVudCA9IGZ1bmN0aW9uIG5lYXJlc3RFbXB0eUluc2VydERldGVjdEV2ZW50KGV2dCkge1xuICBpZiAoZHJhZ0VsKSB7XG4gICAgZXZ0ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXSA6IGV2dDtcblxuICAgIHZhciBuZWFyZXN0ID0gX2RldGVjdE5lYXJlc3RFbXB0eVNvcnRhYmxlKGV2dC5jbGllbnRYLCBldnQuY2xpZW50WSk7XG5cbiAgICBpZiAobmVhcmVzdCkge1xuICAgICAgLy8gQ3JlYXRlIGltaXRhdGlvbiBldmVudFxuICAgICAgdmFyIGV2ZW50ID0ge307XG5cbiAgICAgIGZvciAodmFyIGkgaW4gZXZ0KSB7XG4gICAgICAgIGlmIChldnQuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgICBldmVudFtpXSA9IGV2dFtpXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBldmVudC50YXJnZXQgPSBldmVudC5yb290RWwgPSBuZWFyZXN0O1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQgPSB2b2lkIDA7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24gPSB2b2lkIDA7XG5cbiAgICAgIG5lYXJlc3RbZXhwYW5kb10uX29uRHJhZ092ZXIoZXZlbnQpO1xuICAgIH1cbiAgfVxufTtcblxudmFyIF9jaGVja091dHNpZGVUYXJnZXRFbCA9IGZ1bmN0aW9uIF9jaGVja091dHNpZGVUYXJnZXRFbChldnQpIHtcbiAgaWYgKGRyYWdFbCkge1xuICAgIGRyYWdFbC5wYXJlbnROb2RlW2V4cGFuZG9dLl9pc091dHNpZGVUaGlzRWwoZXZ0LnRhcmdldCk7XG4gIH1cbn07XG4vKipcbiAqIEBjbGFzcyAgU29ydGFibGVcbiAqIEBwYXJhbSAge0hUTUxFbGVtZW50fSAgZWxcbiAqIEBwYXJhbSAge09iamVjdH0gICAgICAgW29wdGlvbnNdXG4gKi9cblxuXG5mdW5jdGlvbiBTb3J0YWJsZShlbCwgb3B0aW9ucykge1xuICBpZiAoIShlbCAmJiBlbC5ub2RlVHlwZSAmJiBlbC5ub2RlVHlwZSA9PT0gMSkpIHtcbiAgICB0aHJvdyBcIlNvcnRhYmxlOiBgZWxgIG11c3QgYmUgYW4gSFRNTEVsZW1lbnQsIG5vdCBcIi5jb25jYXQoe30udG9TdHJpbmcuY2FsbChlbCkpO1xuICB9XG5cbiAgdGhpcy5lbCA9IGVsOyAvLyByb290IGVsZW1lbnRcblxuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zID0gX2V4dGVuZHMoe30sIG9wdGlvbnMpOyAvLyBFeHBvcnQgaW5zdGFuY2VcblxuICBlbFtleHBhbmRvXSA9IHRoaXM7XG4gIHZhciBkZWZhdWx0cyA9IHtcbiAgICBncm91cDogbnVsbCxcbiAgICBzb3J0OiB0cnVlLFxuICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICBzdG9yZTogbnVsbCxcbiAgICBoYW5kbGU6IG51bGwsXG4gICAgZHJhZ2dhYmxlOiAvXlt1b11sJC9pLnRlc3QoZWwubm9kZU5hbWUpID8gJz5saScgOiAnPionLFxuICAgIHN3YXBUaHJlc2hvbGQ6IDEsXG4gICAgLy8gcGVyY2VudGFnZTsgMCA8PSB4IDw9IDFcbiAgICBpbnZlcnRTd2FwOiBmYWxzZSxcbiAgICAvLyBpbnZlcnQgYWx3YXlzXG4gICAgaW52ZXJ0ZWRTd2FwVGhyZXNob2xkOiBudWxsLFxuICAgIC8vIHdpbGwgYmUgc2V0IHRvIHNhbWUgYXMgc3dhcFRocmVzaG9sZCBpZiBkZWZhdWx0XG4gICAgcmVtb3ZlQ2xvbmVPbkhpZGU6IHRydWUsXG4gICAgZGlyZWN0aW9uOiBmdW5jdGlvbiBkaXJlY3Rpb24oKSB7XG4gICAgICByZXR1cm4gX2RldGVjdERpcmVjdGlvbihlbCwgdGhpcy5vcHRpb25zKTtcbiAgICB9LFxuICAgIGdob3N0Q2xhc3M6ICdzb3J0YWJsZS1naG9zdCcsXG4gICAgY2hvc2VuQ2xhc3M6ICdzb3J0YWJsZS1jaG9zZW4nLFxuICAgIGRyYWdDbGFzczogJ3NvcnRhYmxlLWRyYWcnLFxuICAgIGlnbm9yZTogJ2EsIGltZycsXG4gICAgZmlsdGVyOiBudWxsLFxuICAgIHByZXZlbnRPbkZpbHRlcjogdHJ1ZSxcbiAgICBhbmltYXRpb246IDAsXG4gICAgZWFzaW5nOiBudWxsLFxuICAgIHNldERhdGE6IGZ1bmN0aW9uIHNldERhdGEoZGF0YVRyYW5zZmVyLCBkcmFnRWwpIHtcbiAgICAgIGRhdGFUcmFuc2Zlci5zZXREYXRhKCdUZXh0JywgZHJhZ0VsLnRleHRDb250ZW50KTtcbiAgICB9LFxuICAgIGRyb3BCdWJibGU6IGZhbHNlLFxuICAgIGRyYWdvdmVyQnViYmxlOiBmYWxzZSxcbiAgICBkYXRhSWRBdHRyOiAnZGF0YS1pZCcsXG4gICAgZGVsYXk6IDAsXG4gICAgZGVsYXlPblRvdWNoT25seTogZmFsc2UsXG4gICAgdG91Y2hTdGFydFRocmVzaG9sZDogKE51bWJlci5wYXJzZUludCA/IE51bWJlciA6IHdpbmRvdykucGFyc2VJbnQod2luZG93LmRldmljZVBpeGVsUmF0aW8sIDEwKSB8fCAxLFxuICAgIGZvcmNlRmFsbGJhY2s6IGZhbHNlLFxuICAgIGZhbGxiYWNrQ2xhc3M6ICdzb3J0YWJsZS1mYWxsYmFjaycsXG4gICAgZmFsbGJhY2tPbkJvZHk6IGZhbHNlLFxuICAgIGZhbGxiYWNrVG9sZXJhbmNlOiAwLFxuICAgIGZhbGxiYWNrT2Zmc2V0OiB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMFxuICAgIH0sXG4gICAgc3VwcG9ydFBvaW50ZXI6IFNvcnRhYmxlLnN1cHBvcnRQb2ludGVyICE9PSBmYWxzZSAmJiAnUG9pbnRlckV2ZW50JyBpbiB3aW5kb3csXG4gICAgZW1wdHlJbnNlcnRUaHJlc2hvbGQ6IDVcbiAgfTtcbiAgUGx1Z2luTWFuYWdlci5pbml0aWFsaXplUGx1Z2lucyh0aGlzLCBlbCwgZGVmYXVsdHMpOyAvLyBTZXQgZGVmYXVsdCBvcHRpb25zXG5cbiAgZm9yICh2YXIgbmFtZSBpbiBkZWZhdWx0cykge1xuICAgICEobmFtZSBpbiBvcHRpb25zKSAmJiAob3B0aW9uc1tuYW1lXSA9IGRlZmF1bHRzW25hbWVdKTtcbiAgfVxuXG4gIF9wcmVwYXJlR3JvdXAob3B0aW9ucyk7IC8vIEJpbmQgYWxsIHByaXZhdGUgbWV0aG9kc1xuXG5cbiAgZm9yICh2YXIgZm4gaW4gdGhpcykge1xuICAgIGlmIChmbi5jaGFyQXQoMCkgPT09ICdfJyAmJiB0eXBlb2YgdGhpc1tmbl0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXNbZm5dID0gdGhpc1tmbl0uYmluZCh0aGlzKTtcbiAgICB9XG4gIH0gLy8gU2V0dXAgZHJhZyBtb2RlXG5cblxuICB0aGlzLm5hdGl2ZURyYWdnYWJsZSA9IG9wdGlvbnMuZm9yY2VGYWxsYmFjayA/IGZhbHNlIDogc3VwcG9ydERyYWdnYWJsZTtcblxuICBpZiAodGhpcy5uYXRpdmVEcmFnZ2FibGUpIHtcbiAgICAvLyBUb3VjaCBzdGFydCB0aHJlc2hvbGQgY2Fubm90IGJlIGdyZWF0ZXIgdGhhbiB0aGUgbmF0aXZlIGRyYWdzdGFydCB0aHJlc2hvbGRcbiAgICB0aGlzLm9wdGlvbnMudG91Y2hTdGFydFRocmVzaG9sZCA9IDE7XG4gIH0gLy8gQmluZCBldmVudHNcblxuXG4gIGlmIChvcHRpb25zLnN1cHBvcnRQb2ludGVyKSB7XG4gICAgb24oZWwsICdwb2ludGVyZG93bicsIHRoaXMuX29uVGFwU3RhcnQpO1xuICB9IGVsc2Uge1xuICAgIG9uKGVsLCAnbW91c2Vkb3duJywgdGhpcy5fb25UYXBTdGFydCk7XG4gICAgb24oZWwsICd0b3VjaHN0YXJ0JywgdGhpcy5fb25UYXBTdGFydCk7XG4gIH1cblxuICBpZiAodGhpcy5uYXRpdmVEcmFnZ2FibGUpIHtcbiAgICBvbihlbCwgJ2RyYWdvdmVyJywgdGhpcyk7XG4gICAgb24oZWwsICdkcmFnZW50ZXInLCB0aGlzKTtcbiAgfVxuXG4gIHNvcnRhYmxlcy5wdXNoKHRoaXMuZWwpOyAvLyBSZXN0b3JlIHNvcnRpbmdcblxuICBvcHRpb25zLnN0b3JlICYmIG9wdGlvbnMuc3RvcmUuZ2V0ICYmIHRoaXMuc29ydChvcHRpb25zLnN0b3JlLmdldCh0aGlzKSB8fCBbXSk7IC8vIEFkZCBhbmltYXRpb24gc3RhdGUgbWFuYWdlclxuXG4gIF9leHRlbmRzKHRoaXMsIEFuaW1hdGlvblN0YXRlTWFuYWdlcigpKTtcbn1cblxuU29ydGFibGUucHJvdG90eXBlID1cbi8qKiBAbGVuZHMgU29ydGFibGUucHJvdG90eXBlICovXG57XG4gIGNvbnN0cnVjdG9yOiBTb3J0YWJsZSxcbiAgX2lzT3V0c2lkZVRoaXNFbDogZnVuY3Rpb24gX2lzT3V0c2lkZVRoaXNFbCh0YXJnZXQpIHtcbiAgICBpZiAoIXRoaXMuZWwuY29udGFpbnModGFyZ2V0KSAmJiB0YXJnZXQgIT09IHRoaXMuZWwpIHtcbiAgICAgIGxhc3RUYXJnZXQgPSBudWxsO1xuICAgIH1cbiAgfSxcbiAgX2dldERpcmVjdGlvbjogZnVuY3Rpb24gX2dldERpcmVjdGlvbihldnQsIHRhcmdldCkge1xuICAgIHJldHVybiB0eXBlb2YgdGhpcy5vcHRpb25zLmRpcmVjdGlvbiA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMub3B0aW9ucy5kaXJlY3Rpb24uY2FsbCh0aGlzLCBldnQsIHRhcmdldCwgZHJhZ0VsKSA6IHRoaXMub3B0aW9ucy5kaXJlY3Rpb247XG4gIH0sXG4gIF9vblRhcFN0YXJ0OiBmdW5jdGlvbiBfb25UYXBTdGFydChcbiAgLyoqIEV2ZW50fFRvdWNoRXZlbnQgKi9cbiAgZXZ0KSB7XG4gICAgaWYgKCFldnQuY2FuY2VsYWJsZSkgcmV0dXJuO1xuXG4gICAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgICAgZWwgPSB0aGlzLmVsLFxuICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgICBwcmV2ZW50T25GaWx0ZXIgPSBvcHRpb25zLnByZXZlbnRPbkZpbHRlcixcbiAgICAgICAgdHlwZSA9IGV2dC50eXBlLFxuICAgICAgICB0b3VjaCA9IGV2dC50b3VjaGVzICYmIGV2dC50b3VjaGVzWzBdLFxuICAgICAgICB0YXJnZXQgPSAodG91Y2ggfHwgZXZ0KS50YXJnZXQsXG4gICAgICAgIG9yaWdpbmFsVGFyZ2V0ID0gZXZ0LnRhcmdldC5zaGFkb3dSb290ICYmIChldnQucGF0aCAmJiBldnQucGF0aFswXSB8fCBldnQuY29tcG9zZWRQYXRoICYmIGV2dC5jb21wb3NlZFBhdGgoKVswXSkgfHwgdGFyZ2V0LFxuICAgICAgICBmaWx0ZXIgPSBvcHRpb25zLmZpbHRlcjtcblxuICAgIF9zYXZlSW5wdXRDaGVja2VkU3RhdGUoZWwpOyAvLyBEb24ndCB0cmlnZ2VyIHN0YXJ0IGV2ZW50IHdoZW4gYW4gZWxlbWVudCBpcyBiZWVuIGRyYWdnZWQsIG90aGVyd2lzZSB0aGUgZXZ0Lm9sZGluZGV4IGFsd2F5cyB3cm9uZyB3aGVuIHNldCBvcHRpb24uZ3JvdXAuXG5cblxuICAgIGlmIChkcmFnRWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoL21vdXNlZG93bnxwb2ludGVyZG93bi8udGVzdCh0eXBlKSAmJiBldnQuYnV0dG9uICE9PSAwIHx8IG9wdGlvbnMuZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybjsgLy8gb25seSBsZWZ0IGJ1dHRvbiBhbmQgZW5hYmxlZFxuICAgIH0gLy8gY2FuY2VsIGRuZCBpZiBvcmlnaW5hbCB0YXJnZXQgaXMgY29udGVudCBlZGl0YWJsZVxuXG5cbiAgICBpZiAob3JpZ2luYWxUYXJnZXQuaXNDb250ZW50RWRpdGFibGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0YXJnZXQgPSBjbG9zZXN0KHRhcmdldCwgb3B0aW9ucy5kcmFnZ2FibGUsIGVsLCBmYWxzZSk7XG5cbiAgICBpZiAodGFyZ2V0ICYmIHRhcmdldC5hbmltYXRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChsYXN0RG93bkVsID09PSB0YXJnZXQpIHtcbiAgICAgIC8vIElnbm9yaW5nIGR1cGxpY2F0ZSBgZG93bmBcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIEdldCB0aGUgaW5kZXggb2YgdGhlIGRyYWdnZWQgZWxlbWVudCB3aXRoaW4gaXRzIHBhcmVudFxuXG5cbiAgICBvbGRJbmRleCA9IGluZGV4KHRhcmdldCk7XG4gICAgb2xkRHJhZ2dhYmxlSW5kZXggPSBpbmRleCh0YXJnZXQsIG9wdGlvbnMuZHJhZ2dhYmxlKTsgLy8gQ2hlY2sgZmlsdGVyXG5cbiAgICBpZiAodHlwZW9mIGZpbHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaWYgKGZpbHRlci5jYWxsKHRoaXMsIGV2dCwgdGFyZ2V0LCB0aGlzKSkge1xuICAgICAgICBfZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgc29ydGFibGU6IF90aGlzLFxuICAgICAgICAgIHJvb3RFbDogb3JpZ2luYWxUYXJnZXQsXG4gICAgICAgICAgbmFtZTogJ2ZpbHRlcicsXG4gICAgICAgICAgdGFyZ2V0RWw6IHRhcmdldCxcbiAgICAgICAgICB0b0VsOiBlbCxcbiAgICAgICAgICBmcm9tRWw6IGVsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHBsdWdpbkV2ZW50KCdmaWx0ZXInLCBfdGhpcywge1xuICAgICAgICAgIGV2dDogZXZ0XG4gICAgICAgIH0pO1xuICAgICAgICBwcmV2ZW50T25GaWx0ZXIgJiYgZXZ0LmNhbmNlbGFibGUgJiYgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjsgLy8gY2FuY2VsIGRuZFxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZmlsdGVyKSB7XG4gICAgICBmaWx0ZXIgPSBmaWx0ZXIuc3BsaXQoJywnKS5zb21lKGZ1bmN0aW9uIChjcml0ZXJpYSkge1xuICAgICAgICBjcml0ZXJpYSA9IGNsb3Nlc3Qob3JpZ2luYWxUYXJnZXQsIGNyaXRlcmlhLnRyaW0oKSwgZWwsIGZhbHNlKTtcblxuICAgICAgICBpZiAoY3JpdGVyaWEpIHtcbiAgICAgICAgICBfZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgICBzb3J0YWJsZTogX3RoaXMsXG4gICAgICAgICAgICByb290RWw6IGNyaXRlcmlhLFxuICAgICAgICAgICAgbmFtZTogJ2ZpbHRlcicsXG4gICAgICAgICAgICB0YXJnZXRFbDogdGFyZ2V0LFxuICAgICAgICAgICAgZnJvbUVsOiBlbCxcbiAgICAgICAgICAgIHRvRWw6IGVsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBwbHVnaW5FdmVudCgnZmlsdGVyJywgX3RoaXMsIHtcbiAgICAgICAgICAgIGV2dDogZXZ0XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoZmlsdGVyKSB7XG4gICAgICAgIHByZXZlbnRPbkZpbHRlciAmJiBldnQuY2FuY2VsYWJsZSAmJiBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuOyAvLyBjYW5jZWwgZG5kXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuaGFuZGxlICYmICFjbG9zZXN0KG9yaWdpbmFsVGFyZ2V0LCBvcHRpb25zLmhhbmRsZSwgZWwsIGZhbHNlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gUHJlcGFyZSBgZHJhZ3N0YXJ0YFxuXG5cbiAgICB0aGlzLl9wcmVwYXJlRHJhZ1N0YXJ0KGV2dCwgdG91Y2gsIHRhcmdldCk7XG4gIH0sXG4gIF9wcmVwYXJlRHJhZ1N0YXJ0OiBmdW5jdGlvbiBfcHJlcGFyZURyYWdTdGFydChcbiAgLyoqIEV2ZW50ICovXG4gIGV2dCxcbiAgLyoqIFRvdWNoICovXG4gIHRvdWNoLFxuICAvKiogSFRNTEVsZW1lbnQgKi9cbiAgdGFyZ2V0KSB7XG4gICAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgICAgZWwgPSBfdGhpcy5lbCxcbiAgICAgICAgb3B0aW9ucyA9IF90aGlzLm9wdGlvbnMsXG4gICAgICAgIG93bmVyRG9jdW1lbnQgPSBlbC5vd25lckRvY3VtZW50LFxuICAgICAgICBkcmFnU3RhcnRGbjtcblxuICAgIGlmICh0YXJnZXQgJiYgIWRyYWdFbCAmJiB0YXJnZXQucGFyZW50Tm9kZSA9PT0gZWwpIHtcbiAgICAgIHJvb3RFbCA9IGVsO1xuICAgICAgZHJhZ0VsID0gdGFyZ2V0O1xuICAgICAgcGFyZW50RWwgPSBkcmFnRWwucGFyZW50Tm9kZTtcbiAgICAgIG5leHRFbCA9IGRyYWdFbC5uZXh0U2libGluZztcbiAgICAgIGxhc3REb3duRWwgPSB0YXJnZXQ7XG4gICAgICBhY3RpdmVHcm91cCA9IG9wdGlvbnMuZ3JvdXA7XG4gICAgICBTb3J0YWJsZS5kcmFnZ2VkID0gZHJhZ0VsO1xuICAgICAgdGFwRXZ0ID0ge1xuICAgICAgICB0YXJnZXQ6IGRyYWdFbCxcbiAgICAgICAgY2xpZW50WDogKHRvdWNoIHx8IGV2dCkuY2xpZW50WCxcbiAgICAgICAgY2xpZW50WTogKHRvdWNoIHx8IGV2dCkuY2xpZW50WVxuICAgICAgfTtcbiAgICAgIHRoaXMuX2xhc3RYID0gKHRvdWNoIHx8IGV2dCkuY2xpZW50WDtcbiAgICAgIHRoaXMuX2xhc3RZID0gKHRvdWNoIHx8IGV2dCkuY2xpZW50WTtcbiAgICAgIGRyYWdFbC5zdHlsZVsnd2lsbC1jaGFuZ2UnXSA9ICdhbGwnO1xuXG4gICAgICBkcmFnU3RhcnRGbiA9IGZ1bmN0aW9uIGRyYWdTdGFydEZuKCkge1xuICAgICAgICBwbHVnaW5FdmVudCgnZGVsYXlFbmRlZCcsIF90aGlzLCB7XG4gICAgICAgICAgZXZ0OiBldnRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKFNvcnRhYmxlLmV2ZW50Q2FuY2VsZWQpIHtcbiAgICAgICAgICBfdGhpcy5fb25Ecm9wKCk7XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gLy8gRGVsYXllZCBkcmFnIGhhcyBiZWVuIHRyaWdnZXJlZFxuICAgICAgICAvLyB3ZSBjYW4gcmUtZW5hYmxlIHRoZSBldmVudHM6IHRvdWNobW92ZS9tb3VzZW1vdmVcblxuXG4gICAgICAgIF90aGlzLl9kaXNhYmxlRGVsYXllZERyYWdFdmVudHMoKTtcblxuICAgICAgICBpZiAoIUZpcmVGb3ggJiYgX3RoaXMubmF0aXZlRHJhZ2dhYmxlKSB7XG4gICAgICAgICAgZHJhZ0VsLmRyYWdnYWJsZSA9IHRydWU7XG4gICAgICAgIH0gLy8gQmluZCB0aGUgZXZlbnRzOiBkcmFnc3RhcnQvZHJhZ2VuZFxuXG5cbiAgICAgICAgX3RoaXMuX3RyaWdnZXJEcmFnU3RhcnQoZXZ0LCB0b3VjaCk7IC8vIERyYWcgc3RhcnQgZXZlbnRcblxuXG4gICAgICAgIF9kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICBzb3J0YWJsZTogX3RoaXMsXG4gICAgICAgICAgbmFtZTogJ2Nob29zZScsXG4gICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZ0XG4gICAgICAgIH0pOyAvLyBDaG9zZW4gaXRlbVxuXG5cbiAgICAgICAgdG9nZ2xlQ2xhc3MoZHJhZ0VsLCBvcHRpb25zLmNob3NlbkNsYXNzLCB0cnVlKTtcbiAgICAgIH07IC8vIERpc2FibGUgXCJkcmFnZ2FibGVcIlxuXG5cbiAgICAgIG9wdGlvbnMuaWdub3JlLnNwbGl0KCcsJykuZm9yRWFjaChmdW5jdGlvbiAoY3JpdGVyaWEpIHtcbiAgICAgICAgZmluZChkcmFnRWwsIGNyaXRlcmlhLnRyaW0oKSwgX2Rpc2FibGVEcmFnZ2FibGUpO1xuICAgICAgfSk7XG4gICAgICBvbihvd25lckRvY3VtZW50LCAnZHJhZ292ZXInLCBuZWFyZXN0RW1wdHlJbnNlcnREZXRlY3RFdmVudCk7XG4gICAgICBvbihvd25lckRvY3VtZW50LCAnbW91c2Vtb3ZlJywgbmVhcmVzdEVtcHR5SW5zZXJ0RGV0ZWN0RXZlbnQpO1xuICAgICAgb24ob3duZXJEb2N1bWVudCwgJ3RvdWNobW92ZScsIG5lYXJlc3RFbXB0eUluc2VydERldGVjdEV2ZW50KTtcbiAgICAgIG9uKG93bmVyRG9jdW1lbnQsICdtb3VzZXVwJywgX3RoaXMuX29uRHJvcCk7XG4gICAgICBvbihvd25lckRvY3VtZW50LCAndG91Y2hlbmQnLCBfdGhpcy5fb25Ecm9wKTtcbiAgICAgIG9uKG93bmVyRG9jdW1lbnQsICd0b3VjaGNhbmNlbCcsIF90aGlzLl9vbkRyb3ApOyAvLyBNYWtlIGRyYWdFbCBkcmFnZ2FibGUgKG11c3QgYmUgYmVmb3JlIGRlbGF5IGZvciBGaXJlRm94KVxuXG4gICAgICBpZiAoRmlyZUZveCAmJiB0aGlzLm5hdGl2ZURyYWdnYWJsZSkge1xuICAgICAgICB0aGlzLm9wdGlvbnMudG91Y2hTdGFydFRocmVzaG9sZCA9IDQ7XG4gICAgICAgIGRyYWdFbC5kcmFnZ2FibGUgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBwbHVnaW5FdmVudCgnZGVsYXlTdGFydCcsIHRoaXMsIHtcbiAgICAgICAgZXZ0OiBldnRcbiAgICAgIH0pOyAvLyBEZWxheSBpcyBpbXBvc3NpYmxlIGZvciBuYXRpdmUgRG5EIGluIEVkZ2Ugb3IgSUVcblxuICAgICAgaWYgKG9wdGlvbnMuZGVsYXkgJiYgKCFvcHRpb25zLmRlbGF5T25Ub3VjaE9ubHkgfHwgdG91Y2gpICYmICghdGhpcy5uYXRpdmVEcmFnZ2FibGUgfHwgIShFZGdlIHx8IElFMTFPckxlc3MpKSkge1xuICAgICAgICBpZiAoU29ydGFibGUuZXZlbnRDYW5jZWxlZCkge1xuICAgICAgICAgIHRoaXMuX29uRHJvcCgpO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IC8vIElmIHRoZSB1c2VyIG1vdmVzIHRoZSBwb2ludGVyIG9yIGxldCBnbyB0aGUgY2xpY2sgb3IgdG91Y2hcbiAgICAgICAgLy8gYmVmb3JlIHRoZSBkZWxheSBoYXMgYmVlbiByZWFjaGVkOlxuICAgICAgICAvLyBkaXNhYmxlIHRoZSBkZWxheWVkIGRyYWdcblxuXG4gICAgICAgIG9uKG93bmVyRG9jdW1lbnQsICdtb3VzZXVwJywgX3RoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG4gICAgICAgIG9uKG93bmVyRG9jdW1lbnQsICd0b3VjaGVuZCcsIF90aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuICAgICAgICBvbihvd25lckRvY3VtZW50LCAndG91Y2hjYW5jZWwnLCBfdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcbiAgICAgICAgb24ob3duZXJEb2N1bWVudCwgJ21vdXNlbW92ZScsIF90aGlzLl9kZWxheWVkRHJhZ1RvdWNoTW92ZUhhbmRsZXIpO1xuICAgICAgICBvbihvd25lckRvY3VtZW50LCAndG91Y2htb3ZlJywgX3RoaXMuX2RlbGF5ZWREcmFnVG91Y2hNb3ZlSGFuZGxlcik7XG4gICAgICAgIG9wdGlvbnMuc3VwcG9ydFBvaW50ZXIgJiYgb24ob3duZXJEb2N1bWVudCwgJ3BvaW50ZXJtb3ZlJywgX3RoaXMuX2RlbGF5ZWREcmFnVG91Y2hNb3ZlSGFuZGxlcik7XG4gICAgICAgIF90aGlzLl9kcmFnU3RhcnRUaW1lciA9IHNldFRpbWVvdXQoZHJhZ1N0YXJ0Rm4sIG9wdGlvbnMuZGVsYXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZHJhZ1N0YXJ0Rm4oKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIF9kZWxheWVkRHJhZ1RvdWNoTW92ZUhhbmRsZXI6IGZ1bmN0aW9uIF9kZWxheWVkRHJhZ1RvdWNoTW92ZUhhbmRsZXIoXG4gIC8qKiBUb3VjaEV2ZW50fFBvaW50ZXJFdmVudCAqKi9cbiAgZSkge1xuICAgIHZhciB0b3VjaCA9IGUudG91Y2hlcyA/IGUudG91Y2hlc1swXSA6IGU7XG5cbiAgICBpZiAoTWF0aC5tYXgoTWF0aC5hYnModG91Y2guY2xpZW50WCAtIHRoaXMuX2xhc3RYKSwgTWF0aC5hYnModG91Y2guY2xpZW50WSAtIHRoaXMuX2xhc3RZKSkgPj0gTWF0aC5mbG9vcih0aGlzLm9wdGlvbnMudG91Y2hTdGFydFRocmVzaG9sZCAvICh0aGlzLm5hdGl2ZURyYWdnYWJsZSAmJiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxKSkpIHtcbiAgICAgIHRoaXMuX2Rpc2FibGVEZWxheWVkRHJhZygpO1xuICAgIH1cbiAgfSxcbiAgX2Rpc2FibGVEZWxheWVkRHJhZzogZnVuY3Rpb24gX2Rpc2FibGVEZWxheWVkRHJhZygpIHtcbiAgICBkcmFnRWwgJiYgX2Rpc2FibGVEcmFnZ2FibGUoZHJhZ0VsKTtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5fZHJhZ1N0YXJ0VGltZXIpO1xuXG4gICAgdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnRXZlbnRzKCk7XG4gIH0sXG4gIF9kaXNhYmxlRGVsYXllZERyYWdFdmVudHM6IGZ1bmN0aW9uIF9kaXNhYmxlRGVsYXllZERyYWdFdmVudHMoKSB7XG4gICAgdmFyIG93bmVyRG9jdW1lbnQgPSB0aGlzLmVsLm93bmVyRG9jdW1lbnQ7XG4gICAgb2ZmKG93bmVyRG9jdW1lbnQsICdtb3VzZXVwJywgdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcbiAgICBvZmYob3duZXJEb2N1bWVudCwgJ3RvdWNoZW5kJywgdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcbiAgICBvZmYob3duZXJEb2N1bWVudCwgJ3RvdWNoY2FuY2VsJywgdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcbiAgICBvZmYob3duZXJEb2N1bWVudCwgJ21vdXNlbW92ZScsIHRoaXMuX2RlbGF5ZWREcmFnVG91Y2hNb3ZlSGFuZGxlcik7XG4gICAgb2ZmKG93bmVyRG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLl9kZWxheWVkRHJhZ1RvdWNoTW92ZUhhbmRsZXIpO1xuICAgIG9mZihvd25lckRvY3VtZW50LCAncG9pbnRlcm1vdmUnLCB0aGlzLl9kZWxheWVkRHJhZ1RvdWNoTW92ZUhhbmRsZXIpO1xuICB9LFxuICBfdHJpZ2dlckRyYWdTdGFydDogZnVuY3Rpb24gX3RyaWdnZXJEcmFnU3RhcnQoXG4gIC8qKiBFdmVudCAqL1xuICBldnQsXG4gIC8qKiBUb3VjaCAqL1xuICB0b3VjaCkge1xuICAgIHRvdWNoID0gdG91Y2ggfHwgZXZ0LnBvaW50ZXJUeXBlID09ICd0b3VjaCcgJiYgZXZ0O1xuXG4gICAgaWYgKCF0aGlzLm5hdGl2ZURyYWdnYWJsZSB8fCB0b3VjaCkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5zdXBwb3J0UG9pbnRlcikge1xuICAgICAgICBvbihkb2N1bWVudCwgJ3BvaW50ZXJtb3ZlJywgdGhpcy5fb25Ub3VjaE1vdmUpO1xuICAgICAgfSBlbHNlIGlmICh0b3VjaCkge1xuICAgICAgICBvbihkb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX29uVG91Y2hNb3ZlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9uKGRvY3VtZW50LCAnbW91c2Vtb3ZlJywgdGhpcy5fb25Ub3VjaE1vdmUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBvbihkcmFnRWwsICdkcmFnZW5kJywgdGhpcyk7XG4gICAgICBvbihyb290RWwsICdkcmFnc3RhcnQnLCB0aGlzLl9vbkRyYWdTdGFydCk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGlmIChkb2N1bWVudC5zZWxlY3Rpb24pIHtcbiAgICAgICAgLy8gVGltZW91dCBuZWNjZXNzYXJ5IGZvciBJRTlcbiAgICAgICAgX25leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBkb2N1bWVudC5zZWxlY3Rpb24uZW1wdHkoKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7fVxuICB9LFxuICBfZHJhZ1N0YXJ0ZWQ6IGZ1bmN0aW9uIF9kcmFnU3RhcnRlZChmYWxsYmFjaywgZXZ0KSB7XG5cbiAgICBhd2FpdGluZ0RyYWdTdGFydGVkID0gZmFsc2U7XG5cbiAgICBpZiAocm9vdEVsICYmIGRyYWdFbCkge1xuICAgICAgcGx1Z2luRXZlbnQoJ2RyYWdTdGFydGVkJywgdGhpcywge1xuICAgICAgICBldnQ6IGV2dFxuICAgICAgfSk7XG5cbiAgICAgIGlmICh0aGlzLm5hdGl2ZURyYWdnYWJsZSkge1xuICAgICAgICBvbihkb2N1bWVudCwgJ2RyYWdvdmVyJywgX2NoZWNrT3V0c2lkZVRhcmdldEVsKTtcbiAgICAgIH1cblxuICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7IC8vIEFwcGx5IGVmZmVjdFxuXG4gICAgICAhZmFsbGJhY2sgJiYgdG9nZ2xlQ2xhc3MoZHJhZ0VsLCBvcHRpb25zLmRyYWdDbGFzcywgZmFsc2UpO1xuICAgICAgdG9nZ2xlQ2xhc3MoZHJhZ0VsLCBvcHRpb25zLmdob3N0Q2xhc3MsIHRydWUpO1xuICAgICAgU29ydGFibGUuYWN0aXZlID0gdGhpcztcbiAgICAgIGZhbGxiYWNrICYmIHRoaXMuX2FwcGVuZEdob3N0KCk7IC8vIERyYWcgc3RhcnQgZXZlbnRcblxuICAgICAgX2Rpc3BhdGNoRXZlbnQoe1xuICAgICAgICBzb3J0YWJsZTogdGhpcyxcbiAgICAgICAgbmFtZTogJ3N0YXJ0JyxcbiAgICAgICAgb3JpZ2luYWxFdmVudDogZXZ0XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbnVsbGluZygpO1xuICAgIH1cbiAgfSxcbiAgX2VtdWxhdGVEcmFnT3ZlcjogZnVuY3Rpb24gX2VtdWxhdGVEcmFnT3ZlcigpIHtcbiAgICBpZiAodG91Y2hFdnQpIHtcbiAgICAgIHRoaXMuX2xhc3RYID0gdG91Y2hFdnQuY2xpZW50WDtcbiAgICAgIHRoaXMuX2xhc3RZID0gdG91Y2hFdnQuY2xpZW50WTtcblxuICAgICAgX2hpZGVHaG9zdEZvclRhcmdldCgpO1xuXG4gICAgICB2YXIgdGFyZ2V0ID0gZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludCh0b3VjaEV2dC5jbGllbnRYLCB0b3VjaEV2dC5jbGllbnRZKTtcbiAgICAgIHZhciBwYXJlbnQgPSB0YXJnZXQ7XG5cbiAgICAgIHdoaWxlICh0YXJnZXQgJiYgdGFyZ2V0LnNoYWRvd1Jvb3QpIHtcbiAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnNoYWRvd1Jvb3QuZWxlbWVudEZyb21Qb2ludCh0b3VjaEV2dC5jbGllbnRYLCB0b3VjaEV2dC5jbGllbnRZKTtcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gcGFyZW50KSBicmVhaztcbiAgICAgICAgcGFyZW50ID0gdGFyZ2V0O1xuICAgICAgfVxuXG4gICAgICBkcmFnRWwucGFyZW50Tm9kZVtleHBhbmRvXS5faXNPdXRzaWRlVGhpc0VsKHRhcmdldCk7XG5cbiAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIGlmIChwYXJlbnRbZXhwYW5kb10pIHtcbiAgICAgICAgICAgIHZhciBpbnNlcnRlZCA9IHZvaWQgMDtcbiAgICAgICAgICAgIGluc2VydGVkID0gcGFyZW50W2V4cGFuZG9dLl9vbkRyYWdPdmVyKHtcbiAgICAgICAgICAgICAgY2xpZW50WDogdG91Y2hFdnQuY2xpZW50WCxcbiAgICAgICAgICAgICAgY2xpZW50WTogdG91Y2hFdnQuY2xpZW50WSxcbiAgICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICAgICAgICAgIHJvb3RFbDogcGFyZW50XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKGluc2VydGVkICYmICF0aGlzLm9wdGlvbnMuZHJhZ292ZXJCdWJibGUpIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGFyZ2V0ID0gcGFyZW50OyAvLyBzdG9yZSBsYXN0IGVsZW1lbnRcbiAgICAgICAgfVxuICAgICAgICAvKiBqc2hpbnQgYm9zczp0cnVlICovXG4gICAgICAgIHdoaWxlIChwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZSk7XG4gICAgICB9XG5cbiAgICAgIF91bmhpZGVHaG9zdEZvclRhcmdldCgpO1xuICAgIH1cbiAgfSxcbiAgX29uVG91Y2hNb3ZlOiBmdW5jdGlvbiBfb25Ub3VjaE1vdmUoXG4gIC8qKlRvdWNoRXZlbnQqL1xuICBldnQpIHtcbiAgICBpZiAodGFwRXZ0KSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICBmYWxsYmFja1RvbGVyYW5jZSA9IG9wdGlvbnMuZmFsbGJhY2tUb2xlcmFuY2UsXG4gICAgICAgICAgZmFsbGJhY2tPZmZzZXQgPSBvcHRpb25zLmZhbGxiYWNrT2Zmc2V0LFxuICAgICAgICAgIHRvdWNoID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXSA6IGV2dCxcbiAgICAgICAgICBnaG9zdE1hdHJpeCA9IGdob3N0RWwgJiYgbWF0cml4KGdob3N0RWwpLFxuICAgICAgICAgIHNjYWxlWCA9IGdob3N0RWwgJiYgZ2hvc3RNYXRyaXggJiYgZ2hvc3RNYXRyaXguYSxcbiAgICAgICAgICBzY2FsZVkgPSBnaG9zdEVsICYmIGdob3N0TWF0cml4ICYmIGdob3N0TWF0cml4LmQsXG4gICAgICAgICAgcmVsYXRpdmVTY3JvbGxPZmZzZXQgPSBQb3NpdGlvbkdob3N0QWJzb2x1dGVseSAmJiBnaG9zdFJlbGF0aXZlUGFyZW50ICYmIGdldFJlbGF0aXZlU2Nyb2xsT2Zmc2V0KGdob3N0UmVsYXRpdmVQYXJlbnQpLFxuICAgICAgICAgIGR4ID0gKHRvdWNoLmNsaWVudFggLSB0YXBFdnQuY2xpZW50WCArIGZhbGxiYWNrT2Zmc2V0LngpIC8gKHNjYWxlWCB8fCAxKSArIChyZWxhdGl2ZVNjcm9sbE9mZnNldCA/IHJlbGF0aXZlU2Nyb2xsT2Zmc2V0WzBdIC0gZ2hvc3RSZWxhdGl2ZVBhcmVudEluaXRpYWxTY3JvbGxbMF0gOiAwKSAvIChzY2FsZVggfHwgMSksXG4gICAgICAgICAgZHkgPSAodG91Y2guY2xpZW50WSAtIHRhcEV2dC5jbGllbnRZICsgZmFsbGJhY2tPZmZzZXQueSkgLyAoc2NhbGVZIHx8IDEpICsgKHJlbGF0aXZlU2Nyb2xsT2Zmc2V0ID8gcmVsYXRpdmVTY3JvbGxPZmZzZXRbMV0gLSBnaG9zdFJlbGF0aXZlUGFyZW50SW5pdGlhbFNjcm9sbFsxXSA6IDApIC8gKHNjYWxlWSB8fCAxKSxcbiAgICAgICAgICB0cmFuc2xhdGUzZCA9IGV2dC50b3VjaGVzID8gJ3RyYW5zbGF0ZTNkKCcgKyBkeCArICdweCwnICsgZHkgKyAncHgsMCknIDogJ3RyYW5zbGF0ZSgnICsgZHggKyAncHgsJyArIGR5ICsgJ3B4KSc7IC8vIG9ubHkgc2V0IHRoZSBzdGF0dXMgdG8gZHJhZ2dpbmcsIHdoZW4gd2UgYXJlIGFjdHVhbGx5IGRyYWdnaW5nXG5cbiAgICAgIGlmICghU29ydGFibGUuYWN0aXZlICYmICFhd2FpdGluZ0RyYWdTdGFydGVkKSB7XG4gICAgICAgIGlmIChmYWxsYmFja1RvbGVyYW5jZSAmJiBNYXRoLm1heChNYXRoLmFicyh0b3VjaC5jbGllbnRYIC0gdGhpcy5fbGFzdFgpLCBNYXRoLmFicyh0b3VjaC5jbGllbnRZIC0gdGhpcy5fbGFzdFkpKSA8IGZhbGxiYWNrVG9sZXJhbmNlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fb25EcmFnU3RhcnQoZXZ0LCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgdG91Y2hFdnQgPSB0b3VjaDtcbiAgICAgIGNzcyhnaG9zdEVsLCAnd2Via2l0VHJhbnNmb3JtJywgdHJhbnNsYXRlM2QpO1xuICAgICAgY3NzKGdob3N0RWwsICdtb3pUcmFuc2Zvcm0nLCB0cmFuc2xhdGUzZCk7XG4gICAgICBjc3MoZ2hvc3RFbCwgJ21zVHJhbnNmb3JtJywgdHJhbnNsYXRlM2QpO1xuICAgICAgY3NzKGdob3N0RWwsICd0cmFuc2Zvcm0nLCB0cmFuc2xhdGUzZCk7XG4gICAgICBldnQuY2FuY2VsYWJsZSAmJiBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH0sXG4gIF9hcHBlbmRHaG9zdDogZnVuY3Rpb24gX2FwcGVuZEdob3N0KCkge1xuICAgIC8vIEJ1ZyBpZiB1c2luZyBzY2FsZSgpOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yNjM3MDU4XG4gICAgLy8gTm90IGJlaW5nIGFkanVzdGVkIGZvclxuICAgIGlmICghZ2hvc3RFbCkge1xuICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMub3B0aW9ucy5mYWxsYmFja09uQm9keSA/IGRvY3VtZW50LmJvZHkgOiByb290RWwsXG4gICAgICAgICAgcmVjdCA9IGdldFJlY3QoZHJhZ0VsLCB0cnVlLCBQb3NpdGlvbkdob3N0QWJzb2x1dGVseSwgdHJ1ZSwgY29udGFpbmVyKSxcbiAgICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zOyAvLyBQb3NpdGlvbiBhYnNvbHV0ZWx5XG5cbiAgICAgIGlmIChQb3NpdGlvbkdob3N0QWJzb2x1dGVseSkge1xuICAgICAgICAvLyBHZXQgcmVsYXRpdmVseSBwb3NpdGlvbmVkIHBhcmVudFxuICAgICAgICBnaG9zdFJlbGF0aXZlUGFyZW50ID0gY29udGFpbmVyO1xuXG4gICAgICAgIHdoaWxlIChjc3MoZ2hvc3RSZWxhdGl2ZVBhcmVudCwgJ3Bvc2l0aW9uJykgPT09ICdzdGF0aWMnICYmIGNzcyhnaG9zdFJlbGF0aXZlUGFyZW50LCAndHJhbnNmb3JtJykgPT09ICdub25lJyAmJiBnaG9zdFJlbGF0aXZlUGFyZW50ICE9PSBkb2N1bWVudCkge1xuICAgICAgICAgIGdob3N0UmVsYXRpdmVQYXJlbnQgPSBnaG9zdFJlbGF0aXZlUGFyZW50LnBhcmVudE5vZGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ2hvc3RSZWxhdGl2ZVBhcmVudCAhPT0gZG9jdW1lbnQuYm9keSAmJiBnaG9zdFJlbGF0aXZlUGFyZW50ICE9PSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHtcbiAgICAgICAgICBpZiAoZ2hvc3RSZWxhdGl2ZVBhcmVudCA9PT0gZG9jdW1lbnQpIGdob3N0UmVsYXRpdmVQYXJlbnQgPSBnZXRXaW5kb3dTY3JvbGxpbmdFbGVtZW50KCk7XG4gICAgICAgICAgcmVjdC50b3AgKz0gZ2hvc3RSZWxhdGl2ZVBhcmVudC5zY3JvbGxUb3A7XG4gICAgICAgICAgcmVjdC5sZWZ0ICs9IGdob3N0UmVsYXRpdmVQYXJlbnQuc2Nyb2xsTGVmdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBnaG9zdFJlbGF0aXZlUGFyZW50ID0gZ2V0V2luZG93U2Nyb2xsaW5nRWxlbWVudCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2hvc3RSZWxhdGl2ZVBhcmVudEluaXRpYWxTY3JvbGwgPSBnZXRSZWxhdGl2ZVNjcm9sbE9mZnNldChnaG9zdFJlbGF0aXZlUGFyZW50KTtcbiAgICAgIH1cblxuICAgICAgZ2hvc3RFbCA9IGRyYWdFbC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICB0b2dnbGVDbGFzcyhnaG9zdEVsLCBvcHRpb25zLmdob3N0Q2xhc3MsIGZhbHNlKTtcbiAgICAgIHRvZ2dsZUNsYXNzKGdob3N0RWwsIG9wdGlvbnMuZmFsbGJhY2tDbGFzcywgdHJ1ZSk7XG4gICAgICB0b2dnbGVDbGFzcyhnaG9zdEVsLCBvcHRpb25zLmRyYWdDbGFzcywgdHJ1ZSk7XG4gICAgICBjc3MoZ2hvc3RFbCwgJ3RyYW5zaXRpb24nLCAnJyk7XG4gICAgICBjc3MoZ2hvc3RFbCwgJ3RyYW5zZm9ybScsICcnKTtcbiAgICAgIGNzcyhnaG9zdEVsLCAnYm94LXNpemluZycsICdib3JkZXItYm94Jyk7XG4gICAgICBjc3MoZ2hvc3RFbCwgJ21hcmdpbicsIDApO1xuICAgICAgY3NzKGdob3N0RWwsICd0b3AnLCByZWN0LnRvcCk7XG4gICAgICBjc3MoZ2hvc3RFbCwgJ2xlZnQnLCByZWN0LmxlZnQpO1xuICAgICAgY3NzKGdob3N0RWwsICd3aWR0aCcsIHJlY3Qud2lkdGgpO1xuICAgICAgY3NzKGdob3N0RWwsICdoZWlnaHQnLCByZWN0LmhlaWdodCk7XG4gICAgICBjc3MoZ2hvc3RFbCwgJ29wYWNpdHknLCAnMC44Jyk7XG4gICAgICBjc3MoZ2hvc3RFbCwgJ3Bvc2l0aW9uJywgUG9zaXRpb25HaG9zdEFic29sdXRlbHkgPyAnYWJzb2x1dGUnIDogJ2ZpeGVkJyk7XG4gICAgICBjc3MoZ2hvc3RFbCwgJ3pJbmRleCcsICcxMDAwMDAnKTtcbiAgICAgIGNzcyhnaG9zdEVsLCAncG9pbnRlckV2ZW50cycsICdub25lJyk7XG4gICAgICBTb3J0YWJsZS5naG9zdCA9IGdob3N0RWw7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZ2hvc3RFbCk7XG4gICAgfVxuICB9LFxuICBfb25EcmFnU3RhcnQ6IGZ1bmN0aW9uIF9vbkRyYWdTdGFydChcbiAgLyoqRXZlbnQqL1xuICBldnQsXG4gIC8qKmJvb2xlYW4qL1xuICBmYWxsYmFjaykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgZGF0YVRyYW5zZmVyID0gZXZ0LmRhdGFUcmFuc2ZlcjtcbiAgICB2YXIgb3B0aW9ucyA9IF90aGlzLm9wdGlvbnM7XG4gICAgcGx1Z2luRXZlbnQoJ2RyYWdTdGFydCcsIHRoaXMsIHtcbiAgICAgIGV2dDogZXZ0XG4gICAgfSk7XG5cbiAgICBpZiAoU29ydGFibGUuZXZlbnRDYW5jZWxlZCkge1xuICAgICAgdGhpcy5fb25Ecm9wKCk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBwbHVnaW5FdmVudCgnc2V0dXBDbG9uZScsIHRoaXMpO1xuXG4gICAgaWYgKCFTb3J0YWJsZS5ldmVudENhbmNlbGVkKSB7XG4gICAgICBjbG9uZUVsID0gY2xvbmUoZHJhZ0VsKTtcbiAgICAgIGNsb25lRWwuZHJhZ2dhYmxlID0gZmFsc2U7XG4gICAgICBjbG9uZUVsLnN0eWxlWyd3aWxsLWNoYW5nZSddID0gJyc7XG5cbiAgICAgIHRoaXMuX2hpZGVDbG9uZSgpO1xuXG4gICAgICB0b2dnbGVDbGFzcyhjbG9uZUVsLCB0aGlzLm9wdGlvbnMuY2hvc2VuQ2xhc3MsIGZhbHNlKTtcbiAgICAgIFNvcnRhYmxlLmNsb25lID0gY2xvbmVFbDtcbiAgICB9IC8vICMxMTQzOiBJRnJhbWUgc3VwcG9ydCB3b3JrYXJvdW5kXG5cblxuICAgIF90aGlzLmNsb25lSWQgPSBfbmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgcGx1Z2luRXZlbnQoJ2Nsb25lJywgX3RoaXMpO1xuICAgICAgaWYgKFNvcnRhYmxlLmV2ZW50Q2FuY2VsZWQpIHJldHVybjtcblxuICAgICAgaWYgKCFfdGhpcy5vcHRpb25zLnJlbW92ZUNsb25lT25IaWRlKSB7XG4gICAgICAgIHJvb3RFbC5pbnNlcnRCZWZvcmUoY2xvbmVFbCwgZHJhZ0VsKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuX2hpZGVDbG9uZSgpO1xuXG4gICAgICBfZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgIHNvcnRhYmxlOiBfdGhpcyxcbiAgICAgICAgbmFtZTogJ2Nsb25lJ1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgIWZhbGxiYWNrICYmIHRvZ2dsZUNsYXNzKGRyYWdFbCwgb3B0aW9ucy5kcmFnQ2xhc3MsIHRydWUpOyAvLyBTZXQgcHJvcGVyIGRyb3AgZXZlbnRzXG5cbiAgICBpZiAoZmFsbGJhY2spIHtcbiAgICAgIGlnbm9yZU5leHRDbGljayA9IHRydWU7XG4gICAgICBfdGhpcy5fbG9vcElkID0gc2V0SW50ZXJ2YWwoX3RoaXMuX2VtdWxhdGVEcmFnT3ZlciwgNTApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBVbmRvIHdoYXQgd2FzIHNldCBpbiBfcHJlcGFyZURyYWdTdGFydCBiZWZvcmUgZHJhZyBzdGFydGVkXG4gICAgICBvZmYoZG9jdW1lbnQsICdtb3VzZXVwJywgX3RoaXMuX29uRHJvcCk7XG4gICAgICBvZmYoZG9jdW1lbnQsICd0b3VjaGVuZCcsIF90aGlzLl9vbkRyb3ApO1xuICAgICAgb2ZmKGRvY3VtZW50LCAndG91Y2hjYW5jZWwnLCBfdGhpcy5fb25Ecm9wKTtcblxuICAgICAgaWYgKGRhdGFUcmFuc2Zlcikge1xuICAgICAgICBkYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9ICdtb3ZlJztcbiAgICAgICAgb3B0aW9ucy5zZXREYXRhICYmIG9wdGlvbnMuc2V0RGF0YS5jYWxsKF90aGlzLCBkYXRhVHJhbnNmZXIsIGRyYWdFbCk7XG4gICAgICB9XG5cbiAgICAgIG9uKGRvY3VtZW50LCAnZHJvcCcsIF90aGlzKTsgLy8gIzEyNzYgZml4OlxuXG4gICAgICBjc3MoZHJhZ0VsLCAndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZVooMCknKTtcbiAgICB9XG5cbiAgICBhd2FpdGluZ0RyYWdTdGFydGVkID0gdHJ1ZTtcbiAgICBfdGhpcy5fZHJhZ1N0YXJ0SWQgPSBfbmV4dFRpY2soX3RoaXMuX2RyYWdTdGFydGVkLmJpbmQoX3RoaXMsIGZhbGxiYWNrLCBldnQpKTtcbiAgICBvbihkb2N1bWVudCwgJ3NlbGVjdHN0YXJ0JywgX3RoaXMpO1xuICAgIG1vdmVkID0gdHJ1ZTtcblxuICAgIGlmIChTYWZhcmkpIHtcbiAgICAgIGNzcyhkb2N1bWVudC5ib2R5LCAndXNlci1zZWxlY3QnLCAnbm9uZScpO1xuICAgIH1cbiAgfSxcbiAgLy8gUmV0dXJucyB0cnVlIC0gaWYgbm8gZnVydGhlciBhY3Rpb24gaXMgbmVlZGVkIChlaXRoZXIgaW5zZXJ0ZWQgb3IgYW5vdGhlciBjb25kaXRpb24pXG4gIF9vbkRyYWdPdmVyOiBmdW5jdGlvbiBfb25EcmFnT3ZlcihcbiAgLyoqRXZlbnQqL1xuICBldnQpIHtcbiAgICB2YXIgZWwgPSB0aGlzLmVsLFxuICAgICAgICB0YXJnZXQgPSBldnQudGFyZ2V0LFxuICAgICAgICBkcmFnUmVjdCxcbiAgICAgICAgdGFyZ2V0UmVjdCxcbiAgICAgICAgcmV2ZXJ0LFxuICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgICBncm91cCA9IG9wdGlvbnMuZ3JvdXAsXG4gICAgICAgIGFjdGl2ZVNvcnRhYmxlID0gU29ydGFibGUuYWN0aXZlLFxuICAgICAgICBpc093bmVyID0gYWN0aXZlR3JvdXAgPT09IGdyb3VwLFxuICAgICAgICBjYW5Tb3J0ID0gb3B0aW9ucy5zb3J0LFxuICAgICAgICBmcm9tU29ydGFibGUgPSBwdXRTb3J0YWJsZSB8fCBhY3RpdmVTb3J0YWJsZSxcbiAgICAgICAgdmVydGljYWwsXG4gICAgICAgIF90aGlzID0gdGhpcyxcbiAgICAgICAgY29tcGxldGVkRmlyZWQgPSBmYWxzZTtcblxuICAgIGlmIChfc2lsZW50KSByZXR1cm47XG5cbiAgICBmdW5jdGlvbiBkcmFnT3ZlckV2ZW50KG5hbWUsIGV4dHJhKSB7XG4gICAgICBwbHVnaW5FdmVudChuYW1lLCBfdGhpcywgX29iamVjdFNwcmVhZCh7XG4gICAgICAgIGV2dDogZXZ0LFxuICAgICAgICBpc093bmVyOiBpc093bmVyLFxuICAgICAgICBheGlzOiB2ZXJ0aWNhbCA/ICd2ZXJ0aWNhbCcgOiAnaG9yaXpvbnRhbCcsXG4gICAgICAgIHJldmVydDogcmV2ZXJ0LFxuICAgICAgICBkcmFnUmVjdDogZHJhZ1JlY3QsXG4gICAgICAgIHRhcmdldFJlY3Q6IHRhcmdldFJlY3QsXG4gICAgICAgIGNhblNvcnQ6IGNhblNvcnQsXG4gICAgICAgIGZyb21Tb3J0YWJsZTogZnJvbVNvcnRhYmxlLFxuICAgICAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICAgICAgY29tcGxldGVkOiBjb21wbGV0ZWQsXG4gICAgICAgIG9uTW92ZTogZnVuY3Rpb24gb25Nb3ZlKHRhcmdldCwgYWZ0ZXIpIHtcbiAgICAgICAgICByZXR1cm4gX29uTW92ZShyb290RWwsIGVsLCBkcmFnRWwsIGRyYWdSZWN0LCB0YXJnZXQsIGdldFJlY3QodGFyZ2V0KSwgZXZ0LCBhZnRlcik7XG4gICAgICAgIH0sXG4gICAgICAgIGNoYW5nZWQ6IGNoYW5nZWRcbiAgICAgIH0sIGV4dHJhKSk7XG4gICAgfSAvLyBDYXB0dXJlIGFuaW1hdGlvbiBzdGF0ZVxuXG5cbiAgICBmdW5jdGlvbiBjYXB0dXJlKCkge1xuICAgICAgZHJhZ092ZXJFdmVudCgnZHJhZ092ZXJBbmltYXRpb25DYXB0dXJlJyk7XG5cbiAgICAgIF90aGlzLmNhcHR1cmVBbmltYXRpb25TdGF0ZSgpO1xuXG4gICAgICBpZiAoX3RoaXMgIT09IGZyb21Tb3J0YWJsZSkge1xuICAgICAgICBmcm9tU29ydGFibGUuY2FwdHVyZUFuaW1hdGlvblN0YXRlKCk7XG4gICAgICB9XG4gICAgfSAvLyBSZXR1cm4gaW52b2NhdGlvbiB3aGVuIGRyYWdFbCBpcyBpbnNlcnRlZCAob3IgY29tcGxldGVkKVxuXG5cbiAgICBmdW5jdGlvbiBjb21wbGV0ZWQoaW5zZXJ0aW9uKSB7XG4gICAgICBkcmFnT3ZlckV2ZW50KCdkcmFnT3ZlckNvbXBsZXRlZCcsIHtcbiAgICAgICAgaW5zZXJ0aW9uOiBpbnNlcnRpb25cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoaW5zZXJ0aW9uKSB7XG4gICAgICAgIC8vIENsb25lcyBtdXN0IGJlIGhpZGRlbiBiZWZvcmUgZm9sZGluZyBhbmltYXRpb24gdG8gY2FwdHVyZSBkcmFnUmVjdEFic29sdXRlIHByb3Blcmx5XG4gICAgICAgIGlmIChpc093bmVyKSB7XG4gICAgICAgICAgYWN0aXZlU29ydGFibGUuX2hpZGVDbG9uZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFjdGl2ZVNvcnRhYmxlLl9zaG93Q2xvbmUoX3RoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF90aGlzICE9PSBmcm9tU29ydGFibGUpIHtcbiAgICAgICAgICAvLyBTZXQgZ2hvc3QgY2xhc3MgdG8gbmV3IHNvcnRhYmxlJ3MgZ2hvc3QgY2xhc3NcbiAgICAgICAgICB0b2dnbGVDbGFzcyhkcmFnRWwsIHB1dFNvcnRhYmxlID8gcHV0U29ydGFibGUub3B0aW9ucy5naG9zdENsYXNzIDogYWN0aXZlU29ydGFibGUub3B0aW9ucy5naG9zdENsYXNzLCBmYWxzZSk7XG4gICAgICAgICAgdG9nZ2xlQ2xhc3MoZHJhZ0VsLCBvcHRpb25zLmdob3N0Q2xhc3MsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHB1dFNvcnRhYmxlICE9PSBfdGhpcyAmJiBfdGhpcyAhPT0gU29ydGFibGUuYWN0aXZlKSB7XG4gICAgICAgICAgcHV0U29ydGFibGUgPSBfdGhpcztcbiAgICAgICAgfSBlbHNlIGlmIChfdGhpcyA9PT0gU29ydGFibGUuYWN0aXZlICYmIHB1dFNvcnRhYmxlKSB7XG4gICAgICAgICAgcHV0U29ydGFibGUgPSBudWxsO1xuICAgICAgICB9IC8vIEFuaW1hdGlvblxuXG5cbiAgICAgICAgaWYgKGZyb21Tb3J0YWJsZSA9PT0gX3RoaXMpIHtcbiAgICAgICAgICBfdGhpcy5faWdub3JlV2hpbGVBbmltYXRpbmcgPSB0YXJnZXQ7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5hbmltYXRlQWxsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBkcmFnT3ZlckV2ZW50KCdkcmFnT3ZlckFuaW1hdGlvbkNvbXBsZXRlJyk7XG4gICAgICAgICAgX3RoaXMuX2lnbm9yZVdoaWxlQW5pbWF0aW5nID0gbnVsbDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKF90aGlzICE9PSBmcm9tU29ydGFibGUpIHtcbiAgICAgICAgICBmcm9tU29ydGFibGUuYW5pbWF0ZUFsbCgpO1xuICAgICAgICAgIGZyb21Tb3J0YWJsZS5faWdub3JlV2hpbGVBbmltYXRpbmcgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9IC8vIE51bGwgbGFzdFRhcmdldCBpZiBpdCBpcyBub3QgaW5zaWRlIGEgcHJldmlvdXNseSBzd2FwcGVkIGVsZW1lbnRcblxuXG4gICAgICBpZiAodGFyZ2V0ID09PSBkcmFnRWwgJiYgIWRyYWdFbC5hbmltYXRlZCB8fCB0YXJnZXQgPT09IGVsICYmICF0YXJnZXQuYW5pbWF0ZWQpIHtcbiAgICAgICAgbGFzdFRhcmdldCA9IG51bGw7XG4gICAgICB9IC8vIG5vIGJ1YmJsaW5nIGFuZCBub3QgZmFsbGJhY2tcblxuXG4gICAgICBpZiAoIW9wdGlvbnMuZHJhZ292ZXJCdWJibGUgJiYgIWV2dC5yb290RWwgJiYgdGFyZ2V0ICE9PSBkb2N1bWVudCkge1xuICAgICAgICBkcmFnRWwucGFyZW50Tm9kZVtleHBhbmRvXS5faXNPdXRzaWRlVGhpc0VsKGV2dC50YXJnZXQpOyAvLyBEbyBub3QgZGV0ZWN0IGZvciBlbXB0eSBpbnNlcnQgaWYgYWxyZWFkeSBpbnNlcnRlZFxuXG5cbiAgICAgICAgIWluc2VydGlvbiAmJiBuZWFyZXN0RW1wdHlJbnNlcnREZXRlY3RFdmVudChldnQpO1xuICAgICAgfVxuXG4gICAgICAhb3B0aW9ucy5kcmFnb3ZlckJ1YmJsZSAmJiBldnQuc3RvcFByb3BhZ2F0aW9uICYmIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHJldHVybiBjb21wbGV0ZWRGaXJlZCA9IHRydWU7XG4gICAgfSAvLyBDYWxsIHdoZW4gZHJhZ0VsIGhhcyBiZWVuIGluc2VydGVkXG5cblxuICAgIGZ1bmN0aW9uIGNoYW5nZWQoKSB7XG4gICAgICBuZXdJbmRleCA9IGluZGV4KGRyYWdFbCk7XG4gICAgICBuZXdEcmFnZ2FibGVJbmRleCA9IGluZGV4KGRyYWdFbCwgb3B0aW9ucy5kcmFnZ2FibGUpO1xuXG4gICAgICBfZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgIHNvcnRhYmxlOiBfdGhpcyxcbiAgICAgICAgbmFtZTogJ2NoYW5nZScsXG4gICAgICAgIHRvRWw6IGVsLFxuICAgICAgICBuZXdJbmRleDogbmV3SW5kZXgsXG4gICAgICAgIG5ld0RyYWdnYWJsZUluZGV4OiBuZXdEcmFnZ2FibGVJbmRleCxcbiAgICAgICAgb3JpZ2luYWxFdmVudDogZXZ0XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoZXZ0LnByZXZlbnREZWZhdWx0ICE9PSB2b2lkIDApIHtcbiAgICAgIGV2dC5jYW5jZWxhYmxlICYmIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIHRhcmdldCA9IGNsb3Nlc3QodGFyZ2V0LCBvcHRpb25zLmRyYWdnYWJsZSwgZWwsIHRydWUpO1xuICAgIGRyYWdPdmVyRXZlbnQoJ2RyYWdPdmVyJyk7XG4gICAgaWYgKFNvcnRhYmxlLmV2ZW50Q2FuY2VsZWQpIHJldHVybiBjb21wbGV0ZWRGaXJlZDtcblxuICAgIGlmIChkcmFnRWwuY29udGFpbnMoZXZ0LnRhcmdldCkgfHwgdGFyZ2V0LmFuaW1hdGVkICYmIHRhcmdldC5hbmltYXRpbmdYICYmIHRhcmdldC5hbmltYXRpbmdZIHx8IF90aGlzLl9pZ25vcmVXaGlsZUFuaW1hdGluZyA9PT0gdGFyZ2V0KSB7XG4gICAgICByZXR1cm4gY29tcGxldGVkKGZhbHNlKTtcbiAgICB9XG5cbiAgICBpZ25vcmVOZXh0Q2xpY2sgPSBmYWxzZTtcblxuICAgIGlmIChhY3RpdmVTb3J0YWJsZSAmJiAhb3B0aW9ucy5kaXNhYmxlZCAmJiAoaXNPd25lciA/IGNhblNvcnQgfHwgKHJldmVydCA9ICFyb290RWwuY29udGFpbnMoZHJhZ0VsKSkgLy8gUmV2ZXJ0aW5nIGl0ZW0gaW50byB0aGUgb3JpZ2luYWwgbGlzdFxuICAgIDogcHV0U29ydGFibGUgPT09IHRoaXMgfHwgKHRoaXMubGFzdFB1dE1vZGUgPSBhY3RpdmVHcm91cC5jaGVja1B1bGwodGhpcywgYWN0aXZlU29ydGFibGUsIGRyYWdFbCwgZXZ0KSkgJiYgZ3JvdXAuY2hlY2tQdXQodGhpcywgYWN0aXZlU29ydGFibGUsIGRyYWdFbCwgZXZ0KSkpIHtcbiAgICAgIHZlcnRpY2FsID0gdGhpcy5fZ2V0RGlyZWN0aW9uKGV2dCwgdGFyZ2V0KSA9PT0gJ3ZlcnRpY2FsJztcbiAgICAgIGRyYWdSZWN0ID0gZ2V0UmVjdChkcmFnRWwpO1xuICAgICAgZHJhZ092ZXJFdmVudCgnZHJhZ092ZXJWYWxpZCcpO1xuICAgICAgaWYgKFNvcnRhYmxlLmV2ZW50Q2FuY2VsZWQpIHJldHVybiBjb21wbGV0ZWRGaXJlZDtcblxuICAgICAgaWYgKHJldmVydCkge1xuICAgICAgICBwYXJlbnRFbCA9IHJvb3RFbDsgLy8gYWN0dWFsaXphdGlvblxuXG4gICAgICAgIGNhcHR1cmUoKTtcblxuICAgICAgICB0aGlzLl9oaWRlQ2xvbmUoKTtcblxuICAgICAgICBkcmFnT3ZlckV2ZW50KCdyZXZlcnQnKTtcblxuICAgICAgICBpZiAoIVNvcnRhYmxlLmV2ZW50Q2FuY2VsZWQpIHtcbiAgICAgICAgICBpZiAobmV4dEVsKSB7XG4gICAgICAgICAgICByb290RWwuaW5zZXJ0QmVmb3JlKGRyYWdFbCwgbmV4dEVsKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcm9vdEVsLmFwcGVuZENoaWxkKGRyYWdFbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbXBsZXRlZCh0cnVlKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGVsTGFzdENoaWxkID0gbGFzdENoaWxkKGVsLCBvcHRpb25zLmRyYWdnYWJsZSk7XG5cbiAgICAgIGlmICghZWxMYXN0Q2hpbGQgfHwgX2dob3N0SXNMYXN0KGV2dCwgdmVydGljYWwsIHRoaXMpICYmICFlbExhc3RDaGlsZC5hbmltYXRlZCkge1xuICAgICAgICAvLyBJZiBhbHJlYWR5IGF0IGVuZCBvZiBsaXN0OiBEbyBub3QgaW5zZXJ0XG4gICAgICAgIGlmIChlbExhc3RDaGlsZCA9PT0gZHJhZ0VsKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbXBsZXRlZChmYWxzZSk7XG4gICAgICAgIH0gLy8gYXNzaWduIHRhcmdldCBvbmx5IGlmIGNvbmRpdGlvbiBpcyB0cnVlXG5cblxuICAgICAgICBpZiAoZWxMYXN0Q2hpbGQgJiYgZWwgPT09IGV2dC50YXJnZXQpIHtcbiAgICAgICAgICB0YXJnZXQgPSBlbExhc3RDaGlsZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICB0YXJnZXRSZWN0ID0gZ2V0UmVjdCh0YXJnZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF9vbk1vdmUocm9vdEVsLCBlbCwgZHJhZ0VsLCBkcmFnUmVjdCwgdGFyZ2V0LCB0YXJnZXRSZWN0LCBldnQsICEhdGFyZ2V0KSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICBjYXB0dXJlKCk7XG4gICAgICAgICAgZWwuYXBwZW5kQ2hpbGQoZHJhZ0VsKTtcbiAgICAgICAgICBwYXJlbnRFbCA9IGVsOyAvLyBhY3R1YWxpemF0aW9uXG5cbiAgICAgICAgICBjaGFuZ2VkKCk7XG4gICAgICAgICAgcmV0dXJuIGNvbXBsZXRlZCh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0YXJnZXQucGFyZW50Tm9kZSA9PT0gZWwpIHtcbiAgICAgICAgdGFyZ2V0UmVjdCA9IGdldFJlY3QodGFyZ2V0KTtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IDAsXG4gICAgICAgICAgICB0YXJnZXRCZWZvcmVGaXJzdFN3YXAsXG4gICAgICAgICAgICBkaWZmZXJlbnRMZXZlbCA9IGRyYWdFbC5wYXJlbnROb2RlICE9PSBlbCxcbiAgICAgICAgICAgIGRpZmZlcmVudFJvd0NvbCA9ICFfZHJhZ0VsSW5Sb3dDb2x1bW4oZHJhZ0VsLmFuaW1hdGVkICYmIGRyYWdFbC50b1JlY3QgfHwgZHJhZ1JlY3QsIHRhcmdldC5hbmltYXRlZCAmJiB0YXJnZXQudG9SZWN0IHx8IHRhcmdldFJlY3QsIHZlcnRpY2FsKSxcbiAgICAgICAgICAgIHNpZGUxID0gdmVydGljYWwgPyAndG9wJyA6ICdsZWZ0JyxcbiAgICAgICAgICAgIHNjcm9sbGVkUGFzdFRvcCA9IGlzU2Nyb2xsZWRQYXN0KHRhcmdldCwgbnVsbCwgJ3RvcCcsICd0b3AnKSB8fCBpc1Njcm9sbGVkUGFzdChkcmFnRWwsIG51bGwsICd0b3AnLCAndG9wJyksXG4gICAgICAgICAgICBzY3JvbGxCZWZvcmUgPSBzY3JvbGxlZFBhc3RUb3AgPyBzY3JvbGxlZFBhc3RUb3Auc2Nyb2xsVG9wIDogdm9pZCAwO1xuXG4gICAgICAgIGlmIChsYXN0VGFyZ2V0ICE9PSB0YXJnZXQpIHtcbiAgICAgICAgICB0YXJnZXRCZWZvcmVGaXJzdFN3YXAgPSB0YXJnZXRSZWN0W3NpZGUxXTtcbiAgICAgICAgICBwYXN0Rmlyc3RJbnZlcnRUaHJlc2ggPSBmYWxzZTtcbiAgICAgICAgICBpc0NpcmN1bXN0YW50aWFsSW52ZXJ0ID0gIWRpZmZlcmVudFJvd0NvbCAmJiBvcHRpb25zLmludmVydFN3YXAgfHwgZGlmZmVyZW50TGV2ZWw7XG4gICAgICAgIH1cblxuICAgICAgICBkaXJlY3Rpb24gPSBfZ2V0U3dhcERpcmVjdGlvbihldnQsIHRhcmdldCwgdGFyZ2V0UmVjdCwgdmVydGljYWwsIGRpZmZlcmVudFJvd0NvbCA/IDEgOiBvcHRpb25zLnN3YXBUaHJlc2hvbGQsIG9wdGlvbnMuaW52ZXJ0ZWRTd2FwVGhyZXNob2xkID09IG51bGwgPyBvcHRpb25zLnN3YXBUaHJlc2hvbGQgOiBvcHRpb25zLmludmVydGVkU3dhcFRocmVzaG9sZCwgaXNDaXJjdW1zdGFudGlhbEludmVydCwgbGFzdFRhcmdldCA9PT0gdGFyZ2V0KTtcbiAgICAgICAgdmFyIHNpYmxpbmc7XG5cbiAgICAgICAgaWYgKGRpcmVjdGlvbiAhPT0gMCkge1xuICAgICAgICAgIC8vIENoZWNrIGlmIHRhcmdldCBpcyBiZXNpZGUgZHJhZ0VsIGluIHJlc3BlY3RpdmUgZGlyZWN0aW9uIChpZ25vcmluZyBoaWRkZW4gZWxlbWVudHMpXG4gICAgICAgICAgdmFyIGRyYWdJbmRleCA9IGluZGV4KGRyYWdFbCk7XG5cbiAgICAgICAgICBkbyB7XG4gICAgICAgICAgICBkcmFnSW5kZXggLT0gZGlyZWN0aW9uO1xuICAgICAgICAgICAgc2libGluZyA9IHBhcmVudEVsLmNoaWxkcmVuW2RyYWdJbmRleF07XG4gICAgICAgICAgfSB3aGlsZSAoc2libGluZyAmJiAoY3NzKHNpYmxpbmcsICdkaXNwbGF5JykgPT09ICdub25lJyB8fCBzaWJsaW5nID09PSBnaG9zdEVsKSk7XG4gICAgICAgIH0gLy8gSWYgZHJhZ0VsIGlzIGFscmVhZHkgYmVzaWRlIHRhcmdldDogRG8gbm90IGluc2VydFxuXG5cbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gMCB8fCBzaWJsaW5nID09PSB0YXJnZXQpIHtcbiAgICAgICAgICByZXR1cm4gY29tcGxldGVkKGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxhc3RUYXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIGxhc3REaXJlY3Rpb24gPSBkaXJlY3Rpb247XG4gICAgICAgIHZhciBuZXh0U2libGluZyA9IHRhcmdldC5uZXh0RWxlbWVudFNpYmxpbmcsXG4gICAgICAgICAgICBhZnRlciA9IGZhbHNlO1xuICAgICAgICBhZnRlciA9IGRpcmVjdGlvbiA9PT0gMTtcblxuICAgICAgICB2YXIgbW92ZVZlY3RvciA9IF9vbk1vdmUocm9vdEVsLCBlbCwgZHJhZ0VsLCBkcmFnUmVjdCwgdGFyZ2V0LCB0YXJnZXRSZWN0LCBldnQsIGFmdGVyKTtcblxuICAgICAgICBpZiAobW92ZVZlY3RvciAhPT0gZmFsc2UpIHtcbiAgICAgICAgICBpZiAobW92ZVZlY3RvciA9PT0gMSB8fCBtb3ZlVmVjdG9yID09PSAtMSkge1xuICAgICAgICAgICAgYWZ0ZXIgPSBtb3ZlVmVjdG9yID09PSAxO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF9zaWxlbnQgPSB0cnVlO1xuICAgICAgICAgIHNldFRpbWVvdXQoX3Vuc2lsZW50LCAzMCk7XG4gICAgICAgICAgY2FwdHVyZSgpO1xuXG4gICAgICAgICAgaWYgKGFmdGVyICYmICFuZXh0U2libGluZykge1xuICAgICAgICAgICAgZWwuYXBwZW5kQ2hpbGQoZHJhZ0VsKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGRyYWdFbCwgYWZ0ZXIgPyBuZXh0U2libGluZyA6IHRhcmdldCk7XG4gICAgICAgICAgfSAvLyBVbmRvIGNocm9tZSdzIHNjcm9sbCBhZGp1c3RtZW50IChoYXMgbm8gZWZmZWN0IG9uIG90aGVyIGJyb3dzZXJzKVxuXG5cbiAgICAgICAgICBpZiAoc2Nyb2xsZWRQYXN0VG9wKSB7XG4gICAgICAgICAgICBzY3JvbGxCeShzY3JvbGxlZFBhc3RUb3AsIDAsIHNjcm9sbEJlZm9yZSAtIHNjcm9sbGVkUGFzdFRvcC5zY3JvbGxUb3ApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHBhcmVudEVsID0gZHJhZ0VsLnBhcmVudE5vZGU7IC8vIGFjdHVhbGl6YXRpb25cbiAgICAgICAgICAvLyBtdXN0IGJlIGRvbmUgYmVmb3JlIGFuaW1hdGlvblxuXG4gICAgICAgICAgaWYgKHRhcmdldEJlZm9yZUZpcnN0U3dhcCAhPT0gdW5kZWZpbmVkICYmICFpc0NpcmN1bXN0YW50aWFsSW52ZXJ0KSB7XG4gICAgICAgICAgICB0YXJnZXRNb3ZlRGlzdGFuY2UgPSBNYXRoLmFicyh0YXJnZXRCZWZvcmVGaXJzdFN3YXAgLSBnZXRSZWN0KHRhcmdldClbc2lkZTFdKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjaGFuZ2VkKCk7XG4gICAgICAgICAgcmV0dXJuIGNvbXBsZXRlZCh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZWwuY29udGFpbnMoZHJhZ0VsKSkge1xuICAgICAgICByZXR1cm4gY29tcGxldGVkKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIF9pZ25vcmVXaGlsZUFuaW1hdGluZzogbnVsbCxcbiAgX29mZk1vdmVFdmVudHM6IGZ1bmN0aW9uIF9vZmZNb3ZlRXZlbnRzKCkge1xuICAgIG9mZihkb2N1bWVudCwgJ21vdXNlbW92ZScsIHRoaXMuX29uVG91Y2hNb3ZlKTtcbiAgICBvZmYoZG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLl9vblRvdWNoTW92ZSk7XG4gICAgb2ZmKGRvY3VtZW50LCAncG9pbnRlcm1vdmUnLCB0aGlzLl9vblRvdWNoTW92ZSk7XG4gICAgb2ZmKGRvY3VtZW50LCAnZHJhZ292ZXInLCBuZWFyZXN0RW1wdHlJbnNlcnREZXRlY3RFdmVudCk7XG4gICAgb2ZmKGRvY3VtZW50LCAnbW91c2Vtb3ZlJywgbmVhcmVzdEVtcHR5SW5zZXJ0RGV0ZWN0RXZlbnQpO1xuICAgIG9mZihkb2N1bWVudCwgJ3RvdWNobW92ZScsIG5lYXJlc3RFbXB0eUluc2VydERldGVjdEV2ZW50KTtcbiAgfSxcbiAgX29mZlVwRXZlbnRzOiBmdW5jdGlvbiBfb2ZmVXBFdmVudHMoKSB7XG4gICAgdmFyIG93bmVyRG9jdW1lbnQgPSB0aGlzLmVsLm93bmVyRG9jdW1lbnQ7XG4gICAgb2ZmKG93bmVyRG9jdW1lbnQsICdtb3VzZXVwJywgdGhpcy5fb25Ecm9wKTtcbiAgICBvZmYob3duZXJEb2N1bWVudCwgJ3RvdWNoZW5kJywgdGhpcy5fb25Ecm9wKTtcbiAgICBvZmYob3duZXJEb2N1bWVudCwgJ3BvaW50ZXJ1cCcsIHRoaXMuX29uRHJvcCk7XG4gICAgb2ZmKG93bmVyRG9jdW1lbnQsICd0b3VjaGNhbmNlbCcsIHRoaXMuX29uRHJvcCk7XG4gICAgb2ZmKGRvY3VtZW50LCAnc2VsZWN0c3RhcnQnLCB0aGlzKTtcbiAgfSxcbiAgX29uRHJvcDogZnVuY3Rpb24gX29uRHJvcChcbiAgLyoqRXZlbnQqL1xuICBldnQpIHtcbiAgICB2YXIgZWwgPSB0aGlzLmVsLFxuICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zOyAvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBkcmFnZ2VkIGVsZW1lbnQgd2l0aGluIGl0cyBwYXJlbnRcblxuICAgIG5ld0luZGV4ID0gaW5kZXgoZHJhZ0VsKTtcbiAgICBuZXdEcmFnZ2FibGVJbmRleCA9IGluZGV4KGRyYWdFbCwgb3B0aW9ucy5kcmFnZ2FibGUpO1xuICAgIHBsdWdpbkV2ZW50KCdkcm9wJywgdGhpcywge1xuICAgICAgZXZ0OiBldnRcbiAgICB9KTsgLy8gR2V0IGFnYWluIGFmdGVyIHBsdWdpbiBldmVudFxuXG4gICAgbmV3SW5kZXggPSBpbmRleChkcmFnRWwpO1xuICAgIG5ld0RyYWdnYWJsZUluZGV4ID0gaW5kZXgoZHJhZ0VsLCBvcHRpb25zLmRyYWdnYWJsZSk7XG5cbiAgICBpZiAoU29ydGFibGUuZXZlbnRDYW5jZWxlZCkge1xuICAgICAgdGhpcy5fbnVsbGluZygpO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYXdhaXRpbmdEcmFnU3RhcnRlZCA9IGZhbHNlO1xuICAgIGlzQ2lyY3Vtc3RhbnRpYWxJbnZlcnQgPSBmYWxzZTtcbiAgICBwYXN0Rmlyc3RJbnZlcnRUaHJlc2ggPSBmYWxzZTtcbiAgICBjbGVhckludGVydmFsKHRoaXMuX2xvb3BJZCk7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuX2RyYWdTdGFydFRpbWVyKTtcblxuICAgIF9jYW5jZWxOZXh0VGljayh0aGlzLmNsb25lSWQpO1xuXG4gICAgX2NhbmNlbE5leHRUaWNrKHRoaXMuX2RyYWdTdGFydElkKTsgLy8gVW5iaW5kIGV2ZW50c1xuXG5cbiAgICBpZiAodGhpcy5uYXRpdmVEcmFnZ2FibGUpIHtcbiAgICAgIG9mZihkb2N1bWVudCwgJ2Ryb3AnLCB0aGlzKTtcbiAgICAgIG9mZihlbCwgJ2RyYWdzdGFydCcsIHRoaXMuX29uRHJhZ1N0YXJ0KTtcbiAgICB9XG5cbiAgICB0aGlzLl9vZmZNb3ZlRXZlbnRzKCk7XG5cbiAgICB0aGlzLl9vZmZVcEV2ZW50cygpO1xuXG4gICAgaWYgKFNhZmFyaSkge1xuICAgICAgY3NzKGRvY3VtZW50LmJvZHksICd1c2VyLXNlbGVjdCcsICcnKTtcbiAgICB9XG5cbiAgICBpZiAoZXZ0KSB7XG4gICAgICBpZiAobW92ZWQpIHtcbiAgICAgICAgZXZ0LmNhbmNlbGFibGUgJiYgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICFvcHRpb25zLmRyb3BCdWJibGUgJiYgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfVxuXG4gICAgICBnaG9zdEVsICYmIGdob3N0RWwucGFyZW50Tm9kZSAmJiBnaG9zdEVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZ2hvc3RFbCk7XG5cbiAgICAgIGlmIChyb290RWwgPT09IHBhcmVudEVsIHx8IHB1dFNvcnRhYmxlICYmIHB1dFNvcnRhYmxlLmxhc3RQdXRNb2RlICE9PSAnY2xvbmUnKSB7XG4gICAgICAgIC8vIFJlbW92ZSBjbG9uZShzKVxuICAgICAgICBjbG9uZUVsICYmIGNsb25lRWwucGFyZW50Tm9kZSAmJiBjbG9uZUVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY2xvbmVFbCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChkcmFnRWwpIHtcbiAgICAgICAgaWYgKHRoaXMubmF0aXZlRHJhZ2dhYmxlKSB7XG4gICAgICAgICAgb2ZmKGRyYWdFbCwgJ2RyYWdlbmQnLCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9kaXNhYmxlRHJhZ2dhYmxlKGRyYWdFbCk7XG5cbiAgICAgICAgZHJhZ0VsLnN0eWxlWyd3aWxsLWNoYW5nZSddID0gJyc7IC8vIFJlbW92ZSBjbGFzc2VzXG4gICAgICAgIC8vIGdob3N0Q2xhc3MgaXMgYWRkZWQgaW4gZHJhZ1N0YXJ0ZWRcblxuICAgICAgICBpZiAobW92ZWQgJiYgIWF3YWl0aW5nRHJhZ1N0YXJ0ZWQpIHtcbiAgICAgICAgICB0b2dnbGVDbGFzcyhkcmFnRWwsIHB1dFNvcnRhYmxlID8gcHV0U29ydGFibGUub3B0aW9ucy5naG9zdENsYXNzIDogdGhpcy5vcHRpb25zLmdob3N0Q2xhc3MsIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRvZ2dsZUNsYXNzKGRyYWdFbCwgdGhpcy5vcHRpb25zLmNob3NlbkNsYXNzLCBmYWxzZSk7IC8vIERyYWcgc3RvcCBldmVudFxuXG4gICAgICAgIF9kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICBzb3J0YWJsZTogdGhpcyxcbiAgICAgICAgICBuYW1lOiAndW5jaG9vc2UnLFxuICAgICAgICAgIHRvRWw6IHBhcmVudEVsLFxuICAgICAgICAgIG5ld0luZGV4OiBudWxsLFxuICAgICAgICAgIG5ld0RyYWdnYWJsZUluZGV4OiBudWxsLFxuICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2dFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAocm9vdEVsICE9PSBwYXJlbnRFbCkge1xuICAgICAgICAgIGlmIChuZXdJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAvLyBBZGQgZXZlbnRcbiAgICAgICAgICAgIF9kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICAgICAgcm9vdEVsOiBwYXJlbnRFbCxcbiAgICAgICAgICAgICAgbmFtZTogJ2FkZCcsXG4gICAgICAgICAgICAgIHRvRWw6IHBhcmVudEVsLFxuICAgICAgICAgICAgICBmcm9tRWw6IHJvb3RFbCxcbiAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZ0XG4gICAgICAgICAgICB9KTsgLy8gUmVtb3ZlIGV2ZW50XG5cblxuICAgICAgICAgICAgX2Rpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgICAgICBzb3J0YWJsZTogdGhpcyxcbiAgICAgICAgICAgICAgbmFtZTogJ3JlbW92ZScsXG4gICAgICAgICAgICAgIHRvRWw6IHBhcmVudEVsLFxuICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldnRcbiAgICAgICAgICAgIH0pOyAvLyBkcmFnIGZyb20gb25lIGxpc3QgYW5kIGRyb3AgaW50byBhbm90aGVyXG5cblxuICAgICAgICAgICAgX2Rpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgICAgICByb290RWw6IHBhcmVudEVsLFxuICAgICAgICAgICAgICBuYW1lOiAnc29ydCcsXG4gICAgICAgICAgICAgIHRvRWw6IHBhcmVudEVsLFxuICAgICAgICAgICAgICBmcm9tRWw6IHJvb3RFbCxcbiAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZ0XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgX2Rpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgICAgICBzb3J0YWJsZTogdGhpcyxcbiAgICAgICAgICAgICAgbmFtZTogJ3NvcnQnLFxuICAgICAgICAgICAgICB0b0VsOiBwYXJlbnRFbCxcbiAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZ0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwdXRTb3J0YWJsZSAmJiBwdXRTb3J0YWJsZS5zYXZlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG5ld0luZGV4ICE9PSBvbGRJbmRleCkge1xuICAgICAgICAgICAgaWYgKG5ld0luZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgLy8gZHJhZyAmIGRyb3Agd2l0aGluIHRoZSBzYW1lIGxpc3RcbiAgICAgICAgICAgICAgX2Rpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgICAgICAgIHNvcnRhYmxlOiB0aGlzLFxuICAgICAgICAgICAgICAgIG5hbWU6ICd1cGRhdGUnLFxuICAgICAgICAgICAgICAgIHRvRWw6IHBhcmVudEVsLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2dFxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBfZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgICAgICAgc29ydGFibGU6IHRoaXMsXG4gICAgICAgICAgICAgICAgbmFtZTogJ3NvcnQnLFxuICAgICAgICAgICAgICAgIHRvRWw6IHBhcmVudEVsLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2dFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoU29ydGFibGUuYWN0aXZlKSB7XG4gICAgICAgICAgLyoganNoaW50IGVxbnVsbDp0cnVlICovXG4gICAgICAgICAgaWYgKG5ld0luZGV4ID09IG51bGwgfHwgbmV3SW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICBuZXdJbmRleCA9IG9sZEluZGV4O1xuICAgICAgICAgICAgbmV3RHJhZ2dhYmxlSW5kZXggPSBvbGREcmFnZ2FibGVJbmRleDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgICBzb3J0YWJsZTogdGhpcyxcbiAgICAgICAgICAgIG5hbWU6ICdlbmQnLFxuICAgICAgICAgICAgdG9FbDogcGFyZW50RWwsXG4gICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldnRcbiAgICAgICAgICB9KTsgLy8gU2F2ZSBzb3J0aW5nXG5cblxuICAgICAgICAgIHRoaXMuc2F2ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fbnVsbGluZygpO1xuICB9LFxuICBfbnVsbGluZzogZnVuY3Rpb24gX251bGxpbmcoKSB7XG4gICAgcGx1Z2luRXZlbnQoJ251bGxpbmcnLCB0aGlzKTtcbiAgICByb290RWwgPSBkcmFnRWwgPSBwYXJlbnRFbCA9IGdob3N0RWwgPSBuZXh0RWwgPSBjbG9uZUVsID0gbGFzdERvd25FbCA9IGNsb25lSGlkZGVuID0gdGFwRXZ0ID0gdG91Y2hFdnQgPSBtb3ZlZCA9IG5ld0luZGV4ID0gbmV3RHJhZ2dhYmxlSW5kZXggPSBvbGRJbmRleCA9IG9sZERyYWdnYWJsZUluZGV4ID0gbGFzdFRhcmdldCA9IGxhc3REaXJlY3Rpb24gPSBwdXRTb3J0YWJsZSA9IGFjdGl2ZUdyb3VwID0gU29ydGFibGUuZHJhZ2dlZCA9IFNvcnRhYmxlLmdob3N0ID0gU29ydGFibGUuY2xvbmUgPSBTb3J0YWJsZS5hY3RpdmUgPSBudWxsO1xuICAgIHNhdmVkSW5wdXRDaGVja2VkLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICBlbC5jaGVja2VkID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBzYXZlZElucHV0Q2hlY2tlZC5sZW5ndGggPSAwO1xuICB9LFxuICBoYW5kbGVFdmVudDogZnVuY3Rpb24gaGFuZGxlRXZlbnQoXG4gIC8qKkV2ZW50Ki9cbiAgZXZ0KSB7XG4gICAgc3dpdGNoIChldnQudHlwZSkge1xuICAgICAgY2FzZSAnZHJvcCc6XG4gICAgICBjYXNlICdkcmFnZW5kJzpcbiAgICAgICAgdGhpcy5fb25Ecm9wKGV2dCk7XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2RyYWdlbnRlcic6XG4gICAgICBjYXNlICdkcmFnb3Zlcic6XG4gICAgICAgIGlmIChkcmFnRWwpIHtcbiAgICAgICAgICB0aGlzLl9vbkRyYWdPdmVyKGV2dCk7XG5cbiAgICAgICAgICBfZ2xvYmFsRHJhZ092ZXIoZXZ0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdzZWxlY3RzdGFydCc6XG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNlcmlhbGl6ZXMgdGhlIGl0ZW0gaW50byBhbiBhcnJheSBvZiBzdHJpbmcuXG4gICAqIEByZXR1cm5zIHtTdHJpbmdbXX1cbiAgICovXG4gIHRvQXJyYXk6IGZ1bmN0aW9uIHRvQXJyYXkoKSB7XG4gICAgdmFyIG9yZGVyID0gW10sXG4gICAgICAgIGVsLFxuICAgICAgICBjaGlsZHJlbiA9IHRoaXMuZWwuY2hpbGRyZW4sXG4gICAgICAgIGkgPSAwLFxuICAgICAgICBuID0gY2hpbGRyZW4ubGVuZ3RoLFxuICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgZm9yICg7IGkgPCBuOyBpKyspIHtcbiAgICAgIGVsID0gY2hpbGRyZW5baV07XG5cbiAgICAgIGlmIChjbG9zZXN0KGVsLCBvcHRpb25zLmRyYWdnYWJsZSwgdGhpcy5lbCwgZmFsc2UpKSB7XG4gICAgICAgIG9yZGVyLnB1c2goZWwuZ2V0QXR0cmlidXRlKG9wdGlvbnMuZGF0YUlkQXR0cikgfHwgX2dlbmVyYXRlSWQoZWwpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3JkZXI7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNvcnRzIHRoZSBlbGVtZW50cyBhY2NvcmRpbmcgdG8gdGhlIGFycmF5LlxuICAgKiBAcGFyYW0gIHtTdHJpbmdbXX0gIG9yZGVyICBvcmRlciBvZiB0aGUgaXRlbXNcbiAgICovXG4gIHNvcnQ6IGZ1bmN0aW9uIHNvcnQob3JkZXIpIHtcbiAgICB2YXIgaXRlbXMgPSB7fSxcbiAgICAgICAgcm9vdEVsID0gdGhpcy5lbDtcbiAgICB0aGlzLnRvQXJyYXkoKS5mb3JFYWNoKGZ1bmN0aW9uIChpZCwgaSkge1xuICAgICAgdmFyIGVsID0gcm9vdEVsLmNoaWxkcmVuW2ldO1xuXG4gICAgICBpZiAoY2xvc2VzdChlbCwgdGhpcy5vcHRpb25zLmRyYWdnYWJsZSwgcm9vdEVsLCBmYWxzZSkpIHtcbiAgICAgICAgaXRlbXNbaWRdID0gZWw7XG4gICAgICB9XG4gICAgfSwgdGhpcyk7XG4gICAgb3JkZXIuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHtcbiAgICAgIGlmIChpdGVtc1tpZF0pIHtcbiAgICAgICAgcm9vdEVsLnJlbW92ZUNoaWxkKGl0ZW1zW2lkXSk7XG4gICAgICAgIHJvb3RFbC5hcHBlbmRDaGlsZChpdGVtc1tpZF0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTYXZlIHRoZSBjdXJyZW50IHNvcnRpbmdcbiAgICovXG4gIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7XG4gICAgdmFyIHN0b3JlID0gdGhpcy5vcHRpb25zLnN0b3JlO1xuICAgIHN0b3JlICYmIHN0b3JlLnNldCAmJiBzdG9yZS5zZXQodGhpcyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEZvciBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldCwgZ2V0IHRoZSBmaXJzdCBlbGVtZW50IHRoYXQgbWF0Y2hlcyB0aGUgc2VsZWN0b3IgYnkgdGVzdGluZyB0aGUgZWxlbWVudCBpdHNlbGYgYW5kIHRyYXZlcnNpbmcgdXAgdGhyb3VnaCBpdHMgYW5jZXN0b3JzIGluIHRoZSBET00gdHJlZS5cbiAgICogQHBhcmFtICAge0hUTUxFbGVtZW50fSAgZWxcbiAgICogQHBhcmFtICAge1N0cmluZ30gICAgICAgW3NlbGVjdG9yXSAgZGVmYXVsdDogYG9wdGlvbnMuZHJhZ2dhYmxlYFxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR8bnVsbH1cbiAgICovXG4gIGNsb3Nlc3Q6IGZ1bmN0aW9uIGNsb3Nlc3QkMShlbCwgc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gY2xvc2VzdChlbCwgc2VsZWN0b3IgfHwgdGhpcy5vcHRpb25zLmRyYWdnYWJsZSwgdGhpcy5lbCwgZmFsc2UpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTZXQvZ2V0IG9wdGlvblxuICAgKiBAcGFyYW0gICB7c3RyaW5nfSBuYW1lXG4gICAqIEBwYXJhbSAgIHsqfSAgICAgIFt2YWx1ZV1cbiAgICogQHJldHVybnMgeyp9XG4gICAqL1xuICBvcHRpb246IGZ1bmN0aW9uIG9wdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgaWYgKHZhbHVlID09PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiBvcHRpb25zW25hbWVdO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbW9kaWZpZWRWYWx1ZSA9IFBsdWdpbk1hbmFnZXIubW9kaWZ5T3B0aW9uKHRoaXMsIG5hbWUsIHZhbHVlKTtcblxuICAgICAgaWYgKHR5cGVvZiBtb2RpZmllZFZhbHVlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBvcHRpb25zW25hbWVdID0gbW9kaWZpZWRWYWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdGlvbnNbbmFtZV0gPSB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5hbWUgPT09ICdncm91cCcpIHtcbiAgICAgICAgX3ByZXBhcmVHcm91cChvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIERlc3Ryb3lcbiAgICovXG4gIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgcGx1Z2luRXZlbnQoJ2Rlc3Ryb3knLCB0aGlzKTtcbiAgICB2YXIgZWwgPSB0aGlzLmVsO1xuICAgIGVsW2V4cGFuZG9dID0gbnVsbDtcbiAgICBvZmYoZWwsICdtb3VzZWRvd24nLCB0aGlzLl9vblRhcFN0YXJ0KTtcbiAgICBvZmYoZWwsICd0b3VjaHN0YXJ0JywgdGhpcy5fb25UYXBTdGFydCk7XG4gICAgb2ZmKGVsLCAncG9pbnRlcmRvd24nLCB0aGlzLl9vblRhcFN0YXJ0KTtcblxuICAgIGlmICh0aGlzLm5hdGl2ZURyYWdnYWJsZSkge1xuICAgICAgb2ZmKGVsLCAnZHJhZ292ZXInLCB0aGlzKTtcbiAgICAgIG9mZihlbCwgJ2RyYWdlbnRlcicsIHRoaXMpO1xuICAgIH0gLy8gUmVtb3ZlIGRyYWdnYWJsZSBhdHRyaWJ1dGVzXG5cblxuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZWwucXVlcnlTZWxlY3RvckFsbCgnW2RyYWdnYWJsZV0nKSwgZnVuY3Rpb24gKGVsKSB7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ2RyYWdnYWJsZScpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fb25Ecm9wKCk7XG5cbiAgICBzb3J0YWJsZXMuc3BsaWNlKHNvcnRhYmxlcy5pbmRleE9mKHRoaXMuZWwpLCAxKTtcbiAgICB0aGlzLmVsID0gZWwgPSBudWxsO1xuICB9LFxuICBfaGlkZUNsb25lOiBmdW5jdGlvbiBfaGlkZUNsb25lKCkge1xuICAgIGlmICghY2xvbmVIaWRkZW4pIHtcbiAgICAgIHBsdWdpbkV2ZW50KCdoaWRlQ2xvbmUnLCB0aGlzKTtcbiAgICAgIGlmIChTb3J0YWJsZS5ldmVudENhbmNlbGVkKSByZXR1cm47XG4gICAgICBjc3MoY2xvbmVFbCwgJ2Rpc3BsYXknLCAnbm9uZScpO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnJlbW92ZUNsb25lT25IaWRlICYmIGNsb25lRWwucGFyZW50Tm9kZSkge1xuICAgICAgICBjbG9uZUVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY2xvbmVFbCk7XG4gICAgICB9XG5cbiAgICAgIGNsb25lSGlkZGVuID0gdHJ1ZTtcbiAgICB9XG4gIH0sXG4gIF9zaG93Q2xvbmU6IGZ1bmN0aW9uIF9zaG93Q2xvbmUocHV0U29ydGFibGUpIHtcbiAgICBpZiAocHV0U29ydGFibGUubGFzdFB1dE1vZGUgIT09ICdjbG9uZScpIHtcbiAgICAgIHRoaXMuX2hpZGVDbG9uZSgpO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGNsb25lSGlkZGVuKSB7XG4gICAgICBwbHVnaW5FdmVudCgnc2hvd0Nsb25lJywgdGhpcyk7XG4gICAgICBpZiAoU29ydGFibGUuZXZlbnRDYW5jZWxlZCkgcmV0dXJuOyAvLyBzaG93IGNsb25lIGF0IGRyYWdFbCBvciBvcmlnaW5hbCBwb3NpdGlvblxuXG4gICAgICBpZiAocm9vdEVsLmNvbnRhaW5zKGRyYWdFbCkgJiYgIXRoaXMub3B0aW9ucy5ncm91cC5yZXZlcnRDbG9uZSkge1xuICAgICAgICByb290RWwuaW5zZXJ0QmVmb3JlKGNsb25lRWwsIGRyYWdFbCk7XG4gICAgICB9IGVsc2UgaWYgKG5leHRFbCkge1xuICAgICAgICByb290RWwuaW5zZXJ0QmVmb3JlKGNsb25lRWwsIG5leHRFbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByb290RWwuYXBwZW5kQ2hpbGQoY2xvbmVFbCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZ3JvdXAucmV2ZXJ0Q2xvbmUpIHtcbiAgICAgICAgdGhpcy5fYW5pbWF0ZShkcmFnRWwsIGNsb25lRWwpO1xuICAgICAgfVxuXG4gICAgICBjc3MoY2xvbmVFbCwgJ2Rpc3BsYXknLCAnJyk7XG4gICAgICBjbG9uZUhpZGRlbiA9IGZhbHNlO1xuICAgIH1cbiAgfVxufTtcblxuZnVuY3Rpb24gX2dsb2JhbERyYWdPdmVyKFxuLyoqRXZlbnQqL1xuZXZ0KSB7XG4gIGlmIChldnQuZGF0YVRyYW5zZmVyKSB7XG4gICAgZXZ0LmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gJ21vdmUnO1xuICB9XG5cbiAgZXZ0LmNhbmNlbGFibGUgJiYgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG59XG5cbmZ1bmN0aW9uIF9vbk1vdmUoZnJvbUVsLCB0b0VsLCBkcmFnRWwsIGRyYWdSZWN0LCB0YXJnZXRFbCwgdGFyZ2V0UmVjdCwgb3JpZ2luYWxFdmVudCwgd2lsbEluc2VydEFmdGVyKSB7XG4gIHZhciBldnQsXG4gICAgICBzb3J0YWJsZSA9IGZyb21FbFtleHBhbmRvXSxcbiAgICAgIG9uTW92ZUZuID0gc29ydGFibGUub3B0aW9ucy5vbk1vdmUsXG4gICAgICByZXRWYWw7IC8vIFN1cHBvcnQgZm9yIG5ldyBDdXN0b21FdmVudCBmZWF0dXJlXG5cbiAgaWYgKHdpbmRvdy5DdXN0b21FdmVudCAmJiAhSUUxMU9yTGVzcyAmJiAhRWRnZSkge1xuICAgIGV2dCA9IG5ldyBDdXN0b21FdmVudCgnbW92ZScsIHtcbiAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG4gICAgZXZ0LmluaXRFdmVudCgnbW92ZScsIHRydWUsIHRydWUpO1xuICB9XG5cbiAgZXZ0LnRvID0gdG9FbDtcbiAgZXZ0LmZyb20gPSBmcm9tRWw7XG4gIGV2dC5kcmFnZ2VkID0gZHJhZ0VsO1xuICBldnQuZHJhZ2dlZFJlY3QgPSBkcmFnUmVjdDtcbiAgZXZ0LnJlbGF0ZWQgPSB0YXJnZXRFbCB8fCB0b0VsO1xuICBldnQucmVsYXRlZFJlY3QgPSB0YXJnZXRSZWN0IHx8IGdldFJlY3QodG9FbCk7XG4gIGV2dC53aWxsSW5zZXJ0QWZ0ZXIgPSB3aWxsSW5zZXJ0QWZ0ZXI7XG4gIGV2dC5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudDtcbiAgZnJvbUVsLmRpc3BhdGNoRXZlbnQoZXZ0KTtcblxuICBpZiAob25Nb3ZlRm4pIHtcbiAgICByZXRWYWwgPSBvbk1vdmVGbi5jYWxsKHNvcnRhYmxlLCBldnQsIG9yaWdpbmFsRXZlbnQpO1xuICB9XG5cbiAgcmV0dXJuIHJldFZhbDtcbn1cblxuZnVuY3Rpb24gX2Rpc2FibGVEcmFnZ2FibGUoZWwpIHtcbiAgZWwuZHJhZ2dhYmxlID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIF91bnNpbGVudCgpIHtcbiAgX3NpbGVudCA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBfZ2hvc3RJc0xhc3QoZXZ0LCB2ZXJ0aWNhbCwgc29ydGFibGUpIHtcbiAgdmFyIHJlY3QgPSBnZXRSZWN0KGxhc3RDaGlsZChzb3J0YWJsZS5lbCwgc29ydGFibGUub3B0aW9ucy5kcmFnZ2FibGUpKTtcbiAgdmFyIHNwYWNlciA9IDEwO1xuICByZXR1cm4gdmVydGljYWwgPyBldnQuY2xpZW50WCA+IHJlY3QucmlnaHQgKyBzcGFjZXIgfHwgZXZ0LmNsaWVudFggPD0gcmVjdC5yaWdodCAmJiBldnQuY2xpZW50WSA+IHJlY3QuYm90dG9tICYmIGV2dC5jbGllbnRYID49IHJlY3QubGVmdCA6IGV2dC5jbGllbnRYID4gcmVjdC5yaWdodCAmJiBldnQuY2xpZW50WSA+IHJlY3QudG9wIHx8IGV2dC5jbGllbnRYIDw9IHJlY3QucmlnaHQgJiYgZXZ0LmNsaWVudFkgPiByZWN0LmJvdHRvbSArIHNwYWNlcjtcbn1cblxuZnVuY3Rpb24gX2dldFN3YXBEaXJlY3Rpb24oZXZ0LCB0YXJnZXQsIHRhcmdldFJlY3QsIHZlcnRpY2FsLCBzd2FwVGhyZXNob2xkLCBpbnZlcnRlZFN3YXBUaHJlc2hvbGQsIGludmVydFN3YXAsIGlzTGFzdFRhcmdldCkge1xuICB2YXIgbW91c2VPbkF4aXMgPSB2ZXJ0aWNhbCA/IGV2dC5jbGllbnRZIDogZXZ0LmNsaWVudFgsXG4gICAgICB0YXJnZXRMZW5ndGggPSB2ZXJ0aWNhbCA/IHRhcmdldFJlY3QuaGVpZ2h0IDogdGFyZ2V0UmVjdC53aWR0aCxcbiAgICAgIHRhcmdldFMxID0gdmVydGljYWwgPyB0YXJnZXRSZWN0LnRvcCA6IHRhcmdldFJlY3QubGVmdCxcbiAgICAgIHRhcmdldFMyID0gdmVydGljYWwgPyB0YXJnZXRSZWN0LmJvdHRvbSA6IHRhcmdldFJlY3QucmlnaHQsXG4gICAgICBpbnZlcnQgPSBmYWxzZTtcblxuICBpZiAoIWludmVydFN3YXApIHtcbiAgICAvLyBOZXZlciBpbnZlcnQgb3IgY3JlYXRlIGRyYWdFbCBzaGFkb3cgd2hlbiB0YXJnZXQgbW92ZW1lbmV0IGNhdXNlcyBtb3VzZSB0byBtb3ZlIHBhc3QgdGhlIGVuZCBvZiByZWd1bGFyIHN3YXBUaHJlc2hvbGRcbiAgICBpZiAoaXNMYXN0VGFyZ2V0ICYmIHRhcmdldE1vdmVEaXN0YW5jZSA8IHRhcmdldExlbmd0aCAqIHN3YXBUaHJlc2hvbGQpIHtcbiAgICAgIC8vIG11bHRpcGxpZWQgb25seSBieSBzd2FwVGhyZXNob2xkIGJlY2F1c2UgbW91c2Ugd2lsbCBhbHJlYWR5IGJlIGluc2lkZSB0YXJnZXQgYnkgKDEgLSB0aHJlc2hvbGQpICogdGFyZ2V0TGVuZ3RoIC8gMlxuICAgICAgLy8gY2hlY2sgaWYgcGFzdCBmaXJzdCBpbnZlcnQgdGhyZXNob2xkIG9uIHNpZGUgb3Bwb3NpdGUgb2YgbGFzdERpcmVjdGlvblxuICAgICAgaWYgKCFwYXN0Rmlyc3RJbnZlcnRUaHJlc2ggJiYgKGxhc3REaXJlY3Rpb24gPT09IDEgPyBtb3VzZU9uQXhpcyA+IHRhcmdldFMxICsgdGFyZ2V0TGVuZ3RoICogaW52ZXJ0ZWRTd2FwVGhyZXNob2xkIC8gMiA6IG1vdXNlT25BeGlzIDwgdGFyZ2V0UzIgLSB0YXJnZXRMZW5ndGggKiBpbnZlcnRlZFN3YXBUaHJlc2hvbGQgLyAyKSkge1xuICAgICAgICAvLyBwYXN0IGZpcnN0IGludmVydCB0aHJlc2hvbGQsIGRvIG5vdCByZXN0cmljdCBpbnZlcnRlZCB0aHJlc2hvbGQgdG8gZHJhZ0VsIHNoYWRvd1xuICAgICAgICBwYXN0Rmlyc3RJbnZlcnRUaHJlc2ggPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXBhc3RGaXJzdEludmVydFRocmVzaCkge1xuICAgICAgICAvLyBkcmFnRWwgc2hhZG93ICh0YXJnZXQgbW92ZSBkaXN0YW5jZSBzaGFkb3cpXG4gICAgICAgIGlmIChsYXN0RGlyZWN0aW9uID09PSAxID8gbW91c2VPbkF4aXMgPCB0YXJnZXRTMSArIHRhcmdldE1vdmVEaXN0YW5jZSAvLyBvdmVyIGRyYWdFbCBzaGFkb3dcbiAgICAgICAgOiBtb3VzZU9uQXhpcyA+IHRhcmdldFMyIC0gdGFyZ2V0TW92ZURpc3RhbmNlKSB7XG4gICAgICAgICAgcmV0dXJuIC1sYXN0RGlyZWN0aW9uO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnZlcnQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZWd1bGFyXG4gICAgICBpZiAobW91c2VPbkF4aXMgPiB0YXJnZXRTMSArIHRhcmdldExlbmd0aCAqICgxIC0gc3dhcFRocmVzaG9sZCkgLyAyICYmIG1vdXNlT25BeGlzIDwgdGFyZ2V0UzIgLSB0YXJnZXRMZW5ndGggKiAoMSAtIHN3YXBUaHJlc2hvbGQpIC8gMikge1xuICAgICAgICByZXR1cm4gX2dldEluc2VydERpcmVjdGlvbih0YXJnZXQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGludmVydCA9IGludmVydCB8fCBpbnZlcnRTd2FwO1xuXG4gIGlmIChpbnZlcnQpIHtcbiAgICAvLyBJbnZlcnQgb2YgcmVndWxhclxuICAgIGlmIChtb3VzZU9uQXhpcyA8IHRhcmdldFMxICsgdGFyZ2V0TGVuZ3RoICogaW52ZXJ0ZWRTd2FwVGhyZXNob2xkIC8gMiB8fCBtb3VzZU9uQXhpcyA+IHRhcmdldFMyIC0gdGFyZ2V0TGVuZ3RoICogaW52ZXJ0ZWRTd2FwVGhyZXNob2xkIC8gMikge1xuICAgICAgcmV0dXJuIG1vdXNlT25BeGlzID4gdGFyZ2V0UzEgKyB0YXJnZXRMZW5ndGggLyAyID8gMSA6IC0xO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAwO1xufVxuLyoqXG4gKiBHZXRzIHRoZSBkaXJlY3Rpb24gZHJhZ0VsIG11c3QgYmUgc3dhcHBlZCByZWxhdGl2ZSB0byB0YXJnZXQgaW4gb3JkZXIgdG8gbWFrZSBpdFxuICogc2VlbSB0aGF0IGRyYWdFbCBoYXMgYmVlbiBcImluc2VydGVkXCIgaW50byB0aGF0IGVsZW1lbnQncyBwb3NpdGlvblxuICogQHBhcmFtICB7SFRNTEVsZW1lbnR9IHRhcmdldCAgICAgICBUaGUgdGFyZ2V0IHdob3NlIHBvc2l0aW9uIGRyYWdFbCBpcyBiZWluZyBpbnNlcnRlZCBhdFxuICogQHJldHVybiB7TnVtYmVyfSAgICAgICAgICAgICAgICAgICBEaXJlY3Rpb24gZHJhZ0VsIG11c3QgYmUgc3dhcHBlZFxuICovXG5cblxuZnVuY3Rpb24gX2dldEluc2VydERpcmVjdGlvbih0YXJnZXQpIHtcbiAgaWYgKGluZGV4KGRyYWdFbCkgPCBpbmRleCh0YXJnZXQpKSB7XG4gICAgcmV0dXJuIDE7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIC0xO1xuICB9XG59XG4vKipcbiAqIEdlbmVyYXRlIGlkXG4gKiBAcGFyYW0gICB7SFRNTEVsZW1lbnR9IGVsXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICogQHByaXZhdGVcbiAqL1xuXG5cbmZ1bmN0aW9uIF9nZW5lcmF0ZUlkKGVsKSB7XG4gIHZhciBzdHIgPSBlbC50YWdOYW1lICsgZWwuY2xhc3NOYW1lICsgZWwuc3JjICsgZWwuaHJlZiArIGVsLnRleHRDb250ZW50LFxuICAgICAgaSA9IHN0ci5sZW5ndGgsXG4gICAgICBzdW0gPSAwO1xuXG4gIHdoaWxlIChpLS0pIHtcbiAgICBzdW0gKz0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gIH1cblxuICByZXR1cm4gc3VtLnRvU3RyaW5nKDM2KTtcbn1cblxuZnVuY3Rpb24gX3NhdmVJbnB1dENoZWNrZWRTdGF0ZShyb290KSB7XG4gIHNhdmVkSW5wdXRDaGVja2VkLmxlbmd0aCA9IDA7XG4gIHZhciBpbnB1dHMgPSByb290LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbnB1dCcpO1xuICB2YXIgaWR4ID0gaW5wdXRzLmxlbmd0aDtcblxuICB3aGlsZSAoaWR4LS0pIHtcbiAgICB2YXIgX2VsID0gaW5wdXRzW2lkeF07XG4gICAgX2VsLmNoZWNrZWQgJiYgc2F2ZWRJbnB1dENoZWNrZWQucHVzaChfZWwpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9uZXh0VGljayhmbikge1xuICByZXR1cm4gc2V0VGltZW91dChmbiwgMCk7XG59XG5cbmZ1bmN0aW9uIF9jYW5jZWxOZXh0VGljayhpZCkge1xuICByZXR1cm4gY2xlYXJUaW1lb3V0KGlkKTtcbn0gLy8gRml4ZWQgIzk3MzpcblxuXG5vbihkb2N1bWVudCwgJ3RvdWNobW92ZScsIGZ1bmN0aW9uIChldnQpIHtcbiAgaWYgKChTb3J0YWJsZS5hY3RpdmUgfHwgYXdhaXRpbmdEcmFnU3RhcnRlZCkgJiYgZXZ0LmNhbmNlbGFibGUpIHtcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxufSk7IC8vIEV4cG9ydCB1dGlsc1xuXG5Tb3J0YWJsZS51dGlscyA9IHtcbiAgb246IG9uLFxuICBvZmY6IG9mZixcbiAgY3NzOiBjc3MsXG4gIGZpbmQ6IGZpbmQsXG4gIGlzOiBmdW5jdGlvbiBpcyhlbCwgc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gISFjbG9zZXN0KGVsLCBzZWxlY3RvciwgZWwsIGZhbHNlKTtcbiAgfSxcbiAgZXh0ZW5kOiBleHRlbmQsXG4gIHRocm90dGxlOiB0aHJvdHRsZSxcbiAgY2xvc2VzdDogY2xvc2VzdCxcbiAgdG9nZ2xlQ2xhc3M6IHRvZ2dsZUNsYXNzLFxuICBjbG9uZTogY2xvbmUsXG4gIGluZGV4OiBpbmRleCxcbiAgbmV4dFRpY2s6IF9uZXh0VGljayxcbiAgY2FuY2VsTmV4dFRpY2s6IF9jYW5jZWxOZXh0VGljayxcbiAgZGV0ZWN0RGlyZWN0aW9uOiBfZGV0ZWN0RGlyZWN0aW9uLFxuICBnZXRDaGlsZDogZ2V0Q2hpbGRcbn07XG4vKipcbiAqIE1vdW50IGEgcGx1Z2luIHRvIFNvcnRhYmxlXG4gKiBAcGFyYW0gIHsuLi5Tb3J0YWJsZVBsdWdpbnxTb3J0YWJsZVBsdWdpbltdfSBwbHVnaW5zICAgICAgIFBsdWdpbnMgYmVpbmcgbW91bnRlZFxuICovXG5cblNvcnRhYmxlLm1vdW50ID0gZnVuY3Rpb24gKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcGx1Z2lucyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBwbHVnaW5zW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgaWYgKHBsdWdpbnNbMF0uY29uc3RydWN0b3IgPT09IEFycmF5KSBwbHVnaW5zID0gcGx1Z2luc1swXTtcbiAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICBpZiAoIXBsdWdpbi5wcm90b3R5cGUgfHwgIXBsdWdpbi5wcm90b3R5cGUuY29uc3RydWN0b3IpIHtcbiAgICAgIHRocm93IFwiU29ydGFibGU6IE1vdW50ZWQgcGx1Z2luIG11c3QgYmUgYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiwgbm90IFwiLmNvbmNhdCh7fS50b1N0cmluZy5jYWxsKGVsKSk7XG4gICAgfVxuXG4gICAgaWYgKHBsdWdpbi51dGlscykgU29ydGFibGUudXRpbHMgPSBfb2JqZWN0U3ByZWFkKHt9LCBTb3J0YWJsZS51dGlscywgcGx1Z2luLnV0aWxzKTtcbiAgICBQbHVnaW5NYW5hZ2VyLm1vdW50KHBsdWdpbik7XG4gIH0pO1xufTtcbi8qKlxuICogQ3JlYXRlIHNvcnRhYmxlIGluc3RhbmNlXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSAgZWxcbiAqIEBwYXJhbSB7T2JqZWN0fSAgICAgIFtvcHRpb25zXVxuICovXG5cblxuU29ydGFibGUuY3JlYXRlID0gZnVuY3Rpb24gKGVsLCBvcHRpb25zKSB7XG4gIHJldHVybiBuZXcgU29ydGFibGUoZWwsIG9wdGlvbnMpO1xufTsgLy8gRXhwb3J0XG5cblxuU29ydGFibGUudmVyc2lvbiA9IHZlcnNpb247XG5cbnZhciBhdXRvU2Nyb2xscyA9IFtdLFxuICAgIHNjcm9sbEVsLFxuICAgIHNjcm9sbFJvb3RFbCxcbiAgICBzY3JvbGxpbmcgPSBmYWxzZSxcbiAgICBsYXN0QXV0b1Njcm9sbFgsXG4gICAgbGFzdEF1dG9TY3JvbGxZLFxuICAgIHRvdWNoRXZ0JDEsXG4gICAgcG9pbnRlckVsZW1DaGFuZ2VkSW50ZXJ2YWw7XG5cbmZ1bmN0aW9uIEF1dG9TY3JvbGxQbHVnaW4oKSB7XG4gIGZ1bmN0aW9uIEF1dG9TY3JvbGwoKSB7XG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgc2Nyb2xsOiB0cnVlLFxuICAgICAgc2Nyb2xsU2Vuc2l0aXZpdHk6IDMwLFxuICAgICAgc2Nyb2xsU3BlZWQ6IDEwLFxuICAgICAgYnViYmxlU2Nyb2xsOiB0cnVlXG4gICAgfTsgLy8gQmluZCBhbGwgcHJpdmF0ZSBtZXRob2RzXG5cbiAgICBmb3IgKHZhciBmbiBpbiB0aGlzKSB7XG4gICAgICBpZiAoZm4uY2hhckF0KDApID09PSAnXycgJiYgdHlwZW9mIHRoaXNbZm5dID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXNbZm5dID0gdGhpc1tmbl0uYmluZCh0aGlzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBBdXRvU2Nyb2xsLnByb3RvdHlwZSA9IHtcbiAgICBkcmFnU3RhcnRlZDogZnVuY3Rpb24gZHJhZ1N0YXJ0ZWQoX3JlZikge1xuICAgICAgdmFyIG9yaWdpbmFsRXZlbnQgPSBfcmVmLm9yaWdpbmFsRXZlbnQ7XG5cbiAgICAgIGlmICh0aGlzLnNvcnRhYmxlLm5hdGl2ZURyYWdnYWJsZSkge1xuICAgICAgICBvbihkb2N1bWVudCwgJ2RyYWdvdmVyJywgdGhpcy5faGFuZGxlQXV0b1Njcm9sbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5zb3J0YWJsZS5vcHRpb25zLnN1cHBvcnRQb2ludGVyKSB7XG4gICAgICAgICAgb24oZG9jdW1lbnQsICdwb2ludGVybW92ZScsIHRoaXMuX2hhbmRsZUZhbGxiYWNrQXV0b1Njcm9sbCk7XG4gICAgICAgIH0gZWxzZSBpZiAob3JpZ2luYWxFdmVudC50b3VjaGVzKSB7XG4gICAgICAgICAgb24oZG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVGYWxsYmFja0F1dG9TY3JvbGwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9uKGRvY3VtZW50LCAnbW91c2Vtb3ZlJywgdGhpcy5faGFuZGxlRmFsbGJhY2tBdXRvU2Nyb2xsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZHJhZ092ZXJDb21wbGV0ZWQ6IGZ1bmN0aW9uIGRyYWdPdmVyQ29tcGxldGVkKF9yZWYyKSB7XG4gICAgICB2YXIgb3JpZ2luYWxFdmVudCA9IF9yZWYyLm9yaWdpbmFsRXZlbnQ7XG5cbiAgICAgIC8vIEZvciB3aGVuIGJ1YmJsaW5nIGlzIGNhbmNlbGVkIGFuZCB1c2luZyBmYWxsYmFjayAoZmFsbGJhY2sgJ3RvdWNobW92ZScgYWx3YXlzIHJlYWNoZWQpXG4gICAgICBpZiAoIXRoaXMuc29ydGFibGUub3B0aW9ucy5kcmFnT3ZlckJ1YmJsZSAmJiAhb3JpZ2luYWxFdmVudC5yb290RWwpIHtcbiAgICAgICAgdGhpcy5faGFuZGxlQXV0b1Njcm9sbChvcmlnaW5hbEV2ZW50KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGRyb3A6IGZ1bmN0aW9uIGRyb3AoKSB7XG4gICAgICBpZiAodGhpcy5zb3J0YWJsZS5uYXRpdmVEcmFnZ2FibGUpIHtcbiAgICAgICAgb2ZmKGRvY3VtZW50LCAnZHJhZ292ZXInLCB0aGlzLl9oYW5kbGVBdXRvU2Nyb2xsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9mZihkb2N1bWVudCwgJ3BvaW50ZXJtb3ZlJywgdGhpcy5faGFuZGxlRmFsbGJhY2tBdXRvU2Nyb2xsKTtcbiAgICAgICAgb2ZmKGRvY3VtZW50LCAndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlRmFsbGJhY2tBdXRvU2Nyb2xsKTtcbiAgICAgICAgb2ZmKGRvY3VtZW50LCAnbW91c2Vtb3ZlJywgdGhpcy5faGFuZGxlRmFsbGJhY2tBdXRvU2Nyb2xsKTtcbiAgICAgIH1cblxuICAgICAgY2xlYXJQb2ludGVyRWxlbUNoYW5nZWRJbnRlcnZhbCgpO1xuICAgICAgY2xlYXJBdXRvU2Nyb2xscygpO1xuICAgICAgY2FuY2VsVGhyb3R0bGUoKTtcbiAgICB9LFxuICAgIG51bGxpbmc6IGZ1bmN0aW9uIG51bGxpbmcoKSB7XG4gICAgICB0b3VjaEV2dCQxID0gc2Nyb2xsUm9vdEVsID0gc2Nyb2xsRWwgPSBzY3JvbGxpbmcgPSBwb2ludGVyRWxlbUNoYW5nZWRJbnRlcnZhbCA9IGxhc3RBdXRvU2Nyb2xsWCA9IGxhc3RBdXRvU2Nyb2xsWSA9IG51bGw7XG4gICAgICBhdXRvU2Nyb2xscy5sZW5ndGggPSAwO1xuICAgIH0sXG4gICAgX2hhbmRsZUZhbGxiYWNrQXV0b1Njcm9sbDogZnVuY3Rpb24gX2hhbmRsZUZhbGxiYWNrQXV0b1Njcm9sbChldnQpIHtcbiAgICAgIHRoaXMuX2hhbmRsZUF1dG9TY3JvbGwoZXZ0LCB0cnVlKTtcbiAgICB9LFxuICAgIF9oYW5kbGVBdXRvU2Nyb2xsOiBmdW5jdGlvbiBfaGFuZGxlQXV0b1Njcm9sbChldnQsIGZhbGxiYWNrKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgeCA9IGV2dC5jbGllbnRYLFxuICAgICAgICAgIHkgPSBldnQuY2xpZW50WSxcbiAgICAgICAgICBlbGVtID0gZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludCh4LCB5KTtcbiAgICAgIHRvdWNoRXZ0JDEgPSBldnQ7IC8vIElFIGRvZXMgbm90IHNlZW0gdG8gaGF2ZSBuYXRpdmUgYXV0b3Njcm9sbCxcbiAgICAgIC8vIEVkZ2UncyBhdXRvc2Nyb2xsIHNlZW1zIHRvbyBjb25kaXRpb25hbCxcbiAgICAgIC8vIE1BQ09TIFNhZmFyaSBkb2VzIG5vdCBoYXZlIGF1dG9zY3JvbGwsXG4gICAgICAvLyBGaXJlZm94IGFuZCBDaHJvbWUgYXJlIGdvb2RcblxuICAgICAgaWYgKGZhbGxiYWNrIHx8IEVkZ2UgfHwgSUUxMU9yTGVzcyB8fCBTYWZhcmkpIHtcbiAgICAgICAgYXV0b1Njcm9sbChldnQsIHRoaXMub3B0aW9ucywgZWxlbSwgZmFsbGJhY2spOyAvLyBMaXN0ZW5lciBmb3IgcG9pbnRlciBlbGVtZW50IGNoYW5nZVxuXG4gICAgICAgIHZhciBvZ0VsZW1TY3JvbGxlciA9IGdldFBhcmVudEF1dG9TY3JvbGxFbGVtZW50KGVsZW0sIHRydWUpO1xuXG4gICAgICAgIGlmIChzY3JvbGxpbmcgJiYgKCFwb2ludGVyRWxlbUNoYW5nZWRJbnRlcnZhbCB8fCB4ICE9PSBsYXN0QXV0b1Njcm9sbFggfHwgeSAhPT0gbGFzdEF1dG9TY3JvbGxZKSkge1xuICAgICAgICAgIHBvaW50ZXJFbGVtQ2hhbmdlZEludGVydmFsICYmIGNsZWFyUG9pbnRlckVsZW1DaGFuZ2VkSW50ZXJ2YWwoKTsgLy8gRGV0ZWN0IGZvciBwb2ludGVyIGVsZW0gY2hhbmdlLCBlbXVsYXRpbmcgbmF0aXZlIERuRCBiZWhhdmlvdXJcblxuICAgICAgICAgIHBvaW50ZXJFbGVtQ2hhbmdlZEludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG5ld0VsZW0gPSBnZXRQYXJlbnRBdXRvU2Nyb2xsRWxlbWVudChkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHgsIHkpLCB0cnVlKTtcblxuICAgICAgICAgICAgaWYgKG5ld0VsZW0gIT09IG9nRWxlbVNjcm9sbGVyKSB7XG4gICAgICAgICAgICAgIG9nRWxlbVNjcm9sbGVyID0gbmV3RWxlbTtcbiAgICAgICAgICAgICAgY2xlYXJBdXRvU2Nyb2xscygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhdXRvU2Nyb2xsKGV2dCwgX3RoaXMub3B0aW9ucywgbmV3RWxlbSwgZmFsbGJhY2spO1xuICAgICAgICAgIH0sIDEwKTtcbiAgICAgICAgICBsYXN0QXV0b1Njcm9sbFggPSB4O1xuICAgICAgICAgIGxhc3RBdXRvU2Nyb2xsWSA9IHk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGlmIERuRCBpcyBlbmFibGVkIChhbmQgYnJvd3NlciBoYXMgZ29vZCBhdXRvc2Nyb2xsaW5nKSwgZmlyc3QgYXV0b3Njcm9sbCB3aWxsIGFscmVhZHkgc2Nyb2xsLCBzbyBnZXQgcGFyZW50IGF1dG9zY3JvbGwgb2YgZmlyc3QgYXV0b3Njcm9sbFxuICAgICAgICBpZiAoIXRoaXMuc29ydGFibGUub3B0aW9ucy5idWJibGVTY3JvbGwgfHwgZ2V0UGFyZW50QXV0b1Njcm9sbEVsZW1lbnQoZWxlbSwgdHJ1ZSkgPT09IGdldFdpbmRvd1Njcm9sbGluZ0VsZW1lbnQoKSkge1xuICAgICAgICAgIGNsZWFyQXV0b1Njcm9sbHMoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBhdXRvU2Nyb2xsKGV2dCwgdGhpcy5vcHRpb25zLCBnZXRQYXJlbnRBdXRvU2Nyb2xsRWxlbWVudChlbGVtLCBmYWxzZSksIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBfZXh0ZW5kcyhBdXRvU2Nyb2xsLCB7XG4gICAgcGx1Z2luTmFtZTogJ3Njcm9sbCcsXG4gICAgaW5pdGlhbGl6ZUJ5RGVmYXVsdDogdHJ1ZVxuICB9KTtcbn1cblxuZnVuY3Rpb24gY2xlYXJBdXRvU2Nyb2xscygpIHtcbiAgYXV0b1Njcm9sbHMuZm9yRWFjaChmdW5jdGlvbiAoYXV0b1Njcm9sbCkge1xuICAgIGNsZWFySW50ZXJ2YWwoYXV0b1Njcm9sbC5waWQpO1xuICB9KTtcbiAgYXV0b1Njcm9sbHMgPSBbXTtcbn1cblxuZnVuY3Rpb24gY2xlYXJQb2ludGVyRWxlbUNoYW5nZWRJbnRlcnZhbCgpIHtcbiAgY2xlYXJJbnRlcnZhbChwb2ludGVyRWxlbUNoYW5nZWRJbnRlcnZhbCk7XG59XG5cbnZhciBhdXRvU2Nyb2xsID0gdGhyb3R0bGUoZnVuY3Rpb24gKGV2dCwgb3B0aW9ucywgcm9vdEVsLCBpc0ZhbGxiYWNrKSB7XG4gIC8vIEJ1ZzogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NTA1NTIxXG4gIGlmICghb3B0aW9ucy5zY3JvbGwpIHJldHVybjtcbiAgdmFyIHNlbnMgPSBvcHRpb25zLnNjcm9sbFNlbnNpdGl2aXR5LFxuICAgICAgc3BlZWQgPSBvcHRpb25zLnNjcm9sbFNwZWVkLFxuICAgICAgd2luU2Nyb2xsZXIgPSBnZXRXaW5kb3dTY3JvbGxpbmdFbGVtZW50KCk7XG4gIHZhciBzY3JvbGxUaGlzSW5zdGFuY2UgPSBmYWxzZSxcbiAgICAgIHNjcm9sbEN1c3RvbUZuOyAvLyBOZXcgc2Nyb2xsIHJvb3QsIHNldCBzY3JvbGxFbFxuXG4gIGlmIChzY3JvbGxSb290RWwgIT09IHJvb3RFbCkge1xuICAgIHNjcm9sbFJvb3RFbCA9IHJvb3RFbDtcbiAgICBjbGVhckF1dG9TY3JvbGxzKCk7XG4gICAgc2Nyb2xsRWwgPSBvcHRpb25zLnNjcm9sbDtcbiAgICBzY3JvbGxDdXN0b21GbiA9IG9wdGlvbnMuc2Nyb2xsRm47XG5cbiAgICBpZiAoc2Nyb2xsRWwgPT09IHRydWUpIHtcbiAgICAgIHNjcm9sbEVsID0gZ2V0UGFyZW50QXV0b1Njcm9sbEVsZW1lbnQocm9vdEVsLCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICB2YXIgbGF5ZXJzT3V0ID0gMDtcbiAgdmFyIGN1cnJlbnRQYXJlbnQgPSBzY3JvbGxFbDtcblxuICBkbyB7XG4gICAgdmFyIGVsID0gY3VycmVudFBhcmVudCxcbiAgICAgICAgcmVjdCA9IGdldFJlY3QoZWwpLFxuICAgICAgICB0b3AgPSByZWN0LnRvcCxcbiAgICAgICAgYm90dG9tID0gcmVjdC5ib3R0b20sXG4gICAgICAgIGxlZnQgPSByZWN0LmxlZnQsXG4gICAgICAgIHJpZ2h0ID0gcmVjdC5yaWdodCxcbiAgICAgICAgd2lkdGggPSByZWN0LndpZHRoLFxuICAgICAgICBoZWlnaHQgPSByZWN0LmhlaWdodCxcbiAgICAgICAgY2FuU2Nyb2xsWCA9IHZvaWQgMCxcbiAgICAgICAgY2FuU2Nyb2xsWSA9IHZvaWQgMCxcbiAgICAgICAgc2Nyb2xsV2lkdGggPSBlbC5zY3JvbGxXaWR0aCxcbiAgICAgICAgc2Nyb2xsSGVpZ2h0ID0gZWwuc2Nyb2xsSGVpZ2h0LFxuICAgICAgICBlbENTUyA9IGNzcyhlbCksXG4gICAgICAgIHNjcm9sbFBvc1ggPSBlbC5zY3JvbGxMZWZ0LFxuICAgICAgICBzY3JvbGxQb3NZID0gZWwuc2Nyb2xsVG9wO1xuXG4gICAgaWYgKGVsID09PSB3aW5TY3JvbGxlcikge1xuICAgICAgY2FuU2Nyb2xsWCA9IHdpZHRoIDwgc2Nyb2xsV2lkdGggJiYgKGVsQ1NTLm92ZXJmbG93WCA9PT0gJ2F1dG8nIHx8IGVsQ1NTLm92ZXJmbG93WCA9PT0gJ3Njcm9sbCcgfHwgZWxDU1Mub3ZlcmZsb3dYID09PSAndmlzaWJsZScpO1xuICAgICAgY2FuU2Nyb2xsWSA9IGhlaWdodCA8IHNjcm9sbEhlaWdodCAmJiAoZWxDU1Mub3ZlcmZsb3dZID09PSAnYXV0bycgfHwgZWxDU1Mub3ZlcmZsb3dZID09PSAnc2Nyb2xsJyB8fCBlbENTUy5vdmVyZmxvd1kgPT09ICd2aXNpYmxlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhblNjcm9sbFggPSB3aWR0aCA8IHNjcm9sbFdpZHRoICYmIChlbENTUy5vdmVyZmxvd1ggPT09ICdhdXRvJyB8fCBlbENTUy5vdmVyZmxvd1ggPT09ICdzY3JvbGwnKTtcbiAgICAgIGNhblNjcm9sbFkgPSBoZWlnaHQgPCBzY3JvbGxIZWlnaHQgJiYgKGVsQ1NTLm92ZXJmbG93WSA9PT0gJ2F1dG8nIHx8IGVsQ1NTLm92ZXJmbG93WSA9PT0gJ3Njcm9sbCcpO1xuICAgIH1cblxuICAgIHZhciB2eCA9IGNhblNjcm9sbFggJiYgKE1hdGguYWJzKHJpZ2h0IC0gZXZ0LmNsaWVudFgpIDw9IHNlbnMgJiYgc2Nyb2xsUG9zWCArIHdpZHRoIDwgc2Nyb2xsV2lkdGgpIC0gKE1hdGguYWJzKGxlZnQgLSBldnQuY2xpZW50WCkgPD0gc2VucyAmJiAhIXNjcm9sbFBvc1gpO1xuICAgIHZhciB2eSA9IGNhblNjcm9sbFkgJiYgKE1hdGguYWJzKGJvdHRvbSAtIGV2dC5jbGllbnRZKSA8PSBzZW5zICYmIHNjcm9sbFBvc1kgKyBoZWlnaHQgPCBzY3JvbGxIZWlnaHQpIC0gKE1hdGguYWJzKHRvcCAtIGV2dC5jbGllbnRZKSA8PSBzZW5zICYmICEhc2Nyb2xsUG9zWSk7XG5cbiAgICBpZiAoIWF1dG9TY3JvbGxzW2xheWVyc091dF0pIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IGxheWVyc091dDsgaSsrKSB7XG4gICAgICAgIGlmICghYXV0b1Njcm9sbHNbaV0pIHtcbiAgICAgICAgICBhdXRvU2Nyb2xsc1tpXSA9IHt9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGF1dG9TY3JvbGxzW2xheWVyc091dF0udnggIT0gdnggfHwgYXV0b1Njcm9sbHNbbGF5ZXJzT3V0XS52eSAhPSB2eSB8fCBhdXRvU2Nyb2xsc1tsYXllcnNPdXRdLmVsICE9PSBlbCkge1xuICAgICAgYXV0b1Njcm9sbHNbbGF5ZXJzT3V0XS5lbCA9IGVsO1xuICAgICAgYXV0b1Njcm9sbHNbbGF5ZXJzT3V0XS52eCA9IHZ4O1xuICAgICAgYXV0b1Njcm9sbHNbbGF5ZXJzT3V0XS52eSA9IHZ5O1xuICAgICAgY2xlYXJJbnRlcnZhbChhdXRvU2Nyb2xsc1tsYXllcnNPdXRdLnBpZCk7XG5cbiAgICAgIGlmICh2eCAhPSAwIHx8IHZ5ICE9IDApIHtcbiAgICAgICAgc2Nyb2xsVGhpc0luc3RhbmNlID0gdHJ1ZTtcbiAgICAgICAgLyoganNoaW50IGxvb3BmdW5jOnRydWUgKi9cblxuICAgICAgICBhdXRvU2Nyb2xsc1tsYXllcnNPdXRdLnBpZCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLyBlbXVsYXRlIGRyYWcgb3ZlciBkdXJpbmcgYXV0b3Njcm9sbCAoZmFsbGJhY2spLCBlbXVsYXRpbmcgbmF0aXZlIERuRCBiZWhhdmlvdXJcbiAgICAgICAgICBpZiAoaXNGYWxsYmFjayAmJiB0aGlzLmxheWVyID09PSAwKSB7XG4gICAgICAgICAgICBTb3J0YWJsZS5hY3RpdmUuX29uVG91Y2hNb3ZlKHRvdWNoRXZ0JDEpOyAvLyBUbyBtb3ZlIGdob3N0IGlmIGl0IGlzIHBvc2l0aW9uZWQgYWJzb2x1dGVseVxuXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHNjcm9sbE9mZnNldFkgPSBhdXRvU2Nyb2xsc1t0aGlzLmxheWVyXS52eSA/IGF1dG9TY3JvbGxzW3RoaXMubGF5ZXJdLnZ5ICogc3BlZWQgOiAwO1xuICAgICAgICAgIHZhciBzY3JvbGxPZmZzZXRYID0gYXV0b1Njcm9sbHNbdGhpcy5sYXllcl0udnggPyBhdXRvU2Nyb2xsc1t0aGlzLmxheWVyXS52eCAqIHNwZWVkIDogMDtcblxuICAgICAgICAgIGlmICh0eXBlb2Ygc2Nyb2xsQ3VzdG9tRm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGlmIChzY3JvbGxDdXN0b21Gbi5jYWxsKFNvcnRhYmxlLmRyYWdnZWQucGFyZW50Tm9kZVtleHBhbmRvXSwgc2Nyb2xsT2Zmc2V0WCwgc2Nyb2xsT2Zmc2V0WSwgZXZ0LCB0b3VjaEV2dCQxLCBhdXRvU2Nyb2xsc1t0aGlzLmxheWVyXS5lbCkgIT09ICdjb250aW51ZScpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHNjcm9sbEJ5KGF1dG9TY3JvbGxzW3RoaXMubGF5ZXJdLmVsLCBzY3JvbGxPZmZzZXRYLCBzY3JvbGxPZmZzZXRZKTtcbiAgICAgICAgfS5iaW5kKHtcbiAgICAgICAgICBsYXllcjogbGF5ZXJzT3V0XG4gICAgICAgIH0pLCAyNCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGF5ZXJzT3V0Kys7XG4gIH0gd2hpbGUgKG9wdGlvbnMuYnViYmxlU2Nyb2xsICYmIGN1cnJlbnRQYXJlbnQgIT09IHdpblNjcm9sbGVyICYmIChjdXJyZW50UGFyZW50ID0gZ2V0UGFyZW50QXV0b1Njcm9sbEVsZW1lbnQoY3VycmVudFBhcmVudCwgZmFsc2UpKSk7XG5cbiAgc2Nyb2xsaW5nID0gc2Nyb2xsVGhpc0luc3RhbmNlOyAvLyBpbiBjYXNlIGFub3RoZXIgZnVuY3Rpb24gY2F0Y2hlcyBzY3JvbGxpbmcgYXMgZmFsc2UgaW4gYmV0d2VlbiB3aGVuIGl0IGlzIG5vdFxufSwgMzApO1xuXG52YXIgZHJvcCA9IGZ1bmN0aW9uIGRyb3AoX3JlZikge1xuICB2YXIgb3JpZ2luYWxFdmVudCA9IF9yZWYub3JpZ2luYWxFdmVudCxcbiAgICAgIHB1dFNvcnRhYmxlID0gX3JlZi5wdXRTb3J0YWJsZSxcbiAgICAgIGRyYWdFbCA9IF9yZWYuZHJhZ0VsLFxuICAgICAgYWN0aXZlU29ydGFibGUgPSBfcmVmLmFjdGl2ZVNvcnRhYmxlLFxuICAgICAgZGlzcGF0Y2hTb3J0YWJsZUV2ZW50ID0gX3JlZi5kaXNwYXRjaFNvcnRhYmxlRXZlbnQsXG4gICAgICBoaWRlR2hvc3RGb3JUYXJnZXQgPSBfcmVmLmhpZGVHaG9zdEZvclRhcmdldCxcbiAgICAgIHVuaGlkZUdob3N0Rm9yVGFyZ2V0ID0gX3JlZi51bmhpZGVHaG9zdEZvclRhcmdldDtcbiAgdmFyIHRvU29ydGFibGUgPSBwdXRTb3J0YWJsZSB8fCBhY3RpdmVTb3J0YWJsZTtcbiAgaGlkZUdob3N0Rm9yVGFyZ2V0KCk7XG4gIHZhciB0YXJnZXQgPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KG9yaWdpbmFsRXZlbnQuY2xpZW50WCwgb3JpZ2luYWxFdmVudC5jbGllbnRZKTtcbiAgdW5oaWRlR2hvc3RGb3JUYXJnZXQoKTtcblxuICBpZiAodG9Tb3J0YWJsZSAmJiAhdG9Tb3J0YWJsZS5lbC5jb250YWlucyh0YXJnZXQpKSB7XG4gICAgZGlzcGF0Y2hTb3J0YWJsZUV2ZW50KCdzcGlsbCcpO1xuICAgIHRoaXMub25TcGlsbChkcmFnRWwpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBSZXZlcnQoKSB7fVxuXG5SZXZlcnQucHJvdG90eXBlID0ge1xuICBzdGFydEluZGV4OiBudWxsLFxuICBkcmFnU3RhcnQ6IGZ1bmN0aW9uIGRyYWdTdGFydChfcmVmMikge1xuICAgIHZhciBvbGREcmFnZ2FibGVJbmRleCA9IF9yZWYyLm9sZERyYWdnYWJsZUluZGV4O1xuICAgIHRoaXMuc3RhcnRJbmRleCA9IG9sZERyYWdnYWJsZUluZGV4O1xuICB9LFxuICBvblNwaWxsOiBmdW5jdGlvbiBvblNwaWxsKGRyYWdFbCkge1xuICAgIHRoaXMuc29ydGFibGUuY2FwdHVyZUFuaW1hdGlvblN0YXRlKCk7XG4gICAgdmFyIG5leHRTaWJsaW5nID0gZ2V0Q2hpbGQodGhpcy5zb3J0YWJsZS5lbCwgdGhpcy5zdGFydEluZGV4LCB0aGlzLnNvcnRhYmxlLm9wdGlvbnMpO1xuXG4gICAgaWYgKG5leHRTaWJsaW5nKSB7XG4gICAgICB0aGlzLnNvcnRhYmxlLmVsLmluc2VydEJlZm9yZShkcmFnRWwsIG5leHRTaWJsaW5nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zb3J0YWJsZS5lbC5hcHBlbmRDaGlsZChkcmFnRWwpO1xuICAgIH1cblxuICAgIHRoaXMuc29ydGFibGUuYW5pbWF0ZUFsbCgpO1xuICB9LFxuICBkcm9wOiBkcm9wXG59O1xuXG5fZXh0ZW5kcyhSZXZlcnQsIHtcbiAgcGx1Z2luTmFtZTogJ3JldmVydE9uU3BpbGwnXG59KTtcblxuZnVuY3Rpb24gUmVtb3ZlKCkge31cblxuUmVtb3ZlLnByb3RvdHlwZSA9IHtcbiAgb25TcGlsbDogZnVuY3Rpb24gb25TcGlsbChkcmFnRWwpIHtcbiAgICB0aGlzLnNvcnRhYmxlLmNhcHR1cmVBbmltYXRpb25TdGF0ZSgpO1xuICAgIGRyYWdFbC5wYXJlbnROb2RlICYmIGRyYWdFbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGRyYWdFbCk7XG4gICAgdGhpcy5zb3J0YWJsZS5hbmltYXRlQWxsKCk7XG4gIH0sXG4gIGRyb3A6IGRyb3Bcbn07XG5cbl9leHRlbmRzKFJlbW92ZSwge1xuICBwbHVnaW5OYW1lOiAncmVtb3ZlT25TcGlsbCdcbn0pO1xuXG52YXIgbGFzdFN3YXBFbDtcblxuZnVuY3Rpb24gU3dhcFBsdWdpbigpIHtcbiAgZnVuY3Rpb24gU3dhcCgpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICBzd2FwQ2xhc3M6ICdzb3J0YWJsZS1zd2FwLWhpZ2hsaWdodCdcbiAgICB9O1xuICB9XG5cbiAgU3dhcC5wcm90b3R5cGUgPSB7XG4gICAgZHJhZ1N0YXJ0OiBmdW5jdGlvbiBkcmFnU3RhcnQoX3JlZikge1xuICAgICAgdmFyIGRyYWdFbCA9IF9yZWYuZHJhZ0VsO1xuICAgICAgbGFzdFN3YXBFbCA9IGRyYWdFbDtcbiAgICB9LFxuICAgIGRyYWdPdmVyVmFsaWQ6IGZ1bmN0aW9uIGRyYWdPdmVyVmFsaWQoX3JlZjIpIHtcbiAgICAgIHZhciBjb21wbGV0ZWQgPSBfcmVmMi5jb21wbGV0ZWQsXG4gICAgICAgICAgdGFyZ2V0ID0gX3JlZjIudGFyZ2V0LFxuICAgICAgICAgIG9uTW92ZSA9IF9yZWYyLm9uTW92ZSxcbiAgICAgICAgICBhY3RpdmVTb3J0YWJsZSA9IF9yZWYyLmFjdGl2ZVNvcnRhYmxlLFxuICAgICAgICAgIGNoYW5nZWQgPSBfcmVmMi5jaGFuZ2VkO1xuICAgICAgaWYgKCFhY3RpdmVTb3J0YWJsZS5vcHRpb25zLnN3YXApIHJldHVybjtcbiAgICAgIHZhciBlbCA9IHRoaXMuc29ydGFibGUuZWwsXG4gICAgICAgICAgb3B0aW9ucyA9IHRoaXMuc29ydGFibGUub3B0aW9ucztcblxuICAgICAgaWYgKHRhcmdldCAmJiB0YXJnZXQgIT09IGVsKSB7XG4gICAgICAgIHZhciBwcmV2U3dhcEVsID0gbGFzdFN3YXBFbDtcblxuICAgICAgICBpZiAob25Nb3ZlKHRhcmdldCkgIT09IGZhbHNlKSB7XG4gICAgICAgICAgdG9nZ2xlQ2xhc3ModGFyZ2V0LCBvcHRpb25zLnN3YXBDbGFzcywgdHJ1ZSk7XG4gICAgICAgICAgbGFzdFN3YXBFbCA9IHRhcmdldDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsYXN0U3dhcEVsID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcmV2U3dhcEVsICYmIHByZXZTd2FwRWwgIT09IGxhc3RTd2FwRWwpIHtcbiAgICAgICAgICB0b2dnbGVDbGFzcyhwcmV2U3dhcEVsLCBvcHRpb25zLnN3YXBDbGFzcywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNoYW5nZWQoKTtcbiAgICAgIHJldHVybiBjb21wbGV0ZWQodHJ1ZSk7XG4gICAgfSxcbiAgICBkcm9wOiBmdW5jdGlvbiBkcm9wKF9yZWYzKSB7XG4gICAgICB2YXIgYWN0aXZlU29ydGFibGUgPSBfcmVmMy5hY3RpdmVTb3J0YWJsZSxcbiAgICAgICAgICBwdXRTb3J0YWJsZSA9IF9yZWYzLnB1dFNvcnRhYmxlLFxuICAgICAgICAgIGRyYWdFbCA9IF9yZWYzLmRyYWdFbDtcbiAgICAgIHZhciB0b1NvcnRhYmxlID0gcHV0U29ydGFibGUgfHwgdGhpcy5zb3J0YWJsZTtcbiAgICAgIHZhciBvcHRpb25zID0gdGhpcy5zb3J0YWJsZS5vcHRpb25zO1xuICAgICAgbGFzdFN3YXBFbCAmJiB0b2dnbGVDbGFzcyhsYXN0U3dhcEVsLCBvcHRpb25zLnN3YXBDbGFzcywgZmFsc2UpO1xuXG4gICAgICBpZiAobGFzdFN3YXBFbCAmJiAob3B0aW9ucy5zd2FwIHx8IHB1dFNvcnRhYmxlICYmIHB1dFNvcnRhYmxlLm9wdGlvbnMuc3dhcCkpIHtcbiAgICAgICAgaWYgKGRyYWdFbCAhPT0gbGFzdFN3YXBFbCkge1xuICAgICAgICAgIHRvU29ydGFibGUuY2FwdHVyZUFuaW1hdGlvblN0YXRlKCk7XG4gICAgICAgICAgaWYgKHRvU29ydGFibGUgIT09IGFjdGl2ZVNvcnRhYmxlKSBhY3RpdmVTb3J0YWJsZS5jYXB0dXJlQW5pbWF0aW9uU3RhdGUoKTtcbiAgICAgICAgICBzd2FwTm9kZXMoZHJhZ0VsLCBsYXN0U3dhcEVsKTtcbiAgICAgICAgICB0b1NvcnRhYmxlLmFuaW1hdGVBbGwoKTtcbiAgICAgICAgICBpZiAodG9Tb3J0YWJsZSAhPT0gYWN0aXZlU29ydGFibGUpIGFjdGl2ZVNvcnRhYmxlLmFuaW1hdGVBbGwoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgbnVsbGluZzogZnVuY3Rpb24gbnVsbGluZygpIHtcbiAgICAgIGxhc3RTd2FwRWwgPSBudWxsO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIF9leHRlbmRzKFN3YXAsIHtcbiAgICBwbHVnaW5OYW1lOiAnc3dhcCcsXG4gICAgZXZlbnRPcHRpb25zOiBmdW5jdGlvbiBldmVudE9wdGlvbnMoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzd2FwSXRlbTogbGFzdFN3YXBFbFxuICAgICAgfTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzd2FwTm9kZXMobjEsIG4yKSB7XG4gIHZhciBwMSA9IG4xLnBhcmVudE5vZGUsXG4gICAgICBwMiA9IG4yLnBhcmVudE5vZGUsXG4gICAgICBpMSxcbiAgICAgIGkyO1xuICBpZiAoIXAxIHx8ICFwMiB8fCBwMS5pc0VxdWFsTm9kZShuMikgfHwgcDIuaXNFcXVhbE5vZGUobjEpKSByZXR1cm47XG4gIGkxID0gaW5kZXgobjEpO1xuICBpMiA9IGluZGV4KG4yKTtcblxuICBpZiAocDEuaXNFcXVhbE5vZGUocDIpICYmIGkxIDwgaTIpIHtcbiAgICBpMisrO1xuICB9XG5cbiAgcDEuaW5zZXJ0QmVmb3JlKG4yLCBwMS5jaGlsZHJlbltpMV0pO1xuICBwMi5pbnNlcnRCZWZvcmUobjEsIHAyLmNoaWxkcmVuW2kyXSk7XG59XG5cbnZhciBtdWx0aURyYWdFbGVtZW50cyA9IFtdLFxuICAgIG11bHRpRHJhZ0Nsb25lcyA9IFtdLFxuICAgIGxhc3RNdWx0aURyYWdTZWxlY3QsXG4gICAgLy8gZm9yIHNlbGVjdGlvbiB3aXRoIG1vZGlmaWVyIGtleSBkb3duIChTSElGVClcbm11bHRpRHJhZ1NvcnRhYmxlLFxuICAgIGluaXRpYWxGb2xkaW5nID0gZmFsc2UsXG4gICAgLy8gSW5pdGlhbCBtdWx0aS1kcmFnIGZvbGQgd2hlbiBkcmFnIHN0YXJ0ZWRcbmZvbGRpbmcgPSBmYWxzZSxcbiAgICAvLyBGb2xkaW5nIGFueSBvdGhlciB0aW1lXG5kcmFnU3RhcnRlZCA9IGZhbHNlLFxuICAgIGRyYWdFbCQxLFxuICAgIGNsb25lc0Zyb21SZWN0LFxuICAgIGNsb25lc0hpZGRlbjtcblxuZnVuY3Rpb24gTXVsdGlEcmFnUGx1Z2luKCkge1xuICBmdW5jdGlvbiBNdWx0aURyYWcoc29ydGFibGUpIHtcbiAgICAvLyBCaW5kIGFsbCBwcml2YXRlIG1ldGhvZHNcbiAgICBmb3IgKHZhciBmbiBpbiB0aGlzKSB7XG4gICAgICBpZiAoZm4uY2hhckF0KDApID09PSAnXycgJiYgdHlwZW9mIHRoaXNbZm5dID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXNbZm5dID0gdGhpc1tmbl0uYmluZCh0aGlzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc29ydGFibGUub3B0aW9ucy5zdXBwb3J0UG9pbnRlcikge1xuICAgICAgb24oZG9jdW1lbnQsICdwb2ludGVydXAnLCB0aGlzLl9kZXNlbGVjdE11bHRpRHJhZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9uKGRvY3VtZW50LCAnbW91c2V1cCcsIHRoaXMuX2Rlc2VsZWN0TXVsdGlEcmFnKTtcbiAgICAgIG9uKGRvY3VtZW50LCAndG91Y2hlbmQnLCB0aGlzLl9kZXNlbGVjdE11bHRpRHJhZyk7XG4gICAgfVxuXG4gICAgb24oZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5fY2hlY2tLZXlEb3duKTtcbiAgICBvbihkb2N1bWVudCwgJ2tleXVwJywgdGhpcy5fY2hlY2tLZXlVcCk7XG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgc2VsZWN0ZWRDbGFzczogJ3NvcnRhYmxlLXNlbGVjdGVkJyxcbiAgICAgIG11bHRpRHJhZ0tleTogbnVsbCxcbiAgICAgIHNldERhdGE6IGZ1bmN0aW9uIHNldERhdGEoZGF0YVRyYW5zZmVyLCBkcmFnRWwpIHtcbiAgICAgICAgdmFyIGRhdGEgPSAnJztcblxuICAgICAgICBpZiAobXVsdGlEcmFnRWxlbWVudHMubGVuZ3RoICYmIG11bHRpRHJhZ1NvcnRhYmxlID09PSBzb3J0YWJsZSkge1xuICAgICAgICAgIG11bHRpRHJhZ0VsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKG11bHRpRHJhZ0VsZW1lbnQsIGkpIHtcbiAgICAgICAgICAgIGRhdGEgKz0gKCFpID8gJycgOiAnLCAnKSArIG11bHRpRHJhZ0VsZW1lbnQudGV4dENvbnRlbnQ7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGF0YSA9IGRyYWdFbC50ZXh0Q29udGVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGFUcmFuc2Zlci5zZXREYXRhKCdUZXh0JywgZGF0YSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIE11bHRpRHJhZy5wcm90b3R5cGUgPSB7XG4gICAgbXVsdGlEcmFnS2V5RG93bjogZmFsc2UsXG4gICAgaXNNdWx0aURyYWc6IGZhbHNlLFxuICAgIGRlbGF5U3RhcnRHbG9iYWw6IGZ1bmN0aW9uIGRlbGF5U3RhcnRHbG9iYWwoX3JlZikge1xuICAgICAgdmFyIGRyYWdnZWQgPSBfcmVmLmRyYWdFbDtcbiAgICAgIGRyYWdFbCQxID0gZHJhZ2dlZDtcbiAgICB9LFxuICAgIGRlbGF5RW5kZWQ6IGZ1bmN0aW9uIGRlbGF5RW5kZWQoKSB7XG4gICAgICB0aGlzLmlzTXVsdGlEcmFnID0gfm11bHRpRHJhZ0VsZW1lbnRzLmluZGV4T2YoZHJhZ0VsJDEpO1xuICAgIH0sXG4gICAgc2V0dXBDbG9uZTogZnVuY3Rpb24gc2V0dXBDbG9uZShfcmVmMikge1xuICAgICAgdmFyIHNvcnRhYmxlID0gX3JlZjIuc29ydGFibGU7XG4gICAgICBpZiAoIXRoaXMuaXNNdWx0aURyYWcpIHJldHVybjtcblxuICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG11bHRpRHJhZ0VsZW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBtdWx0aURyYWdDbG9uZXMucHVzaChjbG9uZShtdWx0aURyYWdFbGVtZW50c1tfaV0pKTtcbiAgICAgICAgbXVsdGlEcmFnQ2xvbmVzW19pXS5zb3J0YWJsZUluZGV4ID0gbXVsdGlEcmFnRWxlbWVudHNbX2ldLnNvcnRhYmxlSW5kZXg7XG4gICAgICAgIG11bHRpRHJhZ0Nsb25lc1tfaV0uZHJhZ2dhYmxlID0gZmFsc2U7XG4gICAgICAgIG11bHRpRHJhZ0Nsb25lc1tfaV0uc3R5bGVbJ3dpbGwtY2hhbmdlJ10gPSAnJztcbiAgICAgICAgdG9nZ2xlQ2xhc3MobXVsdGlEcmFnQ2xvbmVzW19pXSwgc29ydGFibGUub3B0aW9ucy5zZWxlY3RlZENsYXNzLCBmYWxzZSk7XG4gICAgICAgIG11bHRpRHJhZ0VsZW1lbnRzW19pXSA9PT0gZHJhZ0VsJDEgJiYgdG9nZ2xlQ2xhc3MobXVsdGlEcmFnQ2xvbmVzW19pXSwgc29ydGFibGUub3B0aW9ucy5jaG9zZW5DbGFzcywgZmFsc2UpO1xuICAgICAgfVxuXG4gICAgICBzb3J0YWJsZS5faGlkZUNsb25lKCk7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgY2xvbmU6IGZ1bmN0aW9uIGNsb25lKF9yZWYzKSB7XG4gICAgICB2YXIgc29ydGFibGUgPSBfcmVmMy5zb3J0YWJsZSxcbiAgICAgICAgICByb290RWwgPSBfcmVmMy5yb290RWwsXG4gICAgICAgICAgZGlzcGF0Y2hTb3J0YWJsZUV2ZW50ID0gX3JlZjMuZGlzcGF0Y2hTb3J0YWJsZUV2ZW50O1xuICAgICAgaWYgKCF0aGlzLmlzTXVsdGlEcmFnKSByZXR1cm47XG5cbiAgICAgIGlmICghc29ydGFibGUub3B0aW9ucy5yZW1vdmVDbG9uZU9uSGlkZSkge1xuICAgICAgICBpZiAobXVsdGlEcmFnRWxlbWVudHMubGVuZ3RoICYmIG11bHRpRHJhZ1NvcnRhYmxlID09PSBzb3J0YWJsZSkge1xuICAgICAgICAgIGluc2VydE11bHRpRHJhZ0Nsb25lcyh0cnVlLCByb290RWwpO1xuICAgICAgICAgIGRpc3BhdGNoU29ydGFibGVFdmVudCgnY2xvbmUnKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgc2hvd0Nsb25lOiBmdW5jdGlvbiBzaG93Q2xvbmUoX3JlZjQpIHtcbiAgICAgIHZhciBjbG9uZU5vd1Nob3duID0gX3JlZjQuY2xvbmVOb3dTaG93bixcbiAgICAgICAgICByb290RWwgPSBfcmVmNC5yb290RWw7XG4gICAgICBpZiAoIXRoaXMuaXNNdWx0aURyYWcpIHJldHVybjtcbiAgICAgIGluc2VydE11bHRpRHJhZ0Nsb25lcyhmYWxzZSwgcm9vdEVsKTtcbiAgICAgIG11bHRpRHJhZ0Nsb25lcy5mb3JFYWNoKGZ1bmN0aW9uIChjbG9uZSkge1xuICAgICAgICBjc3MoY2xvbmUsICdkaXNwbGF5JywgJycpO1xuICAgICAgfSk7XG4gICAgICBjbG9uZU5vd1Nob3duKCk7XG4gICAgICBjbG9uZXNIaWRkZW4gPSBmYWxzZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgaGlkZUNsb25lOiBmdW5jdGlvbiBoaWRlQ2xvbmUoX3JlZjUpIHtcbiAgICAgIHZhciBzb3J0YWJsZSA9IF9yZWY1LnNvcnRhYmxlLFxuICAgICAgICAgIGNsb25lTm93SGlkZGVuID0gX3JlZjUuY2xvbmVOb3dIaWRkZW47XG4gICAgICBpZiAoIXRoaXMuaXNNdWx0aURyYWcpIHJldHVybjtcbiAgICAgIG11bHRpRHJhZ0Nsb25lcy5mb3JFYWNoKGZ1bmN0aW9uIChjbG9uZSkge1xuICAgICAgICBjc3MoY2xvbmUsICdkaXNwbGF5JywgJ25vbmUnKTtcblxuICAgICAgICBpZiAoc29ydGFibGUub3B0aW9ucy5yZW1vdmVDbG9uZU9uSGlkZSAmJiBjbG9uZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgY2xvbmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjbG9uZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY2xvbmVOb3dIaWRkZW4oKTtcbiAgICAgIGNsb25lc0hpZGRlbiA9IHRydWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIGRyYWdTdGFydEdsb2JhbDogZnVuY3Rpb24gZHJhZ1N0YXJ0R2xvYmFsKF9yZWY2KSB7XG4gICAgICB2YXIgc29ydGFibGUgPSBfcmVmNi5zb3J0YWJsZTtcblxuICAgICAgaWYgKCF0aGlzLmlzTXVsdGlEcmFnICYmIG11bHRpRHJhZ1NvcnRhYmxlKSB7XG4gICAgICAgIG11bHRpRHJhZ1NvcnRhYmxlLm11bHRpRHJhZy5fZGVzZWxlY3RNdWx0aURyYWcoKTtcbiAgICAgIH1cblxuICAgICAgbXVsdGlEcmFnRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAobXVsdGlEcmFnRWxlbWVudCkge1xuICAgICAgICBtdWx0aURyYWdFbGVtZW50LnNvcnRhYmxlSW5kZXggPSBpbmRleChtdWx0aURyYWdFbGVtZW50KTtcbiAgICAgIH0pOyAvLyBTb3J0IG11bHRpLWRyYWcgZWxlbWVudHNcblxuICAgICAgbXVsdGlEcmFnRWxlbWVudHMgPSBtdWx0aURyYWdFbGVtZW50cy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiBhLnNvcnRhYmxlSW5kZXggLSBiLnNvcnRhYmxlSW5kZXg7XG4gICAgICB9KTtcbiAgICAgIGRyYWdTdGFydGVkID0gdHJ1ZTtcbiAgICB9LFxuICAgIGRyYWdTdGFydGVkOiBmdW5jdGlvbiBkcmFnU3RhcnRlZChfcmVmNykge1xuICAgICAgdmFyIHNvcnRhYmxlID0gX3JlZjcuc29ydGFibGU7XG4gICAgICBpZiAoIXRoaXMuaXNNdWx0aURyYWcpIHJldHVybjtcblxuICAgICAgaWYgKHNvcnRhYmxlLm9wdGlvbnMuc29ydCkge1xuICAgICAgICAvLyBDYXB0dXJlIHJlY3RzLFxuICAgICAgICAvLyBoaWRlIG11bHRpIGRyYWcgZWxlbWVudHMgKGJ5IHBvc2l0aW9uaW5nIHRoZW0gYWJzb2x1dGUpLFxuICAgICAgICAvLyBzZXQgbXVsdGkgZHJhZyBlbGVtZW50cyByZWN0cyB0byBkcmFnUmVjdCxcbiAgICAgICAgLy8gc2hvdyBtdWx0aSBkcmFnIGVsZW1lbnRzLFxuICAgICAgICAvLyBhbmltYXRlIHRvIHJlY3RzLFxuICAgICAgICAvLyB1bnNldCByZWN0cyAmIHJlbW92ZSBmcm9tIERPTVxuICAgICAgICBzb3J0YWJsZS5jYXB0dXJlQW5pbWF0aW9uU3RhdGUoKTtcblxuICAgICAgICBpZiAoc29ydGFibGUub3B0aW9ucy5hbmltYXRpb24pIHtcbiAgICAgICAgICBtdWx0aURyYWdFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChtdWx0aURyYWdFbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAobXVsdGlEcmFnRWxlbWVudCA9PT0gZHJhZ0VsJDEpIHJldHVybjtcbiAgICAgICAgICAgIGNzcyhtdWx0aURyYWdFbGVtZW50LCAncG9zaXRpb24nLCAnYWJzb2x1dGUnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB2YXIgZHJhZ1JlY3QgPSBnZXRSZWN0KGRyYWdFbCQxLCBmYWxzZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgbXVsdGlEcmFnRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAobXVsdGlEcmFnRWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKG11bHRpRHJhZ0VsZW1lbnQgPT09IGRyYWdFbCQxKSByZXR1cm47XG4gICAgICAgICAgICBzZXRSZWN0KG11bHRpRHJhZ0VsZW1lbnQsIGRyYWdSZWN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBmb2xkaW5nID0gdHJ1ZTtcbiAgICAgICAgICBpbml0aWFsRm9sZGluZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc29ydGFibGUuYW5pbWF0ZUFsbChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvbGRpbmcgPSBmYWxzZTtcbiAgICAgICAgaW5pdGlhbEZvbGRpbmcgPSBmYWxzZTtcblxuICAgICAgICBpZiAoc29ydGFibGUub3B0aW9ucy5hbmltYXRpb24pIHtcbiAgICAgICAgICBtdWx0aURyYWdFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChtdWx0aURyYWdFbGVtZW50KSB7XG4gICAgICAgICAgICB1bnNldFJlY3QobXVsdGlEcmFnRWxlbWVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gLy8gUmVtb3ZlIGFsbCBhdXhpbGlhcnkgbXVsdGlkcmFnIGl0ZW1zIGZyb20gZWwsIGlmIHNvcnRpbmcgZW5hYmxlZFxuXG5cbiAgICAgICAgaWYgKHNvcnRhYmxlLm9wdGlvbnMuc29ydCkge1xuICAgICAgICAgIHJlbW92ZU11bHRpRHJhZ0VsZW1lbnRzKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZHJhZ092ZXI6IGZ1bmN0aW9uIGRyYWdPdmVyKF9yZWY4KSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gX3JlZjgudGFyZ2V0LFxuICAgICAgICAgIGNvbXBsZXRlZCA9IF9yZWY4LmNvbXBsZXRlZDtcblxuICAgICAgaWYgKGZvbGRpbmcgJiYgfm11bHRpRHJhZ0VsZW1lbnRzLmluZGV4T2YodGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gY29tcGxldGVkKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHJldmVydDogZnVuY3Rpb24gcmV2ZXJ0KF9yZWY5KSB7XG4gICAgICB2YXIgZnJvbVNvcnRhYmxlID0gX3JlZjkuZnJvbVNvcnRhYmxlLFxuICAgICAgICAgIHJvb3RFbCA9IF9yZWY5LnJvb3RFbCxcbiAgICAgICAgICBzb3J0YWJsZSA9IF9yZWY5LnNvcnRhYmxlLFxuICAgICAgICAgIGRyYWdSZWN0ID0gX3JlZjkuZHJhZ1JlY3Q7XG5cbiAgICAgIGlmIChtdWx0aURyYWdFbGVtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIC8vIFNldHVwIHVuZm9sZCBhbmltYXRpb25cbiAgICAgICAgbXVsdGlEcmFnRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAobXVsdGlEcmFnRWxlbWVudCkge1xuICAgICAgICAgIHNvcnRhYmxlLmFkZEFuaW1hdGlvblN0YXRlKHtcbiAgICAgICAgICAgIHRhcmdldDogbXVsdGlEcmFnRWxlbWVudCxcbiAgICAgICAgICAgIHJlY3Q6IGZvbGRpbmcgPyBnZXRSZWN0KG11bHRpRHJhZ0VsZW1lbnQpIDogZHJhZ1JlY3RcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB1bnNldFJlY3QobXVsdGlEcmFnRWxlbWVudCk7XG4gICAgICAgICAgbXVsdGlEcmFnRWxlbWVudC5mcm9tUmVjdCA9IGRyYWdSZWN0O1xuICAgICAgICAgIGZyb21Tb3J0YWJsZS5yZW1vdmVBbmltYXRpb25TdGF0ZShtdWx0aURyYWdFbGVtZW50KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZvbGRpbmcgPSBmYWxzZTtcbiAgICAgICAgaW5zZXJ0TXVsdGlEcmFnRWxlbWVudHMoIXNvcnRhYmxlLm9wdGlvbnMucmVtb3ZlQ2xvbmVPbkhpZGUsIHJvb3RFbCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBkcmFnT3ZlckNvbXBsZXRlZDogZnVuY3Rpb24gZHJhZ092ZXJDb21wbGV0ZWQoX3JlZjEwKSB7XG4gICAgICB2YXIgc29ydGFibGUgPSBfcmVmMTAuc29ydGFibGUsXG4gICAgICAgICAgaXNPd25lciA9IF9yZWYxMC5pc093bmVyLFxuICAgICAgICAgIGluc2VydGlvbiA9IF9yZWYxMC5pbnNlcnRpb24sXG4gICAgICAgICAgYWN0aXZlU29ydGFibGUgPSBfcmVmMTAuYWN0aXZlU29ydGFibGUsXG4gICAgICAgICAgcGFyZW50RWwgPSBfcmVmMTAucGFyZW50RWwsXG4gICAgICAgICAgcHV0U29ydGFibGUgPSBfcmVmMTAucHV0U29ydGFibGU7XG4gICAgICB2YXIgb3B0aW9ucyA9IHNvcnRhYmxlLm9wdGlvbnM7XG5cbiAgICAgIGlmIChpbnNlcnRpb24pIHtcbiAgICAgICAgLy8gQ2xvbmVzIG11c3QgYmUgaGlkZGVuIGJlZm9yZSBmb2xkaW5nIGFuaW1hdGlvbiB0byBjYXB0dXJlIGRyYWdSZWN0QWJzb2x1dGUgcHJvcGVybHlcbiAgICAgICAgaWYgKGlzT3duZXIpIHtcbiAgICAgICAgICBhY3RpdmVTb3J0YWJsZS5faGlkZUNsb25lKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpbml0aWFsRm9sZGluZyA9IGZhbHNlOyAvLyBJZiBsZWF2aW5nIHNvcnQ6ZmFsc2Ugcm9vdCwgb3IgYWxyZWFkeSBmb2xkaW5nIC0gRm9sZCB0byBuZXcgbG9jYXRpb25cblxuICAgICAgICBpZiAob3B0aW9ucy5hbmltYXRpb24gJiYgbXVsdGlEcmFnRWxlbWVudHMubGVuZ3RoID4gMSAmJiAoZm9sZGluZyB8fCAhaXNPd25lciAmJiAhYWN0aXZlU29ydGFibGUub3B0aW9ucy5zb3J0ICYmICFwdXRTb3J0YWJsZSkpIHtcbiAgICAgICAgICAvLyBGb2xkOiBTZXQgYWxsIG11bHRpIGRyYWcgZWxlbWVudHMncyByZWN0cyB0byBkcmFnRWwncyByZWN0IHdoZW4gbXVsdGktZHJhZyBlbGVtZW50cyBhcmUgaW52aXNpYmxlXG4gICAgICAgICAgdmFyIGRyYWdSZWN0QWJzb2x1dGUgPSBnZXRSZWN0KGRyYWdFbCQxLCBmYWxzZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgbXVsdGlEcmFnRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAobXVsdGlEcmFnRWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKG11bHRpRHJhZ0VsZW1lbnQgPT09IGRyYWdFbCQxKSByZXR1cm47XG4gICAgICAgICAgICBzZXRSZWN0KG11bHRpRHJhZ0VsZW1lbnQsIGRyYWdSZWN0QWJzb2x1dGUpOyAvLyBNb3ZlIGVsZW1lbnQocykgdG8gZW5kIG9mIHBhcmVudEVsIHNvIHRoYXQgaXQgZG9lcyBub3QgaW50ZXJmZXJlIHdpdGggbXVsdGktZHJhZyBjbG9uZXMgaW5zZXJ0aW9uIGlmIHRoZXkgYXJlIGluc2VydGVkXG4gICAgICAgICAgICAvLyB3aGlsZSBmb2xkaW5nLCBhbmQgc28gdGhhdCB3ZSBjYW4gY2FwdHVyZSB0aGVtIGFnYWluIGJlY2F1c2Ugb2xkIHNvcnRhYmxlIHdpbGwgbm8gbG9uZ2VyIGJlIGZyb21Tb3J0YWJsZVxuXG4gICAgICAgICAgICBwYXJlbnRFbC5hcHBlbmRDaGlsZChtdWx0aURyYWdFbGVtZW50KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBmb2xkaW5nID0gdHJ1ZTtcbiAgICAgICAgfSAvLyBDbG9uZXMgbXVzdCBiZSBzaG93biAoYW5kIGNoZWNrIHRvIHJlbW92ZSBtdWx0aSBkcmFncykgYWZ0ZXIgZm9sZGluZyB3aGVuIGludGVyZmVyaW5nIG11bHRpRHJhZ0VsZW1lbnRzIGFyZSBtb3ZlZCBvdXRcblxuXG4gICAgICAgIGlmICghaXNPd25lcikge1xuICAgICAgICAgIC8vIE9ubHkgcmVtb3ZlIGlmIG5vdCBmb2xkaW5nIChmb2xkaW5nIHdpbGwgcmVtb3ZlIHRoZW0gYW55d2F5cylcbiAgICAgICAgICBpZiAoIWZvbGRpbmcpIHtcbiAgICAgICAgICAgIHJlbW92ZU11bHRpRHJhZ0VsZW1lbnRzKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG11bHRpRHJhZ0VsZW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHZhciBjbG9uZXNIaWRkZW5CZWZvcmUgPSBjbG9uZXNIaWRkZW47XG5cbiAgICAgICAgICAgIGFjdGl2ZVNvcnRhYmxlLl9zaG93Q2xvbmUoc29ydGFibGUpOyAvLyBVbmZvbGQgYW5pbWF0aW9uIGZvciBjbG9uZXMgaWYgc2hvd2luZyBmcm9tIGhpZGRlblxuXG5cbiAgICAgICAgICAgIGlmIChhY3RpdmVTb3J0YWJsZS5vcHRpb25zLmFuaW1hdGlvbiAmJiAhY2xvbmVzSGlkZGVuICYmIGNsb25lc0hpZGRlbkJlZm9yZSkge1xuICAgICAgICAgICAgICBtdWx0aURyYWdDbG9uZXMuZm9yRWFjaChmdW5jdGlvbiAoY2xvbmUpIHtcbiAgICAgICAgICAgICAgICBhY3RpdmVTb3J0YWJsZS5hZGRBbmltYXRpb25TdGF0ZSh7XG4gICAgICAgICAgICAgICAgICB0YXJnZXQ6IGNsb25lLFxuICAgICAgICAgICAgICAgICAgcmVjdDogY2xvbmVzRnJvbVJlY3RcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjbG9uZS5mcm9tUmVjdCA9IGNsb25lc0Zyb21SZWN0O1xuICAgICAgICAgICAgICAgIGNsb25lLnRoaXNBbmltYXRpb25EdXJhdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhY3RpdmVTb3J0YWJsZS5fc2hvd0Nsb25lKHNvcnRhYmxlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGRyYWdPdmVyQW5pbWF0aW9uQ2FwdHVyZTogZnVuY3Rpb24gZHJhZ092ZXJBbmltYXRpb25DYXB0dXJlKF9yZWYxMSkge1xuICAgICAgdmFyIGRyYWdSZWN0ID0gX3JlZjExLmRyYWdSZWN0LFxuICAgICAgICAgIGlzT3duZXIgPSBfcmVmMTEuaXNPd25lcixcbiAgICAgICAgICBhY3RpdmVTb3J0YWJsZSA9IF9yZWYxMS5hY3RpdmVTb3J0YWJsZTtcbiAgICAgIG11bHRpRHJhZ0VsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKG11bHRpRHJhZ0VsZW1lbnQpIHtcbiAgICAgICAgbXVsdGlEcmFnRWxlbWVudC50aGlzQW5pbWF0aW9uRHVyYXRpb24gPSBudWxsO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChhY3RpdmVTb3J0YWJsZS5vcHRpb25zLmFuaW1hdGlvbiAmJiAhaXNPd25lciAmJiBhY3RpdmVTb3J0YWJsZS5tdWx0aURyYWcuaXNNdWx0aURyYWcpIHtcbiAgICAgICAgY2xvbmVzRnJvbVJlY3QgPSBfZXh0ZW5kcyh7fSwgZHJhZ1JlY3QpO1xuICAgICAgICB2YXIgZHJhZ01hdHJpeCA9IG1hdHJpeChkcmFnRWwkMSwgdHJ1ZSk7XG4gICAgICAgIGNsb25lc0Zyb21SZWN0LnRvcCAtPSBkcmFnTWF0cml4LmY7XG4gICAgICAgIGNsb25lc0Zyb21SZWN0LmxlZnQgLT0gZHJhZ01hdHJpeC5lO1xuICAgICAgfVxuICAgIH0sXG4gICAgZHJhZ092ZXJBbmltYXRpb25Db21wbGV0ZTogZnVuY3Rpb24gZHJhZ092ZXJBbmltYXRpb25Db21wbGV0ZSgpIHtcbiAgICAgIGlmIChmb2xkaW5nKSB7XG4gICAgICAgIGZvbGRpbmcgPSBmYWxzZTtcbiAgICAgICAgcmVtb3ZlTXVsdGlEcmFnRWxlbWVudHMoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGRyb3A6IGZ1bmN0aW9uIGRyb3AoX3JlZjEyKSB7XG4gICAgICB2YXIgZXZ0ID0gX3JlZjEyLm9yaWdpbmFsRXZlbnQsXG4gICAgICAgICAgcm9vdEVsID0gX3JlZjEyLnJvb3RFbCxcbiAgICAgICAgICBwYXJlbnRFbCA9IF9yZWYxMi5wYXJlbnRFbCxcbiAgICAgICAgICBzb3J0YWJsZSA9IF9yZWYxMi5zb3J0YWJsZSxcbiAgICAgICAgICBkaXNwYXRjaFNvcnRhYmxlRXZlbnQgPSBfcmVmMTIuZGlzcGF0Y2hTb3J0YWJsZUV2ZW50LFxuICAgICAgICAgIG9sZEluZGV4ID0gX3JlZjEyLm9sZEluZGV4LFxuICAgICAgICAgIHB1dFNvcnRhYmxlID0gX3JlZjEyLnB1dFNvcnRhYmxlO1xuICAgICAgdmFyIHRvU29ydGFibGUgPSBwdXRTb3J0YWJsZSB8fCB0aGlzLnNvcnRhYmxlO1xuICAgICAgaWYgKCFldnQpIHJldHVybjtcbiAgICAgIHZhciBvcHRpb25zID0gc29ydGFibGUub3B0aW9ucyxcbiAgICAgICAgICBjaGlsZHJlbiA9IHBhcmVudEVsLmNoaWxkcmVuOyAvLyBNdWx0aS1kcmFnIHNlbGVjdGlvblxuXG4gICAgICBpZiAoIWRyYWdTdGFydGVkKSB7XG4gICAgICAgIGlmIChvcHRpb25zLm11bHRpRHJhZ0tleSAmJiAhdGhpcy5tdWx0aURyYWdLZXlEb3duKSB7XG4gICAgICAgICAgdGhpcy5fZGVzZWxlY3RNdWx0aURyYWcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRvZ2dsZUNsYXNzKGRyYWdFbCQxLCBvcHRpb25zLnNlbGVjdGVkQ2xhc3MsICF+bXVsdGlEcmFnRWxlbWVudHMuaW5kZXhPZihkcmFnRWwkMSkpO1xuXG4gICAgICAgIGlmICghfm11bHRpRHJhZ0VsZW1lbnRzLmluZGV4T2YoZHJhZ0VsJDEpKSB7XG4gICAgICAgICAgbXVsdGlEcmFnRWxlbWVudHMucHVzaChkcmFnRWwkMSk7XG4gICAgICAgICAgZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgICBzb3J0YWJsZTogc29ydGFibGUsXG4gICAgICAgICAgICByb290RWw6IHJvb3RFbCxcbiAgICAgICAgICAgIG5hbWU6ICdzZWxlY3QnLFxuICAgICAgICAgICAgdGFyZ2V0RWw6IGRyYWdFbCQxLFxuICAgICAgICAgICAgb3JpZ2luYWxFdnQ6IGV2dFxuICAgICAgICAgIH0pOyAvLyBNb2RpZmllciBhY3RpdmF0ZWQsIHNlbGVjdCBmcm9tIGxhc3QgdG8gZHJhZ0VsXG5cbiAgICAgICAgICBpZiAoKCFvcHRpb25zLm11bHRpRHJhZ0tleSB8fCB0aGlzLm11bHRpRHJhZ0tleURvd24pICYmIGV2dC5zaGlmdEtleSAmJiBsYXN0TXVsdGlEcmFnU2VsZWN0ICYmIHNvcnRhYmxlLmVsLmNvbnRhaW5zKGxhc3RNdWx0aURyYWdTZWxlY3QpKSB7XG4gICAgICAgICAgICB2YXIgbGFzdEluZGV4ID0gaW5kZXgobGFzdE11bHRpRHJhZ1NlbGVjdCksXG4gICAgICAgICAgICAgICAgY3VycmVudEluZGV4ID0gaW5kZXgoZHJhZ0VsJDEpO1xuXG4gICAgICAgICAgICBpZiAofmxhc3RJbmRleCAmJiB+Y3VycmVudEluZGV4ICYmIGxhc3RJbmRleCAhPT0gY3VycmVudEluZGV4KSB7XG4gICAgICAgICAgICAgIC8vIE11c3QgaW5jbHVkZSBsYXN0TXVsdGlEcmFnU2VsZWN0IChzZWxlY3QgaXQpLCBpbiBjYXNlIG1vZGlmaWVkIHNlbGVjdGlvbiBmcm9tIG5vIHNlbGVjdGlvblxuICAgICAgICAgICAgICAvLyAoYnV0IHByZXZpb3VzIHNlbGVjdGlvbiBleGlzdGVkKVxuICAgICAgICAgICAgICB2YXIgbiwgX2kyO1xuXG4gICAgICAgICAgICAgIGlmIChjdXJyZW50SW5kZXggPiBsYXN0SW5kZXgpIHtcbiAgICAgICAgICAgICAgICBfaTIgPSBsYXN0SW5kZXg7XG4gICAgICAgICAgICAgICAgbiA9IGN1cnJlbnRJbmRleDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBfaTIgPSBjdXJyZW50SW5kZXg7XG4gICAgICAgICAgICAgICAgbiA9IGxhc3RJbmRleCArIDE7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBmb3IgKDsgX2kyIDwgbjsgX2kyKyspIHtcbiAgICAgICAgICAgICAgICBpZiAofm11bHRpRHJhZ0VsZW1lbnRzLmluZGV4T2YoY2hpbGRyZW5bX2kyXSkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIHRvZ2dsZUNsYXNzKGNoaWxkcmVuW19pMl0sIG9wdGlvbnMuc2VsZWN0ZWRDbGFzcywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgbXVsdGlEcmFnRWxlbWVudHMucHVzaChjaGlsZHJlbltfaTJdKTtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICAgICAgICAgIHNvcnRhYmxlOiBzb3J0YWJsZSxcbiAgICAgICAgICAgICAgICAgIHJvb3RFbDogcm9vdEVsLFxuICAgICAgICAgICAgICAgICAgbmFtZTogJ3NlbGVjdCcsXG4gICAgICAgICAgICAgICAgICB0YXJnZXRFbDogY2hpbGRyZW5bX2kyXSxcbiAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZ0OiBldnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsYXN0TXVsdGlEcmFnU2VsZWN0ID0gZHJhZ0VsJDE7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbXVsdGlEcmFnU29ydGFibGUgPSB0b1NvcnRhYmxlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG11bHRpRHJhZ0VsZW1lbnRzLnNwbGljZShtdWx0aURyYWdFbGVtZW50cy5pbmRleE9mKGRyYWdFbCQxKSwgMSk7XG4gICAgICAgICAgbGFzdE11bHRpRHJhZ1NlbGVjdCA9IG51bGw7XG4gICAgICAgICAgZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgICBzb3J0YWJsZTogc29ydGFibGUsXG4gICAgICAgICAgICByb290RWw6IHJvb3RFbCxcbiAgICAgICAgICAgIG5hbWU6ICdkZXNlbGVjdCcsXG4gICAgICAgICAgICB0YXJnZXRFbDogZHJhZ0VsJDEsXG4gICAgICAgICAgICBvcmlnaW5hbEV2dDogZXZ0XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gTXVsdGktZHJhZyBkcm9wXG5cblxuICAgICAgaWYgKGRyYWdTdGFydGVkICYmIHRoaXMuaXNNdWx0aURyYWcpIHtcbiAgICAgICAgLy8gRG8gbm90IFwidW5mb2xkXCIgYWZ0ZXIgYXJvdW5kIGRyYWdFbCBpZiByZXZlcnRlZFxuICAgICAgICBpZiAoKHBhcmVudEVsW2V4cGFuZG9dLm9wdGlvbnMuc29ydCB8fCBwYXJlbnRFbCAhPT0gcm9vdEVsKSAmJiBtdWx0aURyYWdFbGVtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgdmFyIGRyYWdSZWN0ID0gZ2V0UmVjdChkcmFnRWwkMSksXG4gICAgICAgICAgICAgIG11bHRpRHJhZ0luZGV4ID0gaW5kZXgoZHJhZ0VsJDEsICc6bm90KC4nICsgdGhpcy5vcHRpb25zLnNlbGVjdGVkQ2xhc3MgKyAnKScpO1xuICAgICAgICAgIGlmICghaW5pdGlhbEZvbGRpbmcgJiYgb3B0aW9ucy5hbmltYXRpb24pIGRyYWdFbCQxLnRoaXNBbmltYXRpb25EdXJhdGlvbiA9IG51bGw7XG4gICAgICAgICAgdG9Tb3J0YWJsZS5jYXB0dXJlQW5pbWF0aW9uU3RhdGUoKTtcblxuICAgICAgICAgIGlmICghaW5pdGlhbEZvbGRpbmcpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmFuaW1hdGlvbikge1xuICAgICAgICAgICAgICBkcmFnRWwkMS5mcm9tUmVjdCA9IGRyYWdSZWN0O1xuICAgICAgICAgICAgICBtdWx0aURyYWdFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChtdWx0aURyYWdFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgbXVsdGlEcmFnRWxlbWVudC50aGlzQW5pbWF0aW9uRHVyYXRpb24gPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgaWYgKG11bHRpRHJhZ0VsZW1lbnQgIT09IGRyYWdFbCQxKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgcmVjdCA9IGZvbGRpbmcgPyBnZXRSZWN0KG11bHRpRHJhZ0VsZW1lbnQpIDogZHJhZ1JlY3Q7XG4gICAgICAgICAgICAgICAgICBtdWx0aURyYWdFbGVtZW50LmZyb21SZWN0ID0gcmVjdDsgLy8gUHJlcGFyZSB1bmZvbGQgYW5pbWF0aW9uXG5cbiAgICAgICAgICAgICAgICAgIHRvU29ydGFibGUuYWRkQW5pbWF0aW9uU3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IG11bHRpRHJhZ0VsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHJlY3Q6IHJlY3RcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IC8vIE11bHRpIGRyYWcgZWxlbWVudHMgYXJlIG5vdCBuZWNlc3NhcmlseSByZW1vdmVkIGZyb20gdGhlIERPTSBvbiBkcm9wLCBzbyB0byByZWluc2VydFxuICAgICAgICAgICAgLy8gcHJvcGVybHkgdGhleSBtdXN0IGFsbCBiZSByZW1vdmVkXG5cblxuICAgICAgICAgICAgcmVtb3ZlTXVsdGlEcmFnRWxlbWVudHMoKTtcbiAgICAgICAgICAgIG11bHRpRHJhZ0VsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKG11bHRpRHJhZ0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgaWYgKGNoaWxkcmVuW211bHRpRHJhZ0luZGV4XSkge1xuICAgICAgICAgICAgICAgIHBhcmVudEVsLmluc2VydEJlZm9yZShtdWx0aURyYWdFbGVtZW50LCBjaGlsZHJlblttdWx0aURyYWdJbmRleF0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmVudEVsLmFwcGVuZENoaWxkKG11bHRpRHJhZ0VsZW1lbnQpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgbXVsdGlEcmFnSW5kZXgrKztcbiAgICAgICAgICAgIH0pOyAvLyBJZiBpbml0aWFsIGZvbGRpbmcgaXMgZG9uZSwgdGhlIGVsZW1lbnRzIG1heSBoYXZlIGNoYW5nZWQgcG9zaXRpb24gYmVjYXVzZSB0aGV5IGFyZSBub3dcbiAgICAgICAgICAgIC8vIHVuZm9sZGluZyBhcm91bmQgZHJhZ0VsLCBldmVuIHRob3VnaCBkcmFnRWwgbWF5IG5vdCBoYXZlIGhpcyBpbmRleCBjaGFuZ2VkLCBzbyB1cGRhdGUgZXZlbnRcbiAgICAgICAgICAgIC8vIG11c3QgYmUgZmlyZWQgaGVyZSBhcyBTb3J0YWJsZSB3aWxsIG5vdC5cblxuICAgICAgICAgICAgaWYgKG9sZEluZGV4ID09PSBpbmRleChkcmFnRWwkMSkpIHtcbiAgICAgICAgICAgICAgdmFyIHVwZGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICBtdWx0aURyYWdFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChtdWx0aURyYWdFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKG11bHRpRHJhZ0VsZW1lbnQuc29ydGFibGVJbmRleCAhPT0gaW5kZXgobXVsdGlEcmFnRWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBpZiAodXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2hTb3J0YWJsZUV2ZW50KCd1cGRhdGUnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gLy8gTXVzdCBiZSBkb25lIGFmdGVyIGNhcHR1cmluZyBpbmRpdmlkdWFsIHJlY3RzIChzY3JvbGwgYmFyKVxuXG5cbiAgICAgICAgICBtdWx0aURyYWdFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChtdWx0aURyYWdFbGVtZW50KSB7XG4gICAgICAgICAgICB1bnNldFJlY3QobXVsdGlEcmFnRWxlbWVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdG9Tb3J0YWJsZS5hbmltYXRlQWxsKCk7XG4gICAgICAgIH1cblxuICAgICAgICBtdWx0aURyYWdTb3J0YWJsZSA9IHRvU29ydGFibGU7XG4gICAgICB9IC8vIFJlbW92ZSBjbG9uZXMgaWYgbmVjZXNzYXJ5XG5cblxuICAgICAgaWYgKHJvb3RFbCA9PT0gcGFyZW50RWwgfHwgcHV0U29ydGFibGUgJiYgcHV0U29ydGFibGUubGFzdFB1dE1vZGUgIT09ICdjbG9uZScpIHtcbiAgICAgICAgbXVsdGlEcmFnQ2xvbmVzLmZvckVhY2goZnVuY3Rpb24gKGNsb25lKSB7XG4gICAgICAgICAgY2xvbmUucGFyZW50Tm9kZSAmJiBjbG9uZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNsb25lKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBudWxsaW5nR2xvYmFsOiBmdW5jdGlvbiBudWxsaW5nR2xvYmFsKCkge1xuICAgICAgdGhpcy5pc011bHRpRHJhZyA9IGRyYWdTdGFydGVkID0gZmFsc2U7XG4gICAgICBtdWx0aURyYWdDbG9uZXMubGVuZ3RoID0gMDtcbiAgICB9LFxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICB0aGlzLl9kZXNlbGVjdE11bHRpRHJhZygpO1xuXG4gICAgICBvZmYoZG9jdW1lbnQsICdwb2ludGVydXAnLCB0aGlzLl9kZXNlbGVjdE11bHRpRHJhZyk7XG4gICAgICBvZmYoZG9jdW1lbnQsICdtb3VzZXVwJywgdGhpcy5fZGVzZWxlY3RNdWx0aURyYWcpO1xuICAgICAgb2ZmKGRvY3VtZW50LCAndG91Y2hlbmQnLCB0aGlzLl9kZXNlbGVjdE11bHRpRHJhZyk7XG4gICAgICBvZmYoZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5fY2hlY2tLZXlEb3duKTtcbiAgICAgIG9mZihkb2N1bWVudCwgJ2tleXVwJywgdGhpcy5fY2hlY2tLZXlVcCk7XG4gICAgfSxcbiAgICBfZGVzZWxlY3RNdWx0aURyYWc6IGZ1bmN0aW9uIF9kZXNlbGVjdE11bHRpRHJhZyhldnQpIHtcbiAgICAgIGlmIChkcmFnU3RhcnRlZCkgcmV0dXJuOyAvLyBPbmx5IGRlc2VsZWN0IGlmIHNlbGVjdGlvbiBpcyBpbiB0aGlzIHNvcnRhYmxlXG5cbiAgICAgIGlmIChtdWx0aURyYWdTb3J0YWJsZSAhPT0gdGhpcy5zb3J0YWJsZSkgcmV0dXJuOyAvLyBPbmx5IGRlc2VsZWN0IGlmIHRhcmdldCBpcyBub3QgaXRlbSBpbiB0aGlzIHNvcnRhYmxlXG5cbiAgICAgIGlmIChldnQgJiYgY2xvc2VzdChldnQudGFyZ2V0LCB0aGlzLnNvcnRhYmxlLm9wdGlvbnMuZHJhZ2dhYmxlLCB0aGlzLnNvcnRhYmxlLmVsLCBmYWxzZSkpIHJldHVybjsgLy8gT25seSBkZXNlbGVjdCBpZiBsZWZ0IGNsaWNrXG5cbiAgICAgIGlmIChldnQgJiYgZXZ0LmJ1dHRvbiAhPT0gMCkgcmV0dXJuO1xuXG4gICAgICB3aGlsZSAobXVsdGlEcmFnRWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBlbCA9IG11bHRpRHJhZ0VsZW1lbnRzWzBdO1xuICAgICAgICB0b2dnbGVDbGFzcyhlbCwgdGhpcy5zb3J0YWJsZS5vcHRpb25zLnNlbGVjdGVkQ2xhc3MsIGZhbHNlKTtcbiAgICAgICAgbXVsdGlEcmFnRWxlbWVudHMuc2hpZnQoKTtcbiAgICAgICAgZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgc29ydGFibGU6IHRoaXMuc29ydGFibGUsXG4gICAgICAgICAgcm9vdEVsOiB0aGlzLnNvcnRhYmxlLmVsLFxuICAgICAgICAgIG5hbWU6ICdkZXNlbGVjdCcsXG4gICAgICAgICAgdGFyZ2V0RWw6IGVsLFxuICAgICAgICAgIG9yaWdpbmFsRXZ0OiBldnRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBfY2hlY2tLZXlEb3duOiBmdW5jdGlvbiBfY2hlY2tLZXlEb3duKGV2dCkge1xuICAgICAgaWYgKGV2dC5rZXkgPT09IHRoaXMuc29ydGFibGUub3B0aW9ucy5tdWx0aURyYWdLZXkpIHtcbiAgICAgICAgdGhpcy5tdWx0aURyYWdLZXlEb3duID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIF9jaGVja0tleVVwOiBmdW5jdGlvbiBfY2hlY2tLZXlVcChldnQpIHtcbiAgICAgIGlmIChldnQua2V5ID09PSB0aGlzLnNvcnRhYmxlLm9wdGlvbnMubXVsdGlEcmFnS2V5KSB7XG4gICAgICAgIHRoaXMubXVsdGlEcmFnS2V5RG93biA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIF9leHRlbmRzKE11bHRpRHJhZywge1xuICAgIC8vIFN0YXRpYyBtZXRob2RzICYgcHJvcGVydGllc1xuICAgIHBsdWdpbk5hbWU6ICdtdWx0aURyYWcnLFxuICAgIHV0aWxzOiB7XG4gICAgICAvKipcclxuICAgICAgICogU2VsZWN0cyB0aGUgcHJvdmlkZWQgbXVsdGktZHJhZyBpdGVtXHJcbiAgICAgICAqIEBwYXJhbSAge0hUTUxFbGVtZW50fSBlbCAgICBUaGUgZWxlbWVudCB0byBiZSBzZWxlY3RlZFxyXG4gICAgICAgKi9cbiAgICAgIHNlbGVjdDogZnVuY3Rpb24gc2VsZWN0KGVsKSB7XG4gICAgICAgIHZhciBzb3J0YWJsZSA9IGVsLnBhcmVudE5vZGVbZXhwYW5kb107XG4gICAgICAgIGlmICghc29ydGFibGUgfHwgIXNvcnRhYmxlLm9wdGlvbnMubXVsdGlEcmFnIHx8IH5tdWx0aURyYWdFbGVtZW50cy5pbmRleE9mKGVsKSkgcmV0dXJuO1xuXG4gICAgICAgIGlmIChtdWx0aURyYWdTb3J0YWJsZSAmJiBtdWx0aURyYWdTb3J0YWJsZSAhPT0gc29ydGFibGUpIHtcbiAgICAgICAgICBtdWx0aURyYWdTb3J0YWJsZS5tdWx0aURyYWcuX2Rlc2VsZWN0TXVsdGlEcmFnKCk7XG5cbiAgICAgICAgICBtdWx0aURyYWdTb3J0YWJsZSA9IHNvcnRhYmxlO1xuICAgICAgICB9XG5cbiAgICAgICAgdG9nZ2xlQ2xhc3MoZWwsIHNvcnRhYmxlLm9wdGlvbnMuc2VsZWN0ZWRDbGFzcywgdHJ1ZSk7XG4gICAgICAgIG11bHRpRHJhZ0VsZW1lbnRzLnB1c2goZWwpO1xuICAgICAgfSxcblxuICAgICAgLyoqXHJcbiAgICAgICAqIERlc2VsZWN0cyB0aGUgcHJvdmlkZWQgbXVsdGktZHJhZyBpdGVtXHJcbiAgICAgICAqIEBwYXJhbSAge0hUTUxFbGVtZW50fSBlbCAgICBUaGUgZWxlbWVudCB0byBiZSBkZXNlbGVjdGVkXHJcbiAgICAgICAqL1xuICAgICAgZGVzZWxlY3Q6IGZ1bmN0aW9uIGRlc2VsZWN0KGVsKSB7XG4gICAgICAgIHZhciBzb3J0YWJsZSA9IGVsLnBhcmVudE5vZGVbZXhwYW5kb10sXG4gICAgICAgICAgICBpbmRleCA9IG11bHRpRHJhZ0VsZW1lbnRzLmluZGV4T2YoZWwpO1xuICAgICAgICBpZiAoIXNvcnRhYmxlIHx8ICFzb3J0YWJsZS5vcHRpb25zLm11bHRpRHJhZyB8fCAhfmluZGV4KSByZXR1cm47XG4gICAgICAgIHRvZ2dsZUNsYXNzKGVsLCBzb3J0YWJsZS5vcHRpb25zLnNlbGVjdGVkQ2xhc3MsIGZhbHNlKTtcbiAgICAgICAgbXVsdGlEcmFnRWxlbWVudHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGV2ZW50T3B0aW9uczogZnVuY3Rpb24gZXZlbnRPcHRpb25zKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIG9sZEluZGljaWVzID0gW10sXG4gICAgICAgICAgbmV3SW5kaWNpZXMgPSBbXTtcbiAgICAgIG11bHRpRHJhZ0VsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKG11bHRpRHJhZ0VsZW1lbnQpIHtcbiAgICAgICAgb2xkSW5kaWNpZXMucHVzaCh7XG4gICAgICAgICAgbXVsdGlEcmFnRWxlbWVudDogbXVsdGlEcmFnRWxlbWVudCxcbiAgICAgICAgICBpbmRleDogbXVsdGlEcmFnRWxlbWVudC5zb3J0YWJsZUluZGV4XG4gICAgICAgIH0pOyAvLyBtdWx0aURyYWdFbGVtZW50cyB3aWxsIGFscmVhZHkgYmUgc29ydGVkIGlmIGZvbGRpbmdcblxuICAgICAgICB2YXIgbmV3SW5kZXg7XG5cbiAgICAgICAgaWYgKGZvbGRpbmcgJiYgbXVsdGlEcmFnRWxlbWVudCAhPT0gZHJhZ0VsJDEpIHtcbiAgICAgICAgICBuZXdJbmRleCA9IC0xO1xuICAgICAgICB9IGVsc2UgaWYgKGZvbGRpbmcpIHtcbiAgICAgICAgICBuZXdJbmRleCA9IGluZGV4KG11bHRpRHJhZ0VsZW1lbnQsICc6bm90KC4nICsgX3RoaXMub3B0aW9ucy5zZWxlY3RlZENsYXNzICsgJyknKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdJbmRleCA9IGluZGV4KG11bHRpRHJhZ0VsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3SW5kaWNpZXMucHVzaCh7XG4gICAgICAgICAgbXVsdGlEcmFnRWxlbWVudDogbXVsdGlEcmFnRWxlbWVudCxcbiAgICAgICAgICBpbmRleDogbmV3SW5kZXhcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGl0ZW1zOiBfdG9Db25zdW1hYmxlQXJyYXkobXVsdGlEcmFnRWxlbWVudHMpLFxuICAgICAgICBjbG9uZXM6IFtdLmNvbmNhdChtdWx0aURyYWdDbG9uZXMpLFxuICAgICAgICBvbGRJbmRpY2llczogb2xkSW5kaWNpZXMsXG4gICAgICAgIG5ld0luZGljaWVzOiBuZXdJbmRpY2llc1xuICAgICAgfTtcbiAgICB9LFxuICAgIG9wdGlvbkxpc3RlbmVyczoge1xuICAgICAgbXVsdGlEcmFnS2V5OiBmdW5jdGlvbiBtdWx0aURyYWdLZXkoa2V5KSB7XG4gICAgICAgIGtleSA9IGtleS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIGlmIChrZXkgPT09ICdjdHJsJykge1xuICAgICAgICAgIGtleSA9ICdDb250cm9sJztcbiAgICAgICAgfSBlbHNlIGlmIChrZXkubGVuZ3RoID4gMSkge1xuICAgICAgICAgIGtleSA9IGtleS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGtleS5zdWJzdHIoMSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGluc2VydE11bHRpRHJhZ0VsZW1lbnRzKGNsb25lc0luc2VydGVkLCByb290RWwpIHtcbiAgbXVsdGlEcmFnRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAobXVsdGlEcmFnRWxlbWVudCkge1xuICAgIHZhciB0YXJnZXQgPSByb290RWwuY2hpbGRyZW5bbXVsdGlEcmFnRWxlbWVudC5zb3J0YWJsZUluZGV4ICsgKGNsb25lc0luc2VydGVkID8gTnVtYmVyKGkpIDogMCldO1xuXG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgcm9vdEVsLmluc2VydEJlZm9yZShtdWx0aURyYWdFbGVtZW50LCB0YXJnZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByb290RWwuYXBwZW5kQ2hpbGQobXVsdGlEcmFnRWxlbWVudCk7XG4gICAgfVxuICB9KTtcbn1cbi8qKlxyXG4gKiBJbnNlcnQgbXVsdGktZHJhZyBjbG9uZXNcclxuICogQHBhcmFtICB7W0Jvb2xlYW5dfSBlbGVtZW50c0luc2VydGVkICBXaGV0aGVyIHRoZSBtdWx0aS1kcmFnIGVsZW1lbnRzIGFyZSBpbnNlcnRlZFxyXG4gKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gcm9vdEVsXHJcbiAqL1xuXG5cbmZ1bmN0aW9uIGluc2VydE11bHRpRHJhZ0Nsb25lcyhlbGVtZW50c0luc2VydGVkLCByb290RWwpIHtcbiAgbXVsdGlEcmFnQ2xvbmVzLmZvckVhY2goZnVuY3Rpb24gKGNsb25lKSB7XG4gICAgdmFyIHRhcmdldCA9IHJvb3RFbC5jaGlsZHJlbltjbG9uZS5zb3J0YWJsZUluZGV4ICsgKGVsZW1lbnRzSW5zZXJ0ZWQgPyBOdW1iZXIoaSkgOiAwKV07XG5cbiAgICBpZiAodGFyZ2V0KSB7XG4gICAgICByb290RWwuaW5zZXJ0QmVmb3JlKGNsb25lLCB0YXJnZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByb290RWwuYXBwZW5kQ2hpbGQoY2xvbmUpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZU11bHRpRHJhZ0VsZW1lbnRzKCkge1xuICBtdWx0aURyYWdFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChtdWx0aURyYWdFbGVtZW50KSB7XG4gICAgaWYgKG11bHRpRHJhZ0VsZW1lbnQgPT09IGRyYWdFbCQxKSByZXR1cm47XG4gICAgbXVsdGlEcmFnRWxlbWVudC5wYXJlbnROb2RlICYmIG11bHRpRHJhZ0VsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChtdWx0aURyYWdFbGVtZW50KTtcbiAgfSk7XG59XG5cblNvcnRhYmxlLm1vdW50KG5ldyBBdXRvU2Nyb2xsUGx1Z2luKCkpO1xuU29ydGFibGUubW91bnQoUmVtb3ZlLCBSZXZlcnQpO1xuXG5leHBvcnQgZGVmYXVsdCBTb3J0YWJsZTtcbmV4cG9ydCB7IE11bHRpRHJhZ1BsdWdpbiBhcyBNdWx0aURyYWcsIFNvcnRhYmxlLCBTd2FwUGx1Z2luIGFzIFN3YXAgfTtcbiJdLCJzb3VyY2VSb290IjoiIn0=