/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./js/src/editor/backend/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./js/src/editor/backend/builder.templates.js":
/*!****************************************************!*\
  !*** ./js/src/editor/backend/builder.templates.js ***!
  \****************************************************/
/*! exports provided: templatesPanelInit */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "templatesPanelInit", function() { return templatesPanelInit; });
/* harmony import */ var _sections_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sections.js */ "./js/src/editor/backend/sections.js");
/* harmony import */ var _dragndrop_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dragndrop.js */ "./js/src/editor/backend/dragndrop.js");
/* harmony import */ var _modulearea_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modulearea.js */ "./js/src/editor/backend/modulearea.js");
/*********************************
 *
 * = TEMPLATES =
 *
 * - dslc_load_template ( Load Template )
 * - dslc_import_template ( Import Template )
 * - dslc_save_template ( Save TEmplate )
 * - dslc_delete_template ( Delete Template )
 *
 ***********************************/





/**
 * TEMPLATES - Load
 */

var loadTemplateById = function loadTemplateById(template) {
  if (window.dslcDebug) console.log('dslc_load_template'); // Vars

  var dslcModule, dslcModuleID; // Template preloader

  jQuery('#wpcontent').prepend('<div class="lc-template-loader"></div>');
  var block = '<div class="lc-loader lds-css"><div class="lds-spinner"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>';
  jQuery('.lc-template-loader').prepend(block); // Ajax call to get template's HTML

  jQuery.post(DSLCAjax.ajaxurl, {
    action: 'dslc-ajax-load-template',
    dslc: 'active',
    dslc_template_id: template
  }, function (response) {
    // Apply the template's HTML
    jQuery('#dslc-main', LiveComposer.Builder.PreviewAreaDocument).html(response.output);
    jQuery('.lc-template-loader').remove(); // Call other functions

    LiveComposer.Builder.PreviewAreaWindow.dslc_carousel(); // Check init for rows and module areas

    Object(_sections_js__WEBPACK_IMPORTED_MODULE_0__["sectionsInitJS"])();
    Object(_modulearea_js__WEBPACK_IMPORTED_MODULE_2__["moduleareasInitJS"])();
    Object(_dragndrop_js__WEBPACK_IMPORTED_MODULE_1__["dragAndDropInit"])();
    window.dslc_show_publish_button();
    window.dslc_generate_code();
  });
};
/**
 * TEMPLATES - Import
 */


function dslc_template_import() {
  if (window.dslcDebug) console.log('dslc_import_template'); // Vars

  var dslcModule, dslcModuleID; // Hide the title on the button and show loading animation

  jQuery('.dslca-modal-templates-import .dslca-modal-title').css({
    opacity: 0
  });
  jQuery('.dslca-modal-templates-import .dslca-loading').show(); // Ajax call to load template's HTML

  jQuery.post(DSLCAjax.ajaxurl, {
    action: 'dslc-ajax-import-template',
    dslc: 'active',
    dslc_template_code: jQuery('#dslca-import-code').val()
  }, function (response) {
    // Apply the template's HTML
    jQuery('#dslc-main', LiveComposer.Builder.PreviewAreaDocument).html(response.output); // Hide the loading on the button and show the title

    jQuery('.dslca-modal-templates-import .dslca-loading').hide();
    jQuery('.dslca-modal-templates-import .dslca-modal-title').css({
      opacity: 1
    }); // Hide the modal

    dslc_hide_modal('', '.dslca-modal-templates-import'); // Call other functions

    LiveComposer.Builder.PreviewAreaWindow.dslc_bg_video();
    Object(_dragndrop_js__WEBPACK_IMPORTED_MODULE_1__["dragAndDropInit"])();
    window.dslc_show_publish_button();
    window.dslc_generate_code();
  });
}
/**
 * TEMPLATES - SAVE
 */


function dslc_template_save() {
  if (window.dslcDebug) console.log('dslc_save_template'); // AJAX call to save the template

  jQuery.post(DSLCAjax.ajaxurl, {
    action: 'dslc-ajax-save-template',
    dslc: 'active',
    dslc_template_code: jQuery('#dslca-code').val(),
    dslc_template_title: jQuery('#dslca-save-template-title').val()
  }, function (response) {
    // Hide the modal
    dslc_hide_modal('', '.dslca-modal-templates-save');
  });
}
/**
 * TEMPLATES - DELETE
 */


function dslc_template_delete(template) {
  if (window.dslcDebug) console.log('dslc_delete_template'); // AJAX call to delete template

  jQuery.post(DSLCAjax.ajaxurl, {
    action: 'dslc-ajax-delete-template',
    dslc: 'active',
    dslc_template_id: template
  }, function (response) {
    // Remove template from the template listing
    jQuery('.dslca-template[data-id="' + template + '"]').fadeOut(200, function () {
      jQuery(this).remove();
    });
  });
}
/**
 * Deprecated Functions and Fallbacks
 */


function dslc_import_template() {
  dslc_template_import();
}

function dslc_save_template() {
  dslc_template_save();
}

function dslc_delete_template(template) {
  dslc_template_delete(template);
}
/**
 * TEMPLATES - Document Ready
 */


var templatesPanelInit = function templatesPanelInit() {
  /**
   * Hook - Load Template
   */
  var templateItem = document.querySelectorAll('.dslca-template'); // Attach import function to each template item.

  templateItem.forEach(function (element) {
    element.addEventListener('click', function (event) {
      event.preventDefault();
      var importButton = event.target.closest("[data-id]");
      loadTemplateById(importButton.dataset.id);
    });
  });
  /**
   * Hook - Import Template
   */

  $('.dslca-template-import-form').submit(function (e) {
    e.preventDefault();
    dslc_template_import();
  });
  /**
   * Hook - Save Template
   */

  $('.dslca-template-save-form').submit(function (e) {
    e.preventDefault();
    dslc_template_save();
  });
  /**
   * Hook - Delete Template
   */

  $(document).on('click', '.dslca-delete-template-hook', function (e) {
    e.stopPropagation();
    dslc_template_delete($(this).data('id'));
  });
};

/***/ }),

/***/ "./js/src/editor/backend/codegeneration.js":
/*!*************************************************!*\
  !*** ./js/src/editor/backend/codegeneration.js ***!
  \*************************************************/
/*! exports provided: codeGenerationInitJS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "codeGenerationInitJS", function() { return codeGenerationInitJS; });
/*********************************
 *
 * = CODE GENERATION =
 *
 * - dslc_save_composer ( Save the Page Changes )
 * - dslc_save_draft_composer ( Save the changes as draft, not publish )
 * - dslc_generate_code ( Generates Page's LC data )
 * - dslc_generate_section_code ( Generate LC data for a specific row/section )
 * - dslca_gen_content_for_search ( Generate Readable Content For Search )
 *
 ***********************************/

/**
 * CODE GENERATION - Save Page Changes
 */

function dslc_save_composer() {
  if (window.dslcDebug) console.log('dslc_save_composer');
  /**
   * Before saving code via ajax
   * refresh the page source in a hidden #dslca-code
   */

  window.dslc_generate_code(); // Generate content for search

  dslca_gen_content_for_search(); // Vars

  var composerCode = jQuery('#dslca-code').val(),
      contentForSearch = jQuery('#dslca-content-for-search').val(),
      postID = jQuery('.dslca-container').data('post-id'); // Apply class to body to know saving is in progress

  jQuery('body').addClass('dslca-saving-in-progress'); // Replace the check in publish button with a loading animation

  jQuery('.dslca-save-composer .dslca-icon').removeClass('dslc-icon-ok').addClass('dslc-icon-spin dslc-icon-spinner'); // Ajax call to save the new content

  jQuery.ajax({
    method: 'POST',
    type: 'POST',
    url: DSLCAjax.ajaxurl,
    data: {
      action: 'dslc-ajax-save-composer',
      dslc: 'active',
      dslc_post_id: postID,
      dslc_code: composerCode,
      dslc_content_for_search: contentForSearch
    },
    timeout: 30000
  }).done(function (response) {
    // On success hide the publish button
    if (response.status == 'success') {
      jQuery('.dslca-save-composer').fadeOut(250);
      jQuery('.dslca-save-draft-composer').fadeOut(250); // Create new cache version after it's saved.

      jQuery('body').append('<iframe class="lbmn-cache-iframe" id="lbmn-cache-iframe-' + postID + '" src="' + DSLCSiteData.siteurl + '/?p=' + postID + '" ></iframe>');
      jQuery('.lbmn-cache-iframe').each(function (index, el) {
        jQuery(el).load(function () {
          jQuery(el).remove(); // Cache built at this point. Remove iframe.
        });
      }); // On fail show an alert message
    } else {
      alert('Something went wrong, please try to save again. Are you sure to make any changes? Error Code: ' + response.status);
    }
  }).fail(function (response) {
    if (response.statusText == 'timeout') {
      alert('The request timed out after 30 seconds. Server do not respond in time. Please try again.');
    } else {
      alert('Something went wrong. Please try again. Error Code: ' + response.statusText);
    }
  }).always(function (reseponse) {
    // Replace the loading animation with a check icon
    jQuery('.dslca-save-composer .dslca-icon').removeClass('dslc-icon-spin dslc-icon-spinner').addClass('dslc-icon-ok'); // Remove the class previously added so we know saving is finished

    jQuery('body').removeClass('dslca-saving-in-progress');
  });
}
/**
 * CODE GENERATION - Save Draft
 */


function dslc_save_draft_composer() {
  if (window.dslcDebug) console.log('dslc_save_draft_composer'); // Vars

  var composerCode = jQuery('#dslca-code').val(),
      postID = jQuery('.dslca-container').data('post-id'); // Apply class to body to know saving is in progress

  jQuery('body').addClass('dslca-saving-in-progress'); // Replace the check in publish button with a loading animation

  jQuery('.dslca-save-draft-composer .dslca-icon').removeClass('dslc-icon-ok').addClass('dslc-icon-spin dslc-icon-spinner'); // Ajax call to save the new content

  jQuery.post(DSLCAjax.ajaxurl, {
    action: 'dslc-ajax-save-draft-composer',
    dslc: 'active',
    dslc_post_id: postID,
    dslc_code: composerCode
  }, function (response) {
    // Replace the loading animation with a check icon
    jQuery('.dslca-save-draft-composer .dslca-icon').removeClass('dslc-icon-spin dslc-icon-spinner').addClass('dslc-icon-save'); // On success hide the publish button

    if (response.status == 'success') {
      jQuery('.dslca-save-draft-composer').fadeOut(250); // On fail show an alert message
    } else {
      alert('Something went wrong, please try to save again.');
    } // Remove the class previously added so we know saving is finished


    jQuery('body').removeClass('dslca-saving-in-progress');
  });
}
/**
 * CODE GENERATION - Generate LC Data
 * @param section is not required. If no parameter provided function generates
 */


window.dslc_generate_code = function () {
  if (window.dslcDebug) console.log('dslc_generate_code'); // Vars

  var moduleCode = '',
      module_size,
      composerCode = '',
      pageCodeInJson = '',
      maxPerRow = 12,
      maxPerRowA = 12,
      currPerRow = 0,
      currPerRowA = 0,
      modulesAreaSize,
      modulesArea,
      modulesAreaLastState,
      modulesAreaFirstState,
      modulesSection,
      modulesSectionAtts = '',
      modulesSectionJson;
  /**
   * Go through module areas (empty or not empty)
   * TODO: Optimize code to go though the section/area needed only,
   * not the whole page.
   */

  jQuery('#dslc-main .dslc-modules-area', LiveComposer.Builder.PreviewAreaDocument).each(function () {
    if (jQuery('.dslc-module-front', this).length) {
      jQuery(this).removeClass('dslc-modules-area-empty').addClass('dslc-modules-area-not-empty');
      jQuery('.dslca-no-content', this).hide();
    } else {
      jQuery(this).removeClass('dslc-modules-area-not-empty').addClass('dslc-modules-area-empty');
      jQuery('.dslca-no-content:not(:visible)', this).show().css({
        '-webkit-animation-name': 'dslcBounceIn',
        '-moz-animation-name': 'dslcBounceIn',
        'animation-name': 'dslcBounceIn',
        'animation-duration': '0.6s',
        '-webkit-animation-duration': '0.6s',
        padding: 0
      }).animate({
        padding: '35px 0'
      }, 300);
    }
  });
  /**
   * Go through each row (empty or not empty)
   */

  jQuery('#dslc-main .dslc-modules-section', LiveComposer.Builder.PreviewAreaDocument).each(function () {
    modulesSection = jQuery(this);
    modulesSectionJson = dslc_generate_section_code(modulesSection); // Update JSON in hidden text area with updated code.

    modulesSection.find('.dslca-section-code').val(modulesSectionJson); // Add row code into the the whole page code.

    pageCodeInJson = pageCodeInJson + modulesSectionJson + ','; // Close row ( section ) shortcode
    // composerCode = composerCode + '[/dslc_modules_section] ';
  }); // Remove the last comma in the code.

  pageCodeInJson = pageCodeInJson.slice(0, -1); // pageCodeInJson = pageCodeInJson;

  pageCodeInJson = '[' + pageCodeInJson + ']'; // Apply the new code values to the setting containers

  jQuery('#dslca-code').val(pageCodeInJson);
  jQuery('#dslca-export-code').val(pageCodeInJson);
};
/**
 * CODE GENERATION - Generate LC Data for Section
 *
 * @param  {jQuery Object} theModulesSection jQuery element for the section to process
 * @return {String}                   			JSON code for the section
 */


function dslc_generate_section_code(theModulesSection) {
  if (window.dslcDebug) console.log('dslc_generate_section_code'); // Vars

  var moduleCode = '',
      module_size,
      composerCode = '',
      pageCodeInJson = '',
      maxPerRow = 12,
      maxPerRowA = 12,
      currPerRow = 0,
      currPerRowA = 0,
      modulesAreaSize,
      modulesArea,
      modulesAreaLastState,
      modulesAreaFirstState,
      modulesSection,
      modulesSectionAtts = '',
      modulesSectionJsonString = '',
      modulesSectionJson;
  modulesSection = theModulesSection; // Update dslc-modules-section-(not)empty classes

  if (jQuery('.dslc-modules-area', modulesSection).length) {
    modulesSection.removeClass('dslc-modules-section-empty').addClass('dslc-modules-section-not-empty');
  } else {
    modulesSection.removeClass('dslc-modules-section-not-empty').addClass('dslc-modules-section-empty');
  } // Remove last and first classes from module areas and modules


  jQuery('.dslc-modules-area.dslc-last-col, .dslc-modules-area.dslc-first-col', this).removeClass('dslc-last-col dslc-first-col');
  jQuery('.dslc-module-front.dslc-last-col, .dslc-module-front.dslc-first-col', this).removeClass('dslc-last-col dslc-first-col'); // Vars

  currPerRowA = 0; // Get current JSON.

  modulesSectionJsonString = modulesSection.find('.dslca-section-code').val();
  modulesSectionJson = JSON.parse(modulesSectionJsonString); // Generate attributes for the row shortcode

  modulesSectionAtts = '';
  jQuery('.dslca-modules-section-settings input', modulesSection).each(function () {
    var currentInput = jQuery(this);
    var currentAttrKey = currentInput.data('id');
    var currentAttrVal = currentInput.val(); // Update hidden text fields with row attributes.

    modulesSectionAtts = modulesSectionAtts + currentAttrKey + '="' + currentAttrVal + '" '; // Update JSON object.

    modulesSectionJson[currentAttrKey] = currentAttrVal;
  }); // Delete attribute 'give_new_id'.
  // It supposed to be used only once and by this time it was already applied.

  if (undefined !== modulesSectionJson['give_new_id']) {
    delete modulesSectionJson['give_new_id'];
  } // Prepare place for module areas.


  modulesSectionJson['content'] = []; // Open the module section ( row ) shortcode
  // composerCode = composerCode + '[dslc_modules_section ' + modulesSectionAtts + '] ';

  /**
   * Go through each column of current row
   */

  jQuery('.dslc-modules-area', modulesSection).each(function () {
    // Reset width counter for modules
    currPerRow = 0; // Vars

    modulesArea = jQuery(this);
    modulesAreaSize = parseInt(modulesArea.data('size'));
    modulesAreaLastState = 'no';
    modulesAreaFirstState = 'no'; // Increment area column counter

    currPerRowA += modulesAreaSize;
    jQuery(this).removeClass('dslc-first-col');
    jQuery(this).removeClass('dslc-last-col'); // If area column counter same as maximum

    if (currPerRowA == maxPerRowA) {
      // Apply classes to current and next column
      jQuery(this).addClass('dslc-last-col').next('.dslc-modules-area').addClass('dslc-first-col'); // Reset area column counter

      currPerRowA = 0; // Set shortcode's "last" attribute to "yes"

      modulesAreaLastState = 'yes'; // If area column counter bigger than maximum
    } else if (currPerRowA > maxPerRowA) {
      // Apply classes to current and previous column
      jQuery(this).removeClass('dslc-last-col').addClass('dslc-first-col'); // Set area column counter to the size of the current area

      currPerRowA = modulesAreaSize; // Set shortcode's "first" attribute to yes

      modulesAreaFirstState = 'yes';
    } // If area column counter same as current area size


    if (currPerRowA == modulesAreaSize) {
      // Set shortcode's "first" attribute to yes
      modulesAreaFirstState = 'yes'; // Apply classes to current and previous column

      jQuery(this).removeClass('dslc-last-col').addClass('dslc-first-col');
    } // Open the modules area ( area ) shortcode
    // composerCode = composerCode + '[dslc_modules_area last="' + modulesAreaLastState + '" first="' + modulesAreaFirstState + '" size="' + modulesAreaSize + '"] ';


    var moduleAreaJSON = '{"element_type":"module_area","last":"' + modulesAreaLastState + '","first":"' + modulesAreaFirstState + '","size":"' + modulesAreaSize + '"}'; // pageCodeInJson = pageCodeInJson +  moduleAreaJSON + ',';

    moduleAreaJSON = JSON.parse(moduleAreaJSON); // Delete attribute 'give_new_id'.
    // It supposed to be used only once and by this time it was already applied.

    if (undefined !== moduleAreaJSON['give_new_id']) {
      delete moduleAreaJSON['give_new_id'];
    }

    moduleAreaJSON.content = [];
    /**
     * Go through each module of current area
     */

    jQuery('.dslc-module-front', modulesArea).each(function () {
      var dslc_module = jQuery(this); // Vars

      module_size = parseInt(dslc_module[0].getAttribute('data-dslc-module-size'));
      var moduleLastState = 'no';
      var moduleFirstState = 'no';
      jQuery(this).removeClass('dslc-first-col');
      jQuery(this).removeClass('dslc-last-col'); // Increment modules column counter

      currPerRow += module_size; // If modules column counter same as maximum

      if (currPerRow == maxPerRow) {
        // Add classes to current and next module
        jQuery(this).addClass('dslc-last-col');
        jQuery(this).next('.dslc-module-front').addClass('dslc-first-col'); // Reset modules column counter

        currPerRow = 0; // Set shortcode's "last" state to "yes"

        moduleLastState = 'yes'; // Set shorcode's "first" state to "yes"

        moduleFirstState = 'yes'; // If modules column counter bigger than maximum
      } else if (currPerRow > maxPerRow) {
        // Add classes to current and previous module
        jQuery(this).removeClass('dslc-last-col').addClass('dslc-first-col'); // Set modules column counter to the size of current module

        currPerRow = module_size; // Set shortcode's "first" state to "yes"

        moduleFirstState = 'yes';
      } // If modules column counter same as current module size


      if (currPerRow == module_size) {
        // Set shortcode's "first" attribute to yes
        moduleFirstState = 'yes'; // Apply classes to current and previous column

        jQuery(this).removeClass('dslc-last-col').addClass('dslc-first-col');
      }

      try {
        // Get module's LC data
        moduleCode = dslc_module[0].querySelector('.dslca-module-code').value;
      } catch (err) {
        console.info('No DSLC code found in module: ' + dslc_module[0].getAttribute('id'));
      }

      if ('' !== moduleCode) {
        // Add the module shortcode containing the data
        // composerCode = composerCode + '[dslc_module last="' + moduleLastState + '"]' + moduleCode + '[/dslc_module] ';
        var moduleCodeJSON = JSON.parse(moduleCode); // Add idicator for the last module in the row.

        moduleCodeJSON.last = moduleLastState; // RAW CODE CLEANUP: Clean the module code from keys with empty values.

        jQuery.each(moduleCodeJSON, function (index, el) {
          if (false === el || '' === el) {
            delete moduleCodeJSON[index];
          }

          if ('content' === index) {
            moduleCodeJSON[index] = el.replace(/\\'/g, "'");
          }

          if ('give_new_id' === index) {
            delete moduleCodeJSON[index];
          }
        }); // Put optimized code back into the hidden textarea.

        dslc_module[0].querySelector('.dslca-module-code').value = JSON.stringify(moduleCodeJSON); // Add the module JSON as array item

        moduleAreaJSON['content'].push(moduleCodeJSON);
      } // Fix bug with modules duplication if broken module saved.


      moduleCode = '';
    });
    modulesSectionJson['content'].push(moduleAreaJSON); // Close area shortcode
    // composerCode = composerCode + '[/dslc_modules_area] ';
  });
  var generatedCode = JSON.stringify(modulesSectionJson);
  return generatedCode;
}
/**
 * CODE GENERATION - Document Ready
 */


jQuery(document).ready(function ($) {
  /**
   * Hook - Save Page
   */
  $(document).on('click', '.dslca-save-composer-hook', function (e) {
    e.preventDefault(); // If some saving action not already in progress

    if (!$('body').hasClass('dslca-module-saving-in-progress') && !$('body').hasClass('dslca-saving-in-progress')) {
      // Call the function to save
      dslc_save_composer();
    }
  });
  /**
   * Hook - Save Draft
   */

  $(document).on('click', '.dslca-save-draft-composer-hook', function (e) {
    e.preventDefault(); // If some saving action not already in progress

    if (!$('body').hasClass('dslca-module-saving-in-progress') && !$('body').hasClass('dslca-saving-in-progress')) {
      // Call the function to save
      dslc_save_draft_composer();
    }
  });
});
/**
* Other - Generate Readable Content For Search
*/

function dslca_gen_content_for_search() {
  if (window.dslcDebug) console.log('dslca_gen_content_for_search'); // Vars

  var holder = document.getElementById('dslca-content-for-search');

  if (null === holder) {
    return;
  }

  var prevContent = holder.value;
  var content = ''; // Go through each content element

  var elements = LiveComposer.Builder.PreviewAreaWindow.document.querySelectorAll('#dslc-main .dslc-module-front [data-exportable-content]');

  if (undefined !== elements) {
    Array.prototype.forEach.call(elements, function (el, i) {
      // el - current DOM element, i – counter
      var extracted_html_code;

      if (el.getAttribute('data-exportable-content') !== '') {
        var wrapper_tag = el.getAttribute('data-exportable-content');
        extracted_html_code = '<' + wrapper_tag + '>' + el.innerHTML + '</' + wrapper_tag + '>';
      } else {
        extracted_html_code = el.innerHTML;
      }

      if (extracted_html_code !== null) {
        content += extracted_html_code.replace(/\s+/g, ' ').trim() + '\n';
      }
    });
  } // Set the value of the content field


  holder.value = content; // Used to show the publish button for pages made before this feature

  if (prevContent !== content) {
    window.dslc_show_publish_button();
  }
}

var codeGenerationInitJS = function codeGenerationInitJS() {};

/***/ }),

/***/ "./js/src/editor/backend/dragndrop.js":
/*!********************************************!*\
  !*** ./js/src/editor/backend/dragndrop.js ***!
  \********************************************/
/*! exports provided: dragAndDropInit */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dragAndDropInit", function() { return dragAndDropInit; });
/* harmony import */ var sortablejs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sortablejs */ "./node_modules/sortablejs/modular/sortable.esm.js");
/**
 * UI - General - Initiate Drag and Drop Functonality
 */

var dragAndDropInit = function dragAndDropInit() {
  if (window.dslcDebug) console.log('dslc_drag_and_drop');
  var modulesSection, modulesArea, moduleID, moduleOutput; // Drag and Drop for module icons from the list of modules

  var modules_list = jQuery('.dslca-modules .dslca-section-scroller-content'); // Groups that can hold modules
  // jQuery(modules_list).each(function (i,e) {

  if (modules_list.length == 0) {
    modules_list = [document.createElement('div')];
  }

  var modules_list_sortable = sortablejs__WEBPACK_IMPORTED_MODULE_0__["default"].create(modules_list[0], {
    sort: false,
    // do not allow sorting inside the list of modules
    group: {
      name: 'modules',
      pull: 'clone',
      put: false
    },
    animation: 150,
    handle: '.dslca-module',
    draggable: '.dslca-module',
    // ghostClass: 'dslca-module-placeholder',
    chosenClass: 'dslca-module-dragging',
    scroll: true,
    // or HTMLElement
    scrollSensitivity: 150,
    // px, how near the mouse must be to an edge to start scrolling.
    scrollSpeed: 15,
    // px
    setData: function setData(dataTransfer, dragEl) {
      //dragEl – contains html of the draggable element like:
      //<div class="dslca-module dslca-scroller-item dslca-origin dslca-origin-General" data-id="DSLC_Button" data-origin="General" draggable="false" style="">
      // dataTransfer.setData('Text', dragEl.textContent);
      dataTransfer.setData(LiveComposer.Utils.msieversion() !== false ? 'Text' : 'text/html', dragEl.innerHTML);
    },
    // dragging started
    onStart: function onStart(
    /**Event*/
    evt) {
      evt.oldIndex; // element index within parent
      // jQuery( '.dslc-modules-area' ).sortable( "refreshPositions" );

      jQuery('body').removeClass('dslca-new-module-drag-not-in-progress').addClass('dslca-new-module-drag-in-progress');
      jQuery('body', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-new-module-drag-not-in-progress').addClass('dslca-new-module-drag-in-progress');
      jQuery('#dslc-header').addClass('dslca-header-low-z-index');
    },
    // dragging ended
    onEnd: function onEnd(
    /**Event*/
    evt) {
      evt.oldIndex; // element's old index within parent

      evt.newIndex; // element's new index within parent

      var itemEl = evt.item; // dragged HTML

      evt.preventDefault(); // evt.stopPropagation();
      //return false;
      // Prevent drop into modules listing

      if (jQuery(itemEl).closest('.dslca-section-scroller-content').length > 0) return false;
      jQuery('.dslca-options-hovered', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-options-hovered'); // Vars

      modulesArea = jQuery(itemEl.parentNode); //jQuery(this);

      moduleID = itemEl.dataset.id; // get value of data-id attr.

      window.dslc_generate_code();

      if (moduleID == 'DSLC_M_A' || jQuery('body').hasClass('dslca-module-drop-in-progress') || modulesArea.closest('#dslc-header').length || modulesArea.closest('#dslc-footer').length) {// nothing
      } else {
        jQuery('body').addClass('dslca-module-drop-in-progress'); // Add padding to modules area

        /*
        if ( modulesArea.hasClass('dslc-modules-area-not-empty') )
        	modulesArea.animate({ paddingBottom : 50 }, 150);
        */
        // TODO: Optimize expensive ajax call in this function!
        // Load Output

        dslc_module_output_default(moduleID, function (response) {
          // Append Content
          moduleOutput = response.output; // Remove extra padding from area
          // modulesArea.css({ paddingBottom : 0 });
          // Add output
          // TODO: optimize jQuery in the string below

          var dslcJustAdded = LiveComposer.Builder.Helpers.insertModule(moduleOutput, jQuery('.dslca-module', modulesArea));
          setTimeout(function () {
            LiveComposer.Builder.PreviewAreaWindow.dslc_masonry();
            jQuery('body').removeClass('dslca-module-drop-in-progress');
          }, 700); // "Show" no content text // Not used anymore?
          // jQuery('.dslca-no-content-primary', modulesArea ).css({ opacity : 1 });
          // "Show" modules area management

          jQuery('.dslca-modules-area-manage', modulesArea).css({
            visibility: 'visible'
          }); // Generete

          LiveComposer.Builder.PreviewAreaWindow.dslc_carousel();
          LiveComposer.Builder.PreviewAreaWindow.dslc_tabs();
          LiveComposer.Builder.PreviewAreaWindow.dslc_init_accordion();
          window.dslc_generate_code(); // Show publish

          window.dslc_show_publish_button(); // LiveComposer.Builder.UI.initInlineEditors();
        }); // Loading animation
        // Show loader – Not used anymore.
        // jQuery('.dslca-module-loading', modulesArea).show();
        // Change module icon to the spinning loader.

        jQuery(itemEl).find('.dslca-icon').attr('class', '').attr('class', 'dslca-icon dslc-icon-refresh dslc-icon-spin'); // Hide no content text // Not used anymore?
        // jQuery('.dslca-no-content-primary', modulesArea).css({ opacity : 0 });
        // Hide modules area management

        jQuery('.dslca-modules-area-manage', modulesArea).css({
          visibility: 'hidden'
        }); // Animate loading

        /*
        var randomLoadingTime = Math.floor(Math.random() * (100 - 50 + 1) + 50) * 100;
        jQuery('.dslca-module-loading-inner', modulesArea).css({ width : 0 }).animate({
        	width : '100%'
        }, randomLoadingTime, 'linear' );
        */
      }

      LiveComposer.Builder.UI.stopScroller();
      jQuery('body').removeClass('dslca-new-module-drag-in-progress').addClass('dslca-new-module-drag-not-in-progress');
      jQuery('body', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-new-module-drag-in-progress').addClass('dslca-new-module-drag-not-in-progress');
      jQuery('#dslc-header').removeClass('dslca-header-low-z-index');
    },
    // Element is dropped into the list from another list
    onAdd: function onAdd(
    /**Event*/
    evt) {
      var itemEl = evt.item; // dragged HTMLElement

      evt.from; // previous list
      // + indexes from onEnd
      // evt.preventDefault();
    },
    // Changed sorting within list
    onUpdate: function onUpdate(
    /**Event*/
    evt) {
      var itemEl = evt.item; // dragged HTMLElement
      // + indexes from onEnd

      window.dslc_show_publish_button(); // evt.preventDefault();
    },
    // Called by any change to the list (add / update / remove)
    onSort: function onSort(
    /**Event*/
    evt) {
      // same properties as onUpdate
      evt.preventDefault(); // evt.stopPropagation(); return false;
    },
    // Element is removed from the list into another list
    onRemove: function onRemove(
    /**Event*/
    evt) {// same properties as onUpdate
    },
    // Attempt to drag a filtered element
    onFilter: function onFilter(
    /**Event*/
    evt) {
      var itemEl = evt.item; // HTMLElement receiving the `mousedown|tapstart` event.
    },
    // Event when you move an item in the list or between lists
    onMove: function onMove(
    /**Event*/
    evt) {
      // Example: http://jsbin.com/tuyafe/1/edit?js,output
      evt.dragged; // dragged HTMLElement

      evt.draggedRect; // TextRectangle {left, top, right и bottom}

      evt.related; // HTMLElement on which have guided

      evt.relatedRect; // TextRectangle
      // return false; — for cancel

      jQuery(evt.to).addClass('dslca-options-hovered');
    }
  });
};

/***/ }),

/***/ "./js/src/editor/backend/index.js":
/*!****************************************!*\
  !*** ./js/src/editor/backend/index.js ***!
  \****************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _builder_templates_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./builder.templates.js */ "./js/src/editor/backend/builder.templates.js");
/* harmony import */ var _uigeneral_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./uigeneral.js */ "./js/src/editor/backend/uigeneral.js");
/* harmony import */ var _sectionscontainer_class_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sectionscontainer.class.js */ "./js/src/editor/backend/sectionscontainer.class.js");
/* harmony import */ var _settings_panel_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./settings.panel.js */ "./js/src/editor/backend/settings.panel.js");
/* harmony import */ var _sections_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./sections.js */ "./js/src/editor/backend/sections.js");
/* harmony import */ var _dragndrop_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./dragndrop.js */ "./js/src/editor/backend/dragndrop.js");
/* harmony import */ var _codegeneration_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./codegeneration.js */ "./js/src/editor/backend/codegeneration.js");
/* harmony import */ var _scroller_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./scroller.js */ "./js/src/editor/backend/scroller.js");
/* harmony import */ var _utils_class_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils.class.js */ "./js/src/editor/backend/utils.class.js");
/**
 * Main builder file
 */









var dslcDebug = false; // dslcDebug = true;
// Global Plugin Object

window.LiveComposer = {
  Builder: {
    Elements: {},
    UI: {},
    Actions: {},
    Flags: {},
    PreviewFrame: {},
    Helpers: {}
  },
  Production: {},
  Utils: {}
};

(function () {
  LiveComposer.Builder.Flags = {
    windowScroller: false,
    panelOpened: false,
    // Settings panel opened
    // Used to prevent multiple code generation when
    // cancelling row edits
    generate_code_after_row_changed: true
  };
  LiveComposer.Builder.Actions = {
    postponed_actions_queue: {},
    add_postponed_action: function add_postponed_action(action_name) {
      if (action_name === undefined) {
        return;
      }

      if (isNaN(this.postponed_actions_queue[action_name])) {
        this.postponed_actions_queue[action_name] = 0;
      }

      this.postponed_actions_queue[action_name] += 1;
    },
    release_postponed_actions: function release_postponed_actions() {
      var self = this;
      jQuery.each(this.postponed_actions_queue, function (index, value) {
        if (1 < value) {
          self.postponed_actions_queue[index] -= 1;
        } else if (1 == value) {
          window[index](); // Run function with action name

          self.postponed_actions_queue[index] -= 1;
        }
      });
    }
    /**
     * Inserts module fixing inline scripts bug
     *
     * @param {string} moduleHTML
     * @param {string} afterObject after what module should be inserted
     *
     * @return {DOM} inserted object
     */

  };

  LiveComposer.Builder.Helpers.insertModule = function (moduleHTML, afterObject) {
    var newModule = jQuery(moduleHTML),
        afterObject = jQuery(afterObject);
    var scripts = [];
    newModule.find('script').each(function () {
      scripts.push(this.innerHTML);
      this.parentNode.removeChild(this);
    }); // Insert 'updated' module output after module we are editing.
    // && Delete 'old' instance of the module we are editing.

    afterObject.after(newModule).remove();
    scripts.forEach(function (item) {
      var script = LiveComposer.Builder.PreviewAreaDocument[0].createElement('script');
      script.innerHTML = item;
      script.type = 'text/javascript';
      LiveComposer.Builder.PreviewAreaDocument[0].getElementById(newModule[0].id).appendChild(script);
    });
    scripts = null;
    afterObject = null;
    return newModule;
  };
})();
/** Wait till tinyMCE loaded */


window.previewAreaTinyMCELoaded = function () {
  console.log("window.previewAreaTinyMCELoaded!");
  LiveComposer.Builder.PreviewAreaWindow = this;
  LiveComposer.Builder.PreviewAreaDocument = jQuery(this.document); // Disable WP admin bar in editing mode

  jQuery('#wpadminbar', LiveComposer.Builder.PreviewAreaDocument).remove(); // LiveComposer.Builder.UI.initInlineEditors();

  Object(_uigeneral_js__WEBPACK_IMPORTED_MODULE_1__["fixContenteditable"])();
  Object(_builder_templates_js__WEBPACK_IMPORTED_MODULE_0__["templatesPanelInit"])();
  Object(_settings_panel_js__WEBPACK_IMPORTED_MODULE_3__["settingsPanelInit"])();
  Object(_sections_js__WEBPACK_IMPORTED_MODULE_4__["sectionsInit"])();
  var mainDraggable = LiveComposer.Builder.PreviewAreaDocument.find("#dslc-main").eq(0)[0];
  new _sectionscontainer_class_js__WEBPACK_IMPORTED_MODULE_2__["CSectionsContainer"](mainDraggable);
  jQuery(document).trigger('editorFrameLoaded');
  Object(_dragndrop_js__WEBPACK_IMPORTED_MODULE_5__["dragAndDropInit"])();
  Object(_codegeneration_js__WEBPACK_IMPORTED_MODULE_6__["codeGenerationInitJS"])();
  window.dslc_generate_code(); // Catch keypress events (from both parent and iframe) to add keyboard support

  Object(_uigeneral_js__WEBPACK_IMPORTED_MODULE_1__["keypressEvents"])();
  Object(_scroller_js__WEBPACK_IMPORTED_MODULE_7__["initPreviewAreaScroller"])();
  Object(_utils_class_js__WEBPACK_IMPORTED_MODULE_8__["untilsInitJs"])();
};

/***/ }),

/***/ "./js/src/editor/backend/modulearea.class.js":
/*!***************************************************!*\
  !*** ./js/src/editor/backend/modulearea.class.js ***!
  \***************************************************/
/*! exports provided: ModuleArea */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModuleArea", function() { return ModuleArea; });
/* harmony import */ var sortablejs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sortablejs */ "./node_modules/sortablejs/modular/sortable.esm.js");
/**
 * DSLC_ModuleArea class
 */



var ModuleArea = function ModuleArea(elem) {
  var self = this;
  this.section = jQuery(elem).closest('.dslc-modules-section');
  this.elem = elem;
  /** Set observer to change elems class */

  this.observer = new mqMutationObserver(elem, function () {
    var classList = self.elem.classList;

    if (elem.querySelectorAll('.dslc-module-front').length == 0) {
      classList.add('dslc-modules-area-empty');
      classList.remove('dslc-modules-area-not-empty');
    } else {
      classList.remove('dslc-modules-area-empty');
      classList.add('dslc-modules-area-not-empty');
    }
  }, {
    childList: true
  });
  /**
   * Make MODULES inside the Modules Area draggable/sortable
   */

  this.sortable = sortablejs__WEBPACK_IMPORTED_MODULE_0__["default"].create(elem, {
    group: 'modules',
    animation: 350,
    handle: '.dslca-move-module-hook',
    draggable: '.dslc-module-front',
    ghostClass: 'dslca-module-ghost',
    chosenClass: 'dslca-module-dragging',
    scroll: true,
    // or HTMLElement
    scrollSensitivity: 150,
    // px, how near the mouse must be to an edge to start scrolling.
    scrollSpeed: 15,
    // px
    setData: function setData(dataTransfer, dragEl) {
      dataTransfer.setData(LiveComposer.Utils.msieversion() !== false ? 'Text' : 'text/html', dragEl.innerHTML);
    },
    // dragging started
    onStart: function onStart(evt) {
      evt.oldIndex; // element index within parent

      jQuery('body').removeClass('dslca-drag-not-in-progress').addClass('dslca-drag-in-progress');
      jQuery('body', LiveComposer.Builder.PreviewAreaWindow.document).removeClass('dslca-drag-not-in-progress').addClass('dslca-drag-in-progress');
    },
    // dragging ended
    onEnd: function onEnd(evt) {
      evt.oldIndex; // element's old index within parent

      evt.newIndex; // element's new index within parent

      evt.preventDefault();
      window.dslc_generate_code();
      LiveComposer.Builder.UI.stopScroller();
      jQuery('body').removeClass('dslca-drag-in-progress').addClass('dslca-drag-not-in-progress');
      jQuery('body', LiveComposer.Builder.PreviewAreaWindow.document).removeClass('dslca-drag-in-progress').addClass('dslca-drag-not-in-progress');
    },
    // Element is dropped into the list from another list
    onAdd: function onAdd(evt) {
      var itemEl = evt.item; // dragged HTMLElement

      evt.from; // previous list
      // If container/column/modules area droped.

      if (jQuery(itemEl).data('id') == 'DSLC_M_A') {
        dslc_modules_area_add(jQuery(self.section).find('.dslc-modules-section-wrapper .dslc-modules-section-inner'));
        itemEl.remove();
      } // + indexes from onEnd
      // evt.preventDefault();
      // evt.stopPropagation(); return false;

    },
    // Changed sorting within list
    onUpdate: function onUpdate(evt) {
      var itemEl = evt.item; // dragged HTMLElement
      // + indexes from onEnd
      // evt.preventDefault();
      // evt.stopPropagation(); return false;

      window.dslc_show_publish_button();
    },
    // Called by any change to the list (add / update / remove)
    onSort: function onSort(evt) {// same properties as onUpdate
      // evt.preventDefault();
      // evt.stopPropagation(); return false;
    },
    // Element is removed from the list into another list
    onRemove: function onRemove(evt) {// same properties as onUpdate
    },
    // Attempt to drag a filtered element
    onFilter: function onFilter(evt) {
      var itemEl = evt.item; // HTMLElement receiving the `mousedown|tapstart` event.
    },
    // Event when you move an item in the list or between lists
    onMove: function onMove(evt) {
      // Example: http://jsbin.com/tuyafe/1/edit?js,output
      evt.dragged; // dragged HTMLElement

      evt.draggedRect; // TextRectangle {left, top, right и bottom}

      evt.related; // HTMLElement on which have guided

      evt.relatedRect; // TextRectangle
      // return false; — for cancel
      // Add here the function to update underlying class

      if (jQuery('.dslc-modules-area-empty').find('.dslc-module-front').length > 0) {
        jQuery(this).removeClass('dslc-modules-area-empty').addClass('dslc-modules-area-not-empty');
        jQuery('.dslca-no-content:not(:visible)', this).show().css({
          '-webkit-animation-name': 'dslcBounceIn',
          '-moz-animation-name': 'dslcBounceIn',
          'animation-name': 'dslcBounceIn',
          'animation-duration': '0.6s',
          '-webkit-animation-duration': '0.6s',
          padding: 0
        }).animate({
          padding: '35px 0'
        }, 300, function () {});
      }
    }
  }); // Mark module area as initialized

  jQuery(elem).attr('data-jsinit', 'initialized');
  /** Sort option setter */

  jQuery(document).on('LC.sortableOff', function () {
    self.sortable && self.sortable.option && self.sortable.option('disabled', true);
  });
  jQuery(document).on('LC.sortableOn', function () {
    self.sortable && self.sortable.option && self.sortable.option('disabled', false);
  });
};

/***/ }),

/***/ "./js/src/editor/backend/modulearea.js":
/*!*********************************************!*\
  !*** ./js/src/editor/backend/modulearea.js ***!
  \*********************************************/
/*! exports provided: moduleareasInitJS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "moduleareasInitJS", function() { return moduleareasInitJS; });
/* harmony import */ var _dragndrop_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dragndrop.js */ "./js/src/editor/backend/dragndrop.js");
/* harmony import */ var _sections_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sections.js */ "./js/src/editor/backend/sections.js");
/* harmony import */ var _modulearea_class_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modulearea.class.js */ "./js/src/editor/backend/modulearea.class.js");
/**
 * Functions powering Module Areas functionality
 *
 * = AREAS ( MODULE AREAS ) =
 *
 * - Actions/Events (Duplicate, Change Width, Delete, ...)
 * - dslc_modules_area_add ( Adds a new modules area )
 * - dslc_modules_area_delete ( Deletes modules area )
 * - dslc_modules_area_width_set ( Sets specific width to the modules area )
 * - dslc_copy_modules_area ( Copies modules area )
 *
 */



/**
 * Module Area Actions (Duplicate, Change Width, Delete, ...)
 *
 * Attach these actions once the editing iFrame loaded.
 */

;
jQuery(document).on('editorFrameLoaded', function () {
  function init_sortables() {
    var el = jQuery('.dslc-modules-area', LiveComposer.Builder.PreviewAreaDocument); // Groups that can hold modules

    jQuery(el).each(function (i, e) {
      new _modulearea_class_js__WEBPACK_IMPORTED_MODULE_2__["ModuleArea"](e);
    });
  }

  var actionAvail = function actionAvail() {
    if (LiveComposer.Builder.Flags.panelOpened) {
      LiveComposer.Builder.UI.shakePanelConfirmButton();
      return false;
    }

    return true;
  };
  /**
   * Action - Automatically Add a Row if Empty
   */


  if (!jQuery('#dslc-main .dslc-modules-section', LiveComposer.Builder.PreviewAreaDocument).length && !jQuery('#dslca-tut-page', LiveComposer.Builder.PreviewAreaDocument).length) {
    Object(_sections_js__WEBPACK_IMPORTED_MODULE_1__["addSection"])(init_sortables());
  } else {
    init_sortables();
  }
  /**
   * Hook - Copy Module Area
   */


  LiveComposer.Builder.PreviewAreaDocument.on('click', '.dslca-copy-modules-area-hook', function (e) {
    e.preventDefault(); // Check if action can be fired

    if (!actionAvail()) return false;

    if (!jQuery(this).hasClass('dslca-action-disabled')) {
      var modulesArea = jQuery(this).closest('.dslc-modules-area');
      dslc_copy_modules_area(modulesArea);
    }
  });
  /**
   * Hook - Delete Module Area
   */

  LiveComposer.Builder.PreviewAreaDocument.on('click', '.dslca-delete-modules-area-hook', function (e) {
    e.preventDefault(); // Check if action can be fired

    if (!actionAvail()) return false;

    if (!jQuery(this).hasClass('dslca-action-disabled')) {
      // Check if current modules area is empty.
      var modulesAreaEmpty = jQuery(this).closest('.dslc-modules-area').hasClass('dslc-modules-area-empty');

      if (!modulesAreaEmpty) {
        var self = jQuery(this);
        LiveComposer.Builder.UI.CModalWindow({
          title: DSLCString.str_del_area_title,
          content: DSLCString.str_del_area_descr,
          confirm: function confirm() {
            var modulesArea = self.closest('.dslc-modules-area');
            dslc_modules_area_delete(modulesArea);
          }
        }); // Show confirmation modal only if the module area isn't empty.

        /*dslc_js_confirm( 'delete_modules_area', '<span class="dslca-prompt-modal-title">' + DSLCString.str_del_area_title +
        	'</span><span class="dslca-prompt-modal-descr">' + DSLCString.str_del_area_descr + '</span>', jQuery(this) );*/
      } else {
        var modulesArea = jQuery(this).closest('.dslc-modules-area'); // Delete module area without asking anything.

        dslc_delete_modules_area(modulesArea);
      }
    }
  });
  /**
   * Hook - Set Width of the Module Area
   */

  LiveComposer.Builder.PreviewAreaDocument.on('click', '.dslca-change-width-modules-area-options span', function () {
    // Check if action can be fired
    if (!actionAvail()) return false;

    if (!jQuery(this).hasClass('dslca-action-disabled')) {
      var moduleAreaJQ = jQuery(this).closest('.dslc-modules-area');
      var oldSize = moduleAreaJQ.data('size');
      var newSize = jQuery(this).data('size'); // Start expensive function only if the value changed.

      if (Number(oldSize) !== Number(newSize)) {
        dslc_modules_area_width_set(moduleAreaJQ, newSize);
      }
    }
  });
  /**
   * Action - Show/Hide Width Options Popup for the Module Area
   */

  /* LiveComposer.Builder.PreviewAreaDocument.on( 'click', '.dslca-change-width-modules-area-hook', function(e){
  		e.preventDefault();
  		// Check if action can be fired
  	if ( ! actionAvail() ) return false;
  		if ( ! jQuery(this).hasClass('dslca-action-disabled') ) {
  			// Is visible
  		if ( jQuery('.dslca-change-width-modules-area-options:visible', this).length ) {
  				// Hide
  			jQuery('.dslca-change-width-modules-area-options', this).hide();
  			// Is hidden
  		} else {
  				// Show
  			jQuery('.dslca-change-width-modules-area-options', this).show();
  		}
  	}
  }); */

  /* 
  	LiveComposer.Builder.PreviewAreaDocument.on( 'mouseleave', '.dslca-change-width-modules-area-options', function(e){
  
  		// Hide width seleciton panel.
  		jQuery(this).hide();
  	});
   */

  /**
   * Hook - Add Modules Area
   * TODO: Where we use it? Delete maybe?
   */

  LiveComposer.Builder.PreviewAreaDocument.on('click', '.dslca-add-modules-area-hook', function (e) {
    e.preventDefault(); // Check if action can be fired

    if (!actionAvail()) return false;
    dslc_modules_area_add(jQuery(this).closest('.dslc-modules-section').find('.dslc-modules-section-inner'));
  });
});
/**
 * AREAS - Add New
 */

function dslc_modules_area_add(row) {
  if (window.dslcDebug) console.log('dslc_add_modules_area'); // Add class to body so we know it's in progress
  // jQuery('body', LiveComposer.Builder.PreviewAreaDocument).addClass('dslca-anim-in-progress');

  var output = '<div class="dslc-modules-area dslc-modules-area-dnd dslc-col dslc-12-col dslc-modules-area-empty " data-size="12">' + '<div class="dslca-modules-area-manage"> <div class="dslca-modules-area-manage-inner">' + '<span class="dslca-manage-action dslca-copy-modules-area-hook" title="Duplicate" ><span class="dslca-icon dslc-icon-copy">' + '</span></span> <span class="dslca-manage-action dslca-move-modules-area-hook" title="Drag to move" >' + '<span class="dslca-icon dslc-icon-move"></span></span>' + '<span class="dslca-manage-action dslca-change-width-modules-area-hook" title="Change width" >' + '<span class="dslca-icon dslc-icon-columns"></span> <div class="dslca-change-width-modules-area-options">' + '<span>Container Width</span><span data-size="1">1/12</span><span data-size="2">2/12</span>' + '<span data-size="3">3/12</span><span data-size="4">4/12</span> <span data-size="5">5/12</span><span data-size="6">6/12</span>' + '<span data-size="7">7/12</span><span data-size="8">8/12</span> <span data-size="9">9/12</span><span data-size="10">10/12</span>' + '<span data-size="11">11/12</span><span data-size="12">12/12</span> </div> </span>' + '<span class="dslca-manage-action dslca-delete-modules-area-hook" title="Delete" ><span class="dslca-icon dslc-icon-remove"></span></span> </div> </div>' + '</div>'; // Append new area and animate

  jQuery(output).appendTo(row).css({
    height: 0
  }).animate({
    height: 99
  }, 300, function () {
    jQuery(this).css({
      height: 'auto'
    });
  }).addClass('dslca-init-animation'); // Re-initialize all the empty areas on the page

  var emptyModuleAreas = jQuery('.dslc-modules-area-empty', LiveComposer.Builder.PreviewAreaDocument);
  jQuery(emptyModuleAreas).each(function (i, e) {
    new _modulearea_class_js__WEBPACK_IMPORTED_MODULE_2__["ModuleArea"](e);
  }); // Call other functions

  Object(_dragndrop_js__WEBPACK_IMPORTED_MODULE_0__["dragAndDropInit"])();
  window.dslc_generate_code();
  window.dslc_show_publish_button(); // Remove class from body so we know it's done
  // jQuery('body', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-anim-in-progress');
}
/**
 * AREAS - Delete
 */


function dslc_modules_area_delete(area) {
  if (window.dslcDebug) console.log('dslc_delete_modules_area'); // Vars

  var modulesSection = area.closest('.dslc-modules-section').find('.dslc-modules-section-inner'),
      dslcDeleteSectionToo = false; // Add a class to the area so we know it's being deleted

  area.addClass('dslca-modules-area-being-deleted'); // If it's the last area in the row delete section as well

  if (modulesSection.find('.dslc-modules-area').length < 2) {
    dslcDeleteSectionToo = true;
  } // If a module in the area is being edited


  if (area.find('.dslca-module-being-edited').length) {
    // Hide the filter hooks
    jQuery('.dslca-header .dslca-options-filter-hook', LiveComposer.Builder.PreviewAreaDocument).hide(); // Hide the save/cancel actions

    jQuery('.dslca-module-edit-actions', LiveComposer.Builder.PreviewAreaDocument).hide(); // Show the section hooks

    jQuery('.dslca-header .dslca-go-to-section-hook', LiveComposer.Builder.PreviewAreaDocument).show(); // Show the modules listing

    dslc_show_section('.dslca-modules');
  } // Set a timeout so we handle deletion after animation ends


  setTimeout(function () {
    // Delete section if no more module areas inside.
    if (dslcDeleteSectionToo) {
      var parentSectionContainer = area.closest('.dslc-modules-section-inner'); // dslc_modules_area_add( modulesSection );
      // Don't delete latest module area in the latest section on the page

      if (2 <= area.closest('#dslc-main').find('.dslc-modules-section').length) {
        dslc_row_delete(area.closest('.dslc-modules-section'));
      } else {
        // Remove the area
        area.remove(); // Create new empty area in current module section

        dslc_modules_area_add(modulesSection);
      }
    } // Remove the area


    area.remove(); // Call other functions

    window.dslc_generate_code();
    window.dslc_show_publish_button();
  }, 900); // Animation

  area.css({
    '-webkit-animation-name': 'dslcBounceOut',
    '-moz-animation-name': 'dslcBounceOut',
    'animation-name': 'dslcBounceOut',
    'animation-duration': '0.6s',
    '-webkit-animation-duration': '0.6s',
    'overflow': 'hidden'
  }).animate({
    opacity: 0
  }, 600).animate({
    height: 0,
    marginBottom: 0
  }, 300, function () {
    area.remove();
    window.dslc_generate_code();
    window.dslc_show_publish_button();
  });
}
/**
 * AREAS - Copy
 */


function dslc_modules_area_copy(area) {
  if (window.dslcDebug) console.log('dslc_copy_modules_area'); // Vars

  var dslc_moduleID,
      modulesSection = area.closest('.dslc-modules-section').find('.dslc-modules-section-inner'); // Copy the area and append to the row

  var dslc_modulesAreaCloned = area.clone().appendTo(modulesSection);
  new _modulearea_class_js__WEBPACK_IMPORTED_MODULE_2__["ModuleArea"](dslc_modulesAreaCloned[0]); // Trigger mouseleave ( so the actions that show on hover go away )

  dslc_modulesAreaCloned.find('.dslca-modules-area-manage').trigger('mouseleave'); // Apply correct data size and get rid of animations

  dslc_modulesAreaCloned.data('size', area.data('size')).find('.dslc-module-front').css({
    '-webkit-animation-name': 'none',
    '-moz-animation-name': 'none',
    'animation-name': 'none',
    'animation-duration': '0',
    '-webkit-animation-duration': '0',
    opacity: 0 // Go through each module in the area

  }).each(function () {
    var dslc_module = jQuery(this); //Generate new ID for the new module and change it in HTML/CSS of the module.

    dslc_module_new_id(dslc_module[0]); // Remove "dslca-module-being-edited" class form any element

    jQuery('.dslca-module-being-edited', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-module-being-edited'); // Need to call this function to update last column class for the modules.

    window.dslc_generate_code(); // Show back new created module

    dslc_module.animate({
      opacity: 1
    }, 300);
  }); // Call other functions

  Object(_dragndrop_js__WEBPACK_IMPORTED_MODULE_0__["dragAndDropInit"])();
  window.dslc_show_publish_button(); // Need to call this function to update last column class for the module areas.

  window.dslc_generate_code();
}
/**
 * AREAS - Set Width
 */


function dslc_modules_area_width_set(area, newWidth) {
  if (window.dslcDebug) console.log('dslc_modules_area_width_set'); // Generate new class based on width

  var newClass = 'dslc-' + newWidth + '-col'; // Remove width classes, add new width class and set the data-size attr

  area.removeClass('dslc-1-col dslc-2-col dslc-3-col dslc-4-col dslc-5-col dslc-6-col dslc-7-col dslc-8-col dslc-9-col dslc-10-col dslc-11-col dslc-12-col').addClass(newClass).data('size', newWidth); // Call other functions

  LiveComposer.Builder.PreviewAreaWindow.dslc_masonry();

  if (LiveComposer.Builder.Flags.panelOpened) {
    return false;
  }

  window.dslc_generate_code();
  window.dslc_show_publish_button();
}
/**
 * Check Module Areas initialization
 *
 * @return void
 */


var moduleareasInitJS = function moduleareasInitJS() {
  // Select all the module areas form the main section of the page
  jQuery('#dslc-main .dslc-modules-area', LiveComposer.Builder.PreviewAreaDocument).each(function () {
    // Check if all the module areas have data attribute 'jsinit' set to 'initialized'?
    if (jQuery(this).data('jsinit') !== 'initialized') {
      // Initialize all the module areas without 'jsinit' attribute!
      new _modulearea_class_js__WEBPACK_IMPORTED_MODULE_2__["ModuleArea"](this);
    }
  });
};
/**
 * Deprecated Functions and Fallbacks
 */

function dslc_add_modules_area(row) {
  dslc_modules_area_add(row);
}

function dslc_delete_modules_area(area) {
  dslc_modules_area_delete(area);
}

function dslc_copy_modules_area(area) {
  dslc_modules_area_copy(area);
}

/***/ }),

/***/ "./js/src/editor/backend/scroller.js":
/*!*******************************************!*\
  !*** ./js/src/editor/backend/scroller.js ***!
  \*******************************************/
/*! exports provided: initPreviewAreaScroller */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initPreviewAreaScroller", function() { return initPreviewAreaScroller; });
/*********************************
 *
 * = UI - SCROLLER =
 *
 ***********************************/

/**
 * SCROLLER - Document Ready
 */
jQuery(document).ready(function ($) {
  var scrollerPlugin = function scrollerPlugin(container) {
    /**
     * Scroll list of modules with a mouse wheel.
     */
    var deltaKoef = .75;
    var increment = 500;
    var scrollinc = 100;
    var scroller = jQuery('.dslca-section-scroller', container);
    var scrollInner = jQuery('.dslca-section-scroller-inner', container)[0];
    scroller.on('wheel', function (event) {
      scroll_to(event.originalEvent.deltaY || event.originalEvent.deltaX);
      return false;
    });
    /**
     * Scroll to delta
     *
     * @param  {int} delta
     */

    function scroll_to(delta) {
      if (delta < 0) {
        delta = -scrollinc;
      } else {
        delta = scrollinc;
      }

      delta = delta * deltaKoef;
      var listWidth = scroller.find('.dslca-section-scroller-content').width();
      var contentWidth = scroller.width();
      if (listWidth <= contentWidth) return false;
      var scrollMax = listWidth - contentWidth + 10;
      delta = parseInt(scrollInner.style.left || 0) - delta;
      delta = delta >= 0 ? 0 : delta;
      delta = delta <= -scrollMax ? -scrollMax : delta;
      scrollInner.style.left = delta + 'px';
    }
    /**
     * Hook - Scroller Prev
     */


    jQuery('.dslca-section-scroller-prev', container).click(function (e) {
      e.preventDefault();
      scroll_to(-increment);
    });
    /**
     * Hook - Scroller Next
     */

    jQuery('.dslca-section-scroller-next', container).click(function (e) {
      e.preventDefault();
      scroll_to(increment);
    });
    jQuery(window).load(function () {
      // Initiate scroller on window resize
      jQuery(window).resize(function () {
        scroll_to(0);
      });
    });
  };

  scrollerPlugin(jQuery('.dslca-section.dslca-modules'));
  scrollerPlugin(jQuery('.dslca-section.dslca-templates-load'));
});
/** Scroll preview area when mouse are on some distant of edge */

var initPreviewAreaScroller = function initPreviewAreaScroller() {
  var pxInTik = 5;
  var timerTik = 6;
  LiveComposer.Builder.Flags.windowScroller = false;
  /** Stop scroll if within areas */

  jQuery(LiveComposer.Builder.PreviewAreaDocument).on('dragleave', '.lc-scroll-top-area, .lc-scroll-bottom-area', function (e) {
    LiveComposer.Builder.UI.stopScroller();
  });
  /** Scroll bottom */

  jQuery(LiveComposer.Builder.PreviewAreaDocument).on('dragenter dragover', '.lc-scroll-bottom-area', function (e) {
    if (LiveComposer.Builder.Flags.windowScroller !== false) return false;
    LiveComposer.Utils.publish('LC.sortableOff', {});
    LiveComposer.Builder.Flags.windowScroller = setInterval(function () {
      LiveComposer.Builder.PreviewAreaWindow.scrollBy(0, pxInTik);
    }, timerTik);
  });
  /** Scroll top */

  jQuery(LiveComposer.Builder.PreviewAreaDocument).on('dragenter', '.lc-scroll-top-area', function (e) {
    if (LiveComposer.Builder.Flags.windowScroller !== false) return false;
    LiveComposer.Utils.publish('LC.sortableOff', {});
    LiveComposer.Builder.Flags.windowScroller = setInterval(function () {
      LiveComposer.Builder.PreviewAreaWindow.scrollBy(0, -pxInTik);
    }, timerTik);
  });
  /** Stop scroll if click or drag ended */

  jQuery(LiveComposer.Builder.PreviewAreaDocument).on('dragend mouseup', 'body', function (e) {
    LiveComposer.Builder.Flags.windowScroller && LiveComposer.Builder.UI.stopScroller();
  });
};
/** Window Y-scroller */

jQuery(document).ready(function ($) {
  initPreviewAreaScroller();
  /**
   * Stops scroller function
   */

  LiveComposer.Builder.UI.stopScroller = function () {
    LiveComposer.Utils.publish('LC.sortableOn', {});
    clearInterval(LiveComposer.Builder.Flags.windowScroller);
    LiveComposer.Builder.Flags.windowScroller = false;
  };

  jQuery("#scroller-stopper").on('dragover', function () {
    LiveComposer.Builder.UI.stopScroller();
  });
});

/***/ }),

/***/ "./js/src/editor/backend/section.class.js":
/*!************************************************!*\
  !*** ./js/src/editor/backend/section.class.js ***!
  \************************************************/
/*! exports provided: Section */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Section", function() { return Section; });
var _this = undefined;

/**
 * Builder section class
 */
var Section = function Section(elem) {
  var self = _this;
  var sortableContainer = jQuery(elem).find('.dslc-modules-section-wrapper .dslc-modules-section-inner').eq(0)[0];
  jQuery(elem).droppable({
    drop: function drop(event, ui) {
      var modulesSection = jQuery(this).find('.dslc-modules-section-inner');
      var moduleID = ui.draggable.data('id');

      if (moduleID == 'DSLC_M_A') {
        dslc_modules_area_add(modulesSection);
      }
    }
  });
  var sortable = jQuery(sortableContainer).sortable({
    connectWith: '.dslc-modules-section-inner',
    items: ".dslc-modules-area-dnd",
    handle: '.dslca-move-modules-area-hook:not(".dslca-action-disabled")',
    placeholder: 'dslca-modules-area-placeholder',
    cursorAt: {
      top: 0,
      left: 0
    },
    tolerance: 'intersect',
    scroll: true,
    scrollSensitivity: 100,
    scrollSpeed: 15,
    sort: function sort() {
      jQuery(this).removeClass("ui-state-default");
    },
    over: function over(e, ui) {
      var dslcSection = ui.placeholder.closest('.dslc-modules-section');
      jQuery(dslcSection).removeClass('dslc-modules-section-empty').addClass('dslc-modules-section-not-empty');
      dslcSection.siblings('.dslc-modules-section').each(function () {
        if (jQuery('.dslc-modules-area:not(.ui-sortable-helper)', jQuery(this)).length) {
          jQuery(this).removeClass('dslc-modules-section-empty').addClass('dslc-modules-section-not-empty');
        } else {
          jQuery(this).removeClass('dslc-modules-section-not-empty').addClass('dslc-modules-section-empty');
        }
      });
    },
    remove: function remove() {
      jQuery(self.elem).find('.dslc-modules-area').length == 0 && dslc_modules_area_add(jQuery(sortableContainer));
    },
    update: function update(e, ui) {
      window.dslc_generate_code();
      window.dslc_show_publish_button();
    },
    start: function start(e, ui) {
      // Placeholder
      ui.placeholder.html('<span class="dslca-placeholder-help-text"><span class="dslca-placeholder-help-text-inner">' + DSLCString.str_area_helper_text + '</span></span>');

      if (!jQuery(ui.item).hasClass('dslc-12-col')) {
        ui.placeholder.width(ui.item.width() - 10);
      } else {
        ui.placeholder.width(ui.item.width()).css({
          margin: 0
        });
      } // Add drag in progress class


      jQuery('body').removeClass('dslca-drag-not-in-progress').addClass('dslca-drag-in-progress dslca-modules-area-drag-in-progress'); // Refresh positions

      jQuery('.dslc-modules-section-inner').sortable("refreshPositions");
    },
    stop: function stop(e, ui) {
      LiveComposer.Builder.UI.stopScroller();
      jQuery('body').removeClass('dslca-drag-in-progress dslca-modules-area-drag-in-progress').addClass('dslca-drag-not-in-progress');
      jQuery('.dslca-anim-opacity-drop').removeClass('dslca-anim-opacity-drop');
    },
    change: function change(e, ui) {}
  }); // Mark section as initialized

  jQuery(elem).attr('data-jsinit', 'initialized');
  /** Sort option setter */

  jQuery(document).on('LC.sortableOff', function () {
    if (undefined !== self.sortable.sortable("instance")) {
      self.sortable.sortable('option', 'disabled', true);
    }
  });
  jQuery(document).on('LC.sortableOn', function () {
    if (undefined !== self.sortable.sortable("instance")) {
      self.sortable.sortable('option', 'disabled', false);
    }
  });
};

/***/ }),

/***/ "./js/src/editor/backend/sections.js":
/*!*******************************************!*\
  !*** ./js/src/editor/backend/sections.js ***!
  \*******************************************/
/*! exports provided: addSection, sectionsInitJS, sectionsInit */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addSection", function() { return addSection; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sectionsInitJS", function() { return sectionsInitJS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sectionsInit", function() { return sectionsInit; });
/* harmony import */ var _section_class_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./section.class.js */ "./js/src/editor/backend/section.class.js");
/* harmony import */ var _dragndrop_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dragndrop.js */ "./js/src/editor/backend/dragndrop.js");
/* harmony import */ var _modulearea_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modulearea.js */ "./js/src/editor/backend/modulearea.js");
/* harmony import */ var _modulearea_class_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modulearea.class.js */ "./js/src/editor/backend/modulearea.class.js");
/*********************************
 *
 * = ROWS =
 *
 * - dslc_row_add ( Add New )
 * - dslc_row_delete ( Delete )
 * - dslc_row_edit ( Edit )
 * - dslc_row_edit_slider_init ( Edit - Initiate Slider )
 * - dslc_row_edit_cancel ( Edit - Cancel Changes )
 * - dslc_row_edit_confirm ( Edit - Confirm Changes )
 * - dslc_row_copy ( Copy )
 * - dslc_row_import ( Import )
 *
 ***********************************/




;
jQuery(document).on('editorFrameLoaded', function () {
  var $ = jQuery;

  var actionAvail = function actionAvail() {
    if (LiveComposer.Builder.Flags.panelOpened) {
      LiveComposer.Builder.UI.shakePanelConfirmButton();
      return false;
    }

    return true;
  };

  jQuery(".dslc-modules-section", LiveComposer.Builder.PreviewAreaDocument).each(function () {
    new _section_class_js__WEBPACK_IMPORTED_MODULE_0__["Section"](this);
  });
  /**
   * Hook - Delete Row
   */

  LiveComposer.Builder.PreviewAreaDocument.on('click', '.dslca-delete-modules-section-hook', function (e) {
    // Check if action can be fired
    if (!actionAvail()) return false;
    e.preventDefault();
    var self = this;

    if (!$(this).hasClass('dslca-action-disabled')) {
      LiveComposer.Builder.UI.CModalWindow({
        title: DSLCString.str_del_row_title,
        content: DSLCString.str_del_row_descr,
        confirm: function confirm() {
          dslc_row_delete($(self).closest('.dslc-modules-section'));
        }
      });
      /*	dslc_js_confirm( 'delete_modules_section', '<span class="dslca-prompt-modal-title">' + DSLCString.str_del_row_title +
      		'</span><span class="dslca-prompt-modal-descr">' + DSLCString.str_del_row_descr + '</span>', $(this) );*/
    }
  });
  /**
   * Hook - Import Row
   */

  LiveComposer.Builder.PreviewAreaDocument.on('click', '.dslca-import-modules-section-hook', function (e) {
    e.preventDefault(); // Check if action can be fired

    if (!actionAvail()) return false;

    if (!jQuery(this).hasClass('dslca-action-disabled')) {
      LiveComposer.Builder.UI.CModalWindow({
        title: DSLCString.str_import_row_title,
        content: DSLCString.str_import_row_descr + '<br><br><textarea></textarea>',
        confirm: function confirm() {
          dslc_row_import(jQuery('.dslca-prompt-modal textarea').val());
          jQuery('.dslca-prompt-modal-confirm-hook span').css({
            opacity: 0
          });
          jQuery('.dslca-prompt-modal-confirm-hook .dslca-loading').show();
        },
        confirm_title: DSLCString.str_import
      });
      /*$('.dslca-prompt-modal-confirm-hook').html('<span class="dslc-icon dslc-icon-ok"></span><span>' + DSLCString.str_import +
      	'</span><div class="dslca-loading followingBallsGWrap"><div class="followingBallsG_1 followingBallsG"></div>'+
      	'<div class="followingBallsG_2 followingBallsG"></div><div class="followingBallsG_3 followingBallsG"></div><div class="followingBallsG_4 followingBallsG"></div></div>');
      	dslc_js_confirm( 'import_modules_section', '<span class="dslca-prompt-modal-title">' + DSLCString.str_import_row_title +
      	'</span><span class="dslca-prompt-modal-descr">' + DSLCString.str_import_row_descr + ' <br><br><textarea></textarea></span>', $(this) );*/
    }
  });
  /**
   * Hook - Export Row
   */

  LiveComposer.Builder.PreviewAreaDocument.on('click', '.dslca-export-modules-section-hook', function (e) {
    e.preventDefault(); // Check if action can be fired

    if (!actionAvail()) return false;

    if (!$(this).hasClass('dslca-action-disabled')) {
      $('.dslca-prompt-modal-cancel-hook').hide();
      $('.dslca-prompt-modal-confirm-hook').html('<span class="dslc-icon dslc-icon-ok"></span>' + DSLCString.str_ok);
      LiveComposer.Builder.UI.CModalWindow({
        title: DSLCString.str_export_row_title,
        content: DSLCString.str_export_row_descr + '<br><br><textarea>' + '[' + dslc_generate_section_code($(this).closest('.dslc-modules-section')) + ']' + '</textarea></span>'
      }); // dslc_js_confirm( 'export_modules_section', '<span class="dslca-prompt-modal-title">' + DSLCString.str_export_row_title +
      // 	'</span><span class="dslca-prompt-modal-descr">' + DSLCString.str_export_row_descr + ' <br><br><textarea></textarea></span>', $(this) );
      // $('.dslca-prompt-modal textarea').val( dslc_generate_section_code( $(this).closest('.dslc-modules-section') ) );
    }
  });
  /**
   * Hook - Copy Row
   */

  LiveComposer.Builder.PreviewAreaDocument.on('click', '.dslca-copy-modules-section-hook', function () {
    // Check if action can be fired
    if (!actionAvail()) return false;

    if (!jQuery(this).hasClass('dslca-action-disabled')) {
      dslc_row_copy(jQuery(this).closest('.dslc-modules-section'));
    }
  });
  /**
   * Hook - Add Row
   */

  LiveComposer.Builder.PreviewAreaDocument.on('click', '.dslca-add-modules-section-hook', function (e) {
    e.preventDefault(); // Check if action can be fired

    if (!actionAvail()) return false;
    var button = $(this);

    if (!$(this).hasClass('dslca-action-disabled')) {
      // Add a loading animation
      button.find('.dslca-icon').removeClass('dslc-icon-align-justify').addClass('dslc-icon-spinner dslc-icon-spin'); // Add a row

      addSection(function () {
        button.find('.dslca-icon').removeClass('dslc-icon-spinner dslc-icon-spin').addClass('dslc-icon-align-justify');
      });
    }
  });
  /**
   * Hook - Edit Row
   */

  LiveComposer.Builder.PreviewAreaDocument.on('click', '.dslca-edit-modules-section-hook', function () {
    // Check if action can be fired
    if (!actionAvail()) return false;
    var self = this;
    var module_edited = jQuery('.dslca-module-being-edited', LiveComposer.Builder.PreviewAreaDocument).length;
    var row_edited = jQuery('.dslca-modules-section-being-edited', LiveComposer.Builder.PreviewAreaDocument).length; /// If settings panel opened - finish func

    if ($('body').hasClass('dslca-composer-hidden') || module_edited > 0 || row_edited > 0) return false; // If not disabled ( disabling used for tutorial )

    if (!$(this).hasClass('dslca-action-disabled')) {
      // Trigger the function to edit
      dslc_row_edit($(this).closest('.dslc-modules-section'));
    }

    jQuery('body', LiveComposer.Builder.PreviewAreaDocument).addClass('section-editing-in-progress');
  });
});
/**
 * Row - Add New
 */

var addSection = function addSection(callback) {
  if (window.dslcDebug) console.log('dslc_row_add');
  callback = typeof callback !== 'undefined' ? callback : false;
  var defer = jQuery.Deferred();
  var browserCacheTmp = sessionStorage;
  var newRow = jQuery();
  var cachedAjaxRequest = browserCacheTmp.getItem('cache-dslc-ajax-add-modules-section'); // If option 'lc_section_padding_vertical' was update.

  if (null !== cachedAjaxRequest) {
    var current_value, cache_curent_value;
    current_value = DSLCMainOptions.section_padding_vertical;
    cache_curent_value = jQuery(cachedAjaxRequest).find('input[data-id="padding"]').val();

    if (current_value !== cache_curent_value) {
      browserCacheTmp.removeItem('cache-dslc-ajax-add-modules-section');
      cachedAjaxRequest = null;
    }
  } // If no cache for current Ajax request.


  if (null === cachedAjaxRequest) {
    // AJAX Request
    jQuery.post(DSLCAjax.ajaxurl, {
      action: 'dslc-ajax-add-modules-section',
      dslc: 'active'
    }, function (response) {
      // newRow = jQuery(response.output);
      browserCacheTmp.setItem('cache-dslc-ajax-add-modules-section', response.output);
      newRow = dslc_row_after_add(response.output);

      if (callback) {
        callback();
      }

      return defer;
    });
  } else {
    // There is cached version of AJAX request.
    // newRow = jQuery(cachedAjaxRequest);
    newRow = dslc_row_after_add(cachedAjaxRequest);

    if (callback) {
      callback();
    }

    return defer;
  }
};
/**
 * Finish new row creation process.
 *
 * @param  {String} newRowHTML HTML code of the new row.
 * @return {jQuery}            New ROW jQuery object.
 */

function dslc_row_after_add(newRowHTML) {
  var newRow = jQuery(newRowHTML); // Append new row

  newRow.appendTo(LiveComposer.Builder.PreviewAreaDocument.find("#dslc-main")); // Call other functions

  Object(_dragndrop_js__WEBPACK_IMPORTED_MODULE_1__["dragAndDropInit"])();
  window.dslc_generate_code();
  window.dslc_show_publish_button();
  new _section_class_js__WEBPACK_IMPORTED_MODULE_0__["Section"](newRow);
  new _modulearea_class_js__WEBPACK_IMPORTED_MODULE_3__["ModuleArea"](newRow.find('.dslc-modules-area').eq(0)[0]);
  newRow.find('.dslc-modules-area').addClass('dslc-modules-area-empty dslc-last-col');
  return newRow;
}
/**
 * Row - Delete
 */


function dslc_row_delete(row) {
  if (window.dslcDebug) console.log('dslc_row_delete'); // If the row is being edited

  if (row.find('.dslca-module-being-edited')) {
    // Hide the filter hooks
    jQuery('.dslca-header .dslca-options-filter-hook').hide(); // Hide the save/cancel actions

    jQuery('.dslca-module-edit-actions').hide(); // Show the section hooks

    jQuery('.dslca-header .dslca-go-to-section-hook').show();
    dslc_show_section('.dslca-modules');
  } // Remove row


  row.trigger('mouseleave').remove(); // Call other functions

  window.dslc_generate_code();
  window.dslc_show_publish_button();
}
/**
 * Row - Edit
 */


function dslc_row_edit(row) {
  if (window.dslcDebug) console.log('dslc_row_edit'); // Vars we will use

  var dslcModulesSectionOpts, dslcVal; // Set editing class

  jQuery('.dslca-module-being-edited', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-module-being-edited');
  jQuery('.dslca-modules-section-being-edited', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-modules-section-being-edited').removeClass('dslca-modules-section-change-made');
  row.addClass('dslca-modules-section-being-edited'); // Hide the section hooks

  jQuery('.dslca-header .dslca-go-to-section-hook').hide(); // Show the styling/responsive tabs

  jQuery('.dslca-row-options-filter-hook[data-section="styling"], .dslca-row-options-filter-hook[data-section="responsive"]').show();
  jQuery('.dslca-row-options-filter-hook[data-section="styling"]').trigger('click'); // Hide the filter hooks

  jQuery('.dslca-header .dslca-options-filter-hook').hide(); // Hide the save/cancel actions

  jQuery('.dslca-module-edit-actions').hide(); // Show the save/cancel actions

  jQuery('.dslca-row-edit-actions').show(); // Set current values

  jQuery('.dslca-modules-section-edit-field').each(function () {
    /**
     * Temporary migration from 'wrapped' value to 'wrapper' in ROW type selector
     * TODO: delete this block in a few versions as problem do not exists on new installs
     *
     * @since ver 1.1
     */
    if ('type' === jQuery(this).data('id')) {
      if ('' === jQuery('.dslca-modules-section-being-edited .dslca-modules-section-settings input[data-id="type"]', LiveComposer.Builder.PreviewAreaDocument).val() || 'wrapped' === jQuery('.dslca-modules-section-being-edited .dslca-modules-section-settings input[data-id="type"]', LiveComposer.Builder.PreviewAreaDocument).val()) {
        jQuery('select[data-id="type"]').val('wrapper').change();
      }
    }

    if (jQuery(this).data('id') == 'border-top') {
      if (jQuery('.dslca-modules-section-being-edited .dslca-modules-section-settings input[data-id="border"]', LiveComposer.Builder.PreviewAreaDocument).val().indexOf('top') >= 0) {
        jQuery(this).prop('checked', true);
        jQuery(this).siblings('.dslca-modules-section-edit-option-checkbox-hook').find('.dslca-icon').removeClass('dslc-icon-check-empty').addClass('dslc-icon-check');
      } else {
        jQuery(this).prop('checked', false);
        jQuery(this).siblings('.dslca-modules-section-edit-option-checkbox-hook').find('.dslca-icon').removeClass('dslc-icon-check').addClass('dslc-icon-check-empty');
      }
    } else if (jQuery(this).data('id') == 'border-right') {
      if (jQuery('.dslca-modules-section-being-edited .dslca-modules-section-settings input[data-id="border"]', LiveComposer.Builder.PreviewAreaDocument).val().indexOf('right') >= 0) {
        jQuery(this).prop('checked', true);
        jQuery(this).siblings('.dslca-modules-section-edit-option-checkbox-hook').find('.dslca-icon').removeClass('dslc-icon-check-empty').addClass('dslc-icon-check');
      } else {
        jQuery(this).prop('checked', false);
        jQuery(this).siblings('.dslca-modules-section-edit-option-checkbox-hook').find('.dslca-icon').removeClass('dslc-icon-check').addClass('dslc-icon-check-empty');
      }
    } else if (jQuery(this).data('id') == 'border-bottom') {
      if (jQuery('.dslca-modules-section-being-edited .dslca-modules-section-settings input[data-id="border"]', LiveComposer.Builder.PreviewAreaDocument).val().indexOf('bottom') >= 0) {
        jQuery(this).prop('checked', true);
        jQuery(this).siblings('.dslca-modules-section-edit-option-checkbox-hook').find('.dslca-icon').removeClass('dslc-icon-check-empty').addClass('dslc-icon-check');
      } else {
        jQuery(this).prop('checked', false);
        jQuery(this).siblings('.dslca-modules-section-edit-option-checkbox-hook').find('.dslca-icon').removeClass('dslc-icon-check').addClass('dslc-icon-check-empty');
      }
    } else if (jQuery(this).data('id') == 'border-left') {
      if (jQuery('.dslca-modules-section-being-edited .dslca-modules-section-settings input[data-id="border"]', LiveComposer.Builder.PreviewAreaDocument).val().indexOf('left') >= 0) {
        jQuery(this).prop('checked', true);
        jQuery(this).siblings('.dslca-modules-section-edit-option-checkbox-hook').find('.dslca-icon').removeClass('dslc-icon-check-empty').addClass('dslc-icon-check');
      } else {
        jQuery(this).prop('checked', false);
        jQuery(this).siblings('.dslca-modules-section-edit-option-checkbox-hook').find('.dslca-icon').removeClass('dslc-icon-check').addClass('dslc-icon-check-empty');
      }
    } else if (jQuery(this).hasClass('dslca-modules-section-edit-field-checkbox')) {
      if (jQuery('.dslca-modules-section-being-edited .dslca-modules-section-settings input[data-id="' + jQuery(this).data('id') + '"]', LiveComposer.Builder.PreviewAreaDocument).val().indexOf(jQuery(this).data('val')) >= 0) {
        jQuery(this).prop('checked', true);
        jQuery(this).siblings('.dslca-modules-section-edit-option-checkbox-hook').find('.dslca-icon').removeClass('dslc-icon-check-empty').addClass('dslc-icon-check');
      } else {
        jQuery(this).prop('checked', false);
        jQuery(this).siblings('.dslca-modules-section-edit-option-checkbox-hook').find('.dslca-icon').removeClass('dslc-icon-check').addClass('dslc-icon-check-empty');
      }
    } else {
      jQuery(this).val(jQuery('.dslca-modules-section-being-edited .dslca-modules-section-settings input[data-id="' + jQuery(this).data('id') + '"]', LiveComposer.Builder.PreviewAreaDocument).val().trim().replace('%(%', '[').replace('%)%', ']'));

      if (jQuery(this).hasClass('dslca-modules-section-edit-field-colorpicker')) {
        var _this = jQuery(this);

        jQuery(this).closest('.dslca-modules-section-edit-option').find('.sp-preview-inner').removeClass('sp-clear-display').css({
          'background-color': _this.val()
        });
        jQuery(this).css({
          'background-color': _this.val()
        });
      }
    }
  });
  jQuery('.dslca-modules-section-edit-field-upload').each(function () {
    var dslcParent = jQuery(this).closest('.dslca-modules-section-edit-option');

    if (jQuery(this).val() && jQuery(this).val() !== 'disabled') {
      jQuery('.dslca-modules-section-edit-field-image-add-hook', dslcParent).hide();
      jQuery('.dslca-modules-section-edit-field-image-remove-hook', dslcParent).show();
    } else {
      jQuery('.dslca-modules-section-edit-field-image-remove-hook', dslcParent).hide();
      jQuery('.dslca-modules-section-edit-field-image-add-hook', dslcParent).show();
    }
  }); // Initiate numeric option sliders
  // dslc_row_edit_slider_init();
  // Show options management

  dslc_show_section('.dslca-modules-section-edit');
  LiveComposer.Builder.Flags.panelOpened = true; // Hide the publish button

  dslc_hide_publish_button();
}
/**
 * Row - Edit - Cancel Changes
 */


function dslc_row_edit_cancel(callback) {
  if (window.dslcDebug) console.log('dslc_row_cancel_changes');
  callback = typeof callback !== 'undefined' ? callback : false; // Time to generate code optimized {HACK}

  LiveComposer.Builder.Flags.generate_code_after_row_changed = false; // Recover original data from data-def attribute for each control

  jQuery('.dslca-modules-section-being-edited .dslca-modules-section-settings input', LiveComposer.Builder.PreviewAreaDocument).each(function () {
    jQuery(this).val(jQuery(this).data('def')); // Fire change for every ROW control, so it redraw linked CSS properties

    jQuery('.dslca-modules-section-edit-field[data-id="' + jQuery(this).data('id') + '"]').val(jQuery(this).data('def')).trigger('change');
  });
  LiveComposer.Builder.Flags.generate_code_after_row_changed = true;
  window.dslc_generate_code();
  window.dslc_show_publish_button();
  dslc_show_section('.dslca-modules'); // Hide the save/cancel actions

  jQuery('.dslca-row-edit-actions').hide(); // Hide the styling/responsive tabs

  jQuery('.dslca-row-options-filter-hook').hide(); // Show the section hooks

  jQuery('.dslca-header .dslca-go-to-section-hook').show(); // Show the publish button

  dslc_show_publish_button; // Remove being edited class

  jQuery('.dslca-modules-section-being-edited', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-modules-section-being-edited dslca-modules-section-change-made');

  if (callback) {
    callback();
  }

  LiveComposer.Builder.Flags.panelOpened = false;
  jQuery("body", LiveComposer.Builder.PreviewAreaDocument).removeClass('section-editing-in-progress');
}
/**
 * Row - Edit - Confirm Changes
 */


function dslc_row_edit_confirm(callback) {
  if (window.dslcDebug) console.log('dslc_confirm_row_changes');
  callback = typeof callback !== 'undefined' ? callback : false;
  jQuery('.dslca-modules-section-being-edited .dslca-modules-section-settings input', LiveComposer.Builder.PreviewAreaDocument).each(function () {
    jQuery(this).data('def', jQuery(this).val());
  });
  dslc_show_section('.dslca-modules'); // Hide the save/cancel actions

  jQuery('.dslca-row-edit-actions').hide(); // Hide the styling/responsive tabs

  jQuery('.dslca-row-options-filter-hook').hide(); // Show the section hooks

  jQuery('.dslca-header .dslca-go-to-section-hook').show(); // Remove being edited class

  jQuery('.dslca-modules-section-being-edited', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-modules-section-being-edited dslca-modules-section-change-made');
  window.dslc_generate_code(); // Show the publish button

  window.dslc_show_publish_button();

  if (callback) {
    callback();
  }

  LiveComposer.Builder.Flags.panelOpened = false;
  jQuery("body", LiveComposer.Builder.PreviewAreaDocument).removeClass('section-editing-in-progress');
}
/**
 * Row - Copy
 */


function dslc_row_copy(row) {
  if (window.dslcDebug) console.log('dslc_row_copy'); // Vars that will be used

  var dslc_module_id, dslcModulesSectionCloned, dslcModule; // Clone the row

  dslcModulesSectionCloned = row.clone().appendTo(jQuery('#dslc-main', LiveComposer.Builder.PreviewAreaDocument)); // Mark new ROW as NON initialized

  dslcModulesSectionCloned[0].removeAttribute('data-jsinit'); // Go through each area of the new row and apply correct data-size
  // Mark each module area inside as NON initialized (2)

  dslcModulesSectionCloned.find('.dslc-modules-area').each(function () {
    var dslcIndex = jQuery(this).index();
    jQuery(this).data('size', row.find('.dslc-modules-area:eq( ' + dslcIndex + ' )').data('size'));
    this.removeAttribute('data-jsinit'); // (2)
  });
  new _section_class_js__WEBPACK_IMPORTED_MODULE_0__["Section"](dslcModulesSectionCloned);
  /**
   * Re-render modules inside of the new ROW
   */
  // Remove animations and temporary hide modules inside

  dslcModulesSectionCloned.find('.dslc-module-front').css({
    '-webkit-animation-name': 'none',
    '-moz-animation-name': 'none',
    'animation-name': 'none',
    'animation-duration': '0',
    '-webkit-animation-duration': '0',
    opacity: 0 // Go through each module inside the new ROW

  }).each(function () {
    // Current module
    var dslc_module = jQuery(this); //Generate new ID for the new module and change it in HTML/CSS of the module.

    dslc_module_new_id(dslc_module[0]); // Check init for rows and module areas

    sectionsInitJS();
    Object(_modulearea_js__WEBPACK_IMPORTED_MODULE_2__["moduleareasInitJS"])(); // TODO: the next function contains AJAX call. It needs optimization.

    window.dslc_generate_code();
    /**
     * Re-init drag and drop from modules list into modules areas.
     * Need this function, so we can drop new modules on the cloned areas.
     */

    Object(_dragndrop_js__WEBPACK_IMPORTED_MODULE_1__["dragAndDropInit"])(); // Remove "dslca-module-being-edited" class form any element

    jQuery('.dslca-module-being-edited', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-module-being-edited'); // Show back new created module

    dslc_module.animate({
      opacity: 1
    }, 300);
    window.dslc_show_publish_button();
  }); // Generate new ID for the new section.

  dslc_section_new_id(dslcModulesSectionCloned[0]);
}
/**
 * Generate new ID for the section provided
 *
 *
 * @param DOM section that needs ID updated (new ID).
 * @return void
 */


function dslc_section_new_id(section) {
  if (window.dslcDebug) console.log('dslc_section_new_id');
  var dslc_section_id = LiveComposer.Utils.get_unique_id(); // Generate new section ID.
  // Update section ID in data attribute

  section.setAttribute('data-section-id', dslc_section_id); // Update section ID in raw base64 code (dslc_code) of the section

  LiveComposer.Utils.update_section_property_raw(section, 'section_instance_id', dslc_section_id);
}
/**
 * Row - Import
 */


function dslc_row_import(rowCode) {
  if (window.dslcDebug) console.log('dslc_row_import'); // AJAX Call

  jQuery.post(DSLCAjax.ajaxurl, {
    action: 'dslc-ajax-import-modules-section',
    dslc: 'active',
    dslc_modules_section_code: rowCode
  }, function (response) {
    // Close the import popup/modal
    dslc_js_confirm_close(); // Add the new section

    jQuery('#dslc-main', LiveComposer.Builder.PreviewAreaDocument).append(response.output); // Call other functions

    LiveComposer.Builder.PreviewAreaWindow.dslc_bg_video();
    LiveComposer.Builder.PreviewAreaWindow.dslc_carousel();
    LiveComposer.Builder.PreviewAreaWindow.dslc_masonry(); // Check init for rows and module areas

    sectionsInitJS();
    Object(_modulearea_js__WEBPACK_IMPORTED_MODULE_2__["moduleareasInitJS"])();
    Object(_dragndrop_js__WEBPACK_IMPORTED_MODULE_1__["dragAndDropInit"])();
    window.dslc_generate_code();
    window.dslc_show_publish_button();
  });
}
/**
 * Deprecated Functions and Fallbacks
 */


function dslc_add_modules_section() {
  addSection();
}

function dslc_delete_modules_section(row) {
  dslc_row_delete(row);
}

function dslc_edit_modules_section(row) {
  dslc_row_edit(row);
}

function dslc_copy_modules_section(row) {
  dslc_row_copy(row);
}

function dslc_import_modules_section(rowCode) {
  dslc_row_import(rowCode);
}
/**
 * Check ROWs initialization
 *
 * @return void
 */


var sectionsInitJS = function sectionsInitJS() {
  // Select all the ROWs form the main section of the page
  jQuery('#dslc-main .dslc-modules-section', LiveComposer.Builder.PreviewAreaDocument).each(function () {
    // Check if all the rows have data attribute 'jsinit' set to 'initialized'?
    if (jQuery(this).data('jsinit') !== 'initialized') {
      // Initialize all the rows without 'jsinit' attribute!
      new _section_class_js__WEBPACK_IMPORTED_MODULE_0__["Section"](this);
    }
  });
};
var sectionsInit = function sectionsInit() {
  sectionsInitJS();
  /**
   * Hook - Confirm Row Changes
   */

  $(document).on('click', '.dslca-row-edit-save', function () {
    dslc_row_edit_confirm();
    $(".dslca-currently-editing").removeAttr('style');
    $('.dslca-row-options-filter-hook.dslca-active').removeClass('dslca-active');
    LiveComposer.Builder.PreviewAreaWindow.dslc_responsive_classes(true);
  });
  /**
   * Hook - Cancel Row Changes
   */

  $(document).on('click', '.dslca-row-edit-cancel', function () {
    dslc_row_edit_cancel();
    $(".dslca-currently-editing").removeAttr('style');
    $('.dslca-row-options-filter-hook.dslca-active').removeClass('dslca-active');
    LiveComposer.Builder.PreviewAreaWindow.dslc_responsive_classes(true);
  });
};

/***/ }),

/***/ "./js/src/editor/backend/sectionscontainer.class.js":
/*!**********************************************************!*\
  !*** ./js/src/editor/backend/sectionscontainer.class.js ***!
  \**********************************************************/
/*! exports provided: CSectionsContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CSectionsContainer", function() { return CSectionsContainer; });
/**
 * Sections container class
 */


var CSectionsContainer = function CSectionsContainer(elem) {
  var sortable = window.jQuery(elem).sortable({
    items: ".dslc-modules-section-dnd",
    handle: '.dslca-move-modules-section-hook:not(".dslca-action-disabled")',
    placeholder: 'dslca-modules-section-placeholder',
    tolerance: 'intersect',
    cursorAt: {
      bottom: 10
    },
    axis: 'y',
    scroll: true,
    scrollSensitivity: 140,
    scrollSpeed: 5,
    sort: function sort() {
      jQuery(this).removeClass("ui-state-default");
    },
    update: function update(e, ui) {
      window.dslc_show_publish_button();
    },
    start: function start(e, ui) {
      jQuery('body').removeClass('dslca-drag-not-in-progress').addClass('dslca-drag-in-progress');
      jQuery('body', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-drag-not-in-progress').addClass('dslca-drag-in-progress');
      ui.placeholder.html('<span class="dslca-placeholder-help-text"><span class="dslca-placeholder-help-text-inner">' + DSLCString.str_row_helper_text + '</span></span>');
      jQuery('.dslc-content').sortable("refreshPositions");
    },
    stop: function stop(e, ui) {
      window.dslc_generate_code();
      LiveComposer.Builder.UI.stopScroller();
      jQuery('body', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-drag-in-progress').addClass('dslca-drag-not-in-progress');
      jQuery('body').removeClass('dslca-drag-in-progress').addClass('dslca-drag-not-in-progress');
      jQuery('.dslca-anim-opacity-drop').removeClass('dslca-anim-opacity-drop');
    }
  });
  /** Sort option setter */

  jQuery(document).on('LC.sortableOff', function () {
    if (undefined !== self.sortable.sortable("instance")) {
      self.sortable.sortable('option', 'disabled', true);
    }
  });
  jQuery(document).on('LC.sortableOn', function () {
    if (undefined !== self.sortable.sortable("instance")) {
      self.sortable.sortable('option', 'disabled', false);
    }
  });
};

/***/ }),

/***/ "./js/src/editor/backend/settings.panel.js":
/*!*************************************************!*\
  !*** ./js/src/editor/backend/settings.panel.js ***!
  \*************************************************/
/*! exports provided: settingsPanelInit, elementOptionsTabs */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "settingsPanelInit", function() { return settingsPanelInit; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "elementOptionsTabs", function() { return elementOptionsTabs; });
/**
 * Builder settings panel functions providing work with modules
 */


function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

var dslcRegularFontsArray = window.DSLCFonts.regular;
var dslcGoogleFontsArray = window.DSLCFonts.google;
var dslcAllFontsArray = dslcRegularFontsArray.concat(dslcGoogleFontsArray); // Set current/default icons set

var dslcIconsCurrentSet = window.DSLCIcons.fontawesome;
/**
 * Modules - Document Ready
 */

jQuery(document).ready(function ($) {
  dslc_module_options_tooltip();
  dslc_module_options_font();
  dslc_module_options_icon();
  dslc_module_options_icon_returnid();
  dslc_module_options_text_align();
  dslc_module_options_checkbox();
  dslc_module_options_box_shadow();
  dslc_module_options_text_shadow();
  /* Initiate all the color picker controls on the module/section options panel. */

  var dslca_options_with_colorpicker = '';
  dslca_options_with_colorpicker += '.dslca-module-edit-field-colorpicker';
  dslca_options_with_colorpicker += ', .dslca-modules-section-edit-field-colorpicker';
  dslca_options_with_colorpicker += ', .dslca-module-edit-option-box-shadow-color';
  dslca_options_with_colorpicker += ', .dslca-module-edit-option-text-shadow-color'; // Init color picker on click only to not polute DOM with unwanted elements.
  // It will fire only once (first time) as color picker then put it's own listeners.

  jQuery(document).on('click', dslca_options_with_colorpicker, function () {
    // Call the color picker init function.
    dslc_module_options_color(this); // Make sure the color picker popup appears in the right place.

    var wrapper = jQuery(this).closest('.dslca-color-option');
    var optionsPanel = jQuery('.dslca-module-edit-options-inner');
    var colorpicker = wrapper.find('.wp-picker-holder');
    var offset = wrapper.offset();
    var offsetPopup = offset.left + 15;
    var windoWidth = window.innerWidth;
    var popupWidth = 260;

    if (windoWidth < offsetPopup + popupWidth) {
      offsetPopup = windoWidth - popupWidth;
    } // Set the right position for the color picker popup on first click.


    colorpicker.css('left', offsetPopup + 'px'); // Update position left for the color picker on options scroll.

    jQuery(optionsPanel).on('scroll', function (event) {
      offset = wrapper.offset();
      var offsetPopup = offset.left + 15;
      var windoWidth = window.innerWidth;
      var popupWidth = 260;

      if (windoWidth < offsetPopup + popupWidth) {
        offsetPopup = windoWidth - popupWidth;
      }

      colorpicker.css('left', offsetPopup + 'px');
    });
  });
  /* Initiate all the slider controls on the module options panel. */

  jQuery('.dslca-container').on('mouseenter', '.dslca-module-edit-option-slider', function () {
    // Fixed: https://github.com/live-composer/live-composer-page-builder/issues/740
    if (!jQuery(this).hasClass('dslca-module-edit-option-select')) {
      dslc_module_options_numeric(this);
    }
  });
  /* Initiate all the slider controls on the row options panel. */

  jQuery('.dslca-container').on('mouseenter', '.dslca-modules-section-edit-option-slider', function () {
    dslc_module_options_numeric(this);
  });
  /**
   * Hook - Submit
   */

  jQuery('.dslca-module-edit-form').submit(function (e) {
    e.preventDefault();
    dslc_module_output_altered();
  });
  /**
   * Hook - Tab Switch
   */

  $(document).on('click', '.dslca-module-edit-options-tab-hook', function (e) {
    e.preventDefault();
    dslc_module_options_tab_filter($(this));
  });
  /**
   * Hook - Option Section Switch
   */

  $(document).on('click', '.dslca-options-filter-hook', function (e) {
    e.preventDefault();
    var dslcPrev = jQuery('.dslca-options-filter-hook.dslca-active').data('section');
    var currentSection = jQuery(this).data('section');
    $('.dslca-options-filter-hook.dslca-active').removeClass('dslca-active');
    $(this).addClass('dslca-active');
    dslc_module_options_section_filter(currentSection); // If previous was responsive reload module

    if (dslcPrev == 'responsive') {
      // Show the loader
      jQuery('.dslca-container-loader').show(); // Reset the responsive classes

      window.LiveComposer.Builder.PreviewAreaWindow.dslc_responsive_classes(); // Reload Module

      dslc_module_output_altered(function () {
        // Hide the loader
        jQuery('.dslca-container-loader').hide();
      });
      /**
       * Destroy resizable preview functionality
       * when leaving Responsive view.
       */

      jQuery('#page-builder-preview-area').resizable('destroy').attr('style', '');
    }
    /**
     * Make the preview area resizable
     * when entering Responsive view.
     */


    if (currentSection == 'responsive') {
      jQuery('#page-builder-preview-area').resizable();
    }
  });
  /**
   * Hook - Confirm Changes
   */

  jQuery(document).on('click', '.dslca-module-edit-save', function (e) {
    e.preventDefault();
    dslc_module_options_confirm_changes(function () {
      // window.LiveComposer.Builder.UI.initInlineEditors({withRemove:true});
      window.LiveComposer.Builder.UI.unloadOptionsDeps();
      window.LiveComposer.Builder.Flags.panelOpened = false;
      jQuery("body", window.LiveComposer.Builder.PreviewAreaDocument).removeClass('module-editing-in-progress');
    });
    jQuery('.dslca-options-filter-hook.dslca-active').removeClass('dslca-active');
    dslc_disable_responsive_view();
  });
  /**
   * Hook - Cancel Changes
   */

  jQuery(document).on('click', '.dslca-module-edit-cancel', function (e) {
    e.preventDefault();
    dslc_module_options_cancel_changes(function () {
      // window.LiveComposer.Builder.UI.initInlineEditors({withRemove:true});
      window.LiveComposer.Builder.UI.unloadOptionsDeps();
      window.LiveComposer.Builder.Flags.panelOpened = false;
      jQuery("body", window.LiveComposer.Builder.PreviewAreaDocument).removeClass('module-editing-in-progress');
    });
    jQuery('.dslca-options-filter-hook.dslca-active').removeClass('dslca-active');
    dslc_disable_responsive_view();
  });
});
/* Editor scripts */

var settingsPanelInit = function settingsPanelInit() {
  var $ = jQuery;
  var self = window.LiveComposer.Builder;
  window.LiveComposer.Builder.Helpers.colorpickers = [];
  /*
  	window.LiveComposer.Builder.UI.initInlineEditors = function(params){
  		params = params || {};
  
  		if ( params.withRemove == true ) {
  			try {
  				window.LiveComposer.Builder.PreviewAreaWindow.tinyMCE.remove();
  			} catch(err) {
  				console.info( 'No tinyMCE code found. Error code: 10181116.' );
  			}
  		}
  
  		window.LiveComposer.Builder.PreviewAreaWindow.tinyMCE.init({
  			selector: '.inline-editor.dslca-editable-content',
  			editor_deselector: 'mce-content-body',
  			menubar: false,
  			inline: true,
  			plugins: 'wordpress wplink lists paste',
  			paste_as_text: true, // Paste styled text as plain text only. Requires 'paste' in plugins.
  			paste_block_drop: true, // Disabled drop action for inline editor to prevent js errors in the console. http://archive.tinymce.com/wiki.php/Plugin3x:paste
  			style_formats: [
  					{title: 'Paragraph', format: 'p'},
  					{title: 'Header 1', format: 'h1'},
  					{title: 'Header 2', format: 'h2'},
  					{title: 'Header 3', format: 'h3'},
  					{title: 'Header 4', format: 'h4'},
  					{title: 'Header 5', format: 'h5'},
  					{title: 'Header 6', format: 'h6'},
  			  ],
  			toolbar: 'styleselect | bold italic blockquote | removeformat | bullist numlist '
  		});
  	}
  */

  /* Destroy instanced of sliders, color pickers and other temporary elements */

  window.LiveComposer.Builder.UI.clearUtils = function () {
    if (window.dslcDebug) console.log('window.LiveComposer.Builder.UI.clearUtils'); // Destroy all Color Pickers

    window.LiveComposer.Builder.UI.clearColorPickers(); // Delete module backups form memory.

    if (undefined !== window.LiveComposer.Builder.moduleBackup) {
      window.LiveComposer.Builder.moduleBackup.remove();
    }

    jQuery('.temp-styles-for-module', window.LiveComposer.Builder.PreviewAreaDocument).remove(); // Hide inline editor panel if on [Confirm] or [Cancel] button click.

    jQuery('.mce-tinymce', window.LiveComposer.Builder.PreviewAreaDocument).hide();
  };

  window.LiveComposer.Builder.UI.clearColorPickers = function () {
    if (Array.isArray(self.Helpers.colorpickers)) {
      self.Helpers.colorpickers.forEach(function (item) {
        // Do not delete color picker instance from row settings panel,
        // as it stays on page and not get loaded via Ajax.
        if (!jQuery(item).hasClass('dslca-modules-section-edit-field')) {
          // Destroy color picker instance.
          jQuery(item).remove();
        }
      });
      self.Helpers.colorpickers = [];
    } // Delete the color picker events.


    jQuery('body').off('click.wpcolorpicker');
  };
  /** Options dependencies */


  window.LiveComposer.Builder.Helpers.depsHandlers = [];

  window.LiveComposer.Builder.UI.loadOptionsDeps = function () {
    var self = this;
    $(".dslca-module-edit-option").each(function () {
      var elem = this;
      var parsed = true;

      try {
        var dep = JSON.parse(LiveComposer.Utils.b64_to_utf8($(this).data('dep')));
      } catch (e) {
        parsed = false;
      }

      if (parsed) {
        var handler = function handler() {
          var optElem = this;
          var localDep = {};

          if ((optElem.type == 'radio' || optElem.type == 'checkbox') && dep[optElem.value] == undefined) {
            return false;
          }

          if (optElem.type == 'checkbox' && dep[optElem.value] != undefined) {
            localDep[optElem.value] = dep[optElem.value];
          } else {
            localDep = dep;
          }

          Object.keys(localDep).forEach(function (opt_val) {
            localDep[opt_val].split(',').forEach(function (item) {
              var opt_wrap = $(".dslca-module-edit-option-" + item.trim()).closest('.dslca-module-edit-option');
              var checkedCheckbox = true;

              if (optElem.type == 'radio' || optElem.type == 'checkbox') {
                checkedCheckbox = $(optElem).is(":checked");
              }

              var section_tab = jQuery('.dslca-module-edit-options-tab-hook.dslca-active').data('id');

              if (optElem.value == opt_val && checkedCheckbox) {
                if (opt_wrap.not(".dependent")) {
                  opt_wrap.addClass('dependent');
                }

                if (opt_wrap.hasClass('dep-hide')) {
                  opt_wrap.removeClass('dep-hide');
                  opt_wrap.addClass('dep-show');
                } else {
                  opt_wrap.addClass('dep-show');
                }

                if (section_tab == opt_wrap.data('tab')) {
                  opt_wrap.show();
                }
              } else {
                if (opt_wrap.not(".dependent")) {
                  opt_wrap.addClass('dependent');
                }

                if (opt_wrap.hasClass('dep-show')) {
                  opt_wrap.removeClass('dep-show');
                  opt_wrap.addClass('dep-hide');
                } else {
                  opt_wrap.addClass('dep-hide');
                }

                opt_wrap.hide();
              }
            });
          });
        };

        $(document).on('change dslc-init-deps', '.dslca-module-edit-option *[data-id="' + $(this).data('id') + '"]', handler);
        window.LiveComposer.Builder.Helpers.depsHandlers.push(handler);
      }
    });
    $(".dslca-module-edit-option input, .dslca-module-edit-option select").trigger('dslc-init-deps');
  };

  window.LiveComposer.Builder.UI.unloadOptionsDeps = function () {
    window.LiveComposer.Builder.Helpers.depsHandlers.forEach(function (handler) {
      $(document).unbind('change', handler);
      $(document).unbind('dslc-init-deps', handler);
    });
    window.LiveComposer.Builder.Helpers.depsHandlers = [];
  };
  /**
   * Creates inline style tag when editing WYSWIG
   *
   * @param  {object} params
   *    params.rule
   *    params.elems
   *    params.module_id
   */


  window.LiveComposer.Builder.Helpers.processInlineStyleTag = function (params) {
    if (_typeof(params) != 'object') return false;
    var resp_prefix = '',
        resp_postfix = '';

    if (params.context.closest(".dslca-module-edit-option").data('tab') == 'tablet_responsive') {
      resp_prefix = '@media only screen and (max-width: 1024px) and (min-width: 768px) {';
      resp_postfix = '}';
    } else if (params.context.closest(".dslca-module-edit-option").data('tab') == 'phone_responsive') {
      resp_prefix = '@media only screen and (max-width: 767px) {';
      resp_postfix = '}';
    }

    params.styleContent = resp_prefix + params.styleContent + resp_postfix;
    var id = resp_prefix + params.rule + params.elems;
    id = id.replace(/ /gi, '');

    if (window.LiveComposer.Builder.PreviewAreaDocument[0].getElementById(id) == null) {
      var styleTag = document.createElement('style');
      styleTag.innerHTML = params.styleContent;
      styleTag.id = id;
      styleTag.className = "temp-styles-for-module";
      window.LiveComposer.Builder.PreviewAreaDocument[0].body.appendChild(styleTag);
    } else {
      window.LiveComposer.Builder.PreviewAreaDocument[0].getElementById(id).innerHTML = params.styleContent;
    }
  };

  window.LiveComposer.Builder.UI.shakePanelConfirmButton = function () {
    jQuery('.dslca-module-edit-save').addClass('lc-shake-effect active');
    setTimeout(function () {
      jQuery('.dslca-module-edit-save').removeClass('lc-shake-effect active');
    }, 1000);
  };
};
/**
 * MODULES SETTINGS PANEL - Filter Module Options
 */

function dslc_module_options_section_filter(sectionID) {
  if (window.dslcDebug) console.log('dslc_module_options_section_filter'); // Hide all options

  jQuery('.dslca-module-edit-option').hide(); // Show options for current section

  jQuery('.dslca-module-edit-option[data-section="' + sectionID + '"]').show(); // Recall module options tab

  dslc_module_options_tab_filter();
}
/**
 * MODULES SETTINGS PANEL - Show module options tab
 */


var elementOptionsTabs = function elementOptionsTabs(dslcTab) {
  if (window.dslcDebug) console.log('dslc_module_options_tab_filter'); // Get currently active section

  var dslcSectionID = jQuery('.dslca-options-filter-hook.dslca-active').data('section'); // If tab not supplied set to first

  dslcTab = typeof dslcTab !== 'undefined' ? dslcTab : jQuery('.dslca-module-edit-options-tab-hook[data-section="' + dslcSectionID + '"]:first'); // Get the tab ID

  var dslcTabID = dslcTab.data('id'); // Set active class on tab

  jQuery('.dslca-module-edit-options-tab-hook').removeClass('dslca-active');
  dslcTab.addClass('dslca-active'); // Show tabs container

  jQuery('.dslca-module-edit-options-tabs').show(); // Hide/Show tabs hooks

  jQuery('.dslca-module-edit-options-tab-hook').hide();
  jQuery('.dslca-module-edit-options-tab-hook[data-section="' + dslcSectionID + '"]').show();

  if (dslcTabID) {
    // Hide/Show options
    jQuery('.dslca-module-edit-option').hide();
    jQuery('.dslca-module-edit-option[data-tab="' + dslcTabID + '"]').show(); // Hide/Show Tabs

    dslc_module_options_hideshow_tabs(); // If only one tab hide the tabs container

    if (jQuery('.dslca-module-edit-options-tab-hook:visible').length < 2) {
      jQuery('.dslca-module-edit-options-tabs').hide();
    } else {
      jQuery('.dslca-module-edit-options-tabs').show();
    }
    /**
     * If responsive tab, change the width of the dslc-content div
     */


    dslc_disable_responsive_view(); // Tablet

    if (dslcTabID == DSLCString.str_res_tablet.toLowerCase() + '_responsive') {
      jQuery('body').removeClass('dslc-res-big dslc-res-smaller-monitor dslc-res-phone dslc-res-tablet');
      jQuery('body').addClass('dslc-res-tablet');
      jQuery('html').addClass('dslc-responsive-preview');
    } // Phone


    if (dslcTabID == DSLCString.str_res_phone.toLowerCase() + '_responsive') {
      jQuery('body').removeClass('dslc-res-big dslc-res-smaller-monitor dslc-res-phone dslc-res-tablet');
      jQuery('body').addClass('dslc-res-phone');
      jQuery('html').addClass('dslc-responsive-preview');
    } // If responsive reload module


    if (dslcTabID == DSLCString.str_res_tablet.toLowerCase() + '_responsive' || dslcTabID == DSLCString.str_res_phone.toLowerCase() + '_responsive') {
      // Show the loader
      jQuery('.dslca-container-loader').show(); // Reload Module

      dslc_module_output_altered(function () {
        // Hide the loader
        jQuery('.dslca-container-loader').hide();
      });
    }
  } // Scroll horizontally options panel to the left (not ready)


  if (jQuery('body').hasClass('rtl')) {
    var totalWidthOption = 0;
    var totalWidthGroup = 0;
    var totalWidth = 0;
    jQuery('.dslca-module-edit-options-wrapper > .dslca-module-edit-option:visible').each(function (index) {
      if (!jQuery(this).hasClass('dslca-module-edit-option-hidden') && !jQuery(this).hasClass('dslca-module-control-group')) {
        totalWidthOption += parseInt(jQuery(this).outerWidth(), 10);
      }
    });
    jQuery('.dslca-module-edit-options-wrapper > .dslca-module-control-group:visible').each(function (index) {
      totalWidthGroup += parseInt(jQuery(this).outerWidth(), 10);
    });
    totalWidth = parseInt(totalWidthOption) + parseInt(totalWidthGroup) + 10;
    jQuery('.dslca-module-edit-options-wrapper').css({
      'width': totalWidth + 'px'
    });
  }
};
/**
 * MODULES SETTINGS PANEL - Hide show tabs based on option choices
 */

function dslc_module_options_hideshow_tabs() {
  if (window.dslcDebug) console.log('dslc_module_options_hideshow_tabs');
  var dslcSectionID = jQuery('.dslca-options-filter-hook.dslca-active').data('section');

  if (dslcSectionID == 'styling') {
    // Vars
    var dslcContainer = jQuery('.dslca-module-edit'),
        dslcHeading = true,
        dslcFilters = true,
        dslcCarArrows = true,
        dslcCarCircles = true,
        dslcPagination = true,
        dslcElThumb = true,
        dslcElTitle = true,
        dslcElExcerpt = true,
        dslcElMeta = true,
        dslcElButton = true,
        dslcElCats = true,
        dslcElCount = true,
        dslcElSeparator = true,
        dslcElTags = true,
        dslcElSocial = true,
        dslcElPosition = true,
        dslcElIcon = true,
        dslcElContent = true,
        dslcElPrice = true,
        dslcElPriceSec = true,
        dslcElAddCart = true,
        dslcElDetails = true,
        dslcElQuote = true,
        dslcElAuthorName = true,
        dslcElAuthorPos = true,
        dslcElImage = true,
        dslcElLogo = true; // Is heading selected?

    if (!jQuery('.dslca-module-edit-field[value="main_heading"]').is(':checked')) dslcHeading = false; // Are filters selected?

    if (!jQuery('.dslca-module-edit-field[value="filters"]').is(':checked')) dslcFilters = false; // Are arrows selected?

    if (!jQuery('.dslca-module-edit-field[value="arrows"]').is(':checked')) dslcCarArrows = false; // Are circles selected?

    if (!jQuery('.dslca-module-edit-field[value="circles"]').is(':checked')) dslcCarCircles = false; // Is it a carousel?

    if (jQuery('.dslca-module-edit-field[data-id="type"]').val() != 'carousel') {
      dslcCarArrows = false;
      dslcCarCircles = false;
    } // Is pagination enabled?


    if (jQuery('.dslca-module-edit-field[data-id="pagination_type"]').val() == 'disabled') {
      dslcPagination = false;
    } // Is thumb enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="thumbnail"]').is(':checked')) {
      dslcElThumb = false;
    } // Is title enabled?


    if (jQuery('.dslca-module-edit-field[data-id*="elements"][value="content"]').length && !jQuery('.dslca-module-edit-field[data-id*="elements"][value="title"]').is(':checked')) {
      dslcElTitle = false;
    } // Is excerpt enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="excerpt"]').is(':checked')) {
      dslcElExcerpt = false;
    } // Is meta enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="meta"]').is(':checked')) {
      dslcElMeta = false;
    } // Is button enabled?


    if (jQuery('.dslca-module-edit-field[data-id*="elements"][value="button"]').length && !jQuery('.dslca-module-edit-field[data-id*="elements"][value="button"]').is(':checked')) {
      dslcElButton = false;
    } // Are cats enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="categories"]').is(':checked')) {
      dslcElCats = false;
    } // Is separator enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="separator"]').is(':checked')) {
      dslcElSeparator = false;
    } // Is count enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="count"]').is(':checked')) {
      dslcElCount = false;
    } // Are tags enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="tags"]').is(':checked')) {
      dslcElTags = false;
    } // Are social link enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="social"]').is(':checked')) {
      dslcElSocial = false;
    } // Is position enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="position"]').is(':checked')) {
      dslcElPosition = false;
    } // Is icon enabled?


    if (jQuery('.dslca-module-edit-field[data-id*="elements"][value="icon"]').length && !jQuery('.dslca-module-edit-field[data-id*="elements"][value="icon"]').is(':checked')) {
      dslcElIcon = false;
    } // Is content enabled?


    if (jQuery('.dslca-module-edit-field[data-id*="elements"][value="content"]').length && !jQuery('.dslca-module-edit-field[data-id*="elements"][value="content"]').is(':checked')) {
      dslcElContent = false;
    } // Is price enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="price"]').is(':checked')) {
      dslcElPrice = false;
    } // Is price secondary enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="price_2"]').is(':checked')) {
      dslcElPriceSec = false;
    } // Is add to cart enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="addtocart"]').is(':checked')) {
      dslcElAddCart = false;
    } // Is add to cart enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="details"]').is(':checked')) {
      dslcElDetails = false;
    } // Is quote enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="quote"]').is(':checked')) {
      dslcElQuote = false;
    } // Is author name enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="author_name"]').is(':checked')) {
      dslcElAuthorName = false;
    } // Is author position enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="author_position"]').is(':checked')) {
      dslcElAuthorPos = false;
    } // Is image enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="image"]').is(':checked')) {
      dslcElImage = false;
    } // Is logo enabled?


    if (!jQuery('.dslca-module-edit-field[data-id*="elements"][value="logo"]').is(':checked')) {
      dslcElLogo = false;
    } // Show/Hide Heading


    if (dslcHeading) jQuery('.dslca-module-edit-options-tab-hook[data-id="heading_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="heading_styling"]').hide(); // Show/Hide Filters

    if (dslcFilters) jQuery('.dslca-module-edit-options-tab-hook[data-id="filters_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="filters_styling"]').hide(); // Show/Hide Carousel Arrows

    if (dslcCarArrows) jQuery('.dslca-module-edit-options-tab-hook[data-id="carousel_arrows_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="carousel_arrows_styling"]').hide(); // Show/Hide Carousel Circles

    if (dslcCarCircles) jQuery('.dslca-module-edit-options-tab-hook[data-id="carousel_circles_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="carousel_circles_styling"]').hide(); // Show/Hide Pagination

    if (dslcPagination) jQuery('.dslca-module-edit-options-tab-hook[data-id="pagination_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="pagination_styling"]').hide(); // Show/Hide Thumb

    if (dslcElThumb) jQuery('.dslca-module-edit-options-tab-hook[data-id="thumbnail_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="thumbnail_styling"]').hide(); // Show/Hide Title

    if (dslcElTitle) jQuery('.dslca-module-edit-options-tab-hook[data-id="title_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="title_styling"]').hide(); // Show/Hide Excerpt

    if (dslcElExcerpt) jQuery('.dslca-module-edit-options-tab-hook[data-id="excerpt_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="excerpt_styling"]').hide(); // Show/Hide Meta

    if (dslcElMeta) jQuery('.dslca-module-edit-options-tab-hook[data-id="meta_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="meta_styling"]').hide(); // Show/Hide Button

    if (dslcElButton) jQuery('.dslca-module-edit-options-tab-hook[data-id="button_styling"], .dslca-module-edit-options-tab-hook[data-id="primary_button_styling"],' + ' .dslca-module-edit-options-tab-hook[data-id="secondary_button_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="button_styling"], .dslca-module-edit-options-tab-hook[data-id="primary_button_styling"],' + ' .dslca-module-edit-options-tab-hook[data-id="secondary_button_styling"]').hide(); // Show/Hide Cats

    if (dslcElCats) jQuery('.dslca-module-edit-options-tab-hook[data-id="categories_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="categories_styling"]').hide(); // Show/Hide Separator

    if (dslcElSeparator) jQuery('.dslca-module-edit-options-tab-hook[data-id="separator_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="separator_styling"]').hide(); // Show/Hide Count

    if (dslcElCount) jQuery('.dslca-module-edit-options-tab-hook[data-id="count_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="count_styling"]').hide(); // Show/Hide Tags

    if (dslcElTags) jQuery('.dslca-module-edit-options-tab-hook[data-id="tags_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="tags_styling"]').hide(); // Show/Hide Tags

    if (dslcElPosition) jQuery('.dslca-module-edit-options-tab-hook[data-id="position_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="position_styling"]').hide(); // Show/Hide Tags

    if (dslcElSocial) jQuery('.dslca-module-edit-options-tab-hook[data-id="social_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="social_styling"]').hide(); // Show/Hide Icon

    if (dslcElIcon) jQuery('.dslca-module-edit-options-tab-hook[data-id="icon_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="icon_styling"]').hide(); // Show/Hide Content

    if (dslcElContent) jQuery('.dslca-module-edit-options-tab-hook[data-id="content_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="content_styling"]').hide(); // Show/Hide Price

    if (dslcElPrice) jQuery('.dslca-module-edit-options-tab-hook[data-id="price_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="price_styling"]').hide(); // Show/Hide Price Sec

    if (dslcElPriceSec) jQuery('.dslca-module-edit-options-tab-hook[data-id="price_secondary_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="price_secondary_styling"]').hide(); // Show/Hide Add to Cart

    if (dslcElAddCart || dslcElDetails) jQuery('.dslca-module-edit-options-tab-hook[data-id="other_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="other_styling"]').hide(); // Show/Hide Quote

    if (dslcElQuote) jQuery('.dslca-module-edit-options-tab-hook[data-id="quote_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="quote_styling"]').hide(); // Show/Hide Author Name

    if (dslcElAuthorName) jQuery('.dslca-module-edit-options-tab-hook[data-id="author_name_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="author_name_styling"]').hide(); // Show/Hide Author Position

    if (dslcElAuthorPos) jQuery('.dslca-module-edit-options-tab-hook[data-id="author_position_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="author_position_styling"]').hide(); // Show/Hide Image

    if (dslcElImage) jQuery('.dslca-module-edit-options-tab-hook[data-id="image_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="image_styling"]').hide(); // Show/Hide Quote

    if (dslcElLogo) jQuery('.dslca-module-edit-options-tab-hook[data-id="logo_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="logo_styling"]').hide();
  }
  /**
   * Check 'Enable/Disable Custom CSS' control
   */


  if (jQuery('.dslca-options-filter-hook[data-section="styling"]').hasClass('dslca-active')) {
    var dslcCustomCSS = jQuery('.dslca-module-edit-option[data-id="css_custom"]'),
        dslcCustomCSSVal = dslcCustomCSS.find('select').val();

    if (dslcCustomCSSVal == 'enabled') {
      jQuery('.dslca-module-edit-option[data-section="styling"]').css({
        visibility: 'visible'
      });
      jQuery('.dslca-module-edit-option[data-tab]').css('visibility', 'visible');
      jQuery('.dslca-module-edit-options-tabs').show();
    } else {
      jQuery('.dslca-module-edit-option[data-section="styling"]').css({
        visibility: 'hidden'
      });
      jQuery('.dslca-module-control-group.dslca-module-edit-option').css('visibility', 'hidden');
      jQuery('.dslca-module-edit-options-tabs').hide();
      dslcCustomCSS.css({
        visibility: 'visible'
      });
    }
  } else {
    jQuery('.dslca-module-edit-options-tabs').show();
  }

  if (jQuery('select.dslca-module-edit-field[data-id="css_res_t"]').val() == 'disabled') {
    jQuery('.dslca-module-edit-option[data-id*="css_res_t"]').css('visibility', 'hidden');
    jQuery('.dslca-module-edit-option[data-tab="tablet_responsive"]').css('visibility', 'hidden');
  } else {
    jQuery('.dslca-module-edit-option[data-id*="css_res_t"]').css('visibility', 'visible');
    jQuery('.dslca-module-edit-option[data-tab="tablet_responsive"]').css('visibility', 'visible');
  }

  if (jQuery('select.dslca-module-edit-field[data-id="css_res_p"]').val() == 'disabled') {
    jQuery('.dslca-module-edit-option[data-id*="css_res_p"]').css('visibility', 'hidden');
    jQuery('.dslca-module-edit-option[data-tab="phone_responsive"]').css('visibility', 'hidden');
  } else {
    jQuery('.dslca-module-edit-option[data-id*="css_res_p"]').css('visibility', 'visible');
    jQuery('.dslca-module-edit-option[data-tab="phone_responsive"]').css('visibility', 'visible');
  }

  jQuery('.dslca-module-edit-option[data-id="css_res_p"], .dslca-module-edit-option[data-id="css_res_t"]').css('visibility', 'visible');

  if (jQuery('.dslca-options-filter-hook').hasClass('dslca-active')) {
    var section_tab = jQuery('.dslca-options-filter-hook.dslca-active').data('section');

    if (jQuery('.dslca-module-edit-option[data-section="' + section_tab + '"]').hasClass('dep-show')) {
      jQuery('.dslca-module-edit-option.dep-show').show();
    }

    if (jQuery('.dslca-module-edit-option[data-section="' + section_tab + '"]').hasClass('dep-hide')) {
      jQuery('.dslca-module-edit-option.dep-hide').hide();
    }
  }

  if (jQuery('.dslca-module-edit-options-tab-hook').hasClass('dslca-active')) {
    var data_tab = jQuery('.dslca-module-edit-options-tab-hook.dslca-active').data('id');

    if (jQuery('.dslca-module-edit-option[data-tab="' + data_tab + '"]').hasClass('dependent')) {
      jQuery('.dslca-module-edit-option.dependent').hide();
      jQuery('.dslca-module-edit-option[data-tab="' + data_tab + '"].dep-show').show();
      jQuery('.dslca-module-edit-option[data-tab="' + data_tab + '"].dep-hide').hide();
    } else {
      jQuery('.dslca-module-edit-option.dependent').hide();
    }
  }
}
/**
 * MODULES SETTINGS PANEL - Confirm module options changes
 */


function dslc_module_options_confirm_changes(callback) {
  if (window.dslcDebug) console.log('dslc_module_options_confirm_changes'); // Callback

  callback = typeof callback !== 'undefined' ? callback : false; // If slider module

  if (jQuery('.dslca-module-being-edited', window.LiveComposer.Builder.PreviewAreaDocument).hasClass('dslc-module-DSLC_Sliders')) {
    jQuery('.dslca-module-being-edited', window.LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-module-being-edited'); // If not slider module
  } else {
    // Add class so we know saving is in progress
    jQuery('body').addClass('dslca-module-saving-in-progress'); // Reload module with new settings

    dslc_module_output_altered(function () {
      // Update preset
      dslc_update_preset();
      window.dslc_generate_code();
      jQuery('.dslca-module-being-edited', window.LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-module-being-edited'); // Remove classes so we know saving finished

      jQuery('body').removeClass('dslca-module-saving-in-progress'); // Clean up options container

      jQuery('.dslca-module-edit-options-inner').html('');
      jQuery('.dslca-module-edit-options-tabs').html('');
      window.LiveComposer.Builder.UI.clearUtils(); // Callback if there's one

      if (callback) {
        callback();
      }
    });
  } // Show modules listing


  dslc_show_section('.dslca-modules'); // Hide the filter hooks

  jQuery('.dslca-header .dslca-options-filter-hook').hide(); // Hide the save/cancel actions

  jQuery('.dslca-module-edit-actions').hide(); // Show the section hooks

  jQuery('.dslca-header .dslca-go-to-section-hook').show(); // window.dslc_generate_code();
  // Show the publish button

  window.dslc_show_publish_button();
}
/**
 * MODULES SETTINGS PANEL - Cancel module options changes
 */


function dslc_module_options_cancel_changes(callback) {
  if (window.dslcDebug) console.log('dslc_module_options_cancel_changes'); // Callback

  callback = typeof callback !== 'undefined' ? callback : false; // Vars

  var editedModule = jQuery('.dslca-module-being-edited', window.LiveComposer.Builder.PreviewAreaDocument); // Add backup option values

  jQuery('.dslca-module-options-front', editedModule).html('').append(window.LiveComposer.Builder.moduleBackup); // window.LiveComposer.Builder.moduleBackup = false;
  // Reload module

  dslc_module_output_altered(function () {
    window.dslc_generate_code();
    jQuery('.dslca-module-being-edited', window.LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-module-being-edited'); // Clean up options container

    jQuery('.dslca-module-edit-options-inner').html('');
    jQuery('.dslca-module-edit-options-tabs').html('');
    window.LiveComposer.Builder.UI.clearUtils();

    if (callback) {
      callback();
    }
  }); // Show modules listing

  dslc_show_section('.dslca-modules'); // Hide the filter hooks

  jQuery('.dslca-header .dslca-options-filter-hook').hide(); // Hide the save/cancel actions

  jQuery('.dslca-module-edit-actions').hide(); // Show the section hooks

  jQuery('.dslca-header .dslca-go-to-section-hook').show(); // Show the publish button

  window.dslc_show_publish_button();
  window.LiveComposer.Builder.UI.clearUtils();
}
/**
 * MODULES SETTINGS PANEL - Option Tooltips
 */


function dslc_module_options_tooltip() {
  // Close Tooltip
  jQuery(document).on('click', '.dslca-module-edit-field-ttip-close', function () {
    jQuery('.dslca-module-edit-field-ttip, .dslca-module-edit-field-icon-ttip').hide();
  }); // Show Tooltip

  jQuery(document).on('click', '.dslca-module-edit-field-ttip-hook', function () {
    var dslcTtip = jQuery('.dslca-module-edit-field-ttip'),
        dslcTtipInner = dslcTtip.find('.dslca-module-edit-field-ttip-inner'),
        dslcHook = jQuery(this),
        dslcTtipContent,
        dslcLabel;
    dslcLabel = dslcHook.parent();

    if (dslcLabel.parent().hasClass('dslca-modules-section-edit-option')) {
      dslcTtipContent = dslcHook.closest('.dslca-modules-section-edit-option').find('.dslca-module-edit-field-ttip-content').html();
    } else {
      dslcTtipContent = dslcHook.closest('.dslca-module-edit-option').find('.dslca-module-edit-field-ttip-content').html();
    }

    if (dslcTtip.is(':visible')) {
      jQuery('.dslca-module-edit-field-ttip').hide();
    } else {
      dslcTtipInner.html(dslcTtipContent);
      var dslcOffset = dslcHook.offset();
      var dslcTtipHeight = dslcTtip.outerHeight();
      var dslcTtipWidth = dslcTtip.outerWidth();
      var dslcTtipLeft = dslcOffset.left - dslcTtipWidth / 2 + 6;
      var dslcTtipArrLeft = '50%';

      if (dslcTtipLeft < 0) {
        dslcTtipArrLeft = dslcTtipWidth / 2 + dslcTtipLeft + 'px';
        dslcTtipLeft = 0;
      }

      jQuery('.dslca-module-edit-field-ttip').show().css({
        top: dslcOffset.top - dslcTtipHeight - 20,
        left: dslcTtipLeft
      });
      jQuery("head").append(jQuery('<style>.dslca-module-edit-field-ttip:after, .dslca-module-edit-field-ttip:before { left: ' + dslcTtipArrLeft + ' }</style>'));
    }
  }); // Show Tooltip ( Icon Options )

  jQuery(document).on('click', '.dslca-module-edit-field-icon-ttip-hook', function () {
    var dslcTtip = jQuery('.dslca-module-edit-field-icon-ttip');
    var dslcHook = jQuery(this);

    if (dslcTtip.is(':visible')) {
      jQuery('.dslca-module-edit-field-icon-ttip').hide();
    } else {
      var dslcOffset = dslcHook.offset();
      var dslcTtipHeight = dslcTtip.outerHeight();
      var dslcTtipWidth = dslcTtip.outerWidth();
      var dslcTtipLeft = dslcOffset.left - dslcTtipWidth / 2 + 6;
      var dslcTtipArrLeft = '50%';

      if (dslcTtipLeft < 0) {
        dslcTtipArrLeft = dslcTtipWidth / 2 + dslcTtipLeft + 'px';
        dslcTtipLeft = 0;
      }

      jQuery('.dslca-module-edit-field-icon-ttip').show().css({
        top: dslcOffset.top - dslcTtipHeight - 20,
        left: dslcTtipLeft
      });
      jQuery("head").append(jQuery('<style>.dslca-module-edit-field-icon-ttip:after, .dslca-module-edit-field-icon-ttip:before { left: ' + dslcTtipArrLeft + ' }</style>'));
    }
  });
}
/**
 * MODULES SETTINGS PANEL - Font option type
 */


function dslc_module_options_font() {
  // Next Font
  jQuery(document).on('click', '.dslca-module-edit-field-font-next', function (e) {
    e.preventDefault();

    if (!jQuery(this).hasClass('dslca-font-loading') && !jQuery(this).siblings('.dslca-font-loading').length) {
      var dslcOption = jQuery(this).closest('.dslca-module-edit-option-font');
      var dslcField = jQuery('.dslca-module-edit-field-font', dslcOption);
      var dslcCurrIndex = dslcAllFontsArray.indexOf(dslcField.val());
      var dslcNewIndex = dslcCurrIndex + 1;
      jQuery('.dslca-module-edit-field-font-suggest', dslcOption).text('');
      dslcField.val(dslcAllFontsArray[dslcNewIndex]).trigger('change');
      jQuery(this).addClass('dslca-font-loading').find('.dslca-icon').removeClass('dslc-icon-chevron-right').addClass('dslc-icon-refresh dslc-icon-spin');
    }
  }); // Previous Font

  jQuery(document).on('click', '.dslca-module-edit-field-font-prev', function (e) {
    e.preventDefault();

    if (!jQuery(this).hasClass('dslca-font-loading') && !jQuery(this).siblings('.dslca-font-loading').length) {
      var dslcOption = jQuery(this).closest('.dslca-module-edit-option-font');
      var dslcField = jQuery('.dslca-module-edit-field-font', dslcOption);
      var dslcCurrIndex = dslcAllFontsArray.indexOf(dslcField.val());
      var dslcNewIndex = dslcCurrIndex - 1;
      jQuery('.dslca-module-edit-field-font-suggest', dslcOption).text('');

      if (dslcNewIndex < 0) {
        dslcNewIndex = dslcAllFontsArray.length - 1;
      }

      dslcField.val(dslcAllFontsArray[dslcNewIndex]).trigger('change');
      jQuery(this).addClass('dslca-font-loading').find('.dslca-icon').removeClass('dslc-icon-chevron-left').addClass('dslc-icon-refresh dslc-icon-spin');
    }
  }); // Keyup ( left arrow, right arrow, else )

  jQuery(document).on('keyup', '.dslca-module-edit-field-font', function (e) {
    var dslcField,
        dslcOption,
        dslcVal,
        dslcMatchingFont = false,
        dslcFont;
    dslcField = jQuery(this);
    dslcOption = dslcField.closest('.dslca-module-edit-option');

    if (e.which == 38) {
      jQuery('.dslca-module-edit-field-font-prev', dslcOption).click();
    }

    if (e.which == 40) {
      jQuery('.dslca-module-edit-field-font-next', dslcOption).click();
    }

    if (e.which != 13 && e.which != 38 && e.which != 40) {
      dslcVal = dslcField.val();
      var search = [];
      var re = new RegExp('^' + dslcVal, 'i');
      var dslcFontsAmount = dslcAllFontsArray.length;
      var i = 0;

      do {
        if (re.test(dslcAllFontsArray[i])) {
          if (!dslcMatchingFont) {
            var dslcMatchingFont = dslcAllFontsArray[i];
          }
        }

        i++;
      } while (i < dslcFontsAmount);

      if (!dslcMatchingFont) {
        dslcFont = dslcVal;
        jQuery('.dslca-module-edit-field-font-suggest', dslcOption).hide();
      } else {
        dslcFont = dslcMatchingFont;
        jQuery('.dslca-module-edit-field-font-suggest', dslcOption).show();
      }

      jQuery('.dslca-module-edit-field-font-suggest', dslcOption).text(dslcFont);

      if (dslcFont.length) {
        dslcField.val(dslcFont.substring(0, dslcField.val().length));
      }
    }
  }); // Key press ( enter )

  jQuery(document).on('keypress', '.dslca-module-edit-field-font', function (e) {
    if (e.which == 13) {
      e.preventDefault();
      var dslcField, dslcOption, dslcVal, dslcMatchingFont, dslcFont;
      dslcField = jQuery(this);
      dslcOption = dslcField.closest('.dslca-module-edit-option');
      jQuery(this).val(jQuery('.dslca-module-edit-field-font-suggest', dslcOption).text()).trigger('change');
      jQuery('.dslca-module-edit-field-font-suggest', dslcOption).text('');
    }
  });
}
/*
 * MODULES SETTINGS PANEL - Change icon code based on direction (next/previous)
 */


function dslc_list_icon(object, direction) {
  var dslcOption = jQuery(object).closest('.dslca-module-edit-option-icon');
  var dslcField = jQuery('.dslca-module-edit-field-icon', dslcOption);
  var dslcCurrIndex = dslcIconsCurrentSet.indexOf(dslcField.val());

  if (direction == 'previous') {
    var dslcNewIndex = dslcCurrIndex - 1;
  } else {
    var dslcNewIndex = dslcCurrIndex + 1;
  }

  jQuery('.dslca-module-edit-field-icon-suggest', dslcOption).text('');

  if (dslcNewIndex < 0) {
    dslcNewIndex = dslcIconsCurrentSet.length - 1;
  }

  dslcField.val(dslcIconsCurrentSet[dslcNewIndex]).trigger('change');
}
/**
 * MODULES SETTINGS PANEL - Icon option type
 */


function dslc_module_options_icon() {
  // Key Up ( arrow up, arrow down, else )
  jQuery(document).on('keyup', '.dslca-module-edit-field-icon', function (e) {
    var dslcField, dslcOption, dslcVal, dslcIconsArrayGrep, dslcIcon;
    dslcField = jQuery(this);
    dslcOption = dslcField.closest('.dslca-module-edit-option'); // Key pressed: arrow up

    if (e.which == 38) {
      dslc_list_icon(dslcField, 'previous');
    } // Key pressed: arrow down


    if (e.which == 40) {
      dslc_list_icon(dslcField, 'next');
    }

    if (e.which != 13 && e.which != 38 && e.which != 40) {
      dslcVal = dslcField.val().toLowerCase();
      dslcField.val(dslcVal);
      dslcIconsArrayGrep = jQuery.grep(dslcIconsCurrentSet, function (value, i) {
        return value.indexOf(dslcVal) == 0;
      });
      dslcIcon = dslcIconsArrayGrep[0];
      jQuery('.dslca-module-edit-field-icon-suggest', dslcOption).text(dslcIcon);
    }
  }); // Key Press ( Enter )

  jQuery(document).on('keypress', '.dslca-module-edit-field-icon', function (e) {
    if (e.which == 13) {
      e.preventDefault();
      var dslcField, dslcOption, dslcVal, dslcIconsArrayGrep, dslcIcon;
      dslcField = jQuery(this);
      dslcOption = dslcField.closest('.dslca-module-edit-option');
      jQuery(this).val(jQuery('.dslca-module-edit-field-icon-suggest', dslcOption).text()).trigger('change');
      jQuery('.dslca-module-edit-field-icon-suggest', dslcOption).text('');
    }
  });
}
/**
 * MODULES SETTINGS PANEL - return options id
 */


function dslc_module_options_icon_returnid() {
  jQuery(document).on('click', '.dslca-open-modal-hook[data-modal^=".dslc-list-icons"]', function (el) {
    jQuery(this).closest('.dslca-module-edit-option-icon').find('input').addClass('icon-modal-active');
  });
  jQuery(document).on('click', '.dslca-modal-icons .icon-item', function (el) {
    // Get selected item code
    var selectedIconCode = jQuery(this).find('.icon-item_name').text();
    jQuery('input.icon-modal-active').val(selectedIconCode).change(); // Close modal window

    dslc_hide_modal('', jQuery('.dslca-modal:visible'));
    jQuery('input.icon-modal-active').removeClass('icon-modal-active');
  });
}
/**
 * MODULES SETTINGS PANEL - Text align option type
 */


function dslc_module_options_text_align() {
  jQuery(document).on('click', '.dslca-module-edit-option-text-align-hook', function () {
    var newOpt = jQuery(this),
        otherOpt = jQuery(this).closest('.dslca-module-edit-option-text-align-wrapper').find('.dslca-module-edit-option-text-align-hook'),
        newVal = newOpt.data('val'),
        realOpt = jQuery(this).closest('.dslca-module-edit-option-text-align-wrapper').siblings('input.dslca-module-edit-field');
    otherOpt.removeClass('dslca-active');
    newOpt.addClass('dslca-active');
    realOpt.val(newVal).trigger('change');
  });
}
/**
 * MODULES SETTINGS PANEL - Checkbox Option Type
 */


function dslc_module_options_checkbox() {
  jQuery(document).on('click', '.dslca-module-edit-option-checkbox-hook, .dslca-modules-section-edit-option-checkbox-hook', function () {
    var checkFake = jQuery(this);
    var checkReal = checkFake.siblings('input[type="checkbox"]');

    if (checkReal.prop('checked')) {
      checkReal.prop('checked', false);
      checkFake.find('.dslca-icon').removeClass('dslc-icon-check').addClass('dslc-icon-check-empty');
    } else {
      checkReal.prop('checked', true);
      checkFake.find('.dslca-icon').removeClass('dslc-icon-check-empty').addClass('dslc-icon-check');
    }

    checkReal.change();
  });
}
/**
 * MODULES SETTINGS PANEL - Box Shadow Option Type
 */


function dslc_module_options_box_shadow() {
  if (window.dslcDebug) console.log('dslc_module_options_box_shadow');
  /**
   * Value Change
   */

  jQuery(document).on('change', '.dslca-module-edit-option-box-shadow-hor, ' + '.dslca-module-edit-option-box-shadow-ver, .dslca-module-edit-option-box-shadow-blur, .dslca-module-edit-option-box-shadow-spread,' + ' .dslca-module-edit-option-box-shadow-color, .dslca-module-edit-option-box-shadow-inset', function () {
    var boxShadowWrapper = jQuery(this).closest('.dslca-module-edit-option'),
        boxShadowInput = boxShadowWrapper.find('.dslca-module-edit-field'),
        boxShadowHor = boxShadowWrapper.find('.dslca-module-edit-option-box-shadow-hor').val(),
        boxShadowVer = boxShadowWrapper.find('.dslca-module-edit-option-box-shadow-ver').val(),
        boxShadowBlur = boxShadowWrapper.find('.dslca-module-edit-option-box-shadow-blur').val(),
        boxShadowSpread = boxShadowWrapper.find('.dslca-module-edit-option-box-shadow-spread').val(),
        boxShadowColor = boxShadowWrapper.find('.dslca-module-edit-option-box-shadow-color').val(),
        boxShadowInset = boxShadowWrapper.find('.dslca-module-edit-option-box-shadow-inset').is(':checked');

    if (boxShadowInset) {
      boxShadowInset = ' inset';
    } else {
      boxShadowInset = '';
    }

    var boxShadowVal = boxShadowHor + 'px ' + boxShadowVer + 'px ' + boxShadowBlur + 'px ' + boxShadowSpread + 'px ' + boxShadowColor + boxShadowInset;
    boxShadowInput.val(boxShadowVal).trigger('change');
  });
}
/**
 * MODULES SETTINGS PANEL - Text Shadow Option Type
 */


function dslc_module_options_text_shadow() {
  if (window.dslcDebug) console.log('dslc_module_options_text_shadow');
  /**
   * Value Change
   */

  jQuery(document).on('change', '.dslca-module-edit-option-text-shadow-hor, .dslca-module-edit-option-text-shadow-ver,' + '.dslca-module-edit-option-text-shadow-blur, .dslca-module-edit-option-text-shadow-color', function () {
    var textShadowWrapper = jQuery(this).closest('.dslca-module-edit-option'),
        textShadowInput = textShadowWrapper.find('.dslca-module-edit-field'),
        textShadowHor = textShadowWrapper.find('.dslca-module-edit-option-text-shadow-hor').val(),
        textShadowVer = textShadowWrapper.find('.dslca-module-edit-option-text-shadow-ver').val(),
        textShadowBlur = textShadowWrapper.find('.dslca-module-edit-option-text-shadow-blur').val(),
        textShadowColor = textShadowWrapper.find('.dslca-module-edit-option-text-shadow-color').val();
    var textShadowVal = textShadowHor + 'px ' + textShadowVer + 'px ' + textShadowBlur + 'px ' + textShadowColor;
    textShadowInput.val(textShadowVal).trigger('change');
  });
}
/**
 * MODULES SETTINGS PANEL - Color Option Type
 */


function dslc_module_options_color(field) {
  if (window.dslcDebug) console.log('dslc_module_options_color');
  var dslcColorField, dslcAffectOnChangeEl, dslcAffectOnChangeRule, dslcColorFieldVal, dslcModule, dslcOptionID, dslcCurrColor;
  /**
   * Color Pallete.
   *
   * Last three selected colors get stored in the local storage
   * of the browser under the key 'dslcColors-example.com'.
   *
   * Beside latest three custom colors, color palette includes
   * three predefined/fixed colors: white, black and transparent.
   */

  var dslcColorPallete = [],
      currStorage,
      index;
  var palleteCurrentDommain = 'dslcColors-' + document.domain; // Get three recent colors from the local storage.

  if (undefined !== localStorage[palleteCurrentDommain]) {
    currStorage = JSON.parse(localStorage[palleteCurrentDommain]);
    dslcColorPallete = currStorage;
  } // Set default colors if not enough custom colors. Should be six.


  if (1 > dslcColorPallete.length) {
    dslcColorPallete.push('#78b');
  }

  if (2 > dslcColorPallete.length) {
    dslcColorPallete.push('#ab0');
  }

  if (3 > dslcColorPallete.length) {
    dslcColorPallete.push('#de3');
  } // Add the next "fixed" colors to the end of the pallete.


  dslcColorPallete.push('#fff');
  dslcColorPallete.push('#000');
  dslcColorPallete.push('rgba(0,0,0,0)');
  var query = field; // For each color picker input field.

  jQuery(query).each(function () {
    // Set setting the conotrol wrapper.
    var wrapper = jQuery(this).closest('.dslca-color-option');
    var input = jQuery(this);
    dslcCurrColor = jQuery(this).val();
    /**
     * Init standard WP color pickers (Iris).
     *
     * See: http://automattic.github.io/Iris/
     * See: https://github.com/23r9i0/wp-color-picker-alpha
     */

    input.wpColorPicker({
      mode: 'hsl',
      palettes: dslcColorPallete,
      change: function change(event, ui) {
        // @todo: get the code below into a separate function!
        // The option field
        dslcColorField = input;
        var color = input.wpColorPicker('color'); // The new color

        if (color == null) {
          dslcColorFieldVal = '';
        } else {
          dslcColorFieldVal = color;
        } // Change current value of option


        dslcColorField.val(dslcColorFieldVal).trigger('change'); // Change input field background.

        dslcColorField.css('background', dslcColorFieldVal); // Live change

        dslcAffectOnChangeEl = dslcColorField.data('affect-on-change-el');
        dslcAffectOnChangeRule = dslcColorField.data('affect-on-change-rule'); // ROWs doesn't have 'dslcAffectOnChangeEl' defined

        if (null != dslcAffectOnChangeEl) {
          jQuery(dslcAffectOnChangeEl, '.dslca-module-being-edited').css(dslcAffectOnChangeRule, dslcColorFieldVal);
        } // Update option


        dslcModule = jQuery('.dslca-module-being-edited', window.LiveComposer.Builder.PreviewAreaDocument);
        dslcOptionID = dslcColorField.data('id');
        jQuery('.dslca-module-option-front[data-id="' + dslcOptionID + '"]', dslcModule).val(dslcColorFieldVal); // Add changed class

        dslcModule.addClass('dslca-module-change-made');
      }
    });
    var colorPickerPopup = wrapper.find('.wp-picker-holder .iris-picker');
    colorPickerPopup.append('<button type="button" class="dslca-colorpicker-apply">Apply</button>');
    var apply = wrapper.find('.dslca-colorpicker-apply');
    input.wpColorPicker('open'); // If [APPLY] button clicked...

    jQuery(apply).on('click', function () {
      // If new color is not one of the "fixed" colors...
      if ('#fff' !== dslcColorFieldVal && '#ffffff' !== dslcColorFieldVal && '#000' !== dslcColorFieldVal && '#000000' !== dslcColorFieldVal && 'rgba(0,0,0,0)' !== dslcColorFieldVal) {
        // Update pallete colors in the local storage.
        if (undefined === localStorage[palleteCurrentDommain]) {
          // Create new record if no local storage found.
          var newStorage = [dslcColorFieldVal];
          localStorage[palleteCurrentDommain] = JSON.stringify(newStorage);
        } else {
          // Update existing record in the local storage.
          var newStorage = JSON.parse(localStorage[palleteCurrentDommain]);

          if (newStorage.indexOf(dslcColorFieldVal) == -1) {
            // Add new color to the head of the pallete array.
            newStorage.unshift(dslcColorFieldVal);

            if (3 < newStorage.length) {
              // Remove the last color from the pallete.
              newStorage.pop();
            }
          }

          localStorage[palleteCurrentDommain] = JSON.stringify(newStorage);
        }
      }

      input.wpColorPicker('close');
    }); // Save this element to destroy on panel closed.

    window.LiveComposer.Builder.Helpers.colorpickers.push(jQuery(this));
  });
}
/**
 * MODULES SETTINGS PANEL - Numeric Option Type
 */


function dslc_module_options_numeric(fieldWrapper) {
  if (window.dslcDebug) console.log('dslc_module_options_numeric');
  var query = fieldWrapper; // || '.dslca-module-edit-option-slider';

  jQuery(query).each(function () {
    var controlWrapper = jQuery(this);
    /* Create an empty div to be uses by jQuery as the slider container. */

    if (0 === jQuery('.dslca-module-edit-field-slider', controlWrapper).length) {
      controlWrapper.append('<div class="dslca-module-edit-field-slider"></div>');
    }

    var workingWithModule = true;
    /* Is the control part of the module setting panel or section settings? */

    if (controlWrapper.hasClass('dslca-modules-section-edit-option')) {
      // We are working with seciton.
      workingWithModule = false;
    } else {
      // We are working with module.
      workingWithModule = true;
    }

    if (workingWithModule) {
      var sliderInput = controlWrapper.find('.dslca-module-edit-field');
    } else {
      var sliderInput = controlWrapper.find('.dslca-modules-section-edit-field');
    }
    /* Is the control part of the module setting panel or section settings? */


    if (controlWrapper.hasClass('dslca-modules-section-edit-option')) {
      // We are working with seciton.
      var sliderInput = controlWrapper.find('.dslca-modules-section-edit-field');
    } else {
      // We are working with module.
      var sliderInput = controlWrapper.find('.dslca-module-edit-field');
    }

    var sliderExt = '',
        sliderControl = controlWrapper.find('.dslca-module-edit-field-slider'),
        currentVal = parseFloat(sliderInput.val()),
        // Max value. By default max is 100.
    max = parseFloat(sliderInput.data('max')),
        // Min value. By default min is 0.
    min = parseFloat(sliderInput.data('min')),
        // Increment value. By default increment is 1.
    inc = parseFloat(sliderInput.data('increment')),
        // Backup values.
    max_orig = max,
        min_orig = min;
    /**
     * Check if value can't be negative according to module settings.
     */

    var onlypositive = false;

    if (undefined !== sliderInput.data('onlypositive') && 1 === sliderInput.data('onlypositive')) {
      onlypositive = true;
    }
    /**
     * If the current slider value gets to the max or min,
     * we set new 'wider' max/min values.
     *
     * This way slider has no fixed top or bottom limit one one hand
     * and works precise enough for both small and big values.
     */


    if (currentVal >= max) {
      max = currentVal * 2;
    }

    if (!onlypositive && currentVal <= min) {
      min = currentVal * 2;
    }

    sliderControl.slider({
      min: min,
      max: max,
      step: inc,
      value: sliderInput.val(),
      slide: function slide(event, ui) {
        sliderInput.val(ui.value + sliderExt);
        sliderInput.trigger('change');
      },
      change: function change(event, ui) {
        /**
         * If the current slider value gets to the max or min,
         * we reset the slider (destroy/call again) so script above
         * set new bigger max/min values.
         *
         * This way slider has no top or bottom limit one one hand
         * and precise enough for both small and big values.
         */
        if (ui.value >= max || ui.value <= min) {
          sliderControl.slider("destroy");
          dslc_module_options_numeric(controlWrapper);
        }
      }
      /*
      stop: function( event, ui ) {
      },
      start: function( event, ui ) {
      }
      */

    });
    /**
     * Once the slider initiated, show it in HTML.
     * Slider control is hidden by default. We show it on hover only.
     */

    sliderControl.show();
    /* On mouse leave: Remove empty DIV and destroy the slider. */

    jQuery(controlWrapper).on('mouseleave', function () {
      if (undefined !== sliderControl.slider('instance')) {
        jQuery(sliderControl).slider('destroy');
      }

      sliderControl.remove();
    });
    if (sliderInput[0].classList.contains('slider-initiated')) return;
    sliderInput[0].classList.add("slider-initiated");
    sliderInput.on('keyup', function (e) {
      // In some rare cases we have the next error:
      // TypeError: undefined is not an object (evaluating 'a.key.match')
      if (undefined === e) {
        return false;
      } // Shift + Up/Down


      if (e.shiftKey) {
        if (e.keyCode == 38) {
          this.value = (parseInt(this.value) || 0) + 9;
          sliderInput.trigger('change');
        }

        if (e.keyCode == 40) {
          this.value = parseInt(this.value) + 0 - 9;
          sliderInput.trigger('change');
        }
      } // Backspace, "-"


      if (e.keyCode == 8 || e.keyCode == 45) {
        sliderInput.trigger('change');
      } // If number key pressed


      if (e.keyCode >= 48 && e.keyCode <= 57 || e.keyCode >= 96 && e.keyCode <= 105) {
        sliderInput.trigger('change');
      }

      var charCode = e.which ? e.which : e.keyCode; //@todo more work here

      if ((charCode >= 48 && charCode <= 57 || charCode >= 96 && charCode <= 105) && e.keyCode != 8 && e.keyCode != 39 && e.keyCode != 37 && e.keyCode != 46) {
        return false;
      }
    }); // sliderInput.unbind('change');

    sliderInput.on('change', function (e) {
      if (onlypositive && this.value < 0) {
        this.value = 0;
      }

      var containerWrapper;

      if (workingWithModule) {
        containerWrapper = jQuery(e.target.closest('.dslca-module-edit-option-slider'));
      } else {
        containerWrapper = jQuery(e.target.closest('.dslca-modules-section-edit-option-slider'));
      }
      /**
       * Move the slider needle to reflect the value changes
       * made via direct input of via keyboard arrow keys.
       */


      var currentSliderInstance = containerWrapper.find('.dslca-module-edit-field-slider');

      if (undefined !== currentSliderInstance.slider('instance')) {
        currentSliderInstance.slider('value', this.value);
      }

      if (workingWithModule) {
        // Add changed class to the module.
        var module = jQuery('.dslca-module-being-edited', window.LiveComposer.Builder.PreviewAreaDocument);
        module.addClass('dslca-module-change-made');
      }
    });
    return false;
  }); // .each
}

function dslc_disable_responsive_view() {
  jQuery('html').removeClass('dslc-responsive-preview');
  jQuery('body').removeClass('dslc-res-big dslc-res-smaller-monitor dslc-res-phone dslc-res-tablet');
}

function dslc_filter_module_options(sectionID) {
  dslc_module_options_section_filter(sectionID);
}

function dslc_show_module_options_tab(tab) {
  dslc_module_options_tab_filter(tab);
}

function dslc_confirm_changes(callback) {
  dslc_module_options_confirm_changes(callback);
}

function dslc_cancel_changes(callback) {
  dslc_module_options_cancel_changes(callback);
}

function dslc_init_colorpicker() {
  dslc_module_options_color();
}

function dslc_init_options_slider() {
  dslc_module_options_numeric();
}

function dslc_module_edit_options_hideshow_tabs() {
  dslc_module_options_hideshow_tabs();
}

/***/ }),

/***/ "./js/src/editor/backend/uigeneral.js":
/*!********************************************!*\
  !*** ./js/src/editor/backend/uigeneral.js ***!
  \********************************************/
/*! exports provided: fixContenteditable, keypressEvents */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fixContenteditable", function() { return fixContenteditable; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "keypressEvents", function() { return keypressEvents; });
/* harmony import */ var _settings_panel_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./settings.panel.js */ "./js/src/editor/backend/settings.panel.js");
/* harmony import */ var sortablejs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sortablejs */ "./node_modules/sortablejs/modular/sortable.esm.js");
/*********************************
 *
 * = UI - GENERAL =
 *
 * - dslc_hide_composer ( Hides the composer elements )
 * - dslc_show_composer ( Shows the composer elements )
 * - dslc_show_publish_button ( Shows the publish button )
 * - dslc_show_section ( Show a specific section )
 * - dslc_generate_filters ( Generate origin filters )
 * - dslc_filter_origin ( Origin filtering for templates/modules listing )
 * - dragAndDropInit ( Initiate drag and drop functionality )
 ***********************************/




/**
 * Try to detect JS errors in WP Admin part.
 */

window.onerror = function (error, file, line, char) {
  dslca_generate_error_report(error, file, line, char);
};
/**
 * Hook - Open Error Log button
 */


jQuery(document).on('click', '.dslca-show-js-error-hook', function (e) {
  e.preventDefault();
  var errors_container = document.getElementById('dslca-js-errors-report');

  if (!jQuery('body').hasClass('dslca-saving-in-progress')) {
    LiveComposer.Builder.UI.CModalWindow({
      title: '<a href="https://livecomposerplugin.com/support/" target="_blank"><span class="dslca-icon dslc-icon-comment"></span> &nbsp; Get Support Info</a>',
      content: '<span class="dslca-error-report">' + errors_container.value + '</span>'
    });
  }
});
/**
 * UI - GENERAL - Document Ready
 */

jQuery(document).ready(function ($) {
  /**
   * Try to detect JS errors in preview area.
   */
  jQuery("#page-builder-frame")[0].contentWindow.onerror = function (error, file, line, char) {
    dslca_generate_error_report(error, file, line, char);
  }; // Put JS error log data in a hidden textarea.


  dslca_update_report_log();
  jQuery('body').addClass('dslca-enabled dslca-drag-not-in-progress');
  jQuery('.dslca-invisible-overlay').hide();
  jQuery('.dslca-section').eq(0).show();
});
/**
 * Action - "Currently Editing" scroll on click
 */

jQuery(document).on('click', '.dslca-currently-editing', function () {
  var activeElement = false,
      newOffset = false,
      outlineColor;

  if (jQuery('.dslca-module-being-edited', LiveComposer.Builder.PreviewAreaDocument).length) {
    activeElement = jQuery('.dslca-module-being-edited', LiveComposer.Builder.PreviewAreaDocument);
    outlineColor = '#5890e5';
  } else if (jQuery('.dslca-modules-section-being-edited', LiveComposer.Builder.PreviewAreaDocument).length) {
    activeElement = jQuery('.dslca-modules-section-being-edited', LiveComposer.Builder.PreviewAreaDocument);
    outlineColor = '#eabba9';
  }

  if (activeElement) {
    newOffset = activeElement.offset().top - 100;

    if (newOffset < 0) {
      newOffset = 0;
    }

    var callbacks = [];
    jQuery('html, body', LiveComposer.Builder.PreviewAreaDocument).animate({
      scrollTop: newOffset
    }, 300, function () {
      activeElement.removeAttr('style');
    });
  }
});
/**
 * Save composer code with CMD+S or Ctrl+S
 */

jQuery(window).keypress(function (e) {
  if ((e.metaKey || e.ctrlKey) && e.keyCode == 83) {
    dslc_ajax_save_composer();
    e.preventDefault();
    return false;
  }
});
/**
 * Hook - Hide Composer
 */

jQuery(document).on('click', '.dslca-hide-composer-hook', function (e) {
  e.preventDefault();
  dslc_hide_composer();
});
/**
 * Hook - Show Composer
 */

jQuery(document).on('click', '.dslca-show-composer-hook', function (e) {
  e.preventDefault();
  dslc_show_composer();
});
/**
 * Hook - Section Show - Modules Listing
 */

jQuery(document).on('click', '.dslca-go-to-modules-hook', function (e) {
  e.preventDefault();
  dslc_show_section('.dslca-modules');
});
/**
 * Hook - Section Show - Dynamic
 */

jQuery(document).on('click', '.dslca-go-to-section-hook', function (e) {
  e.preventDefault(); // Do nothing if clicked on active tab

  if (jQuery(this).hasClass('dslca-active')) {
    return;
  }

  var sectionTitle = jQuery(this).data('section');
  dslc_show_section(sectionTitle);

  if (jQuery(this).hasClass('dslca-go-to-section-modules') || jQuery(this).hasClass('dslca-go-to-section-templates')) {
    jQuery(this).addClass('dslca-active').siblings('.dslca-go-to-section-hook').removeClass('dslca-active');
  }
});
/**
 * Hook - Close Composer
 */

jQuery(document).on('click', '.dslca-close-composer-hook', function (e) {
  e.preventDefault();
  var redirect_url = jQuery(this).attr('href');

  if (!jQuery('body').hasClass('dslca-saving-in-progress') && jQuery('.dslca-save-composer').is(':visible')) {
    // Show warning if changes weren't saved.
    LiveComposer.Builder.UI.CModalWindow({
      title: DSLCString.str_exit_title,
      content: DSLCString.str_exit_descr,
      confirm: function confirm() {
        window.location = redirect_url;
      }
    });
  } else {
    window.location = redirect_url;
  }
});
/**
 * Submit Form
 */

jQuery(document).on('click', '.dslca-submit', function () {
  jQuery(this).closest('form').submit();
});
/**
 * Hook - Show Origin Filters
 */

jQuery(document).on('click', '.dslca-section-title', function (e) {
  e.stopPropagation();

  if (jQuery('.dslca-section-title-filter', this).length) {
    dslc_generate_filters(); // Open filter panel

    jQuery('.dslca-section-title-filter-options').slideToggle(300);
  }
});
/**
 * Hook - Apply Filter Origin
 */

jQuery(document).on('click', '.dslca-section-title-filter-options a', function (e) {
  e.preventDefault();
  e.stopPropagation();
  var origin = jQuery(this).data('origin');
  var section = jQuery(this).closest('.dslca-section');

  if (section.hasClass('dslca-templates-load')) {
    jQuery('.dslca-section-title-filter-curr', section).text(jQuery(this).text());
  } else {
    jQuery('.dslca-section-title-filter-curr', section).text(jQuery(this).text());
  }

  jQuery('.dslca-section-scroller-inner').css({
    left: 0
  });
  dslc_filter_origin(origin, section); // Close filter panel

  jQuery('.dslca-section-title-filter-options').slideToggle(300);
});
/**
 * UI - GENERAL - Hide Composer
 */

function dslc_hide_composer() {
  if (window.dslcDebug) console.log('dslc_hide_composer'); // Hide "hide" button and show "show" button

  jQuery('.dslca-hide-composer-hook').hide();
  jQuery('.dslca-show-composer-hook').show(); // Add class to know it's hidden

  jQuery('body').addClass('dslca-composer-hidden');
  jQuery('body', LiveComposer.Builder.PreviewAreaDocument).addClass('dslca-composer-hidden'); // Hide ( animation ) the main composer area ( at the bottom )

  jQuery('.dslca-container').css({
    bottom: jQuery('.dslca-container').outerHeight() * -1
  }); // Hide the header  part of the main composer area ( at the bottom )

  jQuery('.dslca-header').hide();
}
/**
 * UI - GENERAL - Show Composer
 */


function dslc_show_composer() {
  if (window.dslcDebug) console.log('dslc_show_composer'); // Hide the "show" button and show the "hide" button

  jQuery('.dslca-show-composer-hook').hide();
  jQuery('.dslca-hide-composer-hook').show(); // Remove the class from the body so we know it's not hidden

  jQuery('body').removeClass('dslca-composer-hidden');
  jQuery('body', LiveComposer.Builder.PreviewAreaDocument).removeClass('dslca-composer-hidden'); // Show ( animate ) the main composer area ( at the bottom )

  jQuery('.dslca-container').css({
    bottom: 0
  }); // Show the header of the main composer area ( at the bottom )

  jQuery('.dslca-header').show();
}
/**
 * UI - GENERAL - Show Publish Button
 */


window.dslc_show_publish_button = function () {
  if (window.dslcDebug) console.log('dslc_show_publish_button');
  jQuery('.dslca-save-composer').show().addClass('dslca-init-animation');
  jQuery('.dslca-save-draft-composer').show().addClass('dslca-init-animation');
};

function dslc_hide_publish_button() {
  if (window.dslcDebug) console.log('dslc_hide_publish_button');
  jQuery('.dslca-save-composer').hide();
  jQuery('.dslca-save-draft-composer').hide();
}
/**
 * UI - GENERAL - Show Section
 */


function dslc_show_section(section) {
  if (window.dslcDebug) console.log('dslc_show_section'); // Add class to body so we know it's in progress
  // jQuery('body').addClass('dslca-anim-in-progress');
  // Get vars

  var sectionTitle = jQuery(section).data('title'),
      newColor = jQuery(section).data('bg'); // Hide ( animate ) the container

  jQuery('.dslca-container').css({
    bottom: -500
  }); // Hide all sections and show specific section

  jQuery('.dslca-section').hide();
  jQuery(section).show(); // Change "currently editing"

  if (section == '.dslca-module-edit') {
    jQuery('.dslca-currently-editing').show().find('strong').text(jQuery('.dslca-module-being-edited', LiveComposer.Builder.PreviewAreaDocument).attr('title') + ' element');
  } else if (section == '.dslca-modules-section-edit') {
    jQuery('.dslca-currently-editing').show().css('background-color', '#e5855f').find('strong').text('Row');
  } else {
    jQuery('.dslca-currently-editing').hide().find('strong').text('');
  } // Filter module option tabs


  Object(_settings_panel_js__WEBPACK_IMPORTED_MODULE_0__["elementOptionsTabs"])(); // Show ( animate ) the container
  // setTimeout( function() {

  jQuery('.dslca-container').css({
    bottom: 0
  }); // }, 300 );
  // Remove class from body so we know it's finished
  // jQuery('body').removeClass('dslca-anim-in-progress');
  // Set initial background color for the color picker fields
  // Fixes the bug with section color pickers to keep values from the previously
  // edited section.

  jQuery(section).find('input.dslca-module-edit-field-colorpicker').each(function (item) {
    jQuery(this).css('background', jQuery(this).val());
  });
}
/**
 * UI - GENERAL - Generate Origin Filters
 */


function dslc_generate_filters() {
  if (window.dslcDebug) console.log('dslc_generate_filters'); // Vars

  var el,
      filters = [],
      filtersHTML = '<a html="#" data-origin="">Show All</a>',
      els = jQuery('.dslca-section:visible .dslca-origin'); // Go through each and generate the filters

  els.each(function () {
    el = jQuery(this);

    if (jQuery.inArray(el.data('origin'), filters) == -1) {
      filters.push(el.data('origin'));
      filtersHTML += '<a href="#" data-origin="' + el.data('origin') + '">' + el.data('origin') + '</a>';
    }
  });
  jQuery('.dslca-section:visible .dslca-section-title-filter-options').html(filtersHTML).css('background', jQuery('.dslca-section:visible').data('bg'));
}
/**
 * UI - GENERAL - Origin Filter
 */


function dslc_filter_origin(origin, section) {
  if (window.dslcDebug) console.log('dslc_filter_origin');
  jQuery('.dslca-origin', section).attr('data-display-module', 'false');
  jQuery('.dslca-origin[data-origin="' + origin + '"]', section).attr('data-display-module', 'true');

  if (origin == '') {
    jQuery('.dslca-origin', section).attr('data-display-module', 'true');
    jQuery('.dslca-origin.dslca-exclude', section).attr('data-display-module', 'false');
  }
}
/**
 * Deprecated Functions and Fallbacks
 */


function dslc_option_changed() {
  window.dslc_show_publish_button();
}
/**
 * Prevent drag and drop of the modules
 * into the inner content areas of the other modules
 */


var fixContenteditable = function fixContenteditable() {
  window.LiveComposer.Builder.PreviewAreaDocument.on('dragstart', '.dslca-module, .dslc-module-front, .dslc-modules-area, .dslc-modules-section', function (e) {
    jQuery('[contenteditable]', window.LiveComposer.Builder.PreviewAreaDocument).attr('contenteditable', false);
  });
  window.LiveComposer.Builder.PreviewAreaDocument.on('dragend mousedown', '.dslca-module, .dslc-module-front, .dslc-modules-area, .dslc-modules-section', function (e) {
    jQuery('[contenteditable]', window.LiveComposer.Builder.PreviewAreaDocument).attr('contenteditable', true);
  });
};
/**
 * Disable/Enable module control.
 *
 * @param  {string} control_id CSS ID of the control we are toggling
 * @return {void}
 */

function dslc_toogle_control(control_id) {
  if (control_id === undefined) control_id = false;
  if (!control_id) return;
  var control = jQuery('.dslca-module-edit-option-' + control_id);
  var control_storage = control.find('.dslca-module-edit-field'); // Get the element we are editing

  var module = jQuery('.dslca-module-being-edited', LiveComposer.Builder.PreviewAreaDocument); // Get the element id

  var module_id = module[0].id;
  var responsive_prefix = '';

  if ('tablet_responsive' === control.data('tab')) {
    responsive_prefix = 'body.dslc-res-tablet ';
  } else if ('phone_responsive' === control.data('tab')) {
    responsive_prefix = 'body.dslc-res-phone ';
  }

  var affect_on_change_el = control_storage.data('affect-on-change-el');
  if (affect_on_change_el === undefined) return;
  var affect_on_change_elmts = affect_on_change_el.split(',');
  affect_on_change_el = ''; // Loop through elements (useful when there are multiple elements)

  for (var i = 0; i < affect_on_change_elmts.length; i++) {
    if (i > 0) {
      affect_on_change_el += ', ';
    }

    affect_on_change_el += responsive_prefix + '#' + module_id + ' ' + affect_on_change_elmts[i];
  }

  var affect_on_change_rule = control_storage.data('affect-on-change-rule').replace(/ /g, '');
  var affect_on_change_rules = affect_on_change_rule.split(',');
  var control_value;
  var control_data_ext = control_storage.data('ext');
  control.toggleClass('dslca-option-off');

  if (control.hasClass('dslca-option-off')) {
    // Disable
    control_value = dslc_get_control_value(control_id); // Temporary backup the current value as data attribute

    control_storage.data('val-bckp', control_value); // control_value = dslc_combine_value_and_extension( control_value, control_data_ext);
    // Loop through rules (useful when there are multiple rules)

    for (var i = 0; i < affect_on_change_rules.length; i++) {
      // remove css rule in element inline style
      jQuery(affect_on_change_el, LiveComposer.Builder.PreviewAreaDocument).css(affect_on_change_rules[i], ''); // remove css rule in css block

      disable_css_rule(affect_on_change_el, affect_on_change_rules[i], module_id); // PROBLEM do not work with multiply rules ex.: .dslc-text-module-content,.dslc-text-module-content p
    }

    control_storage.val('').trigger('change');
  } else {
    // Enable
    // Restore value of the data backup attribute
    control_storage.val(control_storage.data('val-bckp')).trigger('change');
    control_value = dslc_get_control_value(control_id);
    control_value = dslc_combine_value_and_extension(control_value, control_data_ext || ''); // Loop through rules (useful when there are multiple rules)

    for (var i = 0; i < affect_on_change_rules.length; i++) {
      var styleContent = affect_on_change_el + "{" + affect_on_change_rules[i] + ": " + control_value + "}";
      LiveComposer.Builder.Helpers.processInlineStyleTag({
        context: control,
        rule: affect_on_change_rules[i],
        elems: affect_on_change_el.replace(new RegExp('#' + module_id, 'gi'), '').trim(),
        styleContent: styleContent
      });
    }
  }
}

jQuery(document).ready(function ($) {
  // Option Control Toggle
  jQuery(document).on('click', '.dslca-module-edit-option .dslc-control-toggle', function (e) {
    e.preventDefault();
    var control_id = jQuery(e.target).closest('.dslca-module-edit-option').find('.dslca-module-edit-field').data('id');
    dslc_toogle_control(control_id);
  }); // Disable Toggle If the Control Focused

  jQuery(document).on('mousedown', '.dslca-module-edit-option', function (e) {
    var toggle = $('.dslc-control-toggle');

    if (!toggle.is(e.target) // if the target of the click isn't the container...
    && toggle.has(e.target).length === 0) // ... nor a descendant of the container
      {
        if (jQuery(e.target).closest('.dslca-module-edit-option').hasClass('dslca-option-off')) {
          var control_id = $(e.target).closest('.dslca-module-edit-option').find('.dslca-module-edit-field').data('id');
          dslc_toogle_control(control_id);
        }
      }
  });
  /* Reset all styling – not ready
  
  	$(document).on( 'click', '.dslca-clear-styling-button', function(e){
  		e.preventDefault();
  
  
  		$('.dslca-option-with-toggle').each(function(e){
  			// var control_id = $(this).find('.dslca-module-edit-field').data('id');
  			$(this).find('.dslca-module-edit-field').val('').trigger('change');
  		});
  
  		dslc_module_output_altered(); // call module regeneration
  
  	});
  */
}); // Very Slow do not use for live editing
// Only use when you need to disable some of the CSS properties.

function disable_css_rule(selectorCSS, ruleCSS, moduleID) {
  var cssRules;
  var target_stylsheet_ID = 'css-for-' + moduleID;
  var stylesheet = document.getElementById('page-builder-frame').contentWindow.document.getElementById(target_stylsheet_ID);
  selectorCSS = selectorCSS.replace(/\s\s+/g, ' ');

  if (stylesheet) {
    stylesheet = stylesheet.sheet;

    if (stylesheet['rules']) {
      cssRules = 'rules';
    } else if (stylesheet['cssRules']) {
      cssRules = 'cssRules';
    } else {} //no rules found... browser unknown
    // Go through each CSS rule (ex.: .content h1 {...})


    for (var R = 0; R < stylesheet[cssRules].length; R++) {
      // Is current CSS rule equal to the selectorCSS we are looking for?
      // (ex.: '.content h1' == '.content h1' )
      if (stylesheet[cssRules][R].selectorText == selectorCSS) {
        // Get CSS property we are looking for... (ex.: font-size : ...; )
        if (stylesheet[cssRules][R].style[ruleCSS]) {
          stylesheet[cssRules][R].style[ruleCSS] = '';
          break;
        }
      }
    }
  }
}

function dslc_combine_value_and_extension(value, extension) {
  if ('' === value || null === value) {
    return value;
  } // Check if value do not already include extension


  if (value.indexOf(extension) == -1) {
    value = value + extension;
  }

  return value;
}

function dslc_get_control_value(control_id) {
  var control = jQuery('.dslca-module-edit-option-' + control_id);
  var control_type = 'text';
  var control_storage = control.find('.dslca-module-edit-field');
  var value;
  /*
  	if ( control.hasClass('dslca-module-edit-option-select') ) {
  
  	} else {
  		// text based controls
  		value = control_storage.val();
  	}
  */

  value = control_storage.val();
  return value;
}
/**
 * Bind keypress events with both parent and iframe pages.
 * Function called when content inside iframe is loaded.
 *
 * @return {void}
 */


var keypressEvents = function keypressEvents() {
  jQuery([document, LiveComposer.Builder.PreviewAreaWindow.document]).unbind('keydown').bind('keydown', function (keydown_event) {
    // Modal window [ESC]/[Enter]
    dslc_modal_keypress_events(keydown_event); // Prevent backspace from navigating back

    dslc_disable_backspace_navigation(keydown_event); // Prompt Modal on F5

    dslc_notice_on_refresh(keydown_event); // Save Page

    dslc_save_page(keydown_event);
  });
};
/**
 * Action - Prevent backspace from navigating back
 */

function dslc_disable_backspace_navigation(event) {
  var doPrevent = false;

  if (event.keyCode === 8) {
    var d = event.srcElement || event.target;

    if (d.tagName.toUpperCase() === 'INPUT' && (d.type.toUpperCase() === 'TEXT' || d.type.toUpperCase() === 'PASSWORD' || d.type.toUpperCase() === 'NUMBER' || d.type.toUpperCase() === 'FILE') || d.tagName.toUpperCase() === 'TEXTAREA' || jQuery(d).hasClass('dslca-editable-content') || jQuery(d).hasClass('dslc-tabs-nav-hook-title') || jQuery(d).hasClass('dslc-accordion-title')) {
      doPrevent = d.readOnly || d.disabled;
    } else {
      doPrevent = true;
    }
  }

  if (doPrevent) {
    event.preventDefault();
  }
}
/**
 * Actions - Prompt Modal on F5
 *
 * 116 – F5
 * 81 + event.metaKey = CMD + R
 */


function dslc_notice_on_refresh(e) {
  if (e.which == 116 || e.which === 82 && e.metaKey) {
    if (jQuery('.dslca-save-composer-hook').offsetParent !== null || jQuery('.dslca-module-edit-save').offsetParent !== null) {
      e.preventDefault();
      LiveComposer.Builder.UI.CModalWindow({
        title: DSLCString.str_refresh_title,
        content: DSLCString.str_refresh_descr,
        confirm: function confirm() {
          window.location.reload();
        }
      });
      /*dslc_js_confirm( 'disable_lc', '<span class="dslca-prompt-modal-title">' + DSLCString.str_refresh_title +
       '</span><span class="dslca-prompt-modal-descr">' + DSLCString.str_refresh_descr + '</span>', document.URL );*/
    }
  }
}
/**
 * If Control or Command key is pressed and the S key is pressed run dslc_save_composer.
 * 83 is the key code for S.
 */


function dslc_save_page(e) {
  if (e.which == 83 && (e.metaKey || e.ctrlKey)) {
    if (jQuery('.dslca-save-composer-hook').css('display') == 'block') {
      dslc_save_composer();
      e.preventDefault();
      return false;
    }
  }
}
/**
 * Generate report about JS error and save it in a local storage.
 * @param  String error Error text
 * @param  String file  File with error
 * @param  String line  Line with error
 * @param  String char  Column with error
 * @return void
 */


function dslca_generate_error_report(error, file, line, char) {
  var title = 'JavaScript error detected in a third-party plugin';

  if (file.match("wp-content\/plugins\/live-composer-page-builder\/js") != null) {
    title = 'Live Composer returned JS error';
  }

  var error_report = '';
  error_report += '<br /><strong style="color:#E55F5F;">' + title + '</strong><br />';
  error_report += error + '<br /> File "' + file + '", line ' + line + ', char ' + char + '<br />';

  if ('undefined' !== typeof Storage) {
    localStorage.setItem('js_errors_report', error_report);
  }
}
/**
 * Put in a hidden div#dslca-js-errors-report information from local storage
 * @return void
 */


function dslca_update_report_log() {
  var errors_container = document.getElementById('dslca-js-errors-report');
  var error_report = localStorage.getItem('js_errors_report');

  if (null !== error_report) {
    errors_container.value = error_report;
    localStorage.removeItem('js_errors_report');
    document.querySelector('.dslca-show-js-error-hook').setAttribute('style', 'visibility:visible');
  }
} // ============================================================


jQuery(document).on('editorFrameLoaded', function () {
  var $ = jQuery;
  var headerFooter = $('div[data-hf]', LiveComposer.Builder.PreviewAreaDocument);
  var overlay = '';
  headerFooter.each(function (index, el) {
    var linkToEdit = $(el).data('editing-link');
    var hfType = $(el).data('editing-type');
    var editingLabel = $(el).data('editing-label');
    var editingSubLabel = $(el).data('editing-sublabel');
    overlay += '<div class="dslc-hf-block-overlay"><a target="_blank" href="' + linkToEdit + '" class="dslc-hf-block-overlay-button dslca-link">' + editingLabel + '</a>';

    if (editingSubLabel !== undefined) {
      overlay += ' <span class="dslc-hf-block-overlay-text">' + editingSubLabel + '</span>';
    }

    overlay += '</div>';
    var htmlObject = document.createElement('div');
    htmlObject.innerHTML = overlay;
    el.append(htmlObject);
  });
});

/***/ }),

/***/ "./js/src/editor/backend/utils.class.js":
/*!**********************************************!*\
  !*** ./js/src/editor/backend/utils.class.js ***!
  \**********************************************/
/*! exports provided: untilsInitJs */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "untilsInitJs", function() { return untilsInitJs; });
/**
 * Custom utils
 */


function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

var Utils = {
  addslashes: function addslashes(str) {
    str = str.replace(/\\/g, '\\\\');
    str = str.replace(/\'/g, '\\\'');
    str = str.replace(/\"/g, '\\"');
    str = str.replace(/\0/g, '\\0');
    return str;
  },
  basename: function basename(path) {
    return path.split(/[\\/]/).pop();
  },

  /**
   * Check if browser is IE
   */
  msieversion: function msieversion() {
    var ua = window.navigator.userAgent;
    var msie = ua.indexOf("MSIE ");

    if (msie > 0 || !!navigator.userAgent.match(/Trident.*rv\:11\./)) // If Internet Explorer, return version number
      {
        return parseInt(ua.substring(msie + 5, ua.indexOf(".", msie)));
      } else // If another browser, return 0
      {
        return false;
      }
  },

  /**
   * Check if variables in array is desired types
   * @param  {array} array
   * @return {boolean}
   */
  checkParams: function checkParams(array) {
    if (!Array.isArray(array)) {
      throw 'Param is not array';
    } /// Instead of switch construction


    var types = {
      integer: function integer(param) {
        return isNaN(parseInt(param));
      },
      float: function float(param) {
        return isNaN(parseFloat(param));
      },
      string: function string(param) {
        return param != null && param != undefined && typeof param == 'string';
      },
      array: function array(param) {
        return Array.isArray(param);
      },
      object: function object(param) {
        return _typeof(param) == 'object';
      } /// Check it!

    };
    array.map(function (item) {
      if (!types[item[1]](item[0])) {
        throw 'Param ' + item[0] + ' is not ' + item[1];
      }
    });
  },

  /**
   * Converts UTF-8 to base64
   *
   * @param  {string} t utf-8
   * @return {string}   b64
   */
  utf8_to_b64: function utf8_to_b64(t) {
    return window.btoa(unescape(encodeURIComponent(t)));
  },

  /**
   * Converts base64 to UTF-8
   *
   * @param  {string} str in b64
   * @return {string}   in utf-8
   */
  b64_to_utf8: function b64_to_utf8(str) {
    return decodeURIComponent(escape(window.atob(str)));
  },

  /**
   * Get Page Params
   *
   * @return {array}
   */
  get_page_params: function get_page_params() {
    return decodeURIComponent(window.location.search.slice(1)).split('&').reduce(function _reduce(a, b) {
      b = b.split('=');
      a[b[0]] = b[1];
      return a;
    }, {});
  },
  get_unique_id: function get_unique_id() {
    return Math.random().toString(32).slice(2);
  },

  /**
   * Update module option in raw JSON code (dslc_code) of the module
   *
   * @param  {DOM element} module    Module Element
   * @param  {string} property_name  Name of the option we change
   * @param  {string} property_value Value of the option we change
   * @return {void}
   */
  update_module_property_raw: function update_module_property_raw(module, property_name, property_value) {
    // Hidden textarea element with raw base64 code of the module
    // <textarea class="dslca-module-code">YTo2On....iOjE7fQ==</textarea>
    var module_code_container = module.getElementsByClassName('dslca-module-code')[0]; // Hidden textarea element with value of this particular setting
    // <textarea data-id="property_name">property_value</textarea>

    var property_container = module.querySelector('.dslca-module-option-front[data-id="' + property_name + '"]'); // Get module raw code

    var module_code = module_code_container.value;
    module_code = JSON.parse(module_code);
    module_code[property_name] = property_value;
    module_code = JSON.stringify(module_code); // Update raw code

    module_code_container.value = module_code;
    module_code_container.innerHTML = module_code; // See comment block below
    // Change the property in hidden textarea as well

    property_container.value = property_value;
    property_container.innerHTML = property_value; // See comment block below

    /**
     * FireFox will not duplicate textarea value properly using .cloneNode(true)
     * if we don't use .innerHTML statement (Chrome works fine with .value only).
     *
     * See bug report: https://bugzilla.mozilla.org/show_bug.cgi?id=237783
     */
  },

  /**
   * Update section option in raw JSON code (dslc_code) of the section
   *
   * @param  {DOM element} section    `section Element
   * @param  {string} property_name  Name of the option we change
   * @param  {string} property_value Value of the option we change
   * @return {void}
   */
  update_section_property_raw: function update_section_property_raw(section, property_name, property_value) {
    // Hidden textarea element with raw base64 code of the roq
    // <textarea class="dslca-section-code"></textarea>
    var section_code_container = section.getElementsByClassName('dslca-section-code')[0]; // Hidden input element with value of this particular setting
    // <input data-id="property_name">property_value</textarea>

    var property_container = section.querySelector('.dslca-modules-section-settings input[data-id="' + property_name + '"]'); // Get module raw code

    var section_code = section_code_container.value;
    section_code = JSON.parse(section_code);
    section_code[property_name] = property_value;
    section_code = JSON.stringify(section_code); // Update raw code

    section_code_container.value = section_code;
    section_code_container.innerHTML = section_code; // See comment block below
    // Change the property in hidden textarea as well

    property_container.setAttribute('value', property_value);
    property_container.setAttribute('data-def', property_value);
  },

  /**
   * Provide custom events publish.
   * Also echoes all the custom events in the preview iframe as well.
   *
   * @param  {string} eventName
   * @param  {object||string||null||numeric} eventData [description]
   */
  publish: function publish(eventName, eventData) {
    eventData = eventData ? eventData : {};
    this.checkParams([[eventName, 'string'], [eventData, 'object']]);
    jQuery(document).trigger({
      type: eventName,
      message: {
        details: eventData
      }
    });
    LiveComposer.Builder.PreviewAreaWindow.dslca_publish_event(eventName, eventData);
  }
};
var untilsInitJs = function untilsInitJs() {
  window.LiveComposer.Utils = Utils;
};

/***/ }),

/***/ "./node_modules/sortablejs/modular/sortable.esm.js":
/*!*********************************************************!*\
  !*** ./node_modules/sortablejs/modular/sortable.esm.js ***!
  \*********************************************************/
/*! exports provided: default, MultiDrag, Sortable, Swap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MultiDrag", function() { return MultiDragPlugin; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Sortable", function() { return Sortable; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Swap", function() { return SwapPlugin; });
/**!
 * Sortable 1.10.0-rc2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function _typeof(obj) {
  if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
    _typeof = function (obj) {
      return typeof obj;
    };
  } else {
    _typeof = function (obj) {
      return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
    };
  }

  return _typeof(obj);
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? arguments[i] : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

function _objectWithoutProperties(source, excluded) {
  if (source == null) return {};

  var target = _objectWithoutPropertiesLoose(source, excluded);

  var key, i;

  if (Object.getOwnPropertySymbols) {
    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);

    for (i = 0; i < sourceSymbolKeys.length; i++) {
      key = sourceSymbolKeys[i];
      if (excluded.indexOf(key) >= 0) continue;
      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
      target[key] = source[key];
    }
  }

  return target;
}

function _toConsumableArray(arr) {
  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();
}

function _arrayWithoutHoles(arr) {
  if (Array.isArray(arr)) {
    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];

    return arr2;
  }
}

function _iterableToArray(iter) {
  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter);
}

function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance");
}

var version = "1.10.0-rc2";

function userAgent(pattern) {
  return !!navigator.userAgent.match(pattern);
}

var IE11OrLess =
/*@__PURE__*/
userAgent(/(?:Trident.*rv[ :]?11\.|msie|iemobile)/i);
var Edge =
/*@__PURE__*/
userAgent(/Edge/i);
var FireFox =
/*@__PURE__*/
userAgent(/firefox/i);
var Safari =
/*@__PURE__*/
userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);
var IOS =
/*@__PURE__*/
userAgent(/iP(ad|od|hone)/i);

var captureMode = {
  capture: false,
  passive: false
};

function on(el, event, fn) {
  el.addEventListener(event, fn, !IE11OrLess && captureMode);
}

function off(el, event, fn) {
  el.removeEventListener(event, fn, !IE11OrLess && captureMode);
}

function matches(
/**HTMLElement*/
el,
/**String*/
selector) {
  if (!selector) return;
  selector[0] === '>' && (selector = selector.substring(1));

  if (el) {
    try {
      if (el.matches) {
        return el.matches(selector);
      } else if (el.msMatchesSelector) {
        return el.msMatchesSelector(selector);
      } else if (el.webkitMatchesSelector) {
        return el.webkitMatchesSelector(selector);
      }
    } catch (_) {
      return false;
    }
  }

  return false;
}

function getParentOrHost(el) {
  return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;
}

function closest(
/**HTMLElement*/
el,
/**String*/
selector,
/**HTMLElement*/
ctx, includeCTX) {
  if (el) {
    ctx = ctx || document;

    do {
      if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {
        return el;
      }

      if (el === ctx) break;
      /* jshint boss:true */
    } while (el = getParentOrHost(el));
  }

  return null;
}

var R_SPACE = /\s+/g;

function toggleClass(el, name, state) {
  if (el && name) {
    if (el.classList) {
      el.classList[state ? 'add' : 'remove'](name);
    } else {
      var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');
      el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');
    }
  }
}

function css(el, prop, val) {
  var style = el && el.style;

  if (style) {
    if (val === void 0) {
      if (document.defaultView && document.defaultView.getComputedStyle) {
        val = document.defaultView.getComputedStyle(el, '');
      } else if (el.currentStyle) {
        val = el.currentStyle;
      }

      return prop === void 0 ? val : val[prop];
    } else {
      if (!(prop in style) && prop.indexOf('webkit') === -1) {
        prop = '-webkit-' + prop;
      }

      style[prop] = val + (typeof val === 'string' ? '' : 'px');
    }
  }
}

function matrix(el, selfOnly) {
  var appliedTransforms = '';

  do {
    var transform = css(el, 'transform');

    if (transform && transform !== 'none') {
      appliedTransforms = transform + ' ' + appliedTransforms;
    }
    /* jshint boss:true */

  } while (!selfOnly && (el = el.parentNode));

  var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix;
  /*jshint -W056 */

  return matrixFn && new matrixFn(appliedTransforms);
}

function find(ctx, tagName, iterator) {
  if (ctx) {
    var list = ctx.getElementsByTagName(tagName),
        i = 0,
        n = list.length;

    if (iterator) {
      for (; i < n; i++) {
        iterator(list[i], i);
      }
    }

    return list;
  }

  return [];
}

function getWindowScrollingElement() {
  if (IE11OrLess) {
    return document.documentElement;
  } else {
    return document.scrollingElement;
  }
}
/**
 * Returns the "bounding client rect" of given element
 * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted
 * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container
 * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr
 * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone
 * @param  {[HTMLElement]} container              The parent the element will be placed in
 * @return {Object}                               The boundingClientRect of el, with specified adjustments
 */


function getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {
  if (!el.getBoundingClientRect && el !== window) return;
  var elRect, top, left, bottom, right, height, width;

  if (el !== window && el !== getWindowScrollingElement()) {
    elRect = el.getBoundingClientRect();
    top = elRect.top;
    left = elRect.left;
    bottom = elRect.bottom;
    right = elRect.right;
    height = elRect.height;
    width = elRect.width;
  } else {
    top = 0;
    left = 0;
    bottom = window.innerHeight;
    right = window.innerWidth;
    height = window.innerHeight;
    width = window.innerWidth;
  }

  if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {
    // Adjust for translate()
    container = container || el.parentNode; // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)
    // Not needed on <= IE11

    if (!IE11OrLess) {
      do {
        if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {
          var containerRect = container.getBoundingClientRect(); // Set relative to edges of padding box of container

          top -= containerRect.top + parseInt(css(container, 'border-top-width'));
          left -= containerRect.left + parseInt(css(container, 'border-left-width'));
          bottom = top + elRect.height;
          right = left + elRect.width;
          break;
        }
        /* jshint boss:true */

      } while (container = container.parentNode);
    }
  }

  if (undoScale && el !== window) {
    // Adjust for scale()
    var elMatrix = matrix(container || el),
        scaleX = elMatrix && elMatrix.a,
        scaleY = elMatrix && elMatrix.d;

    if (elMatrix) {
      top /= scaleY;
      left /= scaleX;
      width /= scaleX;
      height /= scaleY;
      bottom = top + height;
      right = left + width;
    }
  }

  return {
    top: top,
    left: left,
    bottom: bottom,
    right: right,
    width: width,
    height: height
  };
}
/**
 * Checks if a side of an element is scrolled past a side of its parents
 * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question
 * @param  {[DOMRect]}    rect         Optional rect of `el` to use
 * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')
 * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')
 * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element
 */


function isScrolledPast(el, rect, elSide, parentSide) {
  var parent = getParentAutoScrollElement(el, true),
      elSideVal = (rect ? rect : getRect(el))[elSide];
  /* jshint boss:true */

  while (parent) {
    var parentSideVal = getRect(parent)[parentSide],
        visible = void 0;

    if (parentSide === 'top' || parentSide === 'left') {
      visible = elSideVal >= parentSideVal;
    } else {
      visible = elSideVal <= parentSideVal;
    }

    if (!visible) return parent;
    if (parent === getWindowScrollingElement()) break;
    parent = getParentAutoScrollElement(parent, false);
  }

  return false;
}
/**
 * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)
 * and non-draggable elements
 * @param  {HTMLElement} el       The parent element
 * @param  {Number} childNum      The index of the child
 * @param  {Object} options       Parent Sortable's options
 * @return {HTMLElement}          The child at index childNum, or null if not found
 */


function getChild(el, childNum, options) {
  var currentChild = 0,
      i = 0,
      children = el.children;

  while (i < children.length) {
    if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && children[i] !== Sortable.dragged && closest(children[i], options.draggable, el, false)) {
      if (currentChild === childNum) {
        return children[i];
      }

      currentChild++;
    }

    i++;
  }

  return null;
}
/**
 * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)
 * @param  {HTMLElement} el       Parent element
 * @param  {selector} selector    Any other elements that should be ignored
 * @return {HTMLElement}          The last child, ignoring ghostEl
 */


function lastChild(el, selector) {
  var last = el.lastElementChild;

  while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {
    last = last.previousElementSibling;
  }

  return last || null;
}
/**
 * Returns the index of an element within its parent for a selected set of
 * elements
 * @param  {HTMLElement} el
 * @param  {selector} selector
 * @return {number}
 */


function index(el, selector) {
  var index = 0;

  if (!el || !el.parentNode) {
    return -1;
  }
  /* jshint boss:true */


  while (el = el.previousElementSibling) {
    if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {
      index++;
    }
  }

  return index;
}
/**
 * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.
 * The value is returned in real pixels.
 * @param  {HTMLElement} el
 * @return {Array}             Offsets in the format of [left, top]
 */


function getRelativeScrollOffset(el) {
  var offsetLeft = 0,
      offsetTop = 0,
      winScroller = getWindowScrollingElement();

  if (el) {
    do {
      var elMatrix = matrix(el),
          scaleX = elMatrix.a,
          scaleY = elMatrix.d;
      offsetLeft += el.scrollLeft * scaleX;
      offsetTop += el.scrollTop * scaleY;
    } while (el !== winScroller && (el = el.parentNode));
  }

  return [offsetLeft, offsetTop];
}
/**
 * Returns the index of the object within the given array
 * @param  {Array} arr   Array that may or may not hold the object
 * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find
 * @return {Number}      The index of the object in the array, or -1
 */


function indexOfObject(arr, obj) {
  for (var i in arr) {
    for (var key in obj) {
      if (obj[key] === arr[i][key]) return Number(i);
    }
  }

  return -1;
}

function getParentAutoScrollElement(el, includeSelf) {
  // skip to window
  if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();
  var elem = el;
  var gotSelf = false;

  do {
    // we don't need to get elem css if it isn't even overflowing in the first place (performance)
    if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {
      var elemCSS = css(elem);

      if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {
        if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();
        if (gotSelf || includeSelf) return elem;
        gotSelf = true;
      }
    }
    /* jshint boss:true */

  } while (elem = elem.parentNode);

  return getWindowScrollingElement();
}

function extend(dst, src) {
  if (dst && src) {
    for (var key in src) {
      if (src.hasOwnProperty(key)) {
        dst[key] = src[key];
      }
    }
  }

  return dst;
}

function isRectEqual(rect1, rect2) {
  return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);
}

var _throttleTimeout;

function throttle(callback, ms) {
  return function () {
    if (!_throttleTimeout) {
      var args = arguments,
          _this = this;

      if (args.length === 1) {
        callback.call(_this, args[0]);
      } else {
        callback.apply(_this, args);
      }

      _throttleTimeout = setTimeout(function () {
        _throttleTimeout = void 0;
      }, ms);
    }
  };
}

function cancelThrottle() {
  clearTimeout(_throttleTimeout);
  _throttleTimeout = void 0;
}

function scrollBy(el, x, y) {
  el.scrollLeft += x;
  el.scrollTop += y;
}

function clone(el) {
  var Polymer = window.Polymer;
  var $ = window.jQuery || window.Zepto;

  if (Polymer && Polymer.dom) {
    return Polymer.dom(el).cloneNode(true);
  } else if ($) {
    return $(el).clone(true)[0];
  } else {
    return el.cloneNode(true);
  }
}

function setRect(el, rect) {
  css(el, 'position', 'absolute');
  css(el, 'top', rect.top);
  css(el, 'left', rect.left);
  css(el, 'width', rect.width);
  css(el, 'height', rect.height);
}

function unsetRect(el) {
  css(el, 'position', '');
  css(el, 'top', '');
  css(el, 'left', '');
  css(el, 'width', '');
  css(el, 'height', '');
}

var expando = 'Sortable' + new Date().getTime();

function AnimationStateManager() {
  var animationStates = [],
      animationCallbackId;
  return {
    captureAnimationState: function captureAnimationState() {
      animationStates = [];
      if (!this.options.animation) return;
      var children = [].slice.call(this.el.children);

      for (var i in children) {
        if (css(children[i], 'display') === 'none' || children[i] === Sortable.ghost) continue;
        animationStates.push({
          target: children[i],
          rect: getRect(children[i])
        });
        var fromRect = getRect(children[i]); // If animating: compensate for current animation

        if (children[i].thisAnimationDuration) {
          var childMatrix = matrix(children[i], true);

          if (childMatrix) {
            fromRect.top -= childMatrix.f;
            fromRect.left -= childMatrix.e;
          }
        }

        children[i].fromRect = fromRect;
      }
    },
    addAnimationState: function addAnimationState(state) {
      animationStates.push(state);
    },
    removeAnimationState: function removeAnimationState(target) {
      animationStates.splice(indexOfObject(animationStates, {
        target: target
      }), 1);
    },
    animateAll: function animateAll(callback) {
      if (!this.options.animation) {
        clearTimeout(animationCallbackId);
        if (typeof callback === 'function') callback();
        return;
      }

      var animating = false,
          animationTime = 0;

      for (var i in animationStates) {
        var time = 0,
            target = animationStates[i].target,
            fromRect = target.fromRect,
            toRect = getRect(target),
            prevFromRect = target.prevFromRect,
            prevToRect = target.prevToRect,
            animatingRect = animationStates[i].rect,
            targetMatrix = matrix(target, true);

        if (targetMatrix) {
          // Compensate for current animation
          toRect.top -= targetMatrix.f;
          toRect.left -= targetMatrix.e;
        }

        target.toRect = toRect; // If element is scrolled out of view: Do not animate

        if ((isScrolledPast(target, toRect, 'bottom', 'top') || isScrolledPast(target, toRect, 'top', 'bottom') || isScrolledPast(target, toRect, 'right', 'left') || isScrolledPast(target, toRect, 'left', 'right')) && (isScrolledPast(target, animatingRect, 'bottom', 'top') || isScrolledPast(target, animatingRect, 'top', 'bottom') || isScrolledPast(target, animatingRect, 'right', 'left') || isScrolledPast(target, animatingRect, 'left', 'right')) && (isScrolledPast(target, fromRect, 'bottom', 'top') || isScrolledPast(target, fromRect, 'top', 'bottom') || isScrolledPast(target, fromRect, 'right', 'left') || isScrolledPast(target, fromRect, 'left', 'right'))) continue;

        if (target.thisAnimationDuration) {
          // Could also check if animatingRect is between fromRect and toRect
          if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) && // Make sure animatingRect is on line between toRect & fromRect
          (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {
            // If returning to same place as started from animation and on same axis
            time = calculateRealTime(animatingRect, prevFromRect, prevToRect, this.options);
          }
        } // if fromRect != toRect: animate


        if (!isRectEqual(toRect, fromRect)) {
          target.prevFromRect = fromRect;
          target.prevToRect = toRect;

          if (!time) {
            time = this.options.animation;
          }

          this.animate(target, animatingRect, time);
        }

        if (time) {
          animating = true;
          animationTime = Math.max(animationTime, time);
          clearTimeout(target.animationResetTimer);
          target.animationResetTimer = setTimeout(function () {
            this.animationStates[this.i].target.animationTime = 0;
            this.animationStates[this.i].target.prevFromRect = null;
            this.animationStates[this.i].target.fromRect = null;
            this.animationStates[this.i].target.prevToRect = null;
            this.animationStates[this.i].target.thisAnimationDuration = null;
          }.bind({
            animationStates: animationStates,
            i: Number(i)
          }), time);
          target.thisAnimationDuration = time;
        }
      }

      clearTimeout(animationCallbackId);

      if (!animating) {
        if (typeof callback === 'function') callback();
      } else {
        animationCallbackId = setTimeout(function () {
          if (typeof callback === 'function') callback();
        }, animationTime);
      }

      animationStates = [];
    },
    animate: function animate(target, prev, duration) {
      if (duration) {
        css(target, 'transition', '');
        css(target, 'transform', '');
        var currentRect = getRect(target),
            elMatrix = matrix(this.el),
            scaleX = elMatrix && elMatrix.a,
            scaleY = elMatrix && elMatrix.d,
            translateX = (prev.left - currentRect.left) / (scaleX || 1),
            translateY = (prev.top - currentRect.top) / (scaleY || 1);
        target.animatingX = !!translateX;
        target.animatingY = !!translateY;
        css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');
        repaint(target); // repaint

        css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));
        css(target, 'transform', 'translate3d(0,0,0)');
        typeof target.animated === 'number' && clearTimeout(target.animated);
        target.animated = setTimeout(function () {
          css(target, 'transition', '');
          css(target, 'transform', '');
          target.animated = false;
          target.animatingX = false;
          target.animatingY = false;
        }, duration);
      }
    }
  };
}

function repaint(target) {
  return target.offsetWidth;
}

function calculateRealTime(animatingRect, fromRect, toRect, options) {
  return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;
}

var plugins = [];
var defaults = {
  initializeByDefault: true
};
var PluginManager = {
  mount: function mount(plugin) {
    // Set default static properties
    for (var option in defaults) {
      !(option in plugin) && (plugin[option] = defaults[option]);
    }

    plugins.push(plugin);
  },
  pluginEvent: function pluginEvent(eventName, sortable, evt) {
    this.eventCanceled = false;
    var eventNameGlobal = eventName + 'Global';

    for (var i in plugins) {
      if (!sortable[plugins[i].pluginName]) continue; // Fire global events if it exists in this sortable

      if (sortable[plugins[i].pluginName][eventNameGlobal]) {
        this.eventCanceled = !!sortable[plugins[i].pluginName][eventNameGlobal](_objectSpread({
          sortable: sortable
        }, evt));
      } // Only fire plugin event if plugin is enabled in this sortable,
      // and plugin has event defined


      if (sortable.options[plugins[i].pluginName] && sortable[plugins[i].pluginName][eventName]) {
        this.eventCanceled = this.eventCanceled || !!sortable[plugins[i].pluginName][eventName](_objectSpread({
          sortable: sortable
        }, evt));
      }
    }
  },
  initializePlugins: function initializePlugins(sortable, el, defaults) {
    for (var i in plugins) {
      var pluginName = plugins[i].pluginName;
      if (!sortable.options[pluginName] && !plugins[i].initializeByDefault) continue;
      var initialized = new plugins[i](sortable, el);
      initialized.sortable = sortable;
      sortable[pluginName] = initialized; // Add default options from plugin

      _extends(defaults, initialized.options);
    }

    for (var option in sortable.options) {
      var modified = this.modifyOption(sortable, option, sortable.options[option]);

      if (typeof modified !== 'undefined') {
        sortable.options[option] = modified;
      }
    }
  },
  getEventOptions: function getEventOptions(name, sortable) {
    var eventOptions = {};

    for (var i in plugins) {
      if (typeof plugins[i].eventOptions !== 'function') continue;

      _extends(eventOptions, plugins[i].eventOptions.call(sortable, name));
    }

    return eventOptions;
  },
  modifyOption: function modifyOption(sortable, name, value) {
    var modifiedValue;

    for (var i in plugins) {
      // Plugin must exist on the Sortable
      if (!sortable[plugins[i].pluginName]) continue; // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin

      if (plugins[i].optionListeners && typeof plugins[i].optionListeners[name] === 'function') {
        modifiedValue = plugins[i].optionListeners[name].call(sortable[plugins[i].pluginName], value);
      }
    }

    return modifiedValue;
  }
};

function dispatchEvent(_ref) {
  var sortable = _ref.sortable,
      rootEl = _ref.rootEl,
      name = _ref.name,
      targetEl = _ref.targetEl,
      cloneEl = _ref.cloneEl,
      toEl = _ref.toEl,
      fromEl = _ref.fromEl,
      oldIndex = _ref.oldIndex,
      newIndex = _ref.newIndex,
      oldDraggableIndex = _ref.oldDraggableIndex,
      newDraggableIndex = _ref.newDraggableIndex,
      originalEvent = _ref.originalEvent,
      putSortable = _ref.putSortable,
      eventOptions = _ref.eventOptions;
  sortable = sortable || rootEl[expando];
  var evt,
      options = sortable.options,
      onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1); // Support for new CustomEvent feature

  if (window.CustomEvent && !IE11OrLess && !Edge) {
    evt = new CustomEvent(name, {
      bubbles: true,
      cancelable: true
    });
  } else {
    evt = document.createEvent('Event');
    evt.initEvent(name, true, true);
  }

  evt.to = toEl || rootEl;
  evt.from = fromEl || rootEl;
  evt.item = targetEl || rootEl;
  evt.clone = cloneEl;
  evt.oldIndex = oldIndex;
  evt.newIndex = newIndex;
  evt.oldDraggableIndex = oldDraggableIndex;
  evt.newDraggableIndex = newDraggableIndex;
  evt.originalEvent = originalEvent;
  evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;

  var allEventOptions = _objectSpread({}, eventOptions, PluginManager.getEventOptions(name, sortable));

  for (var option in allEventOptions) {
    evt[option] = allEventOptions[option];
  }

  if (rootEl) {
    rootEl.dispatchEvent(evt);
  }

  if (options[onName]) {
    options[onName].call(sortable, evt);
  }
}

var pluginEvent = function pluginEvent(eventName, sortable) {
  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},
      originalEvent = _ref.evt,
      data = _objectWithoutProperties(_ref, ["evt"]);

  PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread({
    dragEl: dragEl,
    parentEl: parentEl,
    ghostEl: ghostEl,
    rootEl: rootEl,
    nextEl: nextEl,
    lastDownEl: lastDownEl,
    cloneEl: cloneEl,
    cloneHidden: cloneHidden,
    dragStarted: moved,
    putSortable: putSortable,
    activeSortable: Sortable.active,
    originalEvent: originalEvent,
    oldIndex: oldIndex,
    oldDraggableIndex: oldDraggableIndex,
    newIndex: newIndex,
    newDraggableIndex: newDraggableIndex,
    hideGhostForTarget: _hideGhostForTarget,
    unhideGhostForTarget: _unhideGhostForTarget,
    cloneNowHidden: function cloneNowHidden() {
      cloneHidden = true;
    },
    cloneNowShown: function cloneNowShown() {
      cloneHidden = false;
    },
    dispatchSortableEvent: function dispatchSortableEvent(name) {
      _dispatchEvent({
        sortable: sortable,
        name: name,
        originalEvent: originalEvent
      });
    }
  }, data));
};

function _dispatchEvent(info) {
  dispatchEvent(_objectSpread({
    putSortable: putSortable,
    cloneEl: cloneEl,
    targetEl: dragEl,
    rootEl: rootEl,
    oldIndex: oldIndex,
    oldDraggableIndex: oldDraggableIndex,
    newIndex: newIndex,
    newDraggableIndex: newDraggableIndex
  }, info));
}

if (typeof window === "undefined" || !window.document) {
  throw new Error("Sortable.js requires a window with a document");
}

var dragEl,
    parentEl,
    ghostEl,
    rootEl,
    nextEl,
    lastDownEl,
    cloneEl,
    cloneHidden,
    oldIndex,
    newIndex,
    oldDraggableIndex,
    newDraggableIndex,
    activeGroup,
    putSortable,
    awaitingDragStarted = false,
    ignoreNextClick = false,
    sortables = [],
    tapEvt,
    touchEvt,
    moved,
    lastTarget,
    lastDirection,
    pastFirstInvertThresh = false,
    isCircumstantialInvert = false,
    targetMoveDistance,
    // For positioning ghost absolutely
ghostRelativeParent,
    ghostRelativeParentInitialScroll = [],
    // (left, top)
_silent = false,
    savedInputChecked = [];
/** @const */

var PositionGhostAbsolutely = IOS,
    CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',
    // This will not pass for IE9, because IE9 DnD only works on anchors
supportDraggable = 'draggable' in document.createElement('div'),
    supportCssPointerEvents = function () {
  // false when <= IE11
  if (IE11OrLess) {
    return false;
  }

  var el = document.createElement('x');
  el.style.cssText = 'pointer-events:auto';
  return el.style.pointerEvents === 'auto';
}(),
    _detectDirection = function _detectDirection(el, options) {
  var elCSS = css(el),
      elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),
      child1 = getChild(el, 0, options),
      child2 = getChild(el, 1, options),
      firstChildCSS = child1 && css(child1),
      secondChildCSS = child2 && css(child2),
      firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,
      secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;

  if (elCSS.display === 'flex') {
    return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';
  }

  if (elCSS.display === 'grid') {
    return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';
  }

  if (child1 && firstChildCSS["float"] !== 'none') {
    var touchingSideChild2 = firstChildCSS["float"] === 'left' ? 'left' : 'right';
    return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';
  }

  return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';
},
    _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {
  var dragElS1Opp = vertical ? dragRect.left : dragRect.top,
      dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,
      dragElOppLength = vertical ? dragRect.width : dragRect.height,
      targetS1Opp = vertical ? targetRect.left : targetRect.top,
      targetS2Opp = vertical ? targetRect.right : targetRect.bottom,
      targetOppLength = vertical ? targetRect.width : targetRect.height;
  return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;
},

/**
 * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.
 * @param  {Number} x      X position
 * @param  {Number} y      Y position
 * @return {HTMLElement}   Element of the first found nearest Sortable
 */
_detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {
  for (var i in sortables) {
    if (lastChild(sortables[i])) continue;
    var rect = getRect(sortables[i]),
        threshold = sortables[i][expando].options.emptyInsertThreshold,
        insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,
        insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;

    if (threshold && insideHorizontally && insideVertically) {
      return sortables[i];
    }
  }
},
    _prepareGroup = function _prepareGroup(options) {
  function toFn(value, pull) {
    return function (to, from, dragEl, evt) {
      var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;

      if (value == null && (pull || sameGroup)) {
        // Default pull value
        // Default pull and put value if same group
        return true;
      } else if (value == null || value === false) {
        return false;
      } else if (pull && value === 'clone') {
        return value;
      } else if (typeof value === 'function') {
        return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);
      } else {
        var otherGroup = (pull ? to : from).options.group.name;
        return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;
      }
    };
  }

  var group = {};
  var originalGroup = options.group;

  if (!originalGroup || _typeof(originalGroup) != 'object') {
    originalGroup = {
      name: originalGroup
    };
  }

  group.name = originalGroup.name;
  group.checkPull = toFn(originalGroup.pull, true);
  group.checkPut = toFn(originalGroup.put);
  group.revertClone = originalGroup.revertClone;
  options.group = group;
},
    _hideGhostForTarget = function _hideGhostForTarget() {
  if (!supportCssPointerEvents && ghostEl) {
    css(ghostEl, 'display', 'none');
  }
},
    _unhideGhostForTarget = function _unhideGhostForTarget() {
  if (!supportCssPointerEvents && ghostEl) {
    css(ghostEl, 'display', '');
  }
}; // #1184 fix - Prevent click event on fallback if dragged but item not changed position


document.addEventListener('click', function (evt) {
  if (ignoreNextClick) {
    evt.preventDefault();
    evt.stopPropagation && evt.stopPropagation();
    evt.stopImmediatePropagation && evt.stopImmediatePropagation();
    ignoreNextClick = false;
    return false;
  }
}, true);

var nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {
  if (dragEl) {
    evt = evt.touches ? evt.touches[0] : evt;

    var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);

    if (nearest) {
      // Create imitation event
      var event = {};

      for (var i in evt) {
        event[i] = evt[i];
      }

      event.target = event.rootEl = nearest;
      event.preventDefault = void 0;
      event.stopPropagation = void 0;

      nearest[expando]._onDragOver(event);
    }
  }
};

var _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {
  if (dragEl) {
    dragEl.parentNode[expando]._isOutsideThisEl(evt.target);
  }
};
/**
 * @class  Sortable
 * @param  {HTMLElement}  el
 * @param  {Object}       [options]
 */


function Sortable(el, options) {
  if (!(el && el.nodeType && el.nodeType === 1)) {
    throw "Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(el));
  }

  this.el = el; // root element

  this.options = options = _extends({}, options); // Export instance

  el[expando] = this;
  var defaults = {
    group: null,
    sort: true,
    disabled: false,
    store: null,
    handle: null,
    draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',
    swapThreshold: 1,
    // percentage; 0 <= x <= 1
    invertSwap: false,
    // invert always
    invertedSwapThreshold: null,
    // will be set to same as swapThreshold if default
    removeCloneOnHide: true,
    direction: function direction() {
      return _detectDirection(el, this.options);
    },
    ghostClass: 'sortable-ghost',
    chosenClass: 'sortable-chosen',
    dragClass: 'sortable-drag',
    ignore: 'a, img',
    filter: null,
    preventOnFilter: true,
    animation: 0,
    easing: null,
    setData: function setData(dataTransfer, dragEl) {
      dataTransfer.setData('Text', dragEl.textContent);
    },
    dropBubble: false,
    dragoverBubble: false,
    dataIdAttr: 'data-id',
    delay: 0,
    delayOnTouchOnly: false,
    touchStartThreshold: Number.parseInt(window.devicePixelRatio, 10) || 1,
    forceFallback: false,
    fallbackClass: 'sortable-fallback',
    fallbackOnBody: false,
    fallbackTolerance: 0,
    fallbackOffset: {
      x: 0,
      y: 0
    },
    supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window,
    emptyInsertThreshold: 5
  };
  PluginManager.initializePlugins(this, el, defaults); // Set default options

  for (var name in defaults) {
    !(name in options) && (options[name] = defaults[name]);
  }

  _prepareGroup(options); // Bind all private methods


  for (var fn in this) {
    if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {
      this[fn] = this[fn].bind(this);
    }
  } // Setup drag mode


  this.nativeDraggable = options.forceFallback ? false : supportDraggable;

  if (this.nativeDraggable) {
    // Touch start threshold cannot be greater than the native dragstart threshold
    this.options.touchStartThreshold = 1;
  } // Bind events


  if (options.supportPointer) {
    on(el, 'pointerdown', this._onTapStart);
  } else {
    on(el, 'mousedown', this._onTapStart);
    on(el, 'touchstart', this._onTapStart);
  }

  if (this.nativeDraggable) {
    on(el, 'dragover', this);
    on(el, 'dragenter', this);
  }

  sortables.push(this.el); // Restore sorting

  options.store && options.store.get && this.sort(options.store.get(this) || []); // Add animation state manager

  _extends(this, AnimationStateManager());
}

Sortable.prototype =
/** @lends Sortable.prototype */
{
  constructor: Sortable,
  _isOutsideThisEl: function _isOutsideThisEl(target) {
    if (!this.el.contains(target) && target !== this.el) {
      lastTarget = null;
    }
  },
  _getDirection: function _getDirection(evt, target) {
    return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;
  },
  _onTapStart: function _onTapStart(
  /** Event|TouchEvent */
  evt) {
    if (!evt.cancelable) return;

    var _this = this,
        el = this.el,
        options = this.options,
        preventOnFilter = options.preventOnFilter,
        type = evt.type,
        touch = evt.touches && evt.touches[0],
        target = (touch || evt).target,
        originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,
        filter = options.filter;

    _saveInputCheckedState(el); // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.


    if (dragEl) {
      return;
    }

    if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {
      return; // only left button and enabled
    } // cancel dnd if original target is content editable


    if (originalTarget.isContentEditable) {
      return;
    }

    target = closest(target, options.draggable, el, false);

    if (target && target.animated) {
      return;
    }

    if (lastDownEl === target) {
      // Ignoring duplicate `down`
      return;
    } // Get the index of the dragged element within its parent


    oldIndex = index(target);
    oldDraggableIndex = index(target, options.draggable); // Check filter

    if (typeof filter === 'function') {
      if (filter.call(this, evt, target, this)) {
        _dispatchEvent({
          sortable: _this,
          rootEl: originalTarget,
          name: 'filter',
          targetEl: target,
          toEl: el,
          fromEl: el
        });

        pluginEvent('filter', _this, {
          evt: evt
        });
        preventOnFilter && evt.cancelable && evt.preventDefault();
        return; // cancel dnd
      }
    } else if (filter) {
      filter = filter.split(',').some(function (criteria) {
        criteria = closest(originalTarget, criteria.trim(), el, false);

        if (criteria) {
          _dispatchEvent({
            sortable: _this,
            rootEl: criteria,
            name: 'filter',
            targetEl: target,
            fromEl: el,
            toEl: el
          });

          pluginEvent('filter', _this, {
            evt: evt
          });
          return true;
        }
      });

      if (filter) {
        preventOnFilter && evt.cancelable && evt.preventDefault();
        return; // cancel dnd
      }
    }

    if (options.handle && !closest(originalTarget, options.handle, el, false)) {
      return;
    } // Prepare `dragstart`


    this._prepareDragStart(evt, touch, target);
  },
  _prepareDragStart: function _prepareDragStart(
  /** Event */
  evt,
  /** Touch */
  touch,
  /** HTMLElement */
  target) {
    var _this = this,
        el = _this.el,
        options = _this.options,
        ownerDocument = el.ownerDocument,
        dragStartFn;

    if (target && !dragEl && target.parentNode === el) {
      rootEl = el;
      dragEl = target;
      parentEl = dragEl.parentNode;
      nextEl = dragEl.nextSibling;
      lastDownEl = target;
      activeGroup = options.group;
      Sortable.dragged = dragEl;
      tapEvt = {
        target: dragEl,
        clientX: (touch || evt).clientX,
        clientY: (touch || evt).clientY
      };
      this._lastX = (touch || evt).clientX;
      this._lastY = (touch || evt).clientY;
      dragEl.style['will-change'] = 'all';

      dragStartFn = function dragStartFn() {
        pluginEvent('delayEnded', _this, {
          evt: evt
        });

        if (Sortable.eventCanceled) {
          _this._onDrop();

          return;
        } // Delayed drag has been triggered
        // we can re-enable the events: touchmove/mousemove


        _this._disableDelayedDragEvents();

        if (!FireFox && _this.nativeDraggable) {
          dragEl.draggable = true;
        } // Bind the events: dragstart/dragend


        _this._triggerDragStart(evt, touch); // Drag start event


        _dispatchEvent({
          sortable: _this,
          name: 'choose',
          originalEvent: evt
        }); // Chosen item


        toggleClass(dragEl, options.chosenClass, true);
      }; // Disable "draggable"


      options.ignore.split(',').forEach(function (criteria) {
        find(dragEl, criteria.trim(), _disableDraggable);
      });
      on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);
      on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);
      on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);
      on(ownerDocument, 'mouseup', _this._onDrop);
      on(ownerDocument, 'touchend', _this._onDrop);
      on(ownerDocument, 'touchcancel', _this._onDrop); // Make dragEl draggable (must be before delay for FireFox)

      if (FireFox && this.nativeDraggable) {
        this.options.touchStartThreshold = 4;
        dragEl.draggable = true;
      }

      pluginEvent('delayStart', this, {
        evt: evt
      }); // Delay is impossible for native DnD in Edge or IE

      if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {
        if (Sortable.eventCanceled) {
          this._onDrop();

          return;
        } // If the user moves the pointer or let go the click or touch
        // before the delay has been reached:
        // disable the delayed drag


        on(ownerDocument, 'mouseup', _this._disableDelayedDrag);
        on(ownerDocument, 'touchend', _this._disableDelayedDrag);
        on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);
        on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);
        on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);
        options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);
        _this._dragStartTimer = setTimeout(dragStartFn, options.delay);
      } else {
        dragStartFn();
      }
    }
  },
  _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler(
  /** TouchEvent|PointerEvent **/
  e) {
    var touch = e.touches ? e.touches[0] : e;

    if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {
      this._disableDelayedDrag();
    }
  },
  _disableDelayedDrag: function _disableDelayedDrag() {
    dragEl && _disableDraggable(dragEl);
    clearTimeout(this._dragStartTimer);

    this._disableDelayedDragEvents();
  },
  _disableDelayedDragEvents: function _disableDelayedDragEvents() {
    var ownerDocument = this.el.ownerDocument;
    off(ownerDocument, 'mouseup', this._disableDelayedDrag);
    off(ownerDocument, 'touchend', this._disableDelayedDrag);
    off(ownerDocument, 'touchcancel', this._disableDelayedDrag);
    off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);
    off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);
    off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);
  },
  _triggerDragStart: function _triggerDragStart(
  /** Event */
  evt,
  /** Touch */
  touch) {
    touch = touch || (evt.pointerType == 'touch' ? evt : null);

    if (!this.nativeDraggable || touch) {
      if (this.options.supportPointer) {
        on(document, 'pointermove', this._onTouchMove);
      } else if (touch) {
        on(document, 'touchmove', this._onTouchMove);
      } else {
        on(document, 'mousemove', this._onTouchMove);
      }
    } else {
      on(dragEl, 'dragend', this);
      on(rootEl, 'dragstart', this._onDragStart);
    }

    try {
      if (document.selection) {
        // Timeout neccessary for IE9
        _nextTick(function () {
          document.selection.empty();
        });
      } else {
        window.getSelection().removeAllRanges();
      }
    } catch (err) {}
  },
  _dragStarted: function _dragStarted(fallback, evt) {

    awaitingDragStarted = false;

    if (rootEl && dragEl) {
      pluginEvent('dragStarted', this, {
        evt: evt
      });

      if (this.nativeDraggable) {
        on(document, 'dragover', _checkOutsideTargetEl);
      }

      var options = this.options; // Apply effect

      !fallback && toggleClass(dragEl, options.dragClass, false);
      toggleClass(dragEl, options.ghostClass, true);
      Sortable.active = this;
      fallback && this._appendGhost(); // Drag start event

      _dispatchEvent({
        sortable: this,
        name: 'start',
        originalEvent: evt
      });
    } else {
      this._nulling();
    }
  },
  _emulateDragOver: function _emulateDragOver() {
    if (touchEvt) {
      this._lastX = touchEvt.clientX;
      this._lastY = touchEvt.clientY;

      _hideGhostForTarget();

      var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);
      var parent = target;

      while (target && target.shadowRoot) {
        target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);
        if (target === parent) break;
        parent = target;
      }

      dragEl.parentNode[expando]._isOutsideThisEl(target);

      if (parent) {
        do {
          if (parent[expando]) {
            var inserted = void 0;
            inserted = parent[expando]._onDragOver({
              clientX: touchEvt.clientX,
              clientY: touchEvt.clientY,
              target: target,
              rootEl: parent
            });

            if (inserted && !this.options.dragoverBubble) {
              break;
            }
          }

          target = parent; // store last element
        }
        /* jshint boss:true */
        while (parent = parent.parentNode);
      }

      _unhideGhostForTarget();
    }
  },
  _onTouchMove: function _onTouchMove(
  /**TouchEvent*/
  evt) {
    if (tapEvt) {
      var options = this.options,
          fallbackTolerance = options.fallbackTolerance,
          fallbackOffset = options.fallbackOffset,
          touch = evt.touches ? evt.touches[0] : evt,
          ghostMatrix = ghostEl && matrix(ghostEl),
          scaleX = ghostEl && ghostMatrix && ghostMatrix.a,
          scaleY = ghostEl && ghostMatrix && ghostMatrix.d,
          relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),
          dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),
          dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1),
          translate3d = evt.touches ? 'translate3d(' + dx + 'px,' + dy + 'px,0)' : 'translate(' + dx + 'px,' + dy + 'px)'; // only set the status to dragging, when we are actually dragging

      if (!Sortable.active && !awaitingDragStarted) {
        if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {
          return;
        }

        this._onDragStart(evt, true);
      }

      touchEvt = touch;
      css(ghostEl, 'webkitTransform', translate3d);
      css(ghostEl, 'mozTransform', translate3d);
      css(ghostEl, 'msTransform', translate3d);
      css(ghostEl, 'transform', translate3d);
      evt.cancelable && evt.preventDefault();
    }
  },
  _appendGhost: function _appendGhost() {
    // Bug if using scale(): https://stackoverflow.com/questions/2637058
    // Not being adjusted for
    if (!ghostEl) {
      var container = this.options.fallbackOnBody ? document.body : rootEl,
          rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),
          options = this.options; // Position absolutely

      if (PositionGhostAbsolutely) {
        // Get relatively positioned parent
        ghostRelativeParent = container;

        while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {
          ghostRelativeParent = ghostRelativeParent.parentNode;
        }

        if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {
          if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();
          rect.top += ghostRelativeParent.scrollTop;
          rect.left += ghostRelativeParent.scrollLeft;
        } else {
          ghostRelativeParent = getWindowScrollingElement();
        }

        ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);
      }

      ghostEl = dragEl.cloneNode(true);
      toggleClass(ghostEl, options.ghostClass, false);
      toggleClass(ghostEl, options.fallbackClass, true);
      toggleClass(ghostEl, options.dragClass, true);
      css(ghostEl, 'transition', '');
      css(ghostEl, 'transform', '');
      css(ghostEl, 'box-sizing', 'border-box');
      css(ghostEl, 'margin', 0);
      css(ghostEl, 'top', rect.top);
      css(ghostEl, 'left', rect.left);
      css(ghostEl, 'width', rect.width);
      css(ghostEl, 'height', rect.height);
      css(ghostEl, 'opacity', '0.8');
      css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');
      css(ghostEl, 'zIndex', '100000');
      css(ghostEl, 'pointerEvents', 'none');
      Sortable.ghost = ghostEl;
      container.appendChild(ghostEl);
    }
  },
  _onDragStart: function _onDragStart(
  /**Event*/
  evt,
  /**boolean*/
  fallback) {
    var _this = this;

    var dataTransfer = evt.dataTransfer;
    var options = _this.options;
    pluginEvent('dragStart', this, {
      evt: evt
    });

    if (Sortable.eventCanceled) {
      this._onDrop();

      return;
    }

    pluginEvent('setupClone', this);

    if (!Sortable.eventCanceled) {
      cloneEl = clone(dragEl);
      cloneEl.draggable = false;
      cloneEl.style['will-change'] = '';

      this._hideClone();

      toggleClass(cloneEl, this.options.chosenClass, false);
      Sortable.clone = cloneEl;
    } // #1143: IFrame support workaround


    _this.cloneId = _nextTick(function () {
      pluginEvent('clone', _this);
      if (Sortable.eventCanceled) return;

      if (!_this.options.removeCloneOnHide) {
        rootEl.insertBefore(cloneEl, dragEl);
      }

      _this._hideClone();

      _dispatchEvent({
        sortable: _this,
        name: 'clone'
      });
    });
    !fallback && toggleClass(dragEl, options.dragClass, true); // Set proper drop events

    if (fallback) {
      ignoreNextClick = true;
      _this._loopId = setInterval(_this._emulateDragOver, 50);
    } else {
      // Undo what was set in _prepareDragStart before drag started
      off(document, 'mouseup', _this._onDrop);
      off(document, 'touchend', _this._onDrop);
      off(document, 'touchcancel', _this._onDrop);

      if (dataTransfer) {
        dataTransfer.effectAllowed = 'move';
        options.setData && options.setData.call(_this, dataTransfer, dragEl);
      }

      on(document, 'drop', _this); // #1276 fix:

      css(dragEl, 'transform', 'translateZ(0)');
    }

    awaitingDragStarted = true;
    _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));
    on(document, 'selectstart', _this);
    moved = true;

    if (Safari) {
      css(document.body, 'user-select', 'none');
    }
  },
  // Returns true - if no further action is needed (either inserted or another condition)
  _onDragOver: function _onDragOver(
  /**Event*/
  evt) {
    var el = this.el,
        target = evt.target,
        dragRect,
        targetRect,
        revert,
        options = this.options,
        group = options.group,
        activeSortable = Sortable.active,
        isOwner = activeGroup === group,
        canSort = options.sort,
        fromSortable = putSortable || activeSortable,
        vertical,
        _this = this,
        completedFired = false;

    if (_silent) return;

    function dragOverEvent(name, extra) {
      pluginEvent(name, _this, _objectSpread({
        evt: evt,
        isOwner: isOwner,
        axis: vertical ? 'vertical' : 'horizontal',
        revert: revert,
        dragRect: dragRect,
        targetRect: targetRect,
        canSort: canSort,
        fromSortable: fromSortable,
        target: target,
        completed: completed,
        onMove: function onMove(target, after) {
          return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);
        },
        changed: changed
      }, extra));
    } // Capture animation state


    function capture() {
      dragOverEvent('dragOverAnimationCapture');

      _this.captureAnimationState();

      if (_this !== fromSortable) {
        fromSortable.captureAnimationState();
      }
    } // Return invocation when dragEl is inserted (or completed)


    function completed(insertion) {
      dragOverEvent('dragOverCompleted', {
        insertion: insertion
      });

      if (insertion) {
        // Clones must be hidden before folding animation to capture dragRectAbsolute properly
        if (isOwner) {
          activeSortable._hideClone();
        } else {
          activeSortable._showClone(_this);
        }

        if (_this !== fromSortable) {
          // Set ghost class to new sortable's ghost class
          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);
          toggleClass(dragEl, options.ghostClass, true);
        }

        if (putSortable !== _this && _this !== Sortable.active) {
          putSortable = _this;
        } else if (_this === Sortable.active && putSortable) {
          putSortable = null;
        } // Animation


        if (fromSortable === _this) {
          _this._ignoreWhileAnimating = target;
        }

        _this.animateAll(function () {
          dragOverEvent('dragOverAnimationComplete');
          _this._ignoreWhileAnimating = null;
        });

        if (_this !== fromSortable) {
          fromSortable.animateAll();
          fromSortable._ignoreWhileAnimating = null;
        }
      } // Null lastTarget if it is not inside a previously swapped element


      if (target === dragEl && !dragEl.animated || target === el && !target.animated) {
        lastTarget = null;
      } // no bubbling and not fallback


      if (!options.dragoverBubble && !evt.rootEl && target !== document) {
        dragEl.parentNode[expando]._isOutsideThisEl(evt.target); // Do not detect for empty insert if already inserted


        !insertion && nearestEmptyInsertDetectEvent(evt);
      }

      !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();
      return completedFired = true;
    } // Call when dragEl has been inserted


    function changed() {
      newIndex = index(dragEl);
      newDraggableIndex = index(dragEl, options.draggable);

      _dispatchEvent({
        sortable: _this,
        name: 'change',
        toEl: el,
        newIndex: newIndex,
        newDraggableIndex: newDraggableIndex,
        originalEvent: evt
      });
    }

    if (evt.preventDefault !== void 0) {
      evt.cancelable && evt.preventDefault();
    }

    target = closest(target, options.draggable, el, true);
    dragOverEvent('dragOver');
    if (Sortable.eventCanceled) return completedFired;

    if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {
      return completed(false);
    }

    ignoreNextClick = false;

    if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list
    : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {
      vertical = this._getDirection(evt, target) === 'vertical';
      dragRect = getRect(dragEl);
      dragOverEvent('dragOverValid');
      if (Sortable.eventCanceled) return completedFired;

      if (revert) {
        parentEl = rootEl; // actualization

        capture();

        this._hideClone();

        dragOverEvent('revert');

        if (!Sortable.eventCanceled) {
          if (nextEl) {
            rootEl.insertBefore(dragEl, nextEl);
          } else {
            rootEl.appendChild(dragEl);
          }
        }

        return completed(true);
      }

      var elLastChild = lastChild(el, options.draggable);

      if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {
        // If already at end of list: Do not insert
        if (elLastChild === dragEl) {
          return completed(false);
        } // assign target only if condition is true


        if (elLastChild && el === evt.target) {
          target = elLastChild;
        }

        if (target) {
          targetRect = getRect(target);
        }

        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {
          capture();
          el.appendChild(dragEl);
          parentEl = el; // actualization

          changed();
          return completed(true);
        }
      } else if (target.parentNode === el) {
        targetRect = getRect(target);
        var direction = 0,
            targetBeforeFirstSwap,
            differentLevel = dragEl.parentNode !== el,
            differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),
            side1 = vertical ? 'top' : 'left',
            scrolledPastTop = isScrolledPast(target, null, 'top', 'top') || isScrolledPast(dragEl, null, 'top', 'top'),
            scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;

        if (lastTarget !== target) {
          targetBeforeFirstSwap = targetRect[side1];
          pastFirstInvertThresh = false;
          isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;
        }

        direction = _getSwapDirection(evt, target, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);
        var sibling;

        if (direction !== 0) {
          // Check if target is beside dragEl in respective direction (ignoring hidden elements)
          var dragIndex = index(dragEl);

          do {
            dragIndex -= direction;
            sibling = parentEl.children[dragIndex];
          } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));
        } // If dragEl is already beside target: Do not insert


        if (direction === 0 || sibling === target) {
          return completed(false);
        }

        lastTarget = target;
        lastDirection = direction;
        var nextSibling = target.nextElementSibling,
            after = false;
        after = direction === 1;

        var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);

        if (moveVector !== false) {
          if (moveVector === 1 || moveVector === -1) {
            after = moveVector === 1;
          }

          _silent = true;
          setTimeout(_unsilent, 30);
          capture();

          if (after && !nextSibling) {
            el.appendChild(dragEl);
          } else {
            target.parentNode.insertBefore(dragEl, after ? nextSibling : target);
          } // Undo chrome's scroll adjustment (has no effect on other browsers)


          if (scrolledPastTop) {
            scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);
          }

          parentEl = dragEl.parentNode; // actualization
          // must be done before animation

          if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {
            targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);
          }

          changed();
          return completed(true);
        }
      }

      if (el.contains(dragEl)) {
        return completed(false);
      }
    }

    return false;
  },
  _ignoreWhileAnimating: null,
  _offMoveEvents: function _offMoveEvents() {
    off(document, 'mousemove', this._onTouchMove);
    off(document, 'touchmove', this._onTouchMove);
    off(document, 'pointermove', this._onTouchMove);
    off(document, 'dragover', nearestEmptyInsertDetectEvent);
    off(document, 'mousemove', nearestEmptyInsertDetectEvent);
    off(document, 'touchmove', nearestEmptyInsertDetectEvent);
  },
  _offUpEvents: function _offUpEvents() {
    var ownerDocument = this.el.ownerDocument;
    off(ownerDocument, 'mouseup', this._onDrop);
    off(ownerDocument, 'touchend', this._onDrop);
    off(ownerDocument, 'pointerup', this._onDrop);
    off(ownerDocument, 'touchcancel', this._onDrop);
    off(document, 'selectstart', this);
  },
  _onDrop: function _onDrop(
  /**Event*/
  evt) {
    var el = this.el,
        options = this.options; // Get the index of the dragged element within its parent

    newIndex = index(dragEl);
    newDraggableIndex = index(dragEl, options.draggable);
    pluginEvent('drop', this, {
      evt: evt
    }); // Get again after plugin event

    newIndex = index(dragEl);
    newDraggableIndex = index(dragEl, options.draggable);

    if (Sortable.eventCanceled) {
      this._nulling();

      return;
    }

    awaitingDragStarted = false;
    isCircumstantialInvert = false;
    pastFirstInvertThresh = false;
    clearInterval(this._loopId);
    clearTimeout(this._dragStartTimer);

    _cancelNextTick(this.cloneId);

    _cancelNextTick(this._dragStartId); // Unbind events


    if (this.nativeDraggable) {
      off(document, 'drop', this);
      off(el, 'dragstart', this._onDragStart);
    }

    this._offMoveEvents();

    this._offUpEvents();

    if (Safari) {
      css(document.body, 'user-select', '');
    }

    if (evt) {
      if (moved) {
        evt.cancelable && evt.preventDefault();
        !options.dropBubble && evt.stopPropagation();
      }

      ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);

      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {
        // Remove clone(s)
        cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);
      }

      if (dragEl) {
        if (this.nativeDraggable) {
          off(dragEl, 'dragend', this);
        }

        _disableDraggable(dragEl);

        dragEl.style['will-change'] = ''; // Remove classes
        // ghostClass is added in dragStarted

        if (moved && !awaitingDragStarted) {
          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);
        }

        toggleClass(dragEl, this.options.chosenClass, false); // Drag stop event

        _dispatchEvent({
          sortable: this,
          name: 'unchoose',
          toEl: parentEl,
          newIndex: null,
          newDraggableIndex: null,
          originalEvent: evt
        });

        if (rootEl !== parentEl) {
          if (newIndex >= 0) {
            // Add event
            _dispatchEvent({
              rootEl: parentEl,
              name: 'add',
              toEl: parentEl,
              fromEl: rootEl,
              originalEvent: evt
            }); // Remove event


            _dispatchEvent({
              sortable: this,
              name: 'remove',
              toEl: parentEl,
              originalEvent: evt
            }); // drag from one list and drop into another


            _dispatchEvent({
              rootEl: parentEl,
              name: 'sort',
              toEl: parentEl,
              fromEl: rootEl,
              originalEvent: evt
            });

            _dispatchEvent({
              sortable: this,
              name: 'sort',
              toEl: parentEl,
              originalEvent: evt
            });
          }

          putSortable && putSortable.save();
        } else {
          if (newIndex !== oldIndex) {
            if (newIndex >= 0) {
              // drag & drop within the same list
              _dispatchEvent({
                sortable: this,
                name: 'update',
                toEl: parentEl,
                originalEvent: evt
              });

              _dispatchEvent({
                sortable: this,
                name: 'sort',
                toEl: parentEl,
                originalEvent: evt
              });
            }
          }
        }

        if (Sortable.active) {
          /* jshint eqnull:true */
          if (newIndex == null || newIndex === -1) {
            newIndex = oldIndex;
            newDraggableIndex = oldDraggableIndex;
          }

          _dispatchEvent({
            sortable: this,
            name: 'end',
            toEl: parentEl,
            originalEvent: evt
          }); // Save sorting


          this.save();
        }
      }
    }

    this._nulling();
  },
  _nulling: function _nulling() {
    pluginEvent('nulling', this);
    rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;
    savedInputChecked.forEach(function (el) {
      el.checked = true;
    });
    savedInputChecked.length = 0;
  },
  handleEvent: function handleEvent(
  /**Event*/
  evt) {
    switch (evt.type) {
      case 'drop':
      case 'dragend':
        this._onDrop(evt);

        break;

      case 'dragenter':
      case 'dragover':
        if (dragEl) {
          this._onDragOver(evt);

          _globalDragOver(evt);
        }

        break;

      case 'selectstart':
        evt.preventDefault();
        break;
    }
  },

  /**
   * Serializes the item into an array of string.
   * @returns {String[]}
   */
  toArray: function toArray() {
    var order = [],
        el,
        children = this.el.children,
        i = 0,
        n = children.length,
        options = this.options;

    for (; i < n; i++) {
      el = children[i];

      if (closest(el, options.draggable, this.el, false)) {
        order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));
      }
    }

    return order;
  },

  /**
   * Sorts the elements according to the array.
   * @param  {String[]}  order  order of the items
   */
  sort: function sort(order) {
    var items = {},
        rootEl = this.el;
    this.toArray().forEach(function (id, i) {
      var el = rootEl.children[i];

      if (closest(el, this.options.draggable, rootEl, false)) {
        items[id] = el;
      }
    }, this);
    order.forEach(function (id) {
      if (items[id]) {
        rootEl.removeChild(items[id]);
        rootEl.appendChild(items[id]);
      }
    });
  },

  /**
   * Save the current sorting
   */
  save: function save() {
    var store = this.options.store;
    store && store.set && store.set(this);
  },

  /**
   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.
   * @param   {HTMLElement}  el
   * @param   {String}       [selector]  default: `options.draggable`
   * @returns {HTMLElement|null}
   */
  closest: function closest$1(el, selector) {
    return closest(el, selector || this.options.draggable, this.el, false);
  },

  /**
   * Set/get option
   * @param   {string} name
   * @param   {*}      [value]
   * @returns {*}
   */
  option: function option(name, value) {
    var options = this.options;

    if (value === void 0) {
      return options[name];
    } else {
      var modifiedValue = PluginManager.modifyOption(this, name, value);

      if (typeof modifiedValue !== 'undefined') {
        options[name] = modifiedValue;
      } else {
        options[name] = value;
      }

      if (name === 'group') {
        _prepareGroup(options);
      }
    }
  },

  /**
   * Destroy
   */
  destroy: function destroy() {
    pluginEvent('destroy', this);
    var el = this.el;
    el[expando] = null;
    off(el, 'mousedown', this._onTapStart);
    off(el, 'touchstart', this._onTapStart);
    off(el, 'pointerdown', this._onTapStart);

    if (this.nativeDraggable) {
      off(el, 'dragover', this);
      off(el, 'dragenter', this);
    } // Remove draggable attributes


    Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {
      el.removeAttribute('draggable');
    });

    this._onDrop();

    sortables.splice(sortables.indexOf(this.el), 1);
    this.el = el = null;
  },
  _hideClone: function _hideClone() {
    if (!cloneHidden) {
      pluginEvent('hideClone', this);
      if (Sortable.eventCanceled) return;
      css(cloneEl, 'display', 'none');

      if (this.options.removeCloneOnHide && cloneEl.parentNode) {
        cloneEl.parentNode.removeChild(cloneEl);
      }

      cloneHidden = true;
    }
  },
  _showClone: function _showClone(putSortable) {
    if (putSortable.lastPutMode !== 'clone') {
      this._hideClone();

      return;
    }

    if (cloneHidden) {
      pluginEvent('showClone', this);
      if (Sortable.eventCanceled) return; // show clone at dragEl or original position

      if (rootEl.contains(dragEl) && !this.options.group.revertClone) {
        rootEl.insertBefore(cloneEl, dragEl);
      } else if (nextEl) {
        rootEl.insertBefore(cloneEl, nextEl);
      } else {
        rootEl.appendChild(cloneEl);
      }

      if (this.options.group.revertClone) {
        this._animate(dragEl, cloneEl);
      }

      css(cloneEl, 'display', '');
      cloneHidden = false;
    }
  }
};

function _globalDragOver(
/**Event*/
evt) {
  if (evt.dataTransfer) {
    evt.dataTransfer.dropEffect = 'move';
  }

  evt.cancelable && evt.preventDefault();
}

function _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {
  var evt,
      sortable = fromEl[expando],
      onMoveFn = sortable.options.onMove,
      retVal; // Support for new CustomEvent feature

  if (window.CustomEvent && !IE11OrLess && !Edge) {
    evt = new CustomEvent('move', {
      bubbles: true,
      cancelable: true
    });
  } else {
    evt = document.createEvent('Event');
    evt.initEvent('move', true, true);
  }

  evt.to = toEl;
  evt.from = fromEl;
  evt.dragged = dragEl;
  evt.draggedRect = dragRect;
  evt.related = targetEl || toEl;
  evt.relatedRect = targetRect || getRect(toEl);
  evt.willInsertAfter = willInsertAfter;
  evt.originalEvent = originalEvent;
  fromEl.dispatchEvent(evt);

  if (onMoveFn) {
    retVal = onMoveFn.call(sortable, evt, originalEvent);
  }

  return retVal;
}

function _disableDraggable(el) {
  el.draggable = false;
}

function _unsilent() {
  _silent = false;
}

function _ghostIsLast(evt, vertical, sortable) {
  var rect = getRect(lastChild(sortable.el, sortable.options.draggable));
  var spacer = 10;
  return vertical ? evt.clientX > rect.right + spacer || evt.clientX <= rect.right && evt.clientY > rect.bottom && evt.clientX >= rect.left : evt.clientX > rect.right && evt.clientY > rect.top || evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer;
}

function _getSwapDirection(evt, target, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {
  var targetRect = getRect(target),
      mouseOnAxis = vertical ? evt.clientY : evt.clientX,
      targetLength = vertical ? targetRect.height : targetRect.width,
      targetS1 = vertical ? targetRect.top : targetRect.left,
      targetS2 = vertical ? targetRect.bottom : targetRect.right,
      invert = false;

  if (!invertSwap) {
    // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold
    if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {
      // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2
      // check if past first invert threshold on side opposite of lastDirection
      if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {
        // past first invert threshold, do not restrict inverted threshold to dragEl shadow
        pastFirstInvertThresh = true;
      }

      if (!pastFirstInvertThresh) {
        // dragEl shadow (target move distance shadow)
        if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow
        : mouseOnAxis > targetS2 - targetMoveDistance) {
          return -lastDirection;
        }
      } else {
        invert = true;
      }
    } else {
      // Regular
      if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {
        return _getInsertDirection(target);
      }
    }
  }

  invert = invert || invertSwap;

  if (invert) {
    // Invert of regular
    if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {
      return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;
    }
  }

  return 0;
}
/**
 * Gets the direction dragEl must be swapped relative to target in order to make it
 * seem that dragEl has been "inserted" into that element's position
 * @param  {HTMLElement} target       The target whose position dragEl is being inserted at
 * @return {Number}                   Direction dragEl must be swapped
 */


function _getInsertDirection(target) {
  if (index(dragEl) < index(target)) {
    return 1;
  } else {
    return -1;
  }
}
/**
 * Generate id
 * @param   {HTMLElement} el
 * @returns {String}
 * @private
 */


function _generateId(el) {
  var str = el.tagName + el.className + el.src + el.href + el.textContent,
      i = str.length,
      sum = 0;

  while (i--) {
    sum += str.charCodeAt(i);
  }

  return sum.toString(36);
}

function _saveInputCheckedState(root) {
  savedInputChecked.length = 0;
  var inputs = root.getElementsByTagName('input');
  var idx = inputs.length;

  while (idx--) {
    var _el = inputs[idx];
    _el.checked && savedInputChecked.push(_el);
  }
}

function _nextTick(fn) {
  return setTimeout(fn, 0);
}

function _cancelNextTick(id) {
  return clearTimeout(id);
} // Fixed #973:


on(document, 'touchmove', function (evt) {
  if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {
    evt.preventDefault();
  }
}); // Export utils

Sortable.utils = {
  on: on,
  off: off,
  css: css,
  find: find,
  is: function is(el, selector) {
    return !!closest(el, selector, el, false);
  },
  extend: extend,
  throttle: throttle,
  closest: closest,
  toggleClass: toggleClass,
  clone: clone,
  index: index,
  nextTick: _nextTick,
  cancelNextTick: _cancelNextTick,
  detectDirection: _detectDirection,
  getChild: getChild
};
/**
 * Mount a plugin to Sortable
 * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted
 */

Sortable.mount = function () {
  for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {
    plugins[_key] = arguments[_key];
  }

  if (plugins[0].constructor === Array) plugins = plugins[0];

  for (var i in plugins) {
    var plugin = plugins[i];

    if (!plugin.prototype || !plugin.prototype.constructor) {
      throw "Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(el));
    }

    if (plugin.utils) Sortable.utils = _objectSpread({}, Sortable.utils, plugin.utils);
    PluginManager.mount(plugin);
  }
};
/**
 * Create sortable instance
 * @param {HTMLElement}  el
 * @param {Object}      [options]
 */


Sortable.create = function (el, options) {
  return new Sortable(el, options);
}; // Export


Sortable.version = version;

var autoScrolls = [],
    scrollEl,
    scrollRootEl,
    scrolling = false,
    lastAutoScrollX,
    lastAutoScrollY,
    touchEvt$1,
    pointerElemChangedInterval;

function AutoScrollPlugin() {
  function AutoScroll() {
    this.options = {
      scroll: true,
      scrollSensitivity: 30,
      scrollSpeed: 10,
      bubbleScroll: true
    }; // Bind all private methods

    for (var fn in this) {
      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {
        this[fn] = this[fn].bind(this);
      }
    }
  }

  AutoScroll.prototype = {
    dragStarted: function dragStarted(_ref) {
      var originalEvent = _ref.originalEvent;

      if (this.sortable.nativeDraggable) {
        on(document, 'dragover', this._handleAutoScroll);
      } else {
        if (this.sortable.options.supportPointer) {
          on(document, 'pointermove', this._handleFallbackAutoScroll);
        } else if (originalEvent.touches) {
          on(document, 'touchmove', this._handleFallbackAutoScroll);
        } else {
          on(document, 'mousemove', this._handleFallbackAutoScroll);
        }
      }
    },
    dragOverCompleted: function dragOverCompleted(_ref2) {
      var originalEvent = _ref2.originalEvent;

      // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)
      if (!this.sortable.options.dragOverBubble && !originalEvent.rootEl) {
        this._handleAutoScroll(originalEvent);
      }
    },
    drop: function drop() {
      if (this.sortable.nativeDraggable) {
        off(document, 'dragover', this._handleAutoScroll);
      } else {
        off(document, 'pointermove', this._handleFallbackAutoScroll);
        off(document, 'touchmove', this._handleFallbackAutoScroll);
        off(document, 'mousemove', this._handleFallbackAutoScroll);
      }

      clearPointerElemChangedInterval();
      clearAutoScrolls();
      cancelThrottle();
    },
    nulling: function nulling() {
      touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;
      autoScrolls.length = 0;
    },
    _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {
      this._handleAutoScroll(evt, true);
    },
    _handleAutoScroll: function _handleAutoScroll(evt, fallback) {
      var _this = this;

      var x = evt.clientX,
          y = evt.clientY,
          elem = document.elementFromPoint(x, y);
      touchEvt$1 = evt; // IE does not seem to have native autoscroll,
      // Edge's autoscroll seems too conditional,
      // MACOS Safari does not have autoscroll,
      // Firefox and Chrome are good

      if (fallback || Edge || IE11OrLess || Safari) {
        autoScroll(evt, this.options, elem, fallback); // Listener for pointer element change

        var ogElemScroller = getParentAutoScrollElement(elem, true);

        if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {
          pointerElemChangedInterval && clearPointerElemChangedInterval(); // Detect for pointer elem change, emulating native DnD behaviour

          pointerElemChangedInterval = setInterval(function () {
            var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);

            if (newElem !== ogElemScroller) {
              ogElemScroller = newElem;
              clearAutoScrolls();
            }

            autoScroll(evt, _this.options, newElem, fallback);
          }, 10);
          lastAutoScrollX = x;
          lastAutoScrollY = y;
        }
      } else {
        // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll
        if (!this.sortable.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {
          clearAutoScrolls();
          return;
        }

        autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);
      }
    }
  };
  return _extends(AutoScroll, {
    pluginName: 'scroll',
    initializeByDefault: true
  });
}

function clearAutoScrolls() {
  autoScrolls.forEach(function (autoScroll) {
    clearInterval(autoScroll.pid);
  });
  autoScrolls = [];
}

function clearPointerElemChangedInterval() {
  clearInterval(pointerElemChangedInterval);
}

var autoScroll = throttle(function (evt, options, rootEl, isFallback) {
  // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521
  if (!options.scroll) return;
  var sens = options.scrollSensitivity,
      speed = options.scrollSpeed,
      winScroller = getWindowScrollingElement();
  var scrollThisInstance = false,
      scrollCustomFn; // New scroll root, set scrollEl

  if (scrollRootEl !== rootEl) {
    scrollRootEl = rootEl;
    clearAutoScrolls();
    scrollEl = options.scroll;
    scrollCustomFn = options.scrollFn;

    if (scrollEl === true) {
      scrollEl = getParentAutoScrollElement(rootEl, true);
    }
  }

  var layersOut = 0;
  var currentParent = scrollEl;

  do {
    var el = currentParent,
        rect = getRect(el),
        top = rect.top,
        bottom = rect.bottom,
        left = rect.left,
        right = rect.right,
        width = rect.width,
        height = rect.height,
        canScrollX = void 0,
        canScrollY = void 0,
        scrollWidth = el.scrollWidth,
        scrollHeight = el.scrollHeight,
        elCSS = css(el),
        scrollPosX = el.scrollLeft,
        scrollPosY = el.scrollTop;

    if (el === winScroller) {
      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');
      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');
    } else {
      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');
      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');
    }

    var vx = canScrollX && (Math.abs(right - evt.clientX) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - evt.clientX) <= sens && !!scrollPosX);
    var vy = canScrollY && (Math.abs(bottom - evt.clientY) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - evt.clientY) <= sens && !!scrollPosY);

    if (!autoScrolls[layersOut]) {
      for (var i = 0; i <= layersOut; i++) {
        if (!autoScrolls[i]) {
          autoScrolls[i] = {};
        }
      }
    }

    if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {
      autoScrolls[layersOut].el = el;
      autoScrolls[layersOut].vx = vx;
      autoScrolls[layersOut].vy = vy;
      clearInterval(autoScrolls[layersOut].pid);

      if (vx != 0 || vy != 0) {
        scrollThisInstance = true;
        /* jshint loopfunc:true */

        autoScrolls[layersOut].pid = setInterval(function () {
          // emulate drag over during autoscroll (fallback), emulating native DnD behaviour
          if (isFallback && this.layer === 0) {
            Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely

          }

          var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;
          var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;

          if (typeof scrollCustomFn === 'function') {
            if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {
              return;
            }
          }

          scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);
        }.bind({
          layer: layersOut
        }), 24);
      }
    }

    layersOut++;
  } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));

  scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not
}, 30);

var drop = function drop(_ref) {
  var originalEvent = _ref.originalEvent,
      putSortable = _ref.putSortable,
      dragEl = _ref.dragEl,
      activeSortable = _ref.activeSortable,
      dispatchSortableEvent = _ref.dispatchSortableEvent,
      hideGhostForTarget = _ref.hideGhostForTarget,
      unhideGhostForTarget = _ref.unhideGhostForTarget;
  var toSortable = putSortable || activeSortable;
  hideGhostForTarget();
  var target = document.elementFromPoint(originalEvent.clientX, originalEvent.clientY);
  unhideGhostForTarget();

  if (toSortable && !toSortable.el.contains(target)) {
    dispatchSortableEvent('spill');
    this.onSpill(dragEl);
  }
};

function Revert() {}

Revert.prototype = {
  startIndex: null,
  dragStart: function dragStart(_ref2) {
    var oldDraggableIndex = _ref2.oldDraggableIndex;
    this.startIndex = oldDraggableIndex;
  },
  onSpill: function onSpill(dragEl) {
    this.sortable.captureAnimationState();
    var nextSibling = getChild(this.sortable.el, this.startIndex, this.sortable.options);

    if (nextSibling) {
      this.sortable.el.insertBefore(dragEl, nextSibling);
    } else {
      this.sortable.el.appendChild(dragEl);
    }

    this.sortable.animateAll();
  },
  drop: drop
};

_extends(Revert, {
  pluginName: 'revertOnSpill'
});

function Remove() {}

Remove.prototype = {
  onSpill: function onSpill(dragEl) {
    this.sortable.captureAnimationState();
    dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);
    this.sortable.animateAll();
  },
  drop: drop
};

_extends(Remove, {
  pluginName: 'removeOnSpill'
});

var lastSwapEl;

function SwapPlugin() {
  function Swap() {
    this.options = {
      swapClass: 'sortable-swap-highlight'
    };
  }

  Swap.prototype = {
    dragStart: function dragStart(_ref) {
      var dragEl = _ref.dragEl;
      lastSwapEl = dragEl;
    },
    dragOverValid: function dragOverValid(_ref2) {
      var completed = _ref2.completed,
          target = _ref2.target,
          onMove = _ref2.onMove,
          activeSortable = _ref2.activeSortable,
          changed = _ref2.changed;
      if (!activeSortable.options.swap) return;
      var el = this.sortable.el,
          options = this.sortable.options;

      if (target && target !== el) {
        var prevSwapEl = lastSwapEl;

        if (onMove(target) !== false) {
          toggleClass(target, options.swapClass, true);
          lastSwapEl = target;
        } else {
          lastSwapEl = null;
        }

        if (prevSwapEl && prevSwapEl !== lastSwapEl) {
          toggleClass(prevSwapEl, options.swapClass, false);
        }
      }

      changed();
      return completed(true);
    },
    drop: function drop(_ref3) {
      var activeSortable = _ref3.activeSortable,
          putSortable = _ref3.putSortable,
          dragEl = _ref3.dragEl;
      var toSortable = putSortable || this.sortable;
      var options = this.sortable.options;
      lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);

      if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {
        if (dragEl !== lastSwapEl) {
          toSortable.captureAnimationState();
          if (toSortable !== activeSortable) activeSortable.captureAnimationState();
          swapNodes(dragEl, lastSwapEl);
          toSortable.animateAll();
          if (toSortable !== activeSortable) activeSortable.animateAll();
        }
      }
    },
    nulling: function nulling() {
      lastSwapEl = null;
    }
  };
  return _extends(Swap, {
    pluginName: 'swap',
    eventOptions: function eventOptions() {
      return {
        swapItem: lastSwapEl
      };
    }
  });
}

function swapNodes(n1, n2) {
  var p1 = n1.parentNode,
      p2 = n2.parentNode,
      i1,
      i2;
  if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;
  i1 = index(n1);
  i2 = index(n2);

  if (p1.isEqualNode(p2) && i1 < i2) {
    i2++;
  }

  p1.insertBefore(n2, p1.children[i1]);
  p2.insertBefore(n1, p2.children[i2]);
}

var multiDragElements = [],
    multiDragClones = [],
    lastMultiDragSelect,
    // for selection with modifier key down (SHIFT)
multiDragSortable,
    initialFolding = false,
    // Initial multi-drag fold when drag started
folding = false,
    // Folding any other time
dragStarted = false,
    dragEl$1,
    clonesFromRect,
    clonesHidden;

function MultiDragPlugin() {
  function MultiDrag(sortable) {
    // Bind all private methods
    for (var fn in this) {
      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {
        this[fn] = this[fn].bind(this);
      }
    }

    if (sortable.options.supportPointer) {
      on(document, 'pointerup', this._deselectMultiDrag);
    } else {
      on(document, 'mouseup', this._deselectMultiDrag);
      on(document, 'touchend', this._deselectMultiDrag);
    }

    on(document, 'keydown', this._checkKeyDown);
    on(document, 'keyup', this._checkKeyUp);
    this.options = {
      selectedClass: 'sortable-selected',
      multiDragKey: null,
      setData: function setData(dataTransfer, dragEl) {
        var data = '';

        if (multiDragElements.length && multiDragSortable === sortable) {
          for (var i in multiDragElements) {
            data += (!i ? '' : ', ') + multiDragElements[i].textContent;
          }
        } else {
          data = dragEl.textContent;
        }

        dataTransfer.setData('Text', data);
      }
    };
  }

  MultiDrag.prototype = {
    multiDragKeyDown: false,
    isMultiDrag: false,
    delayStartGlobal: function delayStartGlobal(_ref) {
      var dragged = _ref.dragEl;
      dragEl$1 = dragged;
    },
    delayEnded: function delayEnded() {
      this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);
    },
    setupClone: function setupClone(_ref2) {
      var sortable = _ref2.sortable;
      if (!this.isMultiDrag) return;

      for (var i in multiDragElements) {
        multiDragClones.push(clone(multiDragElements[i]));
        multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;
        multiDragClones[i].draggable = false;
        multiDragClones[i].style['will-change'] = '';
        toggleClass(multiDragClones[i], sortable.options.selectedClass, false);
        multiDragElements[i] === dragEl$1 && toggleClass(multiDragClones[i], sortable.options.chosenClass, false);
      }

      sortable._hideClone();

      return true;
    },
    clone: function clone(_ref3) {
      var sortable = _ref3.sortable,
          rootEl = _ref3.rootEl,
          dispatchSortableEvent = _ref3.dispatchSortableEvent;
      if (!this.isMultiDrag) return;

      if (!sortable.options.removeCloneOnHide) {
        if (multiDragElements.length && multiDragSortable === sortable) {
          insertMultiDragClones(true, rootEl);
          dispatchSortableEvent('clone');
          return true;
        }
      }
    },
    showClone: function showClone(_ref4) {
      var cloneNowShown = _ref4.cloneNowShown,
          rootEl = _ref4.rootEl;
      if (!this.isMultiDrag) return;
      insertMultiDragClones(false, rootEl);

      for (var i in multiDragClones) {
        css(multiDragClones[i], 'display', '');
      }

      cloneNowShown();
      clonesHidden = false;
      return true;
    },
    hideClone: function hideClone(_ref5) {
      var sortable = _ref5.sortable,
          cloneNowHidden = _ref5.cloneNowHidden;
      if (!this.isMultiDrag) return;

      for (var i in multiDragClones) {
        css(multiDragClones[i], 'display', 'none');

        if (sortable.options.removeCloneOnHide && multiDragClones[i].parentNode) {
          multiDragClones[i].parentNode.removeChild(multiDragClones[i]);
        }
      }

      cloneNowHidden();
      clonesHidden = true;
      return true;
    },
    dragStartGlobal: function dragStartGlobal(_ref6) {
      var sortable = _ref6.sortable;

      if (!this.isMultiDrag && multiDragSortable) {
        multiDragSortable.multiDrag._deselectMultiDrag();
      }

      for (var i in multiDragElements) {
        multiDragElements[i].sortableIndex = index(multiDragElements[i]);
      } // Sort multi-drag elements


      multiDragElements = multiDragElements.sort(function (a, b) {
        return a.sortableIndex - b.sortableIndex;
      });
      dragStarted = true;
    },
    dragStarted: function dragStarted(_ref7) {
      var sortable = _ref7.sortable;
      if (!this.isMultiDrag) return;

      if (sortable.options.sort) {
        // Capture rects,
        // hide multi drag elements (by positioning them absolute),
        // set multi drag elements rects to dragRect,
        // show multi drag elements,
        // animate to rects,
        // unset rects & remove from DOM
        sortable.captureAnimationState();

        if (sortable.options.animation) {
          for (var i in multiDragElements) {
            if (multiDragElements[i] === dragEl$1) continue;
            css(multiDragElements[i], 'position', 'absolute');
          }

          var dragRect = getRect(dragEl$1, false, true, true);

          for (var _i in multiDragElements) {
            if (multiDragElements[_i] === dragEl$1) continue;
            setRect(multiDragElements[_i], dragRect);
          }

          folding = true;
          initialFolding = true;
        }
      }

      sortable.animateAll(function () {
        folding = false;
        initialFolding = false;

        if (sortable.options.animation) {
          for (var _i2 in multiDragElements) {
            unsetRect(multiDragElements[_i2]);
          }
        } // Remove all auxiliary multidrag items from el, if sorting enabled


        if (sortable.options.sort) {
          removeMultiDragElements();
        }
      });
    },
    dragOver: function dragOver(_ref8) {
      var target = _ref8.target,
          completed = _ref8.completed;

      if (folding && ~multiDragElements.indexOf(target)) {
        return completed(false);
      }
    },
    revert: function revert(_ref9) {
      var fromSortable = _ref9.fromSortable,
          rootEl = _ref9.rootEl,
          sortable = _ref9.sortable,
          dragRect = _ref9.dragRect;

      if (multiDragElements.length > 1) {
        // Setup unfold animation
        for (var i in multiDragElements) {
          sortable.addAnimationState({
            target: multiDragElements[i],
            rect: folding ? getRect(multiDragElements[i]) : dragRect
          });
          unsetRect(multiDragElements[i]);
          multiDragElements[i].fromRect = dragRect;
          fromSortable.removeAnimationState(multiDragElements[i]);
        }

        folding = false;
        insertMultiDragElements(!sortable.options.removeCloneOnHide, rootEl);
      }
    },
    dragOverCompleted: function dragOverCompleted(_ref10) {
      var sortable = _ref10.sortable,
          isOwner = _ref10.isOwner,
          insertion = _ref10.insertion,
          activeSortable = _ref10.activeSortable,
          parentEl = _ref10.parentEl,
          putSortable = _ref10.putSortable;
      var options = sortable.options;

      if (insertion) {
        // Clones must be hidden before folding animation to capture dragRectAbsolute properly
        if (isOwner) {
          activeSortable._hideClone();
        }

        initialFolding = false; // If leaving sort:false root, or already folding - Fold to new location

        if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {
          // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible
          var dragRectAbsolute = getRect(dragEl$1, false, true, true);

          for (var i in multiDragElements) {
            if (multiDragElements[i] === dragEl$1) continue;
            setRect(multiDragElements[i], dragRectAbsolute); // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted
            // while folding, and so that we can capture them again because old sortable will no longer be fromSortable

            parentEl.appendChild(multiDragElements[i]);
          }

          folding = true;
        } // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out


        if (!isOwner) {
          // Only remove if not folding (folding will remove them anyways)
          if (!folding) {
            removeMultiDragElements();
          }

          if (multiDragElements.length > 1) {
            var clonesHiddenBefore = clonesHidden;

            activeSortable._showClone(sortable); // Unfold animation for clones if showing from hidden


            if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {
              for (var _i3 in multiDragClones) {
                activeSortable.addAnimationState({
                  target: multiDragClones[_i3],
                  rect: clonesFromRect
                });
                multiDragClones[_i3].fromRect = clonesFromRect;
                multiDragClones[_i3].thisAnimationDuration = null;
              }
            }
          } else {
            activeSortable._showClone(sortable);
          }
        }
      }
    },
    dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {
      var dragRect = _ref11.dragRect,
          isOwner = _ref11.isOwner,
          activeSortable = _ref11.activeSortable;

      for (var i in multiDragElements) {
        multiDragElements[i].thisAnimationDuration = null;
      }

      if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {
        clonesFromRect = _extends({}, dragRect);
        var dragMatrix = matrix(dragEl$1, true);
        clonesFromRect.top -= dragMatrix.f;
        clonesFromRect.left -= dragMatrix.e;
      }
    },
    dragOverAnimationComplete: function dragOverAnimationComplete() {
      if (folding) {
        folding = false;
        removeMultiDragElements();
      }
    },
    drop: function drop(_ref12) {
      var evt = _ref12.originalEvent,
          rootEl = _ref12.rootEl,
          parentEl = _ref12.parentEl,
          sortable = _ref12.sortable,
          dispatchSortableEvent = _ref12.dispatchSortableEvent,
          oldIndex = _ref12.oldIndex,
          putSortable = _ref12.putSortable;
      var toSortable = putSortable || this.sortable;
      if (!evt) return;
      var options = sortable.options,
          children = parentEl.children; // Multi-drag selection

      if (!dragStarted) {
        if (options.multiDragKey && !this.multiDragKeyDown) {
          this._deselectMultiDrag();
        }

        toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));

        if (!~multiDragElements.indexOf(dragEl$1)) {
          multiDragElements.push(dragEl$1);
          dispatchEvent({
            sortable: sortable,
            rootEl: rootEl,
            name: 'select',
            targetEl: dragEl$1,
            originalEvt: evt
          }); // Modifier activated, select from last to dragEl

          if ((!options.multiDragKey || this.multiDragKeyDown) && evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {
            var lastIndex = index(lastMultiDragSelect),
                currentIndex = index(dragEl$1);

            if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {
              // Must include lastMultiDragSelect (select it), in case modified selection from no selection
              // (but previous selection existed)
              var n, i;

              if (currentIndex > lastIndex) {
                i = lastIndex;
                n = currentIndex;
              } else {
                i = currentIndex;
                n = lastIndex + 1;
              }

              for (; i < n; i++) {
                if (~multiDragElements.indexOf(children[i])) continue;
                toggleClass(children[i], options.selectedClass, true);
                multiDragElements.push(children[i]);
                dispatchEvent({
                  sortable: sortable,
                  rootEl: rootEl,
                  name: 'select',
                  targetEl: children[i],
                  originalEvt: evt
                });
              }
            }
          } else {
            lastMultiDragSelect = dragEl$1;
          }

          multiDragSortable = toSortable;
        } else {
          multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);
          lastMultiDragSelect = null;
          dispatchEvent({
            sortable: sortable,
            rootEl: rootEl,
            name: 'deselect',
            targetEl: dragEl$1,
            originalEvt: evt
          });
        }
      } // Multi-drag drop


      if (dragStarted && this.isMultiDrag) {
        // Do not "unfold" after around dragEl if reverted
        if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {
          var dragRect = getRect(dragEl$1),
              multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');
          if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;
          toSortable.captureAnimationState();

          if (!initialFolding) {
            if (options.animation) {
              dragEl$1.fromRect = dragRect;

              for (var _i4 in multiDragElements) {
                multiDragElements[_i4].thisAnimationDuration = null;

                if (multiDragElements[_i4] !== dragEl$1) {
                  var rect = folding ? getRect(multiDragElements[_i4]) : dragRect;
                  multiDragElements[_i4].fromRect = rect; // Prepare unfold animation

                  toSortable.addAnimationState({
                    target: multiDragElements[_i4],
                    rect: rect
                  });
                }
              }
            } // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert
            // properly they must all be removed


            removeMultiDragElements();

            for (var _i5 in multiDragElements) {
              if (children[multiDragIndex]) {
                parentEl.insertBefore(multiDragElements[_i5], children[multiDragIndex]);
              } else {
                parentEl.appendChild(multiDragElements[_i5]);
              }

              multiDragIndex++;
            } // If initial folding is done, the elements may have changed position because they are now
            // unfolding around dragEl, even though dragEl may not have his index changed, so update event
            // must be fired here as Sortable will not.


            if (oldIndex === index(dragEl$1)) {
              var update = false;

              for (var _i6 in multiDragElements) {
                if (multiDragElements[_i6].sortableIndex !== index(multiDragElements[_i6])) {
                  update = true;
                  break;
                }
              }

              if (update) {
                dispatchSortableEvent('update');
              }
            }
          } // Must be done after capturing individual rects (scroll bar)


          for (var _i7 in multiDragElements) {
            unsetRect(multiDragElements[_i7]);
          }

          toSortable.animateAll();
        }

        multiDragSortable = toSortable;
      } // Remove clones if necessary


      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {
        for (var _i8 in multiDragClones) {
          multiDragClones[_i8].parentNode && multiDragClones[_i8].parentNode.removeChild(multiDragClones[_i8]);
        }
      }
    },
    nullingGlobal: function nullingGlobal() {
      this.isMultiDrag = dragStarted = false;
      multiDragClones.length = 0;
    },
    destroy: function destroy() {
      this._deselectMultiDrag();

      off(document, 'pointerup', this._deselectMultiDrag);
      off(document, 'mouseup', this._deselectMultiDrag);
      off(document, 'touchend', this._deselectMultiDrag);
      off(document, 'keydown', this._checkKeyDown);
      off(document, 'keyup', this._checkKeyUp);
    },
    _deselectMultiDrag: function _deselectMultiDrag(evt) {
      if (dragStarted) return; // Only deselect if selection is in this sortable

      if (multiDragSortable !== this.sortable) return; // Only deselect if target is not item in this sortable

      if (evt && closest(evt.target, this.sortable.options.draggable, this.sortable.el, false)) return; // Only deselect if left click

      if (evt && evt.button !== 0) return;

      while (multiDragElements.length) {
        var el = multiDragElements[0];
        toggleClass(el, this.sortable.options.selectedClass, false);
        multiDragElements.shift();
        dispatchEvent({
          sortable: this.sortable,
          rootEl: this.sortable.el,
          name: 'deselect',
          targetEl: el,
          originalEvt: evt
        });
      }
    },
    _checkKeyDown: function _checkKeyDown(evt) {
      if (evt.key === this.sortable.options.multiDragKey) {
        this.multiDragKeyDown = true;
      }
    },
    _checkKeyUp: function _checkKeyUp(evt) {
      if (evt.key === this.sortable.options.multiDragKey) {
        this.multiDragKeyDown = false;
      }
    }
  };
  return _extends(MultiDrag, {
    // Static methods & properties
    pluginName: 'multiDrag',
    utils: {
      /**
       * Selects the provided multi-drag item
       * @param  {HTMLElement} el    The element to be selected
       */
      select: function select(el) {
        var sortable = el.parentNode[expando];
        if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;

        if (multiDragSortable && multiDragSortable !== sortable) {
          multiDragSortable.multiDrag._deselectMultiDrag();

          multiDragSortable = sortable;
        }

        toggleClass(el, sortable.options.selectedClass, true);
        multiDragElements.push(el);
      },

      /**
       * Deselects the provided multi-drag item
       * @param  {HTMLElement} el    The element to be deselected
       */
      deselect: function deselect(el) {
        var sortable = el.parentNode[expando],
            index = multiDragElements.indexOf(el);
        if (!sortable || !sortable.options.multiDrag || !~index) return;
        toggleClass(el, sortable.options.selectedClass, false);
        multiDragElements.splice(index, 1);
      }
    },
    eventOptions: function eventOptions() {
      var _this = this;

      var oldIndicies = [],
          newIndicies = [];
      multiDragElements.forEach(function (element) {
        oldIndicies.push({
          element: element,
          index: element.sortableIndex
        }); // multiDragElements will already be sorted if folding

        var newIndex;

        if (folding && element !== dragEl$1) {
          newIndex = -1;
        } else if (folding) {
          newIndex = index(element, ':not(.' + _this.options.selectedClass + ')');
        } else {
          newIndex = index(element);
        }

        newIndicies.push({
          element: element,
          index: newIndex
        });
      });
      return {
        items: _toConsumableArray(multiDragElements),
        clones: [].concat(multiDragClones),
        oldIndicies: oldIndicies,
        newIndicies: newIndicies
      };
    },
    optionListeners: {
      multiDragKey: function multiDragKey(key) {
        key = key.toLowerCase();

        if (key === 'ctrl') {
          key = 'Control';
        } else if (key.length > 1) {
          key = key.charAt(0).toUpperCase() + key.substr(1);
        }

        return key;
      }
    }
  });
}

function insertMultiDragElements(clonesInserted, rootEl) {
  for (var i in multiDragElements) {
    var target = rootEl.children[multiDragElements[i].sortableIndex + (clonesInserted ? Number(i) : 0)];

    if (target) {
      rootEl.insertBefore(multiDragElements[i], target);
    } else {
      rootEl.appendChild(multiDragElements[i]);
    }
  }
}
/**
 * Insert multi-drag clones
 * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted
 * @param  {HTMLElement} rootEl
 */


function insertMultiDragClones(elementsInserted, rootEl) {
  for (var i in multiDragClones) {
    var target = rootEl.children[multiDragClones[i].sortableIndex + (elementsInserted ? Number(i) : 0)];

    if (target) {
      rootEl.insertBefore(multiDragClones[i], target);
    } else {
      rootEl.appendChild(multiDragClones[i]);
    }
  }
}

function removeMultiDragElements() {
  for (var i in multiDragElements) {
    if (multiDragElements[i] === dragEl$1) continue;
    multiDragElements[i].parentNode && multiDragElements[i].parentNode.removeChild(multiDragElements[i]);
  }
}

Sortable.mount(new AutoScrollPlugin());
Sortable.mount(Remove, Revert);

/* harmony default export */ __webpack_exports__["default"] = (Sortable);



/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vanMvc3JjL2VkaXRvci9iYWNrZW5kL2J1aWxkZXIudGVtcGxhdGVzLmpzIiwid2VicGFjazovLy8uL2pzL3NyYy9lZGl0b3IvYmFja2VuZC9jb2RlZ2VuZXJhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9qcy9zcmMvZWRpdG9yL2JhY2tlbmQvZHJhZ25kcm9wLmpzIiwid2VicGFjazovLy8uL2pzL3NyYy9lZGl0b3IvYmFja2VuZC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9qcy9zcmMvZWRpdG9yL2JhY2tlbmQvbW9kdWxlYXJlYS5jbGFzcy5qcyIsIndlYnBhY2s6Ly8vLi9qcy9zcmMvZWRpdG9yL2JhY2tlbmQvbW9kdWxlYXJlYS5qcyIsIndlYnBhY2s6Ly8vLi9qcy9zcmMvZWRpdG9yL2JhY2tlbmQvc2Nyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vanMvc3JjL2VkaXRvci9iYWNrZW5kL3NlY3Rpb24uY2xhc3MuanMiLCJ3ZWJwYWNrOi8vLy4vanMvc3JjL2VkaXRvci9iYWNrZW5kL3NlY3Rpb25zLmpzIiwid2VicGFjazovLy8uL2pzL3NyYy9lZGl0b3IvYmFja2VuZC9zZWN0aW9uc2NvbnRhaW5lci5jbGFzcy5qcyIsIndlYnBhY2s6Ly8vLi9qcy9zcmMvZWRpdG9yL2JhY2tlbmQvc2V0dGluZ3MucGFuZWwuanMiLCJ3ZWJwYWNrOi8vLy4vanMvc3JjL2VkaXRvci9iYWNrZW5kL3VpZ2VuZXJhbC5qcyIsIndlYnBhY2s6Ly8vLi9qcy9zcmMvZWRpdG9yL2JhY2tlbmQvdXRpbHMuY2xhc3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3NvcnRhYmxlanMvbW9kdWxhci9zb3J0YWJsZS5lc20uanMiXSwibmFtZXMiOlsibG9hZFRlbXBsYXRlQnlJZCIsInRlbXBsYXRlIiwid2luZG93IiwiZHNsY0RlYnVnIiwiY29uc29sZSIsImxvZyIsImRzbGNNb2R1bGUiLCJkc2xjTW9kdWxlSUQiLCJqUXVlcnkiLCJwcmVwZW5kIiwiYmxvY2siLCJwb3N0IiwiRFNMQ0FqYXgiLCJhamF4dXJsIiwiYWN0aW9uIiwiZHNsYyIsImRzbGNfdGVtcGxhdGVfaWQiLCJyZXNwb25zZSIsIkxpdmVDb21wb3NlciIsIkJ1aWxkZXIiLCJQcmV2aWV3QXJlYURvY3VtZW50IiwiaHRtbCIsIm91dHB1dCIsInJlbW92ZSIsIlByZXZpZXdBcmVhV2luZG93IiwiZHNsY19jYXJvdXNlbCIsInNlY3Rpb25zSW5pdEpTIiwibW9kdWxlYXJlYXNJbml0SlMiLCJkcmFnQW5kRHJvcEluaXQiLCJkc2xjX3Nob3dfcHVibGlzaF9idXR0b24iLCJkc2xjX2dlbmVyYXRlX2NvZGUiLCJkc2xjX3RlbXBsYXRlX2ltcG9ydCIsImNzcyIsIm9wYWNpdHkiLCJzaG93IiwiZHNsY190ZW1wbGF0ZV9jb2RlIiwidmFsIiwiaGlkZSIsImRzbGNfaGlkZV9tb2RhbCIsImRzbGNfYmdfdmlkZW8iLCJkc2xjX3RlbXBsYXRlX3NhdmUiLCJkc2xjX3RlbXBsYXRlX3RpdGxlIiwiZHNsY190ZW1wbGF0ZV9kZWxldGUiLCJmYWRlT3V0IiwiZHNsY19pbXBvcnRfdGVtcGxhdGUiLCJkc2xjX3NhdmVfdGVtcGxhdGUiLCJkc2xjX2RlbGV0ZV90ZW1wbGF0ZSIsInRlbXBsYXRlc1BhbmVsSW5pdCIsInRlbXBsYXRlSXRlbSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJlbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJpbXBvcnRCdXR0b24iLCJ0YXJnZXQiLCJjbG9zZXN0IiwiZGF0YXNldCIsImlkIiwiJCIsInN1Ym1pdCIsImUiLCJvbiIsInN0b3BQcm9wYWdhdGlvbiIsImRhdGEiLCJkc2xjX3NhdmVfY29tcG9zZXIiLCJkc2xjYV9nZW5fY29udGVudF9mb3Jfc2VhcmNoIiwiY29tcG9zZXJDb2RlIiwiY29udGVudEZvclNlYXJjaCIsInBvc3RJRCIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJhamF4IiwibWV0aG9kIiwidHlwZSIsInVybCIsImRzbGNfcG9zdF9pZCIsImRzbGNfY29kZSIsImRzbGNfY29udGVudF9mb3Jfc2VhcmNoIiwidGltZW91dCIsImRvbmUiLCJzdGF0dXMiLCJhcHBlbmQiLCJEU0xDU2l0ZURhdGEiLCJzaXRldXJsIiwiZWFjaCIsImluZGV4IiwiZWwiLCJsb2FkIiwiYWxlcnQiLCJmYWlsIiwic3RhdHVzVGV4dCIsImFsd2F5cyIsInJlc2Vwb25zZSIsImRzbGNfc2F2ZV9kcmFmdF9jb21wb3NlciIsIm1vZHVsZUNvZGUiLCJtb2R1bGVfc2l6ZSIsInBhZ2VDb2RlSW5Kc29uIiwibWF4UGVyUm93IiwibWF4UGVyUm93QSIsImN1cnJQZXJSb3ciLCJjdXJyUGVyUm93QSIsIm1vZHVsZXNBcmVhU2l6ZSIsIm1vZHVsZXNBcmVhIiwibW9kdWxlc0FyZWFMYXN0U3RhdGUiLCJtb2R1bGVzQXJlYUZpcnN0U3RhdGUiLCJtb2R1bGVzU2VjdGlvbiIsIm1vZHVsZXNTZWN0aW9uQXR0cyIsIm1vZHVsZXNTZWN0aW9uSnNvbiIsImxlbmd0aCIsInBhZGRpbmciLCJhbmltYXRlIiwiZHNsY19nZW5lcmF0ZV9zZWN0aW9uX2NvZGUiLCJmaW5kIiwic2xpY2UiLCJ0aGVNb2R1bGVzU2VjdGlvbiIsIm1vZHVsZXNTZWN0aW9uSnNvblN0cmluZyIsIkpTT04iLCJwYXJzZSIsImN1cnJlbnRJbnB1dCIsImN1cnJlbnRBdHRyS2V5IiwiY3VycmVudEF0dHJWYWwiLCJ1bmRlZmluZWQiLCJwYXJzZUludCIsIm5leHQiLCJtb2R1bGVBcmVhSlNPTiIsImNvbnRlbnQiLCJkc2xjX21vZHVsZSIsImdldEF0dHJpYnV0ZSIsIm1vZHVsZUxhc3RTdGF0ZSIsIm1vZHVsZUZpcnN0U3RhdGUiLCJxdWVyeVNlbGVjdG9yIiwidmFsdWUiLCJlcnIiLCJpbmZvIiwibW9kdWxlQ29kZUpTT04iLCJsYXN0IiwicmVwbGFjZSIsInN0cmluZ2lmeSIsInB1c2giLCJnZW5lcmF0ZWRDb2RlIiwicmVhZHkiLCJoYXNDbGFzcyIsImhvbGRlciIsImdldEVsZW1lbnRCeUlkIiwicHJldkNvbnRlbnQiLCJlbGVtZW50cyIsIkFycmF5IiwicHJvdG90eXBlIiwiY2FsbCIsImkiLCJleHRyYWN0ZWRfaHRtbF9jb2RlIiwid3JhcHBlcl90YWciLCJpbm5lckhUTUwiLCJ0cmltIiwiY29kZUdlbmVyYXRpb25Jbml0SlMiLCJtb2R1bGVJRCIsIm1vZHVsZU91dHB1dCIsIm1vZHVsZXNfbGlzdCIsImNyZWF0ZUVsZW1lbnQiLCJtb2R1bGVzX2xpc3Rfc29ydGFibGUiLCJTb3J0YWJsZSIsImNyZWF0ZSIsInNvcnQiLCJncm91cCIsIm5hbWUiLCJwdWxsIiwicHV0IiwiYW5pbWF0aW9uIiwiaGFuZGxlIiwiZHJhZ2dhYmxlIiwiY2hvc2VuQ2xhc3MiLCJzY3JvbGwiLCJzY3JvbGxTZW5zaXRpdml0eSIsInNjcm9sbFNwZWVkIiwic2V0RGF0YSIsImRhdGFUcmFuc2ZlciIsImRyYWdFbCIsIlV0aWxzIiwibXNpZXZlcnNpb24iLCJvblN0YXJ0IiwiZXZ0Iiwib2xkSW5kZXgiLCJvbkVuZCIsIm5ld0luZGV4IiwiaXRlbUVsIiwiaXRlbSIsInBhcmVudE5vZGUiLCJkc2xjX21vZHVsZV9vdXRwdXRfZGVmYXVsdCIsImRzbGNKdXN0QWRkZWQiLCJIZWxwZXJzIiwiaW5zZXJ0TW9kdWxlIiwic2V0VGltZW91dCIsImRzbGNfbWFzb25yeSIsInZpc2liaWxpdHkiLCJkc2xjX3RhYnMiLCJkc2xjX2luaXRfYWNjb3JkaW9uIiwiYXR0ciIsIlVJIiwic3RvcFNjcm9sbGVyIiwib25BZGQiLCJmcm9tIiwib25VcGRhdGUiLCJvblNvcnQiLCJvblJlbW92ZSIsIm9uRmlsdGVyIiwib25Nb3ZlIiwiZHJhZ2dlZCIsImRyYWdnZWRSZWN0IiwicmVsYXRlZCIsInJlbGF0ZWRSZWN0IiwidG8iLCJFbGVtZW50cyIsIkFjdGlvbnMiLCJGbGFncyIsIlByZXZpZXdGcmFtZSIsIlByb2R1Y3Rpb24iLCJ3aW5kb3dTY3JvbGxlciIsInBhbmVsT3BlbmVkIiwiZ2VuZXJhdGVfY29kZV9hZnRlcl9yb3dfY2hhbmdlZCIsInBvc3Rwb25lZF9hY3Rpb25zX3F1ZXVlIiwiYWRkX3Bvc3Rwb25lZF9hY3Rpb24iLCJhY3Rpb25fbmFtZSIsImlzTmFOIiwicmVsZWFzZV9wb3N0cG9uZWRfYWN0aW9ucyIsInNlbGYiLCJtb2R1bGVIVE1MIiwiYWZ0ZXJPYmplY3QiLCJuZXdNb2R1bGUiLCJzY3JpcHRzIiwicmVtb3ZlQ2hpbGQiLCJhZnRlciIsInNjcmlwdCIsImFwcGVuZENoaWxkIiwicHJldmlld0FyZWFUaW55TUNFTG9hZGVkIiwiZml4Q29udGVudGVkaXRhYmxlIiwic2V0dGluZ3NQYW5lbEluaXQiLCJzZWN0aW9uc0luaXQiLCJtYWluRHJhZ2dhYmxlIiwiZXEiLCJDU2VjdGlvbnNDb250YWluZXIiLCJ0cmlnZ2VyIiwia2V5cHJlc3NFdmVudHMiLCJpbml0UHJldmlld0FyZWFTY3JvbGxlciIsInVudGlsc0luaXRKcyIsIk1vZHVsZUFyZWEiLCJlbGVtIiwic2VjdGlvbiIsIm9ic2VydmVyIiwibXFNdXRhdGlvbk9ic2VydmVyIiwiY2xhc3NMaXN0IiwiYWRkIiwiY2hpbGRMaXN0Iiwic29ydGFibGUiLCJnaG9zdENsYXNzIiwiZHNsY19tb2R1bGVzX2FyZWFfYWRkIiwib3B0aW9uIiwiaW5pdF9zb3J0YWJsZXMiLCJhY3Rpb25BdmFpbCIsInNoYWtlUGFuZWxDb25maXJtQnV0dG9uIiwiYWRkU2VjdGlvbiIsImRzbGNfY29weV9tb2R1bGVzX2FyZWEiLCJtb2R1bGVzQXJlYUVtcHR5IiwiQ01vZGFsV2luZG93IiwidGl0bGUiLCJEU0xDU3RyaW5nIiwic3RyX2RlbF9hcmVhX3RpdGxlIiwic3RyX2RlbF9hcmVhX2Rlc2NyIiwiY29uZmlybSIsImRzbGNfbW9kdWxlc19hcmVhX2RlbGV0ZSIsImRzbGNfZGVsZXRlX21vZHVsZXNfYXJlYSIsIm1vZHVsZUFyZWFKUSIsIm9sZFNpemUiLCJuZXdTaXplIiwiTnVtYmVyIiwiZHNsY19tb2R1bGVzX2FyZWFfd2lkdGhfc2V0Iiwicm93IiwiYXBwZW5kVG8iLCJoZWlnaHQiLCJlbXB0eU1vZHVsZUFyZWFzIiwiYXJlYSIsImRzbGNEZWxldGVTZWN0aW9uVG9vIiwiZHNsY19zaG93X3NlY3Rpb24iLCJwYXJlbnRTZWN0aW9uQ29udGFpbmVyIiwiZHNsY19yb3dfZGVsZXRlIiwibWFyZ2luQm90dG9tIiwiZHNsY19tb2R1bGVzX2FyZWFfY29weSIsImRzbGNfbW9kdWxlSUQiLCJkc2xjX21vZHVsZXNBcmVhQ2xvbmVkIiwiY2xvbmUiLCJkc2xjX21vZHVsZV9uZXdfaWQiLCJuZXdXaWR0aCIsIm5ld0NsYXNzIiwiZHNsY19hZGRfbW9kdWxlc19hcmVhIiwic2Nyb2xsZXJQbHVnaW4iLCJjb250YWluZXIiLCJkZWx0YUtvZWYiLCJpbmNyZW1lbnQiLCJzY3JvbGxpbmMiLCJzY3JvbGxlciIsInNjcm9sbElubmVyIiwic2Nyb2xsX3RvIiwib3JpZ2luYWxFdmVudCIsImRlbHRhWSIsImRlbHRhWCIsImRlbHRhIiwibGlzdFdpZHRoIiwid2lkdGgiLCJjb250ZW50V2lkdGgiLCJzY3JvbGxNYXgiLCJzdHlsZSIsImxlZnQiLCJjbGljayIsInJlc2l6ZSIsInB4SW5UaWsiLCJ0aW1lclRpayIsInB1Ymxpc2giLCJzZXRJbnRlcnZhbCIsInNjcm9sbEJ5IiwiY2xlYXJJbnRlcnZhbCIsIlNlY3Rpb24iLCJzb3J0YWJsZUNvbnRhaW5lciIsImRyb3BwYWJsZSIsImRyb3AiLCJ1aSIsImNvbm5lY3RXaXRoIiwiaXRlbXMiLCJwbGFjZWhvbGRlciIsImN1cnNvckF0IiwidG9wIiwidG9sZXJhbmNlIiwib3ZlciIsImRzbGNTZWN0aW9uIiwic2libGluZ3MiLCJ1cGRhdGUiLCJzdGFydCIsInN0cl9hcmVhX2hlbHBlcl90ZXh0IiwibWFyZ2luIiwic3RvcCIsImNoYW5nZSIsInN0cl9kZWxfcm93X3RpdGxlIiwic3RyX2RlbF9yb3dfZGVzY3IiLCJzdHJfaW1wb3J0X3Jvd190aXRsZSIsInN0cl9pbXBvcnRfcm93X2Rlc2NyIiwiZHNsY19yb3dfaW1wb3J0IiwiY29uZmlybV90aXRsZSIsInN0cl9pbXBvcnQiLCJzdHJfb2siLCJzdHJfZXhwb3J0X3Jvd190aXRsZSIsInN0cl9leHBvcnRfcm93X2Rlc2NyIiwiZHNsY19yb3dfY29weSIsImJ1dHRvbiIsIm1vZHVsZV9lZGl0ZWQiLCJyb3dfZWRpdGVkIiwiZHNsY19yb3dfZWRpdCIsImNhbGxiYWNrIiwiZGVmZXIiLCJEZWZlcnJlZCIsImJyb3dzZXJDYWNoZVRtcCIsInNlc3Npb25TdG9yYWdlIiwibmV3Um93IiwiY2FjaGVkQWpheFJlcXVlc3QiLCJnZXRJdGVtIiwiY3VycmVudF92YWx1ZSIsImNhY2hlX2N1cmVudF92YWx1ZSIsIkRTTENNYWluT3B0aW9ucyIsInNlY3Rpb25fcGFkZGluZ192ZXJ0aWNhbCIsInJlbW92ZUl0ZW0iLCJzZXRJdGVtIiwiZHNsY19yb3dfYWZ0ZXJfYWRkIiwibmV3Um93SFRNTCIsImRzbGNNb2R1bGVzU2VjdGlvbk9wdHMiLCJkc2xjVmFsIiwiaW5kZXhPZiIsInByb3AiLCJfdGhpcyIsImRzbGNQYXJlbnQiLCJkc2xjX2hpZGVfcHVibGlzaF9idXR0b24iLCJkc2xjX3Jvd19lZGl0X2NhbmNlbCIsImRzbGNfcm93X2VkaXRfY29uZmlybSIsImRzbGNfbW9kdWxlX2lkIiwiZHNsY01vZHVsZXNTZWN0aW9uQ2xvbmVkIiwicmVtb3ZlQXR0cmlidXRlIiwiZHNsY0luZGV4IiwiZHNsY19zZWN0aW9uX25ld19pZCIsImRzbGNfc2VjdGlvbl9pZCIsImdldF91bmlxdWVfaWQiLCJzZXRBdHRyaWJ1dGUiLCJ1cGRhdGVfc2VjdGlvbl9wcm9wZXJ0eV9yYXciLCJyb3dDb2RlIiwiZHNsY19tb2R1bGVzX3NlY3Rpb25fY29kZSIsImRzbGNfanNfY29uZmlybV9jbG9zZSIsImRzbGNfYWRkX21vZHVsZXNfc2VjdGlvbiIsImRzbGNfZGVsZXRlX21vZHVsZXNfc2VjdGlvbiIsImRzbGNfZWRpdF9tb2R1bGVzX3NlY3Rpb24iLCJkc2xjX2NvcHlfbW9kdWxlc19zZWN0aW9uIiwiZHNsY19pbXBvcnRfbW9kdWxlc19zZWN0aW9uIiwicmVtb3ZlQXR0ciIsImRzbGNfcmVzcG9uc2l2ZV9jbGFzc2VzIiwiYm90dG9tIiwiYXhpcyIsInN0cl9yb3dfaGVscGVyX3RleHQiLCJkc2xjUmVndWxhckZvbnRzQXJyYXkiLCJEU0xDRm9udHMiLCJyZWd1bGFyIiwiZHNsY0dvb2dsZUZvbnRzQXJyYXkiLCJnb29nbGUiLCJkc2xjQWxsRm9udHNBcnJheSIsImNvbmNhdCIsImRzbGNJY29uc0N1cnJlbnRTZXQiLCJEU0xDSWNvbnMiLCJmb250YXdlc29tZSIsImRzbGNfbW9kdWxlX29wdGlvbnNfdG9vbHRpcCIsImRzbGNfbW9kdWxlX29wdGlvbnNfZm9udCIsImRzbGNfbW9kdWxlX29wdGlvbnNfaWNvbiIsImRzbGNfbW9kdWxlX29wdGlvbnNfaWNvbl9yZXR1cm5pZCIsImRzbGNfbW9kdWxlX29wdGlvbnNfdGV4dF9hbGlnbiIsImRzbGNfbW9kdWxlX29wdGlvbnNfY2hlY2tib3giLCJkc2xjX21vZHVsZV9vcHRpb25zX2JveF9zaGFkb3ciLCJkc2xjX21vZHVsZV9vcHRpb25zX3RleHRfc2hhZG93IiwiZHNsY2Ffb3B0aW9uc193aXRoX2NvbG9ycGlja2VyIiwiZHNsY19tb2R1bGVfb3B0aW9uc19jb2xvciIsIndyYXBwZXIiLCJvcHRpb25zUGFuZWwiLCJjb2xvcnBpY2tlciIsIm9mZnNldCIsIm9mZnNldFBvcHVwIiwid2luZG9XaWR0aCIsImlubmVyV2lkdGgiLCJwb3B1cFdpZHRoIiwiZHNsY19tb2R1bGVfb3B0aW9uc19udW1lcmljIiwiZHNsY19tb2R1bGVfb3V0cHV0X2FsdGVyZWQiLCJkc2xjX21vZHVsZV9vcHRpb25zX3RhYl9maWx0ZXIiLCJkc2xjUHJldiIsImN1cnJlbnRTZWN0aW9uIiwiZHNsY19tb2R1bGVfb3B0aW9uc19zZWN0aW9uX2ZpbHRlciIsInJlc2l6YWJsZSIsImRzbGNfbW9kdWxlX29wdGlvbnNfY29uZmlybV9jaGFuZ2VzIiwidW5sb2FkT3B0aW9uc0RlcHMiLCJkc2xjX2Rpc2FibGVfcmVzcG9uc2l2ZV92aWV3IiwiZHNsY19tb2R1bGVfb3B0aW9uc19jYW5jZWxfY2hhbmdlcyIsImNvbG9ycGlja2VycyIsImNsZWFyVXRpbHMiLCJjbGVhckNvbG9yUGlja2VycyIsIm1vZHVsZUJhY2t1cCIsImlzQXJyYXkiLCJvZmYiLCJkZXBzSGFuZGxlcnMiLCJsb2FkT3B0aW9uc0RlcHMiLCJwYXJzZWQiLCJkZXAiLCJiNjRfdG9fdXRmOCIsImhhbmRsZXIiLCJvcHRFbGVtIiwibG9jYWxEZXAiLCJPYmplY3QiLCJrZXlzIiwib3B0X3ZhbCIsInNwbGl0Iiwib3B0X3dyYXAiLCJjaGVja2VkQ2hlY2tib3giLCJpcyIsInNlY3Rpb25fdGFiIiwibm90IiwidW5iaW5kIiwicHJvY2Vzc0lubGluZVN0eWxlVGFnIiwicGFyYW1zIiwicmVzcF9wcmVmaXgiLCJyZXNwX3Bvc3RmaXgiLCJjb250ZXh0Iiwic3R5bGVDb250ZW50IiwicnVsZSIsImVsZW1zIiwic3R5bGVUYWciLCJjbGFzc05hbWUiLCJib2R5Iiwic2VjdGlvbklEIiwiZWxlbWVudE9wdGlvbnNUYWJzIiwiZHNsY1RhYiIsImRzbGNTZWN0aW9uSUQiLCJkc2xjVGFiSUQiLCJkc2xjX21vZHVsZV9vcHRpb25zX2hpZGVzaG93X3RhYnMiLCJzdHJfcmVzX3RhYmxldCIsInRvTG93ZXJDYXNlIiwic3RyX3Jlc19waG9uZSIsInRvdGFsV2lkdGhPcHRpb24iLCJ0b3RhbFdpZHRoR3JvdXAiLCJ0b3RhbFdpZHRoIiwib3V0ZXJXaWR0aCIsImRzbGNDb250YWluZXIiLCJkc2xjSGVhZGluZyIsImRzbGNGaWx0ZXJzIiwiZHNsY0NhckFycm93cyIsImRzbGNDYXJDaXJjbGVzIiwiZHNsY1BhZ2luYXRpb24iLCJkc2xjRWxUaHVtYiIsImRzbGNFbFRpdGxlIiwiZHNsY0VsRXhjZXJwdCIsImRzbGNFbE1ldGEiLCJkc2xjRWxCdXR0b24iLCJkc2xjRWxDYXRzIiwiZHNsY0VsQ291bnQiLCJkc2xjRWxTZXBhcmF0b3IiLCJkc2xjRWxUYWdzIiwiZHNsY0VsU29jaWFsIiwiZHNsY0VsUG9zaXRpb24iLCJkc2xjRWxJY29uIiwiZHNsY0VsQ29udGVudCIsImRzbGNFbFByaWNlIiwiZHNsY0VsUHJpY2VTZWMiLCJkc2xjRWxBZGRDYXJ0IiwiZHNsY0VsRGV0YWlscyIsImRzbGNFbFF1b3RlIiwiZHNsY0VsQXV0aG9yTmFtZSIsImRzbGNFbEF1dGhvclBvcyIsImRzbGNFbEltYWdlIiwiZHNsY0VsTG9nbyIsImRzbGNDdXN0b21DU1MiLCJkc2xjQ3VzdG9tQ1NTVmFsIiwiZGF0YV90YWIiLCJkc2xjX3VwZGF0ZV9wcmVzZXQiLCJlZGl0ZWRNb2R1bGUiLCJkc2xjVHRpcCIsImRzbGNUdGlwSW5uZXIiLCJkc2xjSG9vayIsImRzbGNUdGlwQ29udGVudCIsImRzbGNMYWJlbCIsInBhcmVudCIsImRzbGNPZmZzZXQiLCJkc2xjVHRpcEhlaWdodCIsIm91dGVySGVpZ2h0IiwiZHNsY1R0aXBXaWR0aCIsImRzbGNUdGlwTGVmdCIsImRzbGNUdGlwQXJyTGVmdCIsImRzbGNPcHRpb24iLCJkc2xjRmllbGQiLCJkc2xjQ3VyckluZGV4IiwiZHNsY05ld0luZGV4IiwidGV4dCIsImRzbGNNYXRjaGluZ0ZvbnQiLCJkc2xjRm9udCIsIndoaWNoIiwic2VhcmNoIiwicmUiLCJSZWdFeHAiLCJkc2xjRm9udHNBbW91bnQiLCJ0ZXN0Iiwic3Vic3RyaW5nIiwiZHNsY19saXN0X2ljb24iLCJvYmplY3QiLCJkaXJlY3Rpb24iLCJkc2xjSWNvbnNBcnJheUdyZXAiLCJkc2xjSWNvbiIsImdyZXAiLCJzZWxlY3RlZEljb25Db2RlIiwibmV3T3B0Iiwib3RoZXJPcHQiLCJuZXdWYWwiLCJyZWFsT3B0IiwiY2hlY2tGYWtlIiwiY2hlY2tSZWFsIiwiYm94U2hhZG93V3JhcHBlciIsImJveFNoYWRvd0lucHV0IiwiYm94U2hhZG93SG9yIiwiYm94U2hhZG93VmVyIiwiYm94U2hhZG93Qmx1ciIsImJveFNoYWRvd1NwcmVhZCIsImJveFNoYWRvd0NvbG9yIiwiYm94U2hhZG93SW5zZXQiLCJib3hTaGFkb3dWYWwiLCJ0ZXh0U2hhZG93V3JhcHBlciIsInRleHRTaGFkb3dJbnB1dCIsInRleHRTaGFkb3dIb3IiLCJ0ZXh0U2hhZG93VmVyIiwidGV4dFNoYWRvd0JsdXIiLCJ0ZXh0U2hhZG93Q29sb3IiLCJ0ZXh0U2hhZG93VmFsIiwiZmllbGQiLCJkc2xjQ29sb3JGaWVsZCIsImRzbGNBZmZlY3RPbkNoYW5nZUVsIiwiZHNsY0FmZmVjdE9uQ2hhbmdlUnVsZSIsImRzbGNDb2xvckZpZWxkVmFsIiwiZHNsY09wdGlvbklEIiwiZHNsY0N1cnJDb2xvciIsImRzbGNDb2xvclBhbGxldGUiLCJjdXJyU3RvcmFnZSIsInBhbGxldGVDdXJyZW50RG9tbWFpbiIsImRvbWFpbiIsImxvY2FsU3RvcmFnZSIsInF1ZXJ5IiwiaW5wdXQiLCJ3cENvbG9yUGlja2VyIiwibW9kZSIsInBhbGV0dGVzIiwiY29sb3IiLCJjb2xvclBpY2tlclBvcHVwIiwiYXBwbHkiLCJuZXdTdG9yYWdlIiwidW5zaGlmdCIsInBvcCIsImZpZWxkV3JhcHBlciIsImNvbnRyb2xXcmFwcGVyIiwid29ya2luZ1dpdGhNb2R1bGUiLCJzbGlkZXJJbnB1dCIsInNsaWRlckV4dCIsInNsaWRlckNvbnRyb2wiLCJjdXJyZW50VmFsIiwicGFyc2VGbG9hdCIsIm1heCIsIm1pbiIsImluYyIsIm1heF9vcmlnIiwibWluX29yaWciLCJvbmx5cG9zaXRpdmUiLCJzbGlkZXIiLCJzdGVwIiwic2xpZGUiLCJjb250YWlucyIsInNoaWZ0S2V5Iiwia2V5Q29kZSIsImNoYXJDb2RlIiwiY29udGFpbmVyV3JhcHBlciIsImN1cnJlbnRTbGlkZXJJbnN0YW5jZSIsIm1vZHVsZSIsImRzbGNfZmlsdGVyX21vZHVsZV9vcHRpb25zIiwiZHNsY19zaG93X21vZHVsZV9vcHRpb25zX3RhYiIsInRhYiIsImRzbGNfY29uZmlybV9jaGFuZ2VzIiwiZHNsY19jYW5jZWxfY2hhbmdlcyIsImRzbGNfaW5pdF9jb2xvcnBpY2tlciIsImRzbGNfaW5pdF9vcHRpb25zX3NsaWRlciIsImRzbGNfbW9kdWxlX2VkaXRfb3B0aW9uc19oaWRlc2hvd190YWJzIiwib25lcnJvciIsImVycm9yIiwiZmlsZSIsImxpbmUiLCJjaGFyIiwiZHNsY2FfZ2VuZXJhdGVfZXJyb3JfcmVwb3J0IiwiZXJyb3JzX2NvbnRhaW5lciIsImNvbnRlbnRXaW5kb3ciLCJkc2xjYV91cGRhdGVfcmVwb3J0X2xvZyIsImFjdGl2ZUVsZW1lbnQiLCJuZXdPZmZzZXQiLCJvdXRsaW5lQ29sb3IiLCJjYWxsYmFja3MiLCJzY3JvbGxUb3AiLCJrZXlwcmVzcyIsIm1ldGFLZXkiLCJjdHJsS2V5IiwiZHNsY19hamF4X3NhdmVfY29tcG9zZXIiLCJkc2xjX2hpZGVfY29tcG9zZXIiLCJkc2xjX3Nob3dfY29tcG9zZXIiLCJzZWN0aW9uVGl0bGUiLCJyZWRpcmVjdF91cmwiLCJzdHJfZXhpdF90aXRsZSIsInN0cl9leGl0X2Rlc2NyIiwibG9jYXRpb24iLCJkc2xjX2dlbmVyYXRlX2ZpbHRlcnMiLCJzbGlkZVRvZ2dsZSIsIm9yaWdpbiIsImRzbGNfZmlsdGVyX29yaWdpbiIsIm5ld0NvbG9yIiwiZmlsdGVycyIsImZpbHRlcnNIVE1MIiwiZWxzIiwiaW5BcnJheSIsImRzbGNfb3B0aW9uX2NoYW5nZWQiLCJkc2xjX3Rvb2dsZV9jb250cm9sIiwiY29udHJvbF9pZCIsImNvbnRyb2wiLCJjb250cm9sX3N0b3JhZ2UiLCJtb2R1bGVfaWQiLCJyZXNwb25zaXZlX3ByZWZpeCIsImFmZmVjdF9vbl9jaGFuZ2VfZWwiLCJhZmZlY3Rfb25fY2hhbmdlX2VsbXRzIiwiYWZmZWN0X29uX2NoYW5nZV9ydWxlIiwiYWZmZWN0X29uX2NoYW5nZV9ydWxlcyIsImNvbnRyb2xfdmFsdWUiLCJjb250cm9sX2RhdGFfZXh0IiwidG9nZ2xlQ2xhc3MiLCJkc2xjX2dldF9jb250cm9sX3ZhbHVlIiwiZGlzYWJsZV9jc3NfcnVsZSIsImRzbGNfY29tYmluZV92YWx1ZV9hbmRfZXh0ZW5zaW9uIiwidG9nZ2xlIiwiaGFzIiwic2VsZWN0b3JDU1MiLCJydWxlQ1NTIiwiY3NzUnVsZXMiLCJ0YXJnZXRfc3R5bHNoZWV0X0lEIiwic3R5bGVzaGVldCIsInNoZWV0IiwiUiIsInNlbGVjdG9yVGV4dCIsImV4dGVuc2lvbiIsImNvbnRyb2xfdHlwZSIsImJpbmQiLCJrZXlkb3duX2V2ZW50IiwiZHNsY19tb2RhbF9rZXlwcmVzc19ldmVudHMiLCJkc2xjX2Rpc2FibGVfYmFja3NwYWNlX25hdmlnYXRpb24iLCJkc2xjX25vdGljZV9vbl9yZWZyZXNoIiwiZHNsY19zYXZlX3BhZ2UiLCJkb1ByZXZlbnQiLCJkIiwic3JjRWxlbWVudCIsInRhZ05hbWUiLCJ0b1VwcGVyQ2FzZSIsInJlYWRPbmx5IiwiZGlzYWJsZWQiLCJvZmZzZXRQYXJlbnQiLCJzdHJfcmVmcmVzaF90aXRsZSIsInN0cl9yZWZyZXNoX2Rlc2NyIiwicmVsb2FkIiwibWF0Y2giLCJlcnJvcl9yZXBvcnQiLCJTdG9yYWdlIiwiaGVhZGVyRm9vdGVyIiwib3ZlcmxheSIsImxpbmtUb0VkaXQiLCJoZlR5cGUiLCJlZGl0aW5nTGFiZWwiLCJlZGl0aW5nU3ViTGFiZWwiLCJodG1sT2JqZWN0IiwiYWRkc2xhc2hlcyIsInN0ciIsImJhc2VuYW1lIiwicGF0aCIsInVhIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwibXNpZSIsImNoZWNrUGFyYW1zIiwiYXJyYXkiLCJ0eXBlcyIsImludGVnZXIiLCJwYXJhbSIsImZsb2F0Iiwic3RyaW5nIiwibWFwIiwidXRmOF90b19iNjQiLCJ0IiwiYnRvYSIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZXNjYXBlIiwiYXRvYiIsImdldF9wYWdlX3BhcmFtcyIsInJlZHVjZSIsIl9yZWR1Y2UiLCJhIiwiYiIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInVwZGF0ZV9tb2R1bGVfcHJvcGVydHlfcmF3IiwicHJvcGVydHlfbmFtZSIsInByb3BlcnR5X3ZhbHVlIiwibW9kdWxlX2NvZGVfY29udGFpbmVyIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInByb3BlcnR5X2NvbnRhaW5lciIsIm1vZHVsZV9jb2RlIiwic2VjdGlvbl9jb2RlX2NvbnRhaW5lciIsInNlY3Rpb25fY29kZSIsImV2ZW50TmFtZSIsImV2ZW50RGF0YSIsIm1lc3NhZ2UiLCJkZXRhaWxzIiwiZHNsY2FfcHVibGlzaF9ldmVudCJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0RBQTBDLGdDQUFnQztBQUMxRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdFQUF3RCxrQkFBa0I7QUFDMUU7QUFDQSx5REFBaUQsY0FBYztBQUMvRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQXlDLGlDQUFpQztBQUMxRSx3SEFBZ0gsbUJBQW1CLEVBQUU7QUFDckk7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBMkIsMEJBQTBCLEVBQUU7QUFDdkQseUNBQWlDLGVBQWU7QUFDaEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0EsOERBQXNELCtEQUErRDs7QUFFckg7QUFDQTs7O0FBR0E7QUFDQTs7Ozs7Ozs7Ozs7OztBQ2xGQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7Ozs7Ozs7QUFXYTs7QUFFYjtBQUNBO0FBQ0E7QUFFQTs7OztBQUdBLElBQU1BLGdCQUFnQixHQUFHLFNBQW5CQSxnQkFBbUIsQ0FBRUMsUUFBRixFQUFnQjtBQUV4QyxNQUFLQyxNQUFNLENBQUNDLFNBQVosRUFB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QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULDRDQUE0Qzs7QUFFNUM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLCtCQUErQjs7QUFFL0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOzs7QUFHVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCOztBQUV4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxREFBcUQ7O0FBRXJEO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qzs7QUFFekM7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHFEQUFxRDs7QUFFckQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRTs7QUFFcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx3Q0FBd0M7O0FBRXhDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtRkFBbUY7QUFDbkY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQixZQUFZLE9BQU87QUFDbkIsWUFBWSxZQUFZO0FBQ3hC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QSxTQUFTO0FBQ1Q7OztBQUdBOztBQUVBO0FBQ0E7QUFDQSxTQUFTOzs7QUFHVCw0Q0FBNEM7OztBQUc1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsRUFBRTs7O0FBR1g7QUFDQSxRQUFROzs7QUFHUjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0Q7O0FBRXREO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPLEVBQUU7O0FBRVQ7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTs7QUFFQSxpQ0FBaUM7O0FBRWpDO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQzs7QUFFdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBIQUEwSDs7QUFFMUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7O0FBRWpDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOzs7QUFHTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsOERBQThEOztBQUU5RDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0NBQWtDOztBQUVsQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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Q0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOzs7QUFHTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlDQUF5Qzs7QUFFekM7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksWUFBWTtBQUN4QixZQUFZLE9BQU87QUFDbkI7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxZQUFZO0FBQ3pCLGFBQWE7QUFDYjtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUU7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLG1DQUFtQztBQUMvQzs7QUFFQTtBQUNBLHdFQUF3RSxhQUFhO0FBQ3JGO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHFGQUFxRjtBQUNyRjs7QUFFQSx1REFBdUQ7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QixXQUFXLE9BQU87QUFDbEI7OztBQUdBO0FBQ0E7QUFDQSxFQUFFOzs7QUFHRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNEQUFzRDs7QUFFdEQ7O0FBRUE7QUFDQSwwRUFBMEU7O0FBRTFFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCOztBQUVyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EscUJBQXFCLGdCQUFnQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDs7QUFFckQ7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVILGlDQUFpQztBQUNqQyxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPOzs7QUFHUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7O0FBR1Q7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFD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OztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCLFlBQVksWUFBWTtBQUN4Qjs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRWUsdUVBQVEsRUFBQztBQUM4QyIsImZpbGUiOiJlZGl0b3JfYmFja2VuZC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXCIuL2pzL3NyYy9lZGl0b3IvYmFja2VuZC9pbmRleC5qc1wiKTtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqXG4gKiA9IFRFTVBMQVRFUyA9XG4gKlxuICogLSBkc2xjX2xvYWRfdGVtcGxhdGUgKCBMb2FkIFRlbXBsYXRlIClcbiAqIC0gZHNsY19pbXBvcnRfdGVtcGxhdGUgKCBJbXBvcnQgVGVtcGxhdGUgKVxuICogLSBkc2xjX3NhdmVfdGVtcGxhdGUgKCBTYXZlIFRFbXBsYXRlIClcbiAqIC0gZHNsY19kZWxldGVfdGVtcGxhdGUgKCBEZWxldGUgVGVtcGxhdGUgKVxuICpcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBzZWN0aW9uc0luaXRKUyB9IGZyb20gJy4vc2VjdGlvbnMuanMnO1xuaW1wb3J0IHsgZHJhZ0FuZERyb3BJbml0IH0gZnJvbSAnLi9kcmFnbmRyb3AuanMnO1xuaW1wb3J0IHsgbW9kdWxlYXJlYXNJbml0SlMgfSBmcm9tICcuL21vZHVsZWFyZWEuanMnO1xuXG4vKipcbiAqIFRFTVBMQVRFUyAtIExvYWRcbiAqL1xuY29uc3QgbG9hZFRlbXBsYXRlQnlJZCA9ICggdGVtcGxhdGUgKSA9PiB7XG5cblx0aWYgKCB3aW5kb3cuZHNsY0RlYnVnICkgY29uc29sZS5sb2coICdkc2xjX2xvYWRfdGVtcGxhdGUnICk7XG5cblx0Ly8gVmFyc1xuXHR2YXIgZHNsY01vZHVsZSwgZHNsY01vZHVsZUlEO1xuXG5cdC8vIFRlbXBsYXRlIHByZWxvYWRlclxuXHRqUXVlcnkoJyN3cGNvbnRlbnQnKS5wcmVwZW5kKCc8ZGl2IGNsYXNzPVwibGMtdGVtcGxhdGUtbG9hZGVyXCI+PC9kaXY+Jyk7XG5cblx0dmFyIGJsb2NrID0gJzxkaXYgY2xhc3M9XCJsYy1sb2FkZXIgbGRzLWNzc1wiPjxkaXYgY2xhc3M9XCJsZHMtc3Bpbm5lclwiPjxkaXY+PC9kaXY+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PjxkaXY+PC9kaXY+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PjxkaXY+PC9kaXY+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PjxkaXY+PC9kaXY+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PjwvZGl2Pic7XG5cblx0alF1ZXJ5KCcubGMtdGVtcGxhdGUtbG9hZGVyJykucHJlcGVuZChibG9jayk7XG5cblxuXHQvLyBBamF4IGNhbGwgdG8gZ2V0IHRlbXBsYXRlJ3MgSFRNTFxuXHRqUXVlcnkucG9zdChcblxuXHRcdERTTENBamF4LmFqYXh1cmwsXG5cdFx0e1xuXHRcdFx0YWN0aW9uIDogJ2RzbGMtYWpheC1sb2FkLXRlbXBsYXRlJyxcblx0XHRcdGRzbGMgOiAnYWN0aXZlJyxcblx0XHRcdGRzbGNfdGVtcGxhdGVfaWQgOiB0ZW1wbGF0ZVxuXHRcdH0sXG5cdFx0ZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuXG5cdFx0XHQvLyBBcHBseSB0aGUgdGVtcGxhdGUncyBIVE1MXG5cdFx0XHRqUXVlcnkoJyNkc2xjLW1haW4nLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5odG1sKCByZXNwb25zZS5vdXRwdXQgKTtcblxuXHRcdFx0alF1ZXJ5KCcubGMtdGVtcGxhdGUtbG9hZGVyJykucmVtb3ZlKCk7XG5cblx0XHRcdC8vIENhbGwgb3RoZXIgZnVuY3Rpb25zXG5cdFx0XHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYVdpbmRvdy5kc2xjX2Nhcm91c2VsKCk7XG5cblx0XHRcdC8vIENoZWNrIGluaXQgZm9yIHJvd3MgYW5kIG1vZHVsZSBhcmVhc1xuXHRcdFx0c2VjdGlvbnNJbml0SlMoKTtcblx0XHRcdG1vZHVsZWFyZWFzSW5pdEpTKCk7XG5cblx0XHRcdGRyYWdBbmREcm9wSW5pdCgpO1xuXHRcdFx0d2luZG93LmRzbGNfc2hvd19wdWJsaXNoX2J1dHRvbigpO1xuXHRcdFx0d2luZG93LmRzbGNfZ2VuZXJhdGVfY29kZSgpO1xuXHRcdH1cblx0KTtcbn1cblxuLyoqXG4gKiBURU1QTEFURVMgLSBJbXBvcnRcbiAqL1xuZnVuY3Rpb24gZHNsY190ZW1wbGF0ZV9pbXBvcnQoKSB7XG5cblx0aWYgKCB3aW5kb3cuZHNsY0RlYnVnICkgY29uc29sZS5sb2coICdkc2xjX2ltcG9ydF90ZW1wbGF0ZScgKTtcblxuXHQvLyBWYXJzXG5cdHZhciBkc2xjTW9kdWxlLCBkc2xjTW9kdWxlSUQ7XG5cblx0Ly8gSGlkZSB0aGUgdGl0bGUgb24gdGhlIGJ1dHRvbiBhbmQgc2hvdyBsb2FkaW5nIGFuaW1hdGlvblxuXHRqUXVlcnkoJy5kc2xjYS1tb2RhbC10ZW1wbGF0ZXMtaW1wb3J0IC5kc2xjYS1tb2RhbC10aXRsZScpLmNzcyh7IG9wYWNpdHkgOiAwIH0pO1xuXHRqUXVlcnkoJy5kc2xjYS1tb2RhbC10ZW1wbGF0ZXMtaW1wb3J0IC5kc2xjYS1sb2FkaW5nJykuc2hvdygpO1xuXG5cdC8vIEFqYXggY2FsbCB0byBsb2FkIHRlbXBsYXRlJ3MgSFRNTFxuXHRqUXVlcnkucG9zdChcblxuXHRcdERTTENBamF4LmFqYXh1cmwsXG5cdFx0e1xuXHRcdFx0YWN0aW9uIDogJ2RzbGMtYWpheC1pbXBvcnQtdGVtcGxhdGUnLFxuXHRcdFx0ZHNsYyA6ICdhY3RpdmUnLFxuXHRcdFx0ZHNsY190ZW1wbGF0ZV9jb2RlIDogalF1ZXJ5KCcjZHNsY2EtaW1wb3J0LWNvZGUnKS52YWwoKVxuXHRcdH0sXG5cdFx0ZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuXG5cdFx0XHQvLyBBcHBseSB0aGUgdGVtcGxhdGUncyBIVE1MXG5cdFx0XHRqUXVlcnkoJyNkc2xjLW1haW4nLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5odG1sKCByZXNwb25zZS5vdXRwdXQgKTtcblxuXHRcdFx0Ly8gSGlkZSB0aGUgbG9hZGluZyBvbiB0aGUgYnV0dG9uIGFuZCBzaG93IHRoZSB0aXRsZVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kYWwtdGVtcGxhdGVzLWltcG9ydCAuZHNsY2EtbG9hZGluZycpLmhpZGUoKTtcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZGFsLXRlbXBsYXRlcy1pbXBvcnQgLmRzbGNhLW1vZGFsLXRpdGxlJykuY3NzKHsgb3BhY2l0eSA6IDEgfSk7XG5cblx0XHRcdC8vIEhpZGUgdGhlIG1vZGFsXG5cdFx0XHRkc2xjX2hpZGVfbW9kYWwoICcnLCAnLmRzbGNhLW1vZGFsLXRlbXBsYXRlcy1pbXBvcnQnICk7XG5cblx0XHRcdC8vIENhbGwgb3RoZXIgZnVuY3Rpb25zXG5cdFx0XHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYVdpbmRvdy5kc2xjX2JnX3ZpZGVvKCk7XG5cdFx0XHRkcmFnQW5kRHJvcEluaXQoKTtcblx0XHRcdHdpbmRvdy5kc2xjX3Nob3dfcHVibGlzaF9idXR0b24oKTtcblx0XHRcdHdpbmRvdy5kc2xjX2dlbmVyYXRlX2NvZGUoKTtcblx0XHR9XG5cdCk7XG59XG5cbi8qKlxuICogVEVNUExBVEVTIC0gU0FWRVxuICovXG5mdW5jdGlvbiBkc2xjX3RlbXBsYXRlX3NhdmUoKSB7XG5cblx0aWYgKCB3aW5kb3cuZHNsY0RlYnVnICkgY29uc29sZS5sb2coICdkc2xjX3NhdmVfdGVtcGxhdGUnICk7XG5cblx0Ly8gQUpBWCBjYWxsIHRvIHNhdmUgdGhlIHRlbXBsYXRlXG5cdGpRdWVyeS5wb3N0KFxuXG5cdFx0RFNMQ0FqYXguYWpheHVybCxcblx0XHR7XG5cdFx0XHRhY3Rpb24gOiAnZHNsYy1hamF4LXNhdmUtdGVtcGxhdGUnLFxuXHRcdFx0ZHNsYyA6ICdhY3RpdmUnLFxuXHRcdFx0ZHNsY190ZW1wbGF0ZV9jb2RlIDogalF1ZXJ5KCcjZHNsY2EtY29kZScpLnZhbCgpLFxuXHRcdFx0ZHNsY190ZW1wbGF0ZV90aXRsZSA6IGpRdWVyeSgnI2RzbGNhLXNhdmUtdGVtcGxhdGUtdGl0bGUnKS52YWwoKVxuXHRcdH0sXG5cdFx0ZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuXG5cdFx0XHQvLyBIaWRlIHRoZSBtb2RhbFxuXHRcdFx0ZHNsY19oaWRlX21vZGFsKCAnJywgJy5kc2xjYS1tb2RhbC10ZW1wbGF0ZXMtc2F2ZScgKTtcblx0XHR9XG5cdCk7XG59XG5cbi8qKlxuICogVEVNUExBVEVTIC0gREVMRVRFXG4gKi9cbmZ1bmN0aW9uIGRzbGNfdGVtcGxhdGVfZGVsZXRlKCB0ZW1wbGF0ZSApIHtcblxuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2RzbGNfZGVsZXRlX3RlbXBsYXRlJyApO1xuXG5cdC8vIEFKQVggY2FsbCB0byBkZWxldGUgdGVtcGxhdGVcblx0alF1ZXJ5LnBvc3QoXG5cblx0XHREU0xDQWpheC5hamF4dXJsLFxuXHRcdHtcblx0XHRcdGFjdGlvbiA6ICdkc2xjLWFqYXgtZGVsZXRlLXRlbXBsYXRlJyxcblx0XHRcdGRzbGMgOiAnYWN0aXZlJyxcblx0XHRcdGRzbGNfdGVtcGxhdGVfaWQgOiB0ZW1wbGF0ZVxuXHRcdH0sXG5cdFx0ZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuXG5cdFx0XHQvLyBSZW1vdmUgdGVtcGxhdGUgZnJvbSB0aGUgdGVtcGxhdGUgbGlzdGluZ1xuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtdGVtcGxhdGVbZGF0YS1pZD1cIicgKyB0ZW1wbGF0ZSArICdcIl0nKS5mYWRlT3V0KDIwMCwgZnVuY3Rpb24oKXtcblx0XHRcdFx0alF1ZXJ5KHRoaXMpLnJlbW92ZSgpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHQpO1xufVxuXG4vKipcbiAqIERlcHJlY2F0ZWQgRnVuY3Rpb25zIGFuZCBGYWxsYmFja3NcbiAqL1xuIGZ1bmN0aW9uIGRzbGNfaW1wb3J0X3RlbXBsYXRlKCkgeyBkc2xjX3RlbXBsYXRlX2ltcG9ydCgpOyB9XG4gZnVuY3Rpb24gZHNsY19zYXZlX3RlbXBsYXRlKCkgeyBkc2xjX3RlbXBsYXRlX3NhdmUoKTsgfVxuIGZ1bmN0aW9uIGRzbGNfZGVsZXRlX3RlbXBsYXRlKCB0ZW1wbGF0ZSApIHsgZHNsY190ZW1wbGF0ZV9kZWxldGUoIHRlbXBsYXRlICk7IH1cblxuIC8qKlxuICAqIFRFTVBMQVRFUyAtIERvY3VtZW50IFJlYWR5XG4gICovXG5cbiBleHBvcnQgY29uc3QgdGVtcGxhdGVzUGFuZWxJbml0ID0gKCkgPT4ge1xuXG5cdC8qKlxuXHQgKiBIb29rIC0gTG9hZCBUZW1wbGF0ZVxuXHQgKi9cblx0bGV0IHRlbXBsYXRlSXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kc2xjYS10ZW1wbGF0ZScpO1xuXHQvLyBBdHRhY2ggaW1wb3J0IGZ1bmN0aW9uIHRvIGVhY2ggdGVtcGxhdGUgaXRlbS5cblx0dGVtcGxhdGVJdGVtLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkge1xuXHRcdGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldmVudCA9PiB7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0bGV0IGltcG9ydEJ1dHRvbiA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KFwiW2RhdGEtaWRdXCIpO1xuXHRcdFx0bG9hZFRlbXBsYXRlQnlJZCggaW1wb3J0QnV0dG9uLmRhdGFzZXQuaWQgKTtcblx0XHR9KTtcblx0fSk7XG5cblx0LyoqXG5cdCAqIEhvb2sgLSBJbXBvcnQgVGVtcGxhdGVcblx0ICovXG5cdCQoJy5kc2xjYS10ZW1wbGF0ZS1pbXBvcnQtZm9ybScpLnN1Ym1pdChmdW5jdGlvbihlKXtcblxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRkc2xjX3RlbXBsYXRlX2ltcG9ydCgpO1xuXHR9KTtcblxuXHQvKipcblx0ICogSG9vayAtIFNhdmUgVGVtcGxhdGVcblx0ICovXG5cdCQoJy5kc2xjYS10ZW1wbGF0ZS1zYXZlLWZvcm0nKS5zdWJtaXQoZnVuY3Rpb24oZSl7XG5cblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0ZHNsY190ZW1wbGF0ZV9zYXZlKCk7XG5cdH0pO1xuXG5cdC8qKlxuXHQgKiBIb29rIC0gRGVsZXRlIFRlbXBsYXRlXG5cdCAqL1xuXHQkKGRvY3VtZW50KS5vbiggJ2NsaWNrJywgJy5kc2xjYS1kZWxldGUtdGVtcGxhdGUtaG9vaycsIGZ1bmN0aW9uKGUpe1xuXG5cdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRkc2xjX3RlbXBsYXRlX2RlbGV0ZSggJCh0aGlzKS5kYXRhKCdpZCcpICk7XG5cdH0pO1xuXG59XG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKlxuICogPSBDT0RFIEdFTkVSQVRJT04gPVxuICpcbiAqIC0gZHNsY19zYXZlX2NvbXBvc2VyICggU2F2ZSB0aGUgUGFnZSBDaGFuZ2VzIClcbiAqIC0gZHNsY19zYXZlX2RyYWZ0X2NvbXBvc2VyICggU2F2ZSB0aGUgY2hhbmdlcyBhcyBkcmFmdCwgbm90IHB1Ymxpc2ggKVxuICogLSBkc2xjX2dlbmVyYXRlX2NvZGUgKCBHZW5lcmF0ZXMgUGFnZSdzIExDIGRhdGEgKVxuICogLSBkc2xjX2dlbmVyYXRlX3NlY3Rpb25fY29kZSAoIEdlbmVyYXRlIExDIGRhdGEgZm9yIGEgc3BlY2lmaWMgcm93L3NlY3Rpb24gKVxuICogLSBkc2xjYV9nZW5fY29udGVudF9mb3Jfc2VhcmNoICggR2VuZXJhdGUgUmVhZGFibGUgQ29udGVudCBGb3IgU2VhcmNoIClcbiAqXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDT0RFIEdFTkVSQVRJT04gLSBTYXZlIFBhZ2UgQ2hhbmdlc1xuICovXG5mdW5jdGlvbiBkc2xjX3NhdmVfY29tcG9zZXIoKSB7XG5cblx0aWYgKCB3aW5kb3cuZHNsY0RlYnVnICkgY29uc29sZS5sb2coICdkc2xjX3NhdmVfY29tcG9zZXInICk7XG5cblx0LyoqXG5cdCAqIEJlZm9yZSBzYXZpbmcgY29kZSB2aWEgYWpheFxuXHQgKiByZWZyZXNoIHRoZSBwYWdlIHNvdXJjZSBpbiBhIGhpZGRlbiAjZHNsY2EtY29kZVxuXHQgKi9cblx0d2luZG93LmRzbGNfZ2VuZXJhdGVfY29kZSgpO1xuXG5cdC8vIEdlbmVyYXRlIGNvbnRlbnQgZm9yIHNlYXJjaFxuXHRkc2xjYV9nZW5fY29udGVudF9mb3Jfc2VhcmNoKCk7XG5cblx0Ly8gVmFyc1xuXHR2YXIgY29tcG9zZXJDb2RlID0galF1ZXJ5KCcjZHNsY2EtY29kZScpLnZhbCgpLFxuXHRjb250ZW50Rm9yU2VhcmNoID0galF1ZXJ5KCcjZHNsY2EtY29udGVudC1mb3Itc2VhcmNoJykudmFsKCksXG5cdHBvc3RJRCA9IGpRdWVyeSgnLmRzbGNhLWNvbnRhaW5lcicpLmRhdGEoJ3Bvc3QtaWQnKTtcblxuXHQvLyBBcHBseSBjbGFzcyB0byBib2R5IHRvIGtub3cgc2F2aW5nIGlzIGluIHByb2dyZXNzXG5cdGpRdWVyeSgnYm9keScpLmFkZENsYXNzKCdkc2xjYS1zYXZpbmctaW4tcHJvZ3Jlc3MnKTtcblxuXHQvLyBSZXBsYWNlIHRoZSBjaGVjayBpbiBwdWJsaXNoIGJ1dHRvbiB3aXRoIGEgbG9hZGluZyBhbmltYXRpb25cblx0alF1ZXJ5KCcuZHNsY2Etc2F2ZS1jb21wb3NlciAuZHNsY2EtaWNvbicpLnJlbW92ZUNsYXNzKCdkc2xjLWljb24tb2snKS5hZGRDbGFzcygnZHNsYy1pY29uLXNwaW4gZHNsYy1pY29uLXNwaW5uZXInKTtcblxuXHQvLyBBamF4IGNhbGwgdG8gc2F2ZSB0aGUgbmV3IGNvbnRlbnRcblx0alF1ZXJ5LmFqYXgoe1xuXHRcdG1ldGhvZDogJ1BPU1QnLFxuXHRcdHR5cGU6ICdQT1NUJyxcblx0XHR1cmw6IERTTENBamF4LmFqYXh1cmwsXG5cdFx0ZGF0YToge1xuXHRcdFx0YWN0aW9uIDogJ2RzbGMtYWpheC1zYXZlLWNvbXBvc2VyJyxcblx0XHRcdGRzbGMgOiAnYWN0aXZlJyxcblx0XHRcdGRzbGNfcG9zdF9pZCA6IHBvc3RJRCxcblx0XHRcdGRzbGNfY29kZSA6IGNvbXBvc2VyQ29kZSxcblx0XHRcdGRzbGNfY29udGVudF9mb3Jfc2VhcmNoIDogY29udGVudEZvclNlYXJjaFxuXHRcdH0sXG5cdFx0dGltZW91dDogMzAwMDBcblx0fSkuZG9uZShmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cblx0XHQvLyBPbiBzdWNjZXNzIGhpZGUgdGhlIHB1Ymxpc2ggYnV0dG9uXG5cdFx0aWYgKCByZXNwb25zZS5zdGF0dXMgPT0gJ3N1Y2Nlc3MnICkge1xuXHRcdFx0alF1ZXJ5KCcuZHNsY2Etc2F2ZS1jb21wb3NlcicpLmZhZGVPdXQoMjUwKTtcblx0XHRcdGpRdWVyeSgnLmRzbGNhLXNhdmUtZHJhZnQtY29tcG9zZXInKS5mYWRlT3V0KDI1MCk7XG5cblx0XHRcdC8vIENyZWF0ZSBuZXcgY2FjaGUgdmVyc2lvbiBhZnRlciBpdCdzIHNhdmVkLlxuXHRcdFx0alF1ZXJ5KCdib2R5JykuYXBwZW5kKCAnPGlmcmFtZSBjbGFzcz1cImxibW4tY2FjaGUtaWZyYW1lXCIgaWQ9XCJsYm1uLWNhY2hlLWlmcmFtZS0nICsgcG9zdElEICsgJ1wiIHNyYz1cIicrIERTTENTaXRlRGF0YS5zaXRldXJsICsgJy8/cD0nICsgcG9zdElEICsnXCIgPjwvaWZyYW1lPicgKTtcblxuXHRcdFx0alF1ZXJ5KCcubGJtbi1jYWNoZS1pZnJhbWUnKS5lYWNoKGZ1bmN0aW9uKGluZGV4LCBlbCkge1xuXHRcdFx0XHRqUXVlcnkoZWwpLmxvYWQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0alF1ZXJ5KGVsKS5yZW1vdmUoKTtcblx0XHRcdFx0XHQvLyBDYWNoZSBidWlsdCBhdCB0aGlzIHBvaW50LiBSZW1vdmUgaWZyYW1lLlxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0Ly8gT24gZmFpbCBzaG93IGFuIGFsZXJ0IG1lc3NhZ2Vcblx0XHR9IGVsc2Uge1xuXHRcdFx0YWxlcnQoICdTb21ldGhpbmcgd2VudCB3cm9uZywgcGxlYXNlIHRyeSB0byBzYXZlIGFnYWluLiBBcmUgeW91IHN1cmUgdG8gbWFrZSBhbnkgY2hhbmdlcz8gRXJyb3IgQ29kZTogJyArIHJlc3BvbnNlLnN0YXR1cyk7XG5cdFx0fVxuXHR9KS5mYWlsKGZ1bmN0aW9uKCByZXNwb25zZSApIHtcblxuXHRcdGlmICggcmVzcG9uc2Uuc3RhdHVzVGV4dCA9PSAndGltZW91dCcgKSB7XG5cdFx0XHRhbGVydCggJ1RoZSByZXF1ZXN0IHRpbWVkIG91dCBhZnRlciAzMCBzZWNvbmRzLiBTZXJ2ZXIgZG8gbm90IHJlc3BvbmQgaW4gdGltZS4gUGxlYXNlIHRyeSBhZ2Fpbi4nICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGFsZXJ0KCAnU29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSB0cnkgYWdhaW4uIEVycm9yIENvZGU6ICcgKyByZXNwb25zZS5zdGF0dXNUZXh0ICApO1xuXHRcdH1cblx0fSkuYWx3YXlzKGZ1bmN0aW9uKCByZXNlcG9uc2UgKSB7XG5cblx0XHQvLyBSZXBsYWNlIHRoZSBsb2FkaW5nIGFuaW1hdGlvbiB3aXRoIGEgY2hlY2sgaWNvblxuXHRcdGpRdWVyeSgnLmRzbGNhLXNhdmUtY29tcG9zZXIgLmRzbGNhLWljb24nKS5yZW1vdmVDbGFzcygnZHNsYy1pY29uLXNwaW4gZHNsYy1pY29uLXNwaW5uZXInKS5hZGRDbGFzcygnZHNsYy1pY29uLW9rJylcblxuXHRcdC8vIFJlbW92ZSB0aGUgY2xhc3MgcHJldmlvdXNseSBhZGRlZCBzbyB3ZSBrbm93IHNhdmluZyBpcyBmaW5pc2hlZFxuXHRcdGpRdWVyeSgnYm9keScpLnJlbW92ZUNsYXNzKCdkc2xjYS1zYXZpbmctaW4tcHJvZ3Jlc3MnKTtcblx0fSk7XG59XG5cbi8qKlxuICogQ09ERSBHRU5FUkFUSU9OIC0gU2F2ZSBEcmFmdFxuICovXG5mdW5jdGlvbiBkc2xjX3NhdmVfZHJhZnRfY29tcG9zZXIoKSB7XG5cblx0aWYgKCB3aW5kb3cuZHNsY0RlYnVnICkgY29uc29sZS5sb2coICdkc2xjX3NhdmVfZHJhZnRfY29tcG9zZXInICk7XG5cblx0Ly8gVmFyc1xuXHR2YXIgY29tcG9zZXJDb2RlID0galF1ZXJ5KCcjZHNsY2EtY29kZScpLnZhbCgpLFxuXHRwb3N0SUQgPSBqUXVlcnkoJy5kc2xjYS1jb250YWluZXInKS5kYXRhKCdwb3N0LWlkJyk7XG5cblx0Ly8gQXBwbHkgY2xhc3MgdG8gYm9keSB0byBrbm93IHNhdmluZyBpcyBpbiBwcm9ncmVzc1xuXHRqUXVlcnkoJ2JvZHknKS5hZGRDbGFzcygnZHNsY2Etc2F2aW5nLWluLXByb2dyZXNzJyk7XG5cblx0Ly8gUmVwbGFjZSB0aGUgY2hlY2sgaW4gcHVibGlzaCBidXR0b24gd2l0aCBhIGxvYWRpbmcgYW5pbWF0aW9uXG5cdGpRdWVyeSgnLmRzbGNhLXNhdmUtZHJhZnQtY29tcG9zZXIgLmRzbGNhLWljb24nKS5yZW1vdmVDbGFzcygnZHNsYy1pY29uLW9rJykuYWRkQ2xhc3MoJ2RzbGMtaWNvbi1zcGluIGRzbGMtaWNvbi1zcGlubmVyJyk7XG5cblx0Ly8gQWpheCBjYWxsIHRvIHNhdmUgdGhlIG5ldyBjb250ZW50XG5cdGpRdWVyeS5wb3N0KFxuXG5cdFx0RFNMQ0FqYXguYWpheHVybCxcblx0XHR7XG5cdFx0XHRhY3Rpb24gOiAnZHNsYy1hamF4LXNhdmUtZHJhZnQtY29tcG9zZXInLFxuXHRcdFx0ZHNsYyA6ICdhY3RpdmUnLFxuXHRcdFx0ZHNsY19wb3N0X2lkIDogcG9zdElELFxuXHRcdFx0ZHNsY19jb2RlIDogY29tcG9zZXJDb2RlLFxuXHRcdH0sXG5cdFx0ZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuXG5cdFx0XHQvLyBSZXBsYWNlIHRoZSBsb2FkaW5nIGFuaW1hdGlvbiB3aXRoIGEgY2hlY2sgaWNvblxuXHRcdFx0alF1ZXJ5KCcuZHNsY2Etc2F2ZS1kcmFmdC1jb21wb3NlciAuZHNsY2EtaWNvbicpLnJlbW92ZUNsYXNzKCdkc2xjLWljb24tc3BpbiBkc2xjLWljb24tc3Bpbm5lcicpLmFkZENsYXNzKCdkc2xjLWljb24tc2F2ZScpXG5cblx0XHRcdC8vIE9uIHN1Y2Nlc3MgaGlkZSB0aGUgcHVibGlzaCBidXR0b25cblx0XHRcdGlmICggcmVzcG9uc2Uuc3RhdHVzID09ICdzdWNjZXNzJyApIHtcblx0XHRcdFx0alF1ZXJ5KCcuZHNsY2Etc2F2ZS1kcmFmdC1jb21wb3NlcicpLmZhZGVPdXQoMjUwKTtcblxuXHRcdFx0Ly8gT24gZmFpbCBzaG93IGFuIGFsZXJ0IG1lc3NhZ2Vcblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0YWxlcnQoICdTb21ldGhpbmcgd2VudCB3cm9uZywgcGxlYXNlIHRyeSB0byBzYXZlIGFnYWluLicgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmVtb3ZlIHRoZSBjbGFzcyBwcmV2aW91c2x5IGFkZGVkIHNvIHdlIGtub3cgc2F2aW5nIGlzIGZpbmlzaGVkXG5cdFx0XHRqUXVlcnkoJ2JvZHknKS5yZW1vdmVDbGFzcygnZHNsY2Etc2F2aW5nLWluLXByb2dyZXNzJyk7XG5cdFx0fVxuXHQpO1xufVxuXG4vKipcbiAqIENPREUgR0VORVJBVElPTiAtIEdlbmVyYXRlIExDIERhdGFcbiAqIEBwYXJhbSBzZWN0aW9uIGlzIG5vdCByZXF1aXJlZC4gSWYgbm8gcGFyYW1ldGVyIHByb3ZpZGVkIGZ1bmN0aW9uIGdlbmVyYXRlc1xuICovXG53aW5kb3cuZHNsY19nZW5lcmF0ZV9jb2RlID0gZnVuY3Rpb24oKSB7XG5cdGlmICggd2luZG93LmRzbGNEZWJ1ZyApIGNvbnNvbGUubG9nKCAnZHNsY19nZW5lcmF0ZV9jb2RlJyApO1xuXG5cdC8vIFZhcnNcblx0dmFyIG1vZHVsZUNvZGUgPSAnJyxcblx0bW9kdWxlX3NpemUsXG5cdGNvbXBvc2VyQ29kZSA9ICcnLFxuXHRwYWdlQ29kZUluSnNvbiA9ICcnLFxuXHRtYXhQZXJSb3cgPSAxMixcblx0bWF4UGVyUm93QSA9IDEyLFxuXHRjdXJyUGVyUm93ID0gMCxcblx0Y3VyclBlclJvd0EgPSAwLFxuXHRtb2R1bGVzQXJlYVNpemUsXG5cdG1vZHVsZXNBcmVhLFxuXHRtb2R1bGVzQXJlYUxhc3RTdGF0ZSxcblx0bW9kdWxlc0FyZWFGaXJzdFN0YXRlLFxuXHRtb2R1bGVzU2VjdGlvbixcblx0bW9kdWxlc1NlY3Rpb25BdHRzID0gJycsXG5cdG1vZHVsZXNTZWN0aW9uSnNvbjtcblxuXHQvKipcblx0ICogR28gdGhyb3VnaCBtb2R1bGUgYXJlYXMgKGVtcHR5IG9yIG5vdCBlbXB0eSlcblx0ICogVE9ETzogT3B0aW1pemUgY29kZSB0byBnbyB0aG91Z2ggdGhlIHNlY3Rpb24vYXJlYSBuZWVkZWQgb25seSxcblx0ICogbm90IHRoZSB3aG9sZSBwYWdlLlxuXHQgKi9cblxuXHRqUXVlcnkoJyNkc2xjLW1haW4gLmRzbGMtbW9kdWxlcy1hcmVhJywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkuZWFjaChmdW5jdGlvbigpe1xuXG5cdFx0aWYgKCBqUXVlcnkoJy5kc2xjLW1vZHVsZS1mcm9udCcsIHRoaXMpLmxlbmd0aCApIHtcblxuXHRcdFx0alF1ZXJ5KHRoaXMpLnJlbW92ZUNsYXNzKCdkc2xjLW1vZHVsZXMtYXJlYS1lbXB0eScpLmFkZENsYXNzKCdkc2xjLW1vZHVsZXMtYXJlYS1ub3QtZW1wdHknKTtcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW5vLWNvbnRlbnQnLCB0aGlzKS5oaWRlKCk7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRqUXVlcnkodGhpcykucmVtb3ZlQ2xhc3MoJ2RzbGMtbW9kdWxlcy1hcmVhLW5vdC1lbXB0eScpLmFkZENsYXNzKCdkc2xjLW1vZHVsZXMtYXJlYS1lbXB0eScpO1xuXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1uby1jb250ZW50Om5vdCg6dmlzaWJsZSknLCB0aGlzKS5zaG93KCkuY3NzKHtcblx0XHRcdFx0Jy13ZWJraXQtYW5pbWF0aW9uLW5hbWUnIDogJ2RzbGNCb3VuY2VJbicsXG5cdFx0XHRcdCctbW96LWFuaW1hdGlvbi1uYW1lJyA6ICdkc2xjQm91bmNlSW4nLFxuXHRcdFx0XHQnYW5pbWF0aW9uLW5hbWUnIDogJ2RzbGNCb3VuY2VJbicsXG5cdFx0XHRcdCdhbmltYXRpb24tZHVyYXRpb24nIDogJzAuNnMnLFxuXHRcdFx0XHQnLXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb24nIDogJzAuNnMnLFxuXHRcdFx0XHRwYWRkaW5nIDogMFxuXHRcdFx0fSkuYW5pbWF0ZSh7IHBhZGRpbmcgOiAnMzVweCAwJyB9LCAzMDApO1xuXHRcdH1cblx0fSk7XG5cblx0LyoqXG5cdCAqIEdvIHRocm91Z2ggZWFjaCByb3cgKGVtcHR5IG9yIG5vdCBlbXB0eSlcblx0ICovXG5cblx0alF1ZXJ5KCcjZHNsYy1tYWluIC5kc2xjLW1vZHVsZXMtc2VjdGlvbicsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLmVhY2goZnVuY3Rpb24oKXtcblxuXHRcdG1vZHVsZXNTZWN0aW9uID0galF1ZXJ5KHRoaXMpO1xuXG5cdFx0bW9kdWxlc1NlY3Rpb25Kc29uID0gZHNsY19nZW5lcmF0ZV9zZWN0aW9uX2NvZGUoIG1vZHVsZXNTZWN0aW9uICk7XG5cblx0XHQvLyBVcGRhdGUgSlNPTiBpbiBoaWRkZW4gdGV4dCBhcmVhIHdpdGggdXBkYXRlZCBjb2RlLlxuXHRcdG1vZHVsZXNTZWN0aW9uLmZpbmQoJy5kc2xjYS1zZWN0aW9uLWNvZGUnKS52YWwoIG1vZHVsZXNTZWN0aW9uSnNvbiApO1xuXG5cdFx0Ly8gQWRkIHJvdyBjb2RlIGludG8gdGhlIHRoZSB3aG9sZSBwYWdlIGNvZGUuXG5cdFx0cGFnZUNvZGVJbkpzb24gPSBwYWdlQ29kZUluSnNvbiArIG1vZHVsZXNTZWN0aW9uSnNvbiArICcsJztcblxuXHRcdC8vIENsb3NlIHJvdyAoIHNlY3Rpb24gKSBzaG9ydGNvZGVcblx0XHQvLyBjb21wb3NlckNvZGUgPSBjb21wb3NlckNvZGUgKyAnWy9kc2xjX21vZHVsZXNfc2VjdGlvbl0gJztcblx0fSk7XG5cblxuXHQvLyBSZW1vdmUgdGhlIGxhc3QgY29tbWEgaW4gdGhlIGNvZGUuXG5cdHBhZ2VDb2RlSW5Kc29uID0gcGFnZUNvZGVJbkpzb24uc2xpY2UoMCwgLTEpO1xuXG5cdC8vIHBhZ2VDb2RlSW5Kc29uID0gcGFnZUNvZGVJbkpzb247XG5cdHBhZ2VDb2RlSW5Kc29uID0gJ1snICsgcGFnZUNvZGVJbkpzb24gKyAnXSc7XG5cblx0Ly8gQXBwbHkgdGhlIG5ldyBjb2RlIHZhbHVlcyB0byB0aGUgc2V0dGluZyBjb250YWluZXJzXG5cdGpRdWVyeSgnI2RzbGNhLWNvZGUnKS52YWwocGFnZUNvZGVJbkpzb24pO1xuXG5cdGpRdWVyeSgnI2RzbGNhLWV4cG9ydC1jb2RlJykudmFsKHBhZ2VDb2RlSW5Kc29uKTtcbn1cblxuXG4vKipcbiAqIENPREUgR0VORVJBVElPTiAtIEdlbmVyYXRlIExDIERhdGEgZm9yIFNlY3Rpb25cbiAqXG4gKiBAcGFyYW0gIHtqUXVlcnkgT2JqZWN0fSB0aGVNb2R1bGVzU2VjdGlvbiBqUXVlcnkgZWxlbWVudCBmb3IgdGhlIHNlY3Rpb24gdG8gcHJvY2Vzc1xuICogQHJldHVybiB7U3RyaW5nfSAgICAgICAgICAgICAgICAgICBcdFx0XHRKU09OIGNvZGUgZm9yIHRoZSBzZWN0aW9uXG4gKi9cbmZ1bmN0aW9uIGRzbGNfZ2VuZXJhdGVfc2VjdGlvbl9jb2RlKCB0aGVNb2R1bGVzU2VjdGlvbiApIHtcblxuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2RzbGNfZ2VuZXJhdGVfc2VjdGlvbl9jb2RlJyApO1xuXG5cdC8vIFZhcnNcblx0dmFyIG1vZHVsZUNvZGUgPSAnJyxcblx0bW9kdWxlX3NpemUsXG5cdGNvbXBvc2VyQ29kZSA9ICcnLFxuXHRwYWdlQ29kZUluSnNvbiA9ICcnLFxuXHRtYXhQZXJSb3cgPSAxMixcblx0bWF4UGVyUm93QSA9IDEyLFxuXHRjdXJyUGVyUm93ID0gMCxcblx0Y3VyclBlclJvd0EgPSAwLFxuXHRtb2R1bGVzQXJlYVNpemUsXG5cdG1vZHVsZXNBcmVhLFxuXHRtb2R1bGVzQXJlYUxhc3RTdGF0ZSxcblx0bW9kdWxlc0FyZWFGaXJzdFN0YXRlLFxuXHRtb2R1bGVzU2VjdGlvbixcblx0bW9kdWxlc1NlY3Rpb25BdHRzID0gJycsXG5cdG1vZHVsZXNTZWN0aW9uSnNvblN0cmluZyA9ICcnLFxuXHRtb2R1bGVzU2VjdGlvbkpzb247XG5cblx0bW9kdWxlc1NlY3Rpb24gPSB0aGVNb2R1bGVzU2VjdGlvbjtcblxuXHQvLyBVcGRhdGUgZHNsYy1tb2R1bGVzLXNlY3Rpb24tKG5vdCllbXB0eSBjbGFzc2VzXG5cdGlmICggalF1ZXJ5KCcuZHNsYy1tb2R1bGVzLWFyZWEnLCBtb2R1bGVzU2VjdGlvbikubGVuZ3RoICkge1xuXHRcdG1vZHVsZXNTZWN0aW9uLnJlbW92ZUNsYXNzKCdkc2xjLW1vZHVsZXMtc2VjdGlvbi1lbXB0eScpLmFkZENsYXNzKCdkc2xjLW1vZHVsZXMtc2VjdGlvbi1ub3QtZW1wdHknKTtcblx0fSBlbHNlIHtcblx0XHRtb2R1bGVzU2VjdGlvbi5yZW1vdmVDbGFzcygnZHNsYy1tb2R1bGVzLXNlY3Rpb24tbm90LWVtcHR5JykuYWRkQ2xhc3MoJ2RzbGMtbW9kdWxlcy1zZWN0aW9uLWVtcHR5Jyk7XG5cdH1cblxuXHQvLyBSZW1vdmUgbGFzdCBhbmQgZmlyc3QgY2xhc3NlcyBmcm9tIG1vZHVsZSBhcmVhcyBhbmQgbW9kdWxlc1xuXHRqUXVlcnkoJy5kc2xjLW1vZHVsZXMtYXJlYS5kc2xjLWxhc3QtY29sLCAuZHNsYy1tb2R1bGVzLWFyZWEuZHNsYy1maXJzdC1jb2wnLCB0aGlzKS5yZW1vdmVDbGFzcygnZHNsYy1sYXN0LWNvbCBkc2xjLWZpcnN0LWNvbCcpO1xuXHRqUXVlcnkoJy5kc2xjLW1vZHVsZS1mcm9udC5kc2xjLWxhc3QtY29sLCAuZHNsYy1tb2R1bGUtZnJvbnQuZHNsYy1maXJzdC1jb2wnLCB0aGlzKS5yZW1vdmVDbGFzcygnZHNsYy1sYXN0LWNvbCBkc2xjLWZpcnN0LWNvbCcpO1xuXG5cdC8vIFZhcnNcblx0Y3VyclBlclJvd0EgPSAwO1xuXG5cdC8vIEdldCBjdXJyZW50IEpTT04uXG5cdG1vZHVsZXNTZWN0aW9uSnNvblN0cmluZyA9IG1vZHVsZXNTZWN0aW9uLmZpbmQoJy5kc2xjYS1zZWN0aW9uLWNvZGUnKS52YWwoKTtcblx0bW9kdWxlc1NlY3Rpb25Kc29uID0gSlNPTi5wYXJzZShtb2R1bGVzU2VjdGlvbkpzb25TdHJpbmcpO1xuXG5cdC8vIEdlbmVyYXRlIGF0dHJpYnV0ZXMgZm9yIHRoZSByb3cgc2hvcnRjb2RlXG5cdG1vZHVsZXNTZWN0aW9uQXR0cyA9ICcnO1xuXG5cdGpRdWVyeSgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1zZXR0aW5ncyBpbnB1dCcsIG1vZHVsZXNTZWN0aW9uKS5lYWNoKGZ1bmN0aW9uKCl7XG5cblx0XHR2YXIgY3VycmVudElucHV0ID0galF1ZXJ5KHRoaXMpO1xuXHRcdHZhciBjdXJyZW50QXR0cktleSA9IGN1cnJlbnRJbnB1dC5kYXRhKCdpZCcpO1xuXHRcdHZhciBjdXJyZW50QXR0clZhbCA9IGN1cnJlbnRJbnB1dC52YWwoKTtcblxuXHRcdC8vIFVwZGF0ZSBoaWRkZW4gdGV4dCBmaWVsZHMgd2l0aCByb3cgYXR0cmlidXRlcy5cblx0XHRtb2R1bGVzU2VjdGlvbkF0dHMgPSBtb2R1bGVzU2VjdGlvbkF0dHMgKyBjdXJyZW50QXR0cktleSArICc9XCInICsgY3VycmVudEF0dHJWYWwgKyAnXCIgJztcblxuXHRcdC8vIFVwZGF0ZSBKU09OIG9iamVjdC5cblx0XHRtb2R1bGVzU2VjdGlvbkpzb25bY3VycmVudEF0dHJLZXldID0gY3VycmVudEF0dHJWYWw7XG5cdH0pO1xuXG5cdC8vIERlbGV0ZSBhdHRyaWJ1dGUgJ2dpdmVfbmV3X2lkJy5cblx0Ly8gSXQgc3VwcG9zZWQgdG8gYmUgdXNlZCBvbmx5IG9uY2UgYW5kIGJ5IHRoaXMgdGltZSBpdCB3YXMgYWxyZWFkeSBhcHBsaWVkLlxuXHRpZiAoICB1bmRlZmluZWQgIT09IG1vZHVsZXNTZWN0aW9uSnNvblsnZ2l2ZV9uZXdfaWQnXSApIHtcblx0XHRkZWxldGUgbW9kdWxlc1NlY3Rpb25Kc29uWydnaXZlX25ld19pZCddO1xuXHR9XG5cblx0Ly8gUHJlcGFyZSBwbGFjZSBmb3IgbW9kdWxlIGFyZWFzLlxuXHRtb2R1bGVzU2VjdGlvbkpzb25bJ2NvbnRlbnQnXSA9IFtdO1xuXG5cdC8vIE9wZW4gdGhlIG1vZHVsZSBzZWN0aW9uICggcm93ICkgc2hvcnRjb2RlXG5cdC8vIGNvbXBvc2VyQ29kZSA9IGNvbXBvc2VyQ29kZSArICdbZHNsY19tb2R1bGVzX3NlY3Rpb24gJyArIG1vZHVsZXNTZWN0aW9uQXR0cyArICddICc7XG5cblx0LyoqXG5cdCAqIEdvIHRocm91Z2ggZWFjaCBjb2x1bW4gb2YgY3VycmVudCByb3dcblx0ICovXG5cdGpRdWVyeSgnLmRzbGMtbW9kdWxlcy1hcmVhJywgbW9kdWxlc1NlY3Rpb24pLmVhY2goZnVuY3Rpb24oKXtcblxuXHRcdC8vIFJlc2V0IHdpZHRoIGNvdW50ZXIgZm9yIG1vZHVsZXNcblx0XHRjdXJyUGVyUm93ID0gMDtcblxuXHRcdC8vIFZhcnNcblx0XHRtb2R1bGVzQXJlYSA9IGpRdWVyeSh0aGlzKTtcblx0XHRtb2R1bGVzQXJlYVNpemUgPSBwYXJzZUludCggbW9kdWxlc0FyZWEuZGF0YSgnc2l6ZScpICk7XG5cdFx0bW9kdWxlc0FyZWFMYXN0U3RhdGUgPSAnbm8nO1xuXHRcdG1vZHVsZXNBcmVhRmlyc3RTdGF0ZSA9ICdubyc7XG5cblx0XHQvLyBJbmNyZW1lbnQgYXJlYSBjb2x1bW4gY291bnRlclxuXHRcdGN1cnJQZXJSb3dBICs9IG1vZHVsZXNBcmVhU2l6ZTtcblxuXHRcdGpRdWVyeSh0aGlzKS5yZW1vdmVDbGFzcygnZHNsYy1maXJzdC1jb2wnKTtcblx0XHRqUXVlcnkodGhpcykucmVtb3ZlQ2xhc3MoJ2RzbGMtbGFzdC1jb2wnKTtcblxuXHRcdC8vIElmIGFyZWEgY29sdW1uIGNvdW50ZXIgc2FtZSBhcyBtYXhpbXVtXG5cdFx0aWYgKCBjdXJyUGVyUm93QSA9PSBtYXhQZXJSb3dBICkge1xuXG5cdFx0XHQvLyBBcHBseSBjbGFzc2VzIHRvIGN1cnJlbnQgYW5kIG5leHQgY29sdW1uXG5cdFx0XHRqUXVlcnkodGhpcykuYWRkQ2xhc3MoJ2RzbGMtbGFzdC1jb2wnKS5uZXh0KCcuZHNsYy1tb2R1bGVzLWFyZWEnKS5hZGRDbGFzcygnZHNsYy1maXJzdC1jb2wnKTtcblxuXHRcdFx0Ly8gUmVzZXQgYXJlYSBjb2x1bW4gY291bnRlclxuXHRcdFx0Y3VyclBlclJvd0EgPSAwO1xuXG5cdFx0XHQvLyBTZXQgc2hvcnRjb2RlJ3MgXCJsYXN0XCIgYXR0cmlidXRlIHRvIFwieWVzXCJcblx0XHRcdG1vZHVsZXNBcmVhTGFzdFN0YXRlID0gJ3llcyc7XG5cblx0XHQvLyBJZiBhcmVhIGNvbHVtbiBjb3VudGVyIGJpZ2dlciB0aGFuIG1heGltdW1cblx0XHR9IGVsc2UgaWYgKCBjdXJyUGVyUm93QSA+IG1heFBlclJvd0EgKSB7XG5cblx0XHRcdC8vIEFwcGx5IGNsYXNzZXMgdG8gY3VycmVudCBhbmQgcHJldmlvdXMgY29sdW1uXG5cdFx0XHRqUXVlcnkodGhpcykucmVtb3ZlQ2xhc3MoJ2RzbGMtbGFzdC1jb2wnKS5hZGRDbGFzcygnZHNsYy1maXJzdC1jb2wnKTtcblxuXHRcdFx0Ly8gU2V0IGFyZWEgY29sdW1uIGNvdW50ZXIgdG8gdGhlIHNpemUgb2YgdGhlIGN1cnJlbnQgYXJlYVxuXHRcdFx0Y3VyclBlclJvd0EgPSBtb2R1bGVzQXJlYVNpemU7XG5cblx0XHRcdC8vIFNldCBzaG9ydGNvZGUncyBcImZpcnN0XCIgYXR0cmlidXRlIHRvIHllc1xuXHRcdFx0bW9kdWxlc0FyZWFGaXJzdFN0YXRlID0gJ3llcyc7XG5cdFx0fVxuXG5cdFx0Ly8gSWYgYXJlYSBjb2x1bW4gY291bnRlciBzYW1lIGFzIGN1cnJlbnQgYXJlYSBzaXplXG5cdFx0aWYgKCBjdXJyUGVyUm93QSA9PSBtb2R1bGVzQXJlYVNpemUgKSB7XG5cblx0XHRcdC8vIFNldCBzaG9ydGNvZGUncyBcImZpcnN0XCIgYXR0cmlidXRlIHRvIHllc1xuXHRcdFx0bW9kdWxlc0FyZWFGaXJzdFN0YXRlID0gJ3llcyc7XG5cblx0XHRcdC8vIEFwcGx5IGNsYXNzZXMgdG8gY3VycmVudCBhbmQgcHJldmlvdXMgY29sdW1uXG5cdFx0XHRqUXVlcnkodGhpcykucmVtb3ZlQ2xhc3MoJ2RzbGMtbGFzdC1jb2wnKS5hZGRDbGFzcygnZHNsYy1maXJzdC1jb2wnKTtcblxuXHRcdH1cblxuXHRcdC8vIE9wZW4gdGhlIG1vZHVsZXMgYXJlYSAoIGFyZWEgKSBzaG9ydGNvZGVcblx0XHQvLyBjb21wb3NlckNvZGUgPSBjb21wb3NlckNvZGUgKyAnW2RzbGNfbW9kdWxlc19hcmVhIGxhc3Q9XCInICsgbW9kdWxlc0FyZWFMYXN0U3RhdGUgKyAnXCIgZmlyc3Q9XCInICsgbW9kdWxlc0FyZWFGaXJzdFN0YXRlICsgJ1wiIHNpemU9XCInICsgbW9kdWxlc0FyZWFTaXplICsgJ1wiXSAnO1xuXG5cdFx0dmFyIG1vZHVsZUFyZWFKU09OID0gJ3tcImVsZW1lbnRfdHlwZVwiOlwibW9kdWxlX2FyZWFcIixcImxhc3RcIjpcIicgKyBtb2R1bGVzQXJlYUxhc3RTdGF0ZSArICdcIixcImZpcnN0XCI6XCInICsgbW9kdWxlc0FyZWFGaXJzdFN0YXRlICsgJ1wiLFwic2l6ZVwiOlwiJyArIG1vZHVsZXNBcmVhU2l6ZSArICdcIn0nO1xuXG5cdFx0Ly8gcGFnZUNvZGVJbkpzb24gPSBwYWdlQ29kZUluSnNvbiArICBtb2R1bGVBcmVhSlNPTiArICcsJztcblxuXHRcdG1vZHVsZUFyZWFKU09OID0gSlNPTi5wYXJzZSggbW9kdWxlQXJlYUpTT04gKTtcblxuXHRcdC8vIERlbGV0ZSBhdHRyaWJ1dGUgJ2dpdmVfbmV3X2lkJy5cblx0XHQvLyBJdCBzdXBwb3NlZCB0byBiZSB1c2VkIG9ubHkgb25jZSBhbmQgYnkgdGhpcyB0aW1lIGl0IHdhcyBhbHJlYWR5IGFwcGxpZWQuXG5cdFx0aWYgKCAgdW5kZWZpbmVkICE9PSBtb2R1bGVBcmVhSlNPTlsnZ2l2ZV9uZXdfaWQnXSApIHtcblx0XHRcdGRlbGV0ZSBtb2R1bGVBcmVhSlNPTlsnZ2l2ZV9uZXdfaWQnXTtcblx0XHR9XG5cblx0XHRtb2R1bGVBcmVhSlNPTi5jb250ZW50ID0gW107XG5cblx0XHQvKipcblx0XHQgKiBHbyB0aHJvdWdoIGVhY2ggbW9kdWxlIG9mIGN1cnJlbnQgYXJlYVxuXHRcdCAqL1xuXG5cdFx0alF1ZXJ5KCcuZHNsYy1tb2R1bGUtZnJvbnQnLCBtb2R1bGVzQXJlYSkuZWFjaChmdW5jdGlvbigpe1xuXG5cdFx0XHR2YXIgZHNsY19tb2R1bGUgPSBqUXVlcnkodGhpcyk7XG5cblx0XHRcdC8vIFZhcnNcblx0XHRcdG1vZHVsZV9zaXplID0gcGFyc2VJbnQoIGRzbGNfbW9kdWxlWzBdLmdldEF0dHJpYnV0ZSgnZGF0YS1kc2xjLW1vZHVsZS1zaXplJykgKTtcblx0XHRcdHZhciBtb2R1bGVMYXN0U3RhdGUgPSAnbm8nO1xuXHRcdFx0dmFyIG1vZHVsZUZpcnN0U3RhdGUgPSAnbm8nO1xuXG5cdFx0XHRqUXVlcnkodGhpcykucmVtb3ZlQ2xhc3MoJ2RzbGMtZmlyc3QtY29sJyk7XG5cdFx0XHRqUXVlcnkodGhpcykucmVtb3ZlQ2xhc3MoJ2RzbGMtbGFzdC1jb2wnKTtcblxuXHRcdFx0Ly8gSW5jcmVtZW50IG1vZHVsZXMgY29sdW1uIGNvdW50ZXJcblx0XHRcdGN1cnJQZXJSb3cgKz0gbW9kdWxlX3NpemU7XG5cblx0XHRcdC8vIElmIG1vZHVsZXMgY29sdW1uIGNvdW50ZXIgc2FtZSBhcyBtYXhpbXVtXG5cdFx0XHRpZiAoIGN1cnJQZXJSb3cgPT0gbWF4UGVyUm93ICkge1xuXG5cdFx0XHRcdC8vIEFkZCBjbGFzc2VzIHRvIGN1cnJlbnQgYW5kIG5leHQgbW9kdWxlXG5cdFx0XHRcdGpRdWVyeSh0aGlzKS5hZGRDbGFzcygnZHNsYy1sYXN0LWNvbCcpO1xuXHRcdFx0XHRqUXVlcnkodGhpcykubmV4dCgnLmRzbGMtbW9kdWxlLWZyb250JykuYWRkQ2xhc3MoJ2RzbGMtZmlyc3QtY29sJyk7XG5cblx0XHRcdFx0Ly8gUmVzZXQgbW9kdWxlcyBjb2x1bW4gY291bnRlclxuXHRcdFx0XHRjdXJyUGVyUm93ID0gMDtcblxuXHRcdFx0XHQvLyBTZXQgc2hvcnRjb2RlJ3MgXCJsYXN0XCIgc3RhdGUgdG8gXCJ5ZXNcIlxuXHRcdFx0XHRtb2R1bGVMYXN0U3RhdGUgPSAneWVzJztcblxuXHRcdFx0XHQvLyBTZXQgc2hvcmNvZGUncyBcImZpcnN0XCIgc3RhdGUgdG8gXCJ5ZXNcIlxuXHRcdFx0XHRtb2R1bGVGaXJzdFN0YXRlID0gJ3llcyc7XG5cblxuXHRcdFx0Ly8gSWYgbW9kdWxlcyBjb2x1bW4gY291bnRlciBiaWdnZXIgdGhhbiBtYXhpbXVtXG5cdFx0XHR9IGVsc2UgaWYgKCBjdXJyUGVyUm93ID4gbWF4UGVyUm93ICkge1xuXG5cdFx0XHRcdC8vIEFkZCBjbGFzc2VzIHRvIGN1cnJlbnQgYW5kIHByZXZpb3VzIG1vZHVsZVxuXHRcdFx0XHRqUXVlcnkodGhpcykucmVtb3ZlQ2xhc3MoJ2RzbGMtbGFzdC1jb2wnKS5hZGRDbGFzcygnZHNsYy1maXJzdC1jb2wnKTtcblxuXHRcdFx0XHQvLyBTZXQgbW9kdWxlcyBjb2x1bW4gY291bnRlciB0byB0aGUgc2l6ZSBvZiBjdXJyZW50IG1vZHVsZVxuXHRcdFx0XHRjdXJyUGVyUm93ID0gbW9kdWxlX3NpemU7XG5cblx0XHRcdFx0Ly8gU2V0IHNob3J0Y29kZSdzIFwiZmlyc3RcIiBzdGF0ZSB0byBcInllc1wiXG5cdFx0XHRcdG1vZHVsZUZpcnN0U3RhdGUgPSAneWVzJztcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgbW9kdWxlcyBjb2x1bW4gY291bnRlciBzYW1lIGFzIGN1cnJlbnQgbW9kdWxlIHNpemVcblx0XHRcdGlmICggY3VyclBlclJvdyA9PSBtb2R1bGVfc2l6ZSApIHtcblxuXHRcdFx0XHQvLyBTZXQgc2hvcnRjb2RlJ3MgXCJmaXJzdFwiIGF0dHJpYnV0ZSB0byB5ZXNcblx0XHRcdFx0bW9kdWxlRmlyc3RTdGF0ZSA9ICd5ZXMnO1xuXG5cdFx0XHRcdC8vIEFwcGx5IGNsYXNzZXMgdG8gY3VycmVudCBhbmQgcHJldmlvdXMgY29sdW1uXG5cdFx0XHRcdGpRdWVyeSh0aGlzKS5yZW1vdmVDbGFzcygnZHNsYy1sYXN0LWNvbCcpLmFkZENsYXNzKCdkc2xjLWZpcnN0LWNvbCcpO1xuXG5cdFx0XHR9XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdC8vIEdldCBtb2R1bGUncyBMQyBkYXRhXG5cdFx0XHRcdG1vZHVsZUNvZGUgPSBkc2xjX21vZHVsZVswXS5xdWVyeVNlbGVjdG9yKCcuZHNsY2EtbW9kdWxlLWNvZGUnKS52YWx1ZTtcblxuXHRcdFx0fSBjYXRjaChlcnIpIHtcblx0XHRcdFx0Y29uc29sZS5pbmZvKCAnTm8gRFNMQyBjb2RlIGZvdW5kIGluIG1vZHVsZTogJyArIGRzbGNfbW9kdWxlWzBdLmdldEF0dHJpYnV0ZSgnaWQnKSApO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoICcnICE9PSBtb2R1bGVDb2RlICkge1xuXHRcdFx0XHQvLyBBZGQgdGhlIG1vZHVsZSBzaG9ydGNvZGUgY29udGFpbmluZyB0aGUgZGF0YVxuXHRcdFx0XHQvLyBjb21wb3NlckNvZGUgPSBjb21wb3NlckNvZGUgKyAnW2RzbGNfbW9kdWxlIGxhc3Q9XCInICsgbW9kdWxlTGFzdFN0YXRlICsgJ1wiXScgKyBtb2R1bGVDb2RlICsgJ1svZHNsY19tb2R1bGVdICc7XG5cblx0XHRcdFx0dmFyIG1vZHVsZUNvZGVKU09OID0gSlNPTi5wYXJzZShtb2R1bGVDb2RlKTtcblx0XHRcdFx0Ly8gQWRkIGlkaWNhdG9yIGZvciB0aGUgbGFzdCBtb2R1bGUgaW4gdGhlIHJvdy5cblx0XHRcdFx0bW9kdWxlQ29kZUpTT04ubGFzdCA9IG1vZHVsZUxhc3RTdGF0ZTtcblxuXHRcdFx0XHQvLyBSQVcgQ09ERSBDTEVBTlVQOiBDbGVhbiB0aGUgbW9kdWxlIGNvZGUgZnJvbSBrZXlzIHdpdGggZW1wdHkgdmFsdWVzLlxuXHRcdFx0XHRqUXVlcnkuZWFjaChtb2R1bGVDb2RlSlNPTiwgZnVuY3Rpb24oaW5kZXgsIGVsKSB7XG5cdFx0XHRcdFx0aWYgKCBmYWxzZSA9PT0gZWwgfHwgJycgPT09IGVsICkge1xuXHRcdFx0XHRcdFx0ZGVsZXRlIG1vZHVsZUNvZGVKU09OW2luZGV4XTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoICdjb250ZW50JyA9PT0gaW5kZXggKSB7XG5cdFx0XHRcdFx0XHRtb2R1bGVDb2RlSlNPTltpbmRleF0gPSBlbC5yZXBsYWNlKC9cXFxcJy9nLCBcIidcIik7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCAnZ2l2ZV9uZXdfaWQnID09PSBpbmRleCApIHtcblx0XHRcdFx0XHRcdGRlbGV0ZSBtb2R1bGVDb2RlSlNPTltpbmRleF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvLyBQdXQgb3B0aW1pemVkIGNvZGUgYmFjayBpbnRvIHRoZSBoaWRkZW4gdGV4dGFyZWEuXG5cdFx0XHRcdGRzbGNfbW9kdWxlWzBdLnF1ZXJ5U2VsZWN0b3IoJy5kc2xjYS1tb2R1bGUtY29kZScpLnZhbHVlID0gSlNPTi5zdHJpbmdpZnkobW9kdWxlQ29kZUpTT04pO1xuXG5cdFx0XHRcdC8vIEFkZCB0aGUgbW9kdWxlIEpTT04gYXMgYXJyYXkgaXRlbVxuXHRcdFx0XHRtb2R1bGVBcmVhSlNPTlsnY29udGVudCddLnB1c2goIG1vZHVsZUNvZGVKU09OICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEZpeCBidWcgd2l0aCBtb2R1bGVzIGR1cGxpY2F0aW9uIGlmIGJyb2tlbiBtb2R1bGUgc2F2ZWQuXG5cdFx0XHRtb2R1bGVDb2RlID0gJyc7XG5cblx0XHR9KTtcblxuXHRcdG1vZHVsZXNTZWN0aW9uSnNvblsnY29udGVudCddLnB1c2gobW9kdWxlQXJlYUpTT04pO1xuXG5cdFx0Ly8gQ2xvc2UgYXJlYSBzaG9ydGNvZGVcblx0XHQvLyBjb21wb3NlckNvZGUgPSBjb21wb3NlckNvZGUgKyAnWy9kc2xjX21vZHVsZXNfYXJlYV0gJztcblx0fSk7XG5cblx0dmFyIGdlbmVyYXRlZENvZGUgPSBKU09OLnN0cmluZ2lmeSggbW9kdWxlc1NlY3Rpb25Kc29uICk7XG5cblx0cmV0dXJuIGdlbmVyYXRlZENvZGU7XG59XG5cbi8qKlxuICogQ09ERSBHRU5FUkFUSU9OIC0gRG9jdW1lbnQgUmVhZHlcbiAqL1xualF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigkKXtcblxuXHQvKipcblx0ICogSG9vayAtIFNhdmUgUGFnZVxuXHQgKi9cblx0JChkb2N1bWVudCkub24oICdjbGljaycsICcuZHNsY2Etc2F2ZS1jb21wb3Nlci1ob29rJywgZnVuY3Rpb24oZSl7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0Ly8gSWYgc29tZSBzYXZpbmcgYWN0aW9uIG5vdCBhbHJlYWR5IGluIHByb2dyZXNzXG5cdFx0aWYgKCAhICQoJ2JvZHknKS5oYXNDbGFzcygnZHNsY2EtbW9kdWxlLXNhdmluZy1pbi1wcm9ncmVzcycpICYmICEgJCgnYm9keScpLmhhc0NsYXNzKCdkc2xjYS1zYXZpbmctaW4tcHJvZ3Jlc3MnKSApIHtcblx0XHRcdC8vIENhbGwgdGhlIGZ1bmN0aW9uIHRvIHNhdmVcblx0XHRcdGRzbGNfc2F2ZV9jb21wb3NlcigpO1xuXHRcdH1cblx0fSk7XG5cblx0LyoqXG5cdCAqIEhvb2sgLSBTYXZlIERyYWZ0XG5cdCAqL1xuXHQkKGRvY3VtZW50KS5vbiggJ2NsaWNrJywgJy5kc2xjYS1zYXZlLWRyYWZ0LWNvbXBvc2VyLWhvb2snLCBmdW5jdGlvbihlKXtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHQvLyBJZiBzb21lIHNhdmluZyBhY3Rpb24gbm90IGFscmVhZHkgaW4gcHJvZ3Jlc3Ncblx0XHRpZiAoICEgJCgnYm9keScpLmhhc0NsYXNzKCdkc2xjYS1tb2R1bGUtc2F2aW5nLWluLXByb2dyZXNzJykgJiYgISAkKCdib2R5JykuaGFzQ2xhc3MoJ2RzbGNhLXNhdmluZy1pbi1wcm9ncmVzcycpICkge1xuXHRcdFx0Ly8gQ2FsbCB0aGUgZnVuY3Rpb24gdG8gc2F2ZVxuXHRcdFx0ZHNsY19zYXZlX2RyYWZ0X2NvbXBvc2VyKCk7XG5cdFx0fVxuXHR9KTtcbn0pO1xuXG4vKipcbiogT3RoZXIgLSBHZW5lcmF0ZSBSZWFkYWJsZSBDb250ZW50IEZvciBTZWFyY2hcbiovXG5cbmZ1bmN0aW9uIGRzbGNhX2dlbl9jb250ZW50X2Zvcl9zZWFyY2goKSB7XG5cblx0aWYgKCB3aW5kb3cuZHNsY0RlYnVnICkgY29uc29sZS5sb2coICdkc2xjYV9nZW5fY29udGVudF9mb3Jfc2VhcmNoJyApO1xuXG5cdC8vIFZhcnNcblx0dmFyIGhvbGRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkc2xjYS1jb250ZW50LWZvci1zZWFyY2gnKTtcblxuXHRpZiAobnVsbCA9PT0gaG9sZGVyKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0dmFyIHByZXZDb250ZW50ID0gaG9sZGVyLnZhbHVlO1xuXHR2YXIgY29udGVudCA9ICcnO1xuXG5cdC8vIEdvIHRocm91Z2ggZWFjaCBjb250ZW50IGVsZW1lbnRcblxuXHR2YXIgZWxlbWVudHMgPSBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYVdpbmRvdy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjZHNsYy1tYWluIC5kc2xjLW1vZHVsZS1mcm9udCBbZGF0YS1leHBvcnRhYmxlLWNvbnRlbnRdJyk7XG5cblx0aWYgKCB1bmRlZmluZWQgIT09IGVsZW1lbnRzICkge1xuXHRcdEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZWxlbWVudHMsIGZ1bmN0aW9uKGVsLCBpKXtcblx0XHRcdC8vIGVsIC0gY3VycmVudCBET00gZWxlbWVudCwgaSDigJMgY291bnRlclxuXHRcdFx0dmFyIGV4dHJhY3RlZF9odG1sX2NvZGU7XG5cblx0XHRcdGlmICggZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWV4cG9ydGFibGUtY29udGVudCcpICE9PSAnJyApIHtcblxuXHRcdFx0XHR2YXIgd3JhcHBlcl90YWcgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZXhwb3J0YWJsZS1jb250ZW50Jyk7XG5cdFx0XHRcdGV4dHJhY3RlZF9odG1sX2NvZGUgPSAnPCcgKyB3cmFwcGVyX3RhZyArICc+JyArIGVsLmlubmVySFRNTCArICc8LycgKyB3cmFwcGVyX3RhZyArICc+Jztcblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0ZXh0cmFjdGVkX2h0bWxfY29kZSA9IGVsLmlubmVySFRNTDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBleHRyYWN0ZWRfaHRtbF9jb2RlICE9PSBudWxsICkge1xuXG5cdFx0XHRcdGNvbnRlbnQgKz0gZXh0cmFjdGVkX2h0bWxfY29kZS5yZXBsYWNlKC9cXHMrL2csICcgJykudHJpbSgpICsgJ1xcbic7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBTZXQgdGhlIHZhbHVlIG9mIHRoZSBjb250ZW50IGZpZWxkXG5cdGhvbGRlci52YWx1ZSA9IGNvbnRlbnQ7XG5cblx0Ly8gVXNlZCB0byBzaG93IHRoZSBwdWJsaXNoIGJ1dHRvbiBmb3IgcGFnZXMgbWFkZSBiZWZvcmUgdGhpcyBmZWF0dXJlXG5cdGlmICggcHJldkNvbnRlbnQgIT09IGNvbnRlbnQgKSB7XG5cblx0XHR3aW5kb3cuZHNsY19zaG93X3B1Ymxpc2hfYnV0dG9uKCk7XG5cdH1cbn1cblxuZXhwb3J0IGNvbnN0IGNvZGVHZW5lcmF0aW9uSW5pdEpTID0gKCkgPT4ge1xuXHRcbn0iLCIvKipcbiAqIFVJIC0gR2VuZXJhbCAtIEluaXRpYXRlIERyYWcgYW5kIERyb3AgRnVuY3RvbmFsaXR5XG4gKi9cblxuaW1wb3J0IFNvcnRhYmxlIGZyb20gJ3NvcnRhYmxlanMnO1xuXG5leHBvcnQgY29uc3QgZHJhZ0FuZERyb3BJbml0ID0gKCkgPT4ge1xuXG5cdGlmICggd2luZG93LmRzbGNEZWJ1ZyApIGNvbnNvbGUubG9nKCAnZHNsY19kcmFnX2FuZF9kcm9wJyApO1xuXG5cdHZhciBtb2R1bGVzU2VjdGlvbiwgbW9kdWxlc0FyZWEsIG1vZHVsZUlELCBtb2R1bGVPdXRwdXQ7XG5cblx0Ly8gRHJhZyBhbmQgRHJvcCBmb3IgbW9kdWxlIGljb25zIGZyb20gdGhlIGxpc3Qgb2YgbW9kdWxlc1xuXHR2YXIgbW9kdWxlc19saXN0ID0galF1ZXJ5KCcuZHNsY2EtbW9kdWxlcyAuZHNsY2Etc2VjdGlvbi1zY3JvbGxlci1jb250ZW50Jyk7IC8vIEdyb3VwcyB0aGF0IGNhbiBob2xkIG1vZHVsZXNcblx0Ly8galF1ZXJ5KG1vZHVsZXNfbGlzdCkuZWFjaChmdW5jdGlvbiAoaSxlKSB7XG5cblx0aWYoIG1vZHVsZXNfbGlzdC5sZW5ndGggPT0gMCApIHtcblxuXHRcdG1vZHVsZXNfbGlzdCA9IFsgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2RpdicgKSBdO1xuXHR9XG5cblx0dmFyIG1vZHVsZXNfbGlzdF9zb3J0YWJsZSA9IFNvcnRhYmxlLmNyZWF0ZShtb2R1bGVzX2xpc3RbMF0sIHtcblx0XHRzb3J0OiBmYWxzZSwgLy8gZG8gbm90IGFsbG93IHNvcnRpbmcgaW5zaWRlIHRoZSBsaXN0IG9mIG1vZHVsZXNcblx0XHRncm91cDogeyBuYW1lOiAnbW9kdWxlcycsIHB1bGw6ICdjbG9uZScsIHB1dDogZmFsc2UgfSxcblx0XHRhbmltYXRpb246IDE1MCxcblx0XHRoYW5kbGU6ICcuZHNsY2EtbW9kdWxlJyxcblx0XHRkcmFnZ2FibGU6ICcuZHNsY2EtbW9kdWxlJyxcblx0XHQvLyBnaG9zdENsYXNzOiAnZHNsY2EtbW9kdWxlLXBsYWNlaG9sZGVyJyxcblx0XHRjaG9zZW5DbGFzczogJ2RzbGNhLW1vZHVsZS1kcmFnZ2luZycsXG5cdFx0c2Nyb2xsOiB0cnVlLCAvLyBvciBIVE1MRWxlbWVudFxuXHRcdHNjcm9sbFNlbnNpdGl2aXR5OiAxNTAsIC8vIHB4LCBob3cgbmVhciB0aGUgbW91c2UgbXVzdCBiZSB0byBhbiBlZGdlIHRvIHN0YXJ0IHNjcm9sbGluZy5cblx0XHRzY3JvbGxTcGVlZDogMTUsIC8vIHB4XG5cblxuXHRcdHNldERhdGE6IGZ1bmN0aW9uIChkYXRhVHJhbnNmZXIsIGRyYWdFbCkge1xuXHRcdC8vZHJhZ0VsIOKAkyBjb250YWlucyBodG1sIG9mIHRoZSBkcmFnZ2FibGUgZWxlbWVudCBsaWtlOlxuXHRcdC8vPGRpdiBjbGFzcz1cImRzbGNhLW1vZHVsZSBkc2xjYS1zY3JvbGxlci1pdGVtIGRzbGNhLW9yaWdpbiBkc2xjYS1vcmlnaW4tR2VuZXJhbFwiIGRhdGEtaWQ9XCJEU0xDX0J1dHRvblwiIGRhdGEtb3JpZ2luPVwiR2VuZXJhbFwiIGRyYWdnYWJsZT1cImZhbHNlXCIgc3R5bGU9XCJcIj5cblxuXHRcdFx0ICAvLyBkYXRhVHJhbnNmZXIuc2V0RGF0YSgnVGV4dCcsIGRyYWdFbC50ZXh0Q29udGVudCk7XG5cdFx0XHRkYXRhVHJhbnNmZXIuc2V0RGF0YShMaXZlQ29tcG9zZXIuVXRpbHMubXNpZXZlcnNpb24oKSAhPT0gZmFsc2UgPyAnVGV4dCcgOiAndGV4dC9odG1sJywgZHJhZ0VsLmlubmVySFRNTCk7XG5cdFx0fSxcblxuXHRcdC8vIGRyYWdnaW5nIHN0YXJ0ZWRcblx0XHRvblN0YXJ0OiBmdW5jdGlvbiAoLyoqRXZlbnQqL2V2dCkge1xuXHRcdFx0ZXZ0Lm9sZEluZGV4OyAgLy8gZWxlbWVudCBpbmRleCB3aXRoaW4gcGFyZW50XG5cblx0XHRcdC8vIGpRdWVyeSggJy5kc2xjLW1vZHVsZXMtYXJlYScgKS5zb3J0YWJsZSggXCJyZWZyZXNoUG9zaXRpb25zXCIgKTtcblx0XHRcdGpRdWVyeSgnYm9keScpLnJlbW92ZUNsYXNzKCdkc2xjYS1uZXctbW9kdWxlLWRyYWctbm90LWluLXByb2dyZXNzJykuYWRkQ2xhc3MoJ2RzbGNhLW5ldy1tb2R1bGUtZHJhZy1pbi1wcm9ncmVzcycpO1xuXHRcdFx0alF1ZXJ5KCdib2R5JywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkucmVtb3ZlQ2xhc3MoJ2RzbGNhLW5ldy1tb2R1bGUtZHJhZy1ub3QtaW4tcHJvZ3Jlc3MnKS5hZGRDbGFzcygnZHNsY2EtbmV3LW1vZHVsZS1kcmFnLWluLXByb2dyZXNzJyk7XG5cdFx0XHRqUXVlcnkoJyNkc2xjLWhlYWRlcicpLmFkZENsYXNzKCdkc2xjYS1oZWFkZXItbG93LXotaW5kZXgnKTtcblx0XHR9LFxuXG5cdFx0Ly8gZHJhZ2dpbmcgZW5kZWRcblx0XHRvbkVuZDogZnVuY3Rpb24gKC8qKkV2ZW50Ki9ldnQpIHtcblx0XHRcdGV2dC5vbGRJbmRleDsgIC8vIGVsZW1lbnQncyBvbGQgaW5kZXggd2l0aGluIHBhcmVudFxuXHRcdFx0ZXZ0Lm5ld0luZGV4OyAgLy8gZWxlbWVudCdzIG5ldyBpbmRleCB3aXRoaW4gcGFyZW50XG5cblx0XHRcdHZhciBpdGVtRWwgPSBldnQuaXRlbTsgIC8vIGRyYWdnZWQgSFRNTFxuXHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHQvLyBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHQvL3JldHVybiBmYWxzZTtcblxuXHRcdFx0Ly8gUHJldmVudCBkcm9wIGludG8gbW9kdWxlcyBsaXN0aW5nXG5cdFx0XHRpZihqUXVlcnkoaXRlbUVsKS5jbG9zZXN0KCcuZHNsY2Etc2VjdGlvbi1zY3JvbGxlci1jb250ZW50JykubGVuZ3RoID4gMCkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0XHRqUXVlcnkoICcuZHNsY2Etb3B0aW9ucy1ob3ZlcmVkJywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCApLnJlbW92ZUNsYXNzKCdkc2xjYS1vcHRpb25zLWhvdmVyZWQnKTtcblxuXHRcdFx0Ly8gVmFyc1xuXHRcdFx0bW9kdWxlc0FyZWEgPSBqUXVlcnkoaXRlbUVsLnBhcmVudE5vZGUpOyAvL2pRdWVyeSh0aGlzKTtcblx0XHRcdG1vZHVsZUlEID0gaXRlbUVsLmRhdGFzZXQuaWQ7IC8vIGdldCB2YWx1ZSBvZiBkYXRhLWlkIGF0dHIuXG5cblx0XHRcdHdpbmRvdy5kc2xjX2dlbmVyYXRlX2NvZGUoKTtcblxuXHRcdFx0aWYgKCBtb2R1bGVJRCA9PSAnRFNMQ19NX0EnIHx8IGpRdWVyeSgnYm9keScpLmhhc0NsYXNzKCdkc2xjYS1tb2R1bGUtZHJvcC1pbi1wcm9ncmVzcycpIHx8XG5cdFx0XHRcdG1vZHVsZXNBcmVhLmNsb3Nlc3QoJyNkc2xjLWhlYWRlcicpLmxlbmd0aCB8fCBtb2R1bGVzQXJlYS5jbG9zZXN0KCcjZHNsYy1mb290ZXInKS5sZW5ndGggKSB7XG5cblx0XHRcdFx0Ly8gbm90aGluZ1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdGpRdWVyeSgnYm9keScpLmFkZENsYXNzKCdkc2xjYS1tb2R1bGUtZHJvcC1pbi1wcm9ncmVzcycpO1xuXG5cdFx0XHRcdC8vIEFkZCBwYWRkaW5nIHRvIG1vZHVsZXMgYXJlYVxuXHRcdFx0XHQvKlxuXHRcdFx0XHRpZiAoIG1vZHVsZXNBcmVhLmhhc0NsYXNzKCdkc2xjLW1vZHVsZXMtYXJlYS1ub3QtZW1wdHknKSApXG5cdFx0XHRcdFx0bW9kdWxlc0FyZWEuYW5pbWF0ZSh7IHBhZGRpbmdCb3R0b20gOiA1MCB9LCAxNTApO1xuXHRcdFx0XHQqL1xuXG5cdFx0XHRcdC8vIFRPRE86IE9wdGltaXplIGV4cGVuc2l2ZSBhamF4IGNhbGwgaW4gdGhpcyBmdW5jdGlvbiFcblx0XHRcdFx0Ly8gTG9hZCBPdXRwdXRcblx0XHRcdFx0ZHNsY19tb2R1bGVfb3V0cHV0X2RlZmF1bHQoIG1vZHVsZUlELCBmdW5jdGlvbiggcmVzcG9uc2UgKXtcblxuXHRcdFx0XHRcdC8vIEFwcGVuZCBDb250ZW50XG5cdFx0XHRcdFx0bW9kdWxlT3V0cHV0ID0gcmVzcG9uc2Uub3V0cHV0O1xuXG5cdFx0XHRcdFx0Ly8gUmVtb3ZlIGV4dHJhIHBhZGRpbmcgZnJvbSBhcmVhXG5cdFx0XHRcdFx0Ly8gbW9kdWxlc0FyZWEuY3NzKHsgcGFkZGluZ0JvdHRvbSA6IDAgfSk7XG5cblx0XHRcdFx0XHQvLyBBZGQgb3V0cHV0XG5cdFx0XHRcdFx0Ly8gVE9ETzogb3B0aW1pemUgalF1ZXJ5IGluIHRoZSBzdHJpbmcgYmVsb3dcblxuXHRcdFx0XHRcdHZhciBkc2xjSnVzdEFkZGVkID0gTGl2ZUNvbXBvc2VyLlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRCdWlsZGVyLlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRIZWxwZXJzLlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpbnNlcnRNb2R1bGUoIG1vZHVsZU91dHB1dCwgalF1ZXJ5KCcuZHNsY2EtbW9kdWxlJywgbW9kdWxlc0FyZWEpICk7XG5cblxuXHRcdFx0XHRcdHNldFRpbWVvdXQoIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0XHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYVdpbmRvdy5kc2xjX21hc29ucnkoKTtcblx0XHRcdFx0XHRcdGpRdWVyeSgnYm9keScpLnJlbW92ZUNsYXNzKCdkc2xjYS1tb2R1bGUtZHJvcC1pbi1wcm9ncmVzcycpO1xuXHRcdFx0XHRcdH0sIDcwMCApO1xuXG5cdFx0XHRcdFx0Ly8gXCJTaG93XCIgbm8gY29udGVudCB0ZXh0IC8vIE5vdCB1c2VkIGFueW1vcmU/XG5cdFx0XHRcdFx0Ly8galF1ZXJ5KCcuZHNsY2Etbm8tY29udGVudC1wcmltYXJ5JywgbW9kdWxlc0FyZWEgKS5jc3MoeyBvcGFjaXR5IDogMSB9KTtcblxuXHRcdFx0XHRcdC8vIFwiU2hvd1wiIG1vZHVsZXMgYXJlYSBtYW5hZ2VtZW50XG5cdFx0XHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlcy1hcmVhLW1hbmFnZScsIG1vZHVsZXNBcmVhKS5jc3MgKHsgdmlzaWJpbGl0eSA6ICd2aXNpYmxlJyB9KTtcblxuXHRcdFx0XHRcdC8vIEdlbmVyZXRlXG5cdFx0XHRcdFx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFXaW5kb3cuZHNsY19jYXJvdXNlbCgpO1xuXHRcdFx0XHRcdExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhV2luZG93LmRzbGNfdGFicygpO1xuXHRcdFx0XHRcdExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhV2luZG93LmRzbGNfaW5pdF9hY2NvcmRpb24oKTtcblxuXHRcdFx0XHRcdHdpbmRvdy5kc2xjX2dlbmVyYXRlX2NvZGUoKTtcblx0XHRcdFx0XHQvLyBTaG93IHB1Ymxpc2hcblx0XHRcdFx0XHR3aW5kb3cuZHNsY19zaG93X3B1Ymxpc2hfYnV0dG9uKCk7XG5cblx0XHRcdFx0XHQvLyBMaXZlQ29tcG9zZXIuQnVpbGRlci5VSS5pbml0SW5saW5lRWRpdG9ycygpO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvLyBMb2FkaW5nIGFuaW1hdGlvblxuXG5cdFx0XHRcdC8vIFNob3cgbG9hZGVyIOKAkyBOb3QgdXNlZCBhbnltb3JlLlxuXHRcdFx0XHQvLyBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtbG9hZGluZycsIG1vZHVsZXNBcmVhKS5zaG93KCk7XG5cblx0XHRcdFx0Ly8gQ2hhbmdlIG1vZHVsZSBpY29uIHRvIHRoZSBzcGlubmluZyBsb2FkZXIuXG5cdFx0XHRcdGpRdWVyeShpdGVtRWwpLmZpbmQoJy5kc2xjYS1pY29uJykuYXR0cignY2xhc3MnLCAnJykuYXR0cignY2xhc3MnLCAnZHNsY2EtaWNvbiBkc2xjLWljb24tcmVmcmVzaCBkc2xjLWljb24tc3BpbicpO1xuXG5cblx0XHRcdFx0Ly8gSGlkZSBubyBjb250ZW50IHRleHQgLy8gTm90IHVzZWQgYW55bW9yZT9cblx0XHRcdFx0Ly8galF1ZXJ5KCcuZHNsY2Etbm8tY29udGVudC1wcmltYXJ5JywgbW9kdWxlc0FyZWEpLmNzcyh7IG9wYWNpdHkgOiAwIH0pO1xuXG5cdFx0XHRcdC8vIEhpZGUgbW9kdWxlcyBhcmVhIG1hbmFnZW1lbnRcblx0XHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlcy1hcmVhLW1hbmFnZScsIG1vZHVsZXNBcmVhKS5jc3MgKHsgdmlzaWJpbGl0eSA6ICdoaWRkZW4nIH0pO1xuXG5cdFx0XHRcdC8vIEFuaW1hdGUgbG9hZGluZ1xuXHRcdFx0XHQvKlxuXHRcdFx0XHR2YXIgcmFuZG9tTG9hZGluZ1RpbWUgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMTAwIC0gNTAgKyAxKSArIDUwKSAqIDEwMDtcblx0XHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWxvYWRpbmctaW5uZXInLCBtb2R1bGVzQXJlYSkuY3NzKHsgd2lkdGggOiAwIH0pLmFuaW1hdGUoe1xuXHRcdFx0XHRcdHdpZHRoIDogJzEwMCUnXG5cdFx0XHRcdH0sIHJhbmRvbUxvYWRpbmdUaW1lLCAnbGluZWFyJyApO1xuXHRcdFx0XHQqL1xuXHRcdFx0fVxuXG5cdFx0XHRMaXZlQ29tcG9zZXIuQnVpbGRlci5VSS5zdG9wU2Nyb2xsZXIoKTtcblx0XHRcdGpRdWVyeSgnYm9keScpLnJlbW92ZUNsYXNzKCdkc2xjYS1uZXctbW9kdWxlLWRyYWctaW4tcHJvZ3Jlc3MnKS5hZGRDbGFzcygnZHNsY2EtbmV3LW1vZHVsZS1kcmFnLW5vdC1pbi1wcm9ncmVzcycpO1xuXHRcdFx0alF1ZXJ5KCdib2R5JywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkucmVtb3ZlQ2xhc3MoJ2RzbGNhLW5ldy1tb2R1bGUtZHJhZy1pbi1wcm9ncmVzcycpLmFkZENsYXNzKCdkc2xjYS1uZXctbW9kdWxlLWRyYWctbm90LWluLXByb2dyZXNzJyk7XG5cdFx0XHRqUXVlcnkoJyNkc2xjLWhlYWRlcicpLnJlbW92ZUNsYXNzKCdkc2xjYS1oZWFkZXItbG93LXotaW5kZXgnKTtcblx0XHR9LFxuXG5cdFx0Ly8gRWxlbWVudCBpcyBkcm9wcGVkIGludG8gdGhlIGxpc3QgZnJvbSBhbm90aGVyIGxpc3Rcblx0XHRvbkFkZDogZnVuY3Rpb24gKC8qKkV2ZW50Ki9ldnQpIHtcblx0XHRcdHZhciBpdGVtRWwgPSBldnQuaXRlbTsgIC8vIGRyYWdnZWQgSFRNTEVsZW1lbnRcblx0XHRcdGV2dC5mcm9tOyAgLy8gcHJldmlvdXMgbGlzdFxuXHRcdFx0Ly8gKyBpbmRleGVzIGZyb20gb25FbmRcblx0XHRcdC8vIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH0sXG5cblx0XHQvLyBDaGFuZ2VkIHNvcnRpbmcgd2l0aGluIGxpc3Rcblx0XHRvblVwZGF0ZTogZnVuY3Rpb24gKC8qKkV2ZW50Ki9ldnQpIHtcblx0XHRcdHZhciBpdGVtRWwgPSBldnQuaXRlbTsgIC8vIGRyYWdnZWQgSFRNTEVsZW1lbnRcblx0XHRcdC8vICsgaW5kZXhlcyBmcm9tIG9uRW5kXG5cdFx0XHR3aW5kb3cuZHNsY19zaG93X3B1Ymxpc2hfYnV0dG9uKCk7XG5cdFx0XHQvLyBldnQucHJldmVudERlZmF1bHQoKTtcblx0XHR9LFxuXG5cdFx0Ly8gQ2FsbGVkIGJ5IGFueSBjaGFuZ2UgdG8gdGhlIGxpc3QgKGFkZCAvIHVwZGF0ZSAvIHJlbW92ZSlcblx0XHRvblNvcnQ6IGZ1bmN0aW9uICgvKipFdmVudCovZXZ0KSB7XG5cdFx0XHQvLyBzYW1lIHByb3BlcnRpZXMgYXMgb25VcGRhdGVcblx0XHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0Ly8gZXZ0LnN0b3BQcm9wYWdhdGlvbigpOyByZXR1cm4gZmFsc2U7XG5cdFx0fSxcblxuXHRcdC8vIEVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBsaXN0IGludG8gYW5vdGhlciBsaXN0XG5cdFx0b25SZW1vdmU6IGZ1bmN0aW9uICgvKipFdmVudCovZXZ0KSB7XG5cdFx0XHQgIC8vIHNhbWUgcHJvcGVydGllcyBhcyBvblVwZGF0ZVxuXHRcdH0sXG5cblx0XHQvLyBBdHRlbXB0IHRvIGRyYWcgYSBmaWx0ZXJlZCBlbGVtZW50XG5cdFx0b25GaWx0ZXI6IGZ1bmN0aW9uICgvKipFdmVudCovZXZ0KSB7XG5cdFx0XHR2YXIgaXRlbUVsID0gZXZ0Lml0ZW07ICAvLyBIVE1MRWxlbWVudCByZWNlaXZpbmcgdGhlIGBtb3VzZWRvd258dGFwc3RhcnRgIGV2ZW50LlxuXHRcdH0sXG5cblx0XHQvLyBFdmVudCB3aGVuIHlvdSBtb3ZlIGFuIGl0ZW0gaW4gdGhlIGxpc3Qgb3IgYmV0d2VlbiBsaXN0c1xuXHRcdG9uTW92ZTogZnVuY3Rpb24gKC8qKkV2ZW50Ki9ldnQpIHtcblx0XHRcdC8vIEV4YW1wbGU6IGh0dHA6Ly9qc2Jpbi5jb20vdHV5YWZlLzEvZWRpdD9qcyxvdXRwdXRcblx0XHRcdGV2dC5kcmFnZ2VkOyAvLyBkcmFnZ2VkIEhUTUxFbGVtZW50XG5cdFx0XHRldnQuZHJhZ2dlZFJlY3Q7IC8vIFRleHRSZWN0YW5nbGUge2xlZnQsIHRvcCwgcmlnaHQg0LggYm90dG9tfVxuXHRcdFx0ZXZ0LnJlbGF0ZWQ7IC8vIEhUTUxFbGVtZW50IG9uIHdoaWNoIGhhdmUgZ3VpZGVkXG5cdFx0XHRldnQucmVsYXRlZFJlY3Q7IC8vIFRleHRSZWN0YW5nbGVcblx0XHRcdC8vIHJldHVybiBmYWxzZTsg4oCUIGZvciBjYW5jZWxcblx0XHRcdGpRdWVyeSggZXZ0LnRvICkuYWRkQ2xhc3MoJ2RzbGNhLW9wdGlvbnMtaG92ZXJlZCcpO1xuXHRcdH1cblx0fSk7XG59XG4iLCIvKipcbiAqIE1haW4gYnVpbGRlciBmaWxlXG4gKi9cblxuaW1wb3J0IHsgdGVtcGxhdGVzUGFuZWxJbml0IH0gZnJvbSAnLi9idWlsZGVyLnRlbXBsYXRlcy5qcyc7XG5pbXBvcnQgeyBmaXhDb250ZW50ZWRpdGFibGUsIGtleXByZXNzRXZlbnRzIH0gZnJvbSAnLi91aWdlbmVyYWwuanMnO1xuaW1wb3J0IHsgQ1NlY3Rpb25zQ29udGFpbmVyIH0gZnJvbSAnLi9zZWN0aW9uc2NvbnRhaW5lci5jbGFzcy5qcyc7XG5pbXBvcnQgeyBzZXR0aW5nc1BhbmVsSW5pdCB9IGZyb20gJy4vc2V0dGluZ3MucGFuZWwuanMnO1xuaW1wb3J0IHsgc2VjdGlvbnNJbml0IH0gZnJvbSAnLi9zZWN0aW9ucy5qcyc7XG5pbXBvcnQgeyBkcmFnQW5kRHJvcEluaXQgfSBmcm9tICcuL2RyYWduZHJvcC5qcyc7XG5pbXBvcnQgeyBjb2RlR2VuZXJhdGlvbkluaXRKUyB9IGZyb20gJy4vY29kZWdlbmVyYXRpb24uanMnO1xuaW1wb3J0IHsgaW5pdFByZXZpZXdBcmVhU2Nyb2xsZXIgfSBmcm9tICcuL3Njcm9sbGVyLmpzJztcbmltcG9ydCB7IHVudGlsc0luaXRKcyB9IGZyb20gJy4vdXRpbHMuY2xhc3MuanMnO1xuXG5cbnZhciBkc2xjRGVidWcgPSBmYWxzZTtcbi8vIGRzbGNEZWJ1ZyA9IHRydWU7XG5cbi8vIEdsb2JhbCBQbHVnaW4gT2JqZWN0XG53aW5kb3cuTGl2ZUNvbXBvc2VyID0ge1xuXG4gICAgQnVpbGRlcjoge1xuXG4gICAgICAgIEVsZW1lbnRzOiB7fSxcbiAgICAgICAgVUk6IHt9LFxuICAgICAgICBBY3Rpb25zOiB7fSxcbiAgICAgICAgRmxhZ3M6IHt9LFxuICAgICAgICBQcmV2aWV3RnJhbWU6IHt9LFxuICAgICAgICBIZWxwZXJzOiB7fVxuICAgIH0sXG4gICAgUHJvZHVjdGlvbjoge1xuXG4gICAgfSxcbiAgICBVdGlsczoge31cbn07XG5cbihmdW5jdGlvbigpe1xuXG5cdExpdmVDb21wb3Nlci5CdWlsZGVyLkZsYWdzID0ge1xuXG5cdFx0d2luZG93U2Nyb2xsZXI6IGZhbHNlLFxuXHRcdHBhbmVsT3BlbmVkOiBmYWxzZSwgLy8gU2V0dGluZ3MgcGFuZWwgb3BlbmVkXG5cblx0XHQvLyBVc2VkIHRvIHByZXZlbnQgbXVsdGlwbGUgY29kZSBnZW5lcmF0aW9uIHdoZW5cblx0XHQvLyBjYW5jZWxsaW5nIHJvdyBlZGl0c1xuXHRcdGdlbmVyYXRlX2NvZGVfYWZ0ZXJfcm93X2NoYW5nZWQ6IHRydWVcblx0fTtcblxuXHRMaXZlQ29tcG9zZXIuQnVpbGRlci5BY3Rpb25zID0ge1xuXG5cdFx0cG9zdHBvbmVkX2FjdGlvbnNfcXVldWU6IHt9LFxuXHRcdGFkZF9wb3N0cG9uZWRfYWN0aW9uOiBmdW5jdGlvbiggYWN0aW9uX25hbWUgKSB7XG5cblx0XHRcdGlmIChhY3Rpb25fbmFtZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHQgICByZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICggaXNOYU4gKCB0aGlzLnBvc3Rwb25lZF9hY3Rpb25zX3F1ZXVlWyBhY3Rpb25fbmFtZSBdICkgKSB7XG5cdFx0XHRcdHRoaXMucG9zdHBvbmVkX2FjdGlvbnNfcXVldWVbIGFjdGlvbl9uYW1lIF0gPSAwO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLnBvc3Rwb25lZF9hY3Rpb25zX3F1ZXVlWyBhY3Rpb25fbmFtZSBdICs9IDE7XG5cdFx0fSxcblxuXHRcdHJlbGVhc2VfcG9zdHBvbmVkX2FjdGlvbnM6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdGpRdWVyeS5lYWNoKCB0aGlzLnBvc3Rwb25lZF9hY3Rpb25zX3F1ZXVlLCBmdW5jdGlvbihpbmRleCwgdmFsdWUpIHtcblxuXHRcdFx0XHRpZiAoIDEgPCB2YWx1ZSApIHtcblx0XHRcdFx0XHRzZWxmLnBvc3Rwb25lZF9hY3Rpb25zX3F1ZXVlW2luZGV4XSAtPSAxO1xuXHRcdFx0XHR9IGVsc2UgaWYgKCAxID09IHZhbHVlICkge1xuXHRcdFx0XHRcdHdpbmRvd1tpbmRleF0oKTsgLy8gUnVuIGZ1bmN0aW9uIHdpdGggYWN0aW9uIG5hbWVcblx0XHRcdFx0XHRzZWxmLnBvc3Rwb25lZF9hY3Rpb25zX3F1ZXVlW2luZGV4XSAtPSAxO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogSW5zZXJ0cyBtb2R1bGUgZml4aW5nIGlubGluZSBzY3JpcHRzIGJ1Z1xuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbW9kdWxlSFRNTFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gYWZ0ZXJPYmplY3QgYWZ0ZXIgd2hhdCBtb2R1bGUgc2hvdWxkIGJlIGluc2VydGVkXG5cdCAqXG5cdCAqIEByZXR1cm4ge0RPTX0gaW5zZXJ0ZWQgb2JqZWN0XG5cdCAqL1xuXHRMaXZlQ29tcG9zZXIuQnVpbGRlci5IZWxwZXJzLmluc2VydE1vZHVsZSA9IGZ1bmN0aW9uKCBtb2R1bGVIVE1MLCBhZnRlck9iamVjdCApIHtcblxuXHRcdHZhciBuZXdNb2R1bGUgPSBqUXVlcnkobW9kdWxlSFRNTCksXG5cdFx0XHRhZnRlck9iamVjdCA9IGpRdWVyeShhZnRlck9iamVjdCk7XG5cblx0XHR2YXIgc2NyaXB0cyA9IFtdO1xuXG5cdFx0bmV3TW9kdWxlLmZpbmQoJ3NjcmlwdCcpLmVhY2goZnVuY3Rpb24oKXtcblxuXHRcdFx0c2NyaXB0cy5wdXNoKHRoaXMuaW5uZXJIVE1MKTtcblx0XHRcdHRoaXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzKTtcblx0XHR9KTtcblxuXHRcdC8vIEluc2VydCAndXBkYXRlZCcgbW9kdWxlIG91dHB1dCBhZnRlciBtb2R1bGUgd2UgYXJlIGVkaXRpbmcuXG5cdFx0Ly8gJiYgRGVsZXRlICdvbGQnIGluc3RhbmNlIG9mIHRoZSBtb2R1bGUgd2UgYXJlIGVkaXRpbmcuXG5cdFx0YWZ0ZXJPYmplY3Rcblx0XHRcdC5hZnRlcihuZXdNb2R1bGUpXG5cdFx0XHQucmVtb3ZlKCk7XG5cblx0XHRzY3JpcHRzLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuXG5cdFx0XHR2YXIgc2NyaXB0ID0gTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudFswXS5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcblx0XHRcdHNjcmlwdC5pbm5lckhUTUwgPSBpdGVtO1xuXHRcdFx0c2NyaXB0LnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JztcblxuXHRcdFx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudFswXS5nZXRFbGVtZW50QnlJZChuZXdNb2R1bGVbMF0uaWQpLmFwcGVuZENoaWxkKHNjcmlwdCk7XG5cdFx0fSk7XG5cblx0XHRzY3JpcHRzID0gbnVsbDtcblx0XHRhZnRlck9iamVjdCA9IG51bGw7XG5cblx0XHRyZXR1cm4gbmV3TW9kdWxlO1xuXHR9XG59KCkpO1xuXG4vKiogV2FpdCB0aWxsIHRpbnlNQ0UgbG9hZGVkICovXG53aW5kb3cucHJldmlld0FyZWFUaW55TUNFTG9hZGVkID0gZnVuY3Rpb24oKXtcblxuXHRjb25zb2xlLmxvZyggXCJ3aW5kb3cucHJldmlld0FyZWFUaW55TUNFTG9hZGVkIVwiICk7XG5cblx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFXaW5kb3cgPSB0aGlzO1xuXHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50ID0galF1ZXJ5KHRoaXMuZG9jdW1lbnQpO1xuXG5cdC8vIERpc2FibGUgV1AgYWRtaW4gYmFyIGluIGVkaXRpbmcgbW9kZVxuXHRqUXVlcnkoJyN3cGFkbWluYmFyJywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkucmVtb3ZlKCk7XG5cblx0Ly8gTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuVUkuaW5pdElubGluZUVkaXRvcnMoKTtcblx0Zml4Q29udGVudGVkaXRhYmxlKCk7XG5cblx0dGVtcGxhdGVzUGFuZWxJbml0KCk7XG5cdHNldHRpbmdzUGFuZWxJbml0KCk7XG5cblx0c2VjdGlvbnNJbml0KCk7XG5cblx0dmFyIG1haW5EcmFnZ2FibGUgPSBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50LmZpbmQoXCIjZHNsYy1tYWluXCIpLmVxKDApWzBdO1xuXHRuZXcgQ1NlY3Rpb25zQ29udGFpbmVyKCBtYWluRHJhZ2dhYmxlICk7XG5cblx0alF1ZXJ5KGRvY3VtZW50KS50cmlnZ2VyKCdlZGl0b3JGcmFtZUxvYWRlZCcpO1xuXHRkcmFnQW5kRHJvcEluaXQoKTtcblx0Y29kZUdlbmVyYXRpb25Jbml0SlMoKTtcblx0d2luZG93LmRzbGNfZ2VuZXJhdGVfY29kZSgpO1xuXG5cdC8vIENhdGNoIGtleXByZXNzIGV2ZW50cyAoZnJvbSBib3RoIHBhcmVudCBhbmQgaWZyYW1lKSB0byBhZGQga2V5Ym9hcmQgc3VwcG9ydFxuXHRrZXlwcmVzc0V2ZW50cygpO1xuXHRpbml0UHJldmlld0FyZWFTY3JvbGxlcigpO1xuXHR1bnRpbHNJbml0SnMoKTtcbn07XG4iLCIvKipcbiAqIERTTENfTW9kdWxlQXJlYSBjbGFzc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IFNvcnRhYmxlIGZyb20gJ3NvcnRhYmxlanMnO1xuXG5leHBvcnQgY29uc3QgTW9kdWxlQXJlYSA9IGZ1bmN0aW9uKGVsZW0pIHtcblxuXHR2YXIgc2VsZiA9IHRoaXM7XG5cdHRoaXMuc2VjdGlvbiA9IGpRdWVyeShlbGVtKS5jbG9zZXN0KCcuZHNsYy1tb2R1bGVzLXNlY3Rpb24nKTtcblx0dGhpcy5lbGVtID0gZWxlbTtcblxuXHQvKiogU2V0IG9ic2VydmVyIHRvIGNoYW5nZSBlbGVtcyBjbGFzcyAqL1xuXHR0aGlzLm9ic2VydmVyID0gbmV3IG1xTXV0YXRpb25PYnNlcnZlcihlbGVtLCBmdW5jdGlvbigpe1xuXG5cdFx0dmFyIGNsYXNzTGlzdCA9IHNlbGYuZWxlbS5jbGFzc0xpc3Q7XG5cblx0XHRpZiAoZWxlbS5xdWVyeVNlbGVjdG9yQWxsKCcuZHNsYy1tb2R1bGUtZnJvbnQnKS5sZW5ndGggPT0gMCkge1xuXG5cdFx0XHRjbGFzc0xpc3QuYWRkKCdkc2xjLW1vZHVsZXMtYXJlYS1lbXB0eScpO1xuXHRcdFx0Y2xhc3NMaXN0LnJlbW92ZSgnZHNsYy1tb2R1bGVzLWFyZWEtbm90LWVtcHR5Jyk7XG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Y2xhc3NMaXN0LnJlbW92ZSgnZHNsYy1tb2R1bGVzLWFyZWEtZW1wdHknKTtcblx0XHRcdGNsYXNzTGlzdC5hZGQoJ2RzbGMtbW9kdWxlcy1hcmVhLW5vdC1lbXB0eScpO1xuXHRcdH1cblx0fSwge2NoaWxkTGlzdDogdHJ1ZX0pO1xuXG5cdC8qKlxuXHQgKiBNYWtlIE1PRFVMRVMgaW5zaWRlIHRoZSBNb2R1bGVzIEFyZWEgZHJhZ2dhYmxlL3NvcnRhYmxlXG5cdCAqL1xuXHR0aGlzLnNvcnRhYmxlID0gU29ydGFibGUuY3JlYXRlKGVsZW0sIHtcblx0XHRncm91cDogJ21vZHVsZXMnLFxuXHRcdGFuaW1hdGlvbjogMzUwLFxuXHRcdGhhbmRsZTogJy5kc2xjYS1tb3ZlLW1vZHVsZS1ob29rJyxcblx0XHRkcmFnZ2FibGU6ICcuZHNsYy1tb2R1bGUtZnJvbnQnLFxuXHRcdGdob3N0Q2xhc3M6ICdkc2xjYS1tb2R1bGUtZ2hvc3QnLFxuXHRcdGNob3NlbkNsYXNzOiAnZHNsY2EtbW9kdWxlLWRyYWdnaW5nJyxcblx0XHRzY3JvbGw6IHRydWUsIC8vIG9yIEhUTUxFbGVtZW50XG5cdFx0c2Nyb2xsU2Vuc2l0aXZpdHk6IDE1MCwgLy8gcHgsIGhvdyBuZWFyIHRoZSBtb3VzZSBtdXN0IGJlIHRvIGFuIGVkZ2UgdG8gc3RhcnQgc2Nyb2xsaW5nLlxuXHRcdHNjcm9sbFNwZWVkOiAxNSwgLy8gcHhcblxuXHRcdHNldERhdGE6IGZ1bmN0aW9uIChkYXRhVHJhbnNmZXIsIGRyYWdFbCkge1xuXG5cdFx0ICBkYXRhVHJhbnNmZXIuc2V0RGF0YSggTGl2ZUNvbXBvc2VyLlV0aWxzLm1zaWV2ZXJzaW9uKCkgIT09IGZhbHNlID8gJ1RleHQnIDogJ3RleHQvaHRtbCcsIGRyYWdFbC5pbm5lckhUTUwpO1xuXHRcdH0sXG5cblx0XHQvLyBkcmFnZ2luZyBzdGFydGVkXG5cdFx0b25TdGFydDogZnVuY3Rpb24gKGV2dCkge1xuXG5cdFx0XHRldnQub2xkSW5kZXg7ICAvLyBlbGVtZW50IGluZGV4IHdpdGhpbiBwYXJlbnRcblxuXHRcdFx0alF1ZXJ5KCdib2R5JykucmVtb3ZlQ2xhc3MoJ2RzbGNhLWRyYWctbm90LWluLXByb2dyZXNzJykuYWRkQ2xhc3MoJ2RzbGNhLWRyYWctaW4tcHJvZ3Jlc3MnKTtcblx0XHRcdGpRdWVyeSgnYm9keScsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhV2luZG93LmRvY3VtZW50KS5yZW1vdmVDbGFzcygnZHNsY2EtZHJhZy1ub3QtaW4tcHJvZ3Jlc3MnKS5hZGRDbGFzcygnZHNsY2EtZHJhZy1pbi1wcm9ncmVzcycpO1xuXHRcdH0sXG5cdFx0Ly8gZHJhZ2dpbmcgZW5kZWRcblxuXHRcdG9uRW5kOiBmdW5jdGlvbiAoZXZ0KSB7XG5cblx0XHRcdGV2dC5vbGRJbmRleDsgIC8vIGVsZW1lbnQncyBvbGQgaW5kZXggd2l0aGluIHBhcmVudFxuXHRcdFx0ZXZ0Lm5ld0luZGV4OyAgLy8gZWxlbWVudCdzIG5ldyBpbmRleCB3aXRoaW4gcGFyZW50XG5cblx0XHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHR3aW5kb3cuZHNsY19nZW5lcmF0ZV9jb2RlKCk7XG5cdFx0XHRMaXZlQ29tcG9zZXIuQnVpbGRlci5VSS5zdG9wU2Nyb2xsZXIoKTtcblx0XHRcdGpRdWVyeSgnYm9keScpLnJlbW92ZUNsYXNzKCdkc2xjYS1kcmFnLWluLXByb2dyZXNzJykuYWRkQ2xhc3MoJ2RzbGNhLWRyYWctbm90LWluLXByb2dyZXNzJyk7XG5cdFx0XHRqUXVlcnkoJ2JvZHknLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYVdpbmRvdy5kb2N1bWVudCkucmVtb3ZlQ2xhc3MoJ2RzbGNhLWRyYWctaW4tcHJvZ3Jlc3MnKS5hZGRDbGFzcygnZHNsY2EtZHJhZy1ub3QtaW4tcHJvZ3Jlc3MnKTtcblx0XHR9LFxuXG5cdFx0Ly8gRWxlbWVudCBpcyBkcm9wcGVkIGludG8gdGhlIGxpc3QgZnJvbSBhbm90aGVyIGxpc3Rcblx0XHRvbkFkZDogZnVuY3Rpb24gKGV2dCkge1xuXG5cdFx0XHR2YXIgaXRlbUVsID0gZXZ0Lml0ZW07ICAvLyBkcmFnZ2VkIEhUTUxFbGVtZW50XG5cdFx0XHRldnQuZnJvbTsgIC8vIHByZXZpb3VzIGxpc3RcblxuXHRcdFx0Ly8gSWYgY29udGFpbmVyL2NvbHVtbi9tb2R1bGVzIGFyZWEgZHJvcGVkLlxuXHRcdFx0aWYgKCBqUXVlcnkoaXRlbUVsKS5kYXRhKCdpZCcpID09ICdEU0xDX01fQScgKSB7XG5cblx0XHRcdFx0ZHNsY19tb2R1bGVzX2FyZWFfYWRkKCBqUXVlcnkoc2VsZi5zZWN0aW9uKS5maW5kKCcuZHNsYy1tb2R1bGVzLXNlY3Rpb24td3JhcHBlciAuZHNsYy1tb2R1bGVzLXNlY3Rpb24taW5uZXInKSApO1xuXHRcdFx0XHRpdGVtRWwucmVtb3ZlKCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vICsgaW5kZXhlcyBmcm9tIG9uRW5kXG5cdFx0XHQvLyBldnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdC8vIGV2dC5zdG9wUHJvcGFnYXRpb24oKTsgcmV0dXJuIGZhbHNlO1xuXHRcdH0sXG5cblx0XHQvLyBDaGFuZ2VkIHNvcnRpbmcgd2l0aGluIGxpc3Rcblx0XHRvblVwZGF0ZTogZnVuY3Rpb24gKGV2dCkge1xuXHRcdFx0dmFyIGl0ZW1FbCA9IGV2dC5pdGVtOyAgLy8gZHJhZ2dlZCBIVE1MRWxlbWVudFxuXHRcdFx0Ly8gKyBpbmRleGVzIGZyb20gb25FbmRcblx0XHRcdC8vIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0Ly8gZXZ0LnN0b3BQcm9wYWdhdGlvbigpOyByZXR1cm4gZmFsc2U7XG5cblx0XHRcdHdpbmRvdy5kc2xjX3Nob3dfcHVibGlzaF9idXR0b24oKTtcblx0XHR9LFxuXG5cdFx0Ly8gQ2FsbGVkIGJ5IGFueSBjaGFuZ2UgdG8gdGhlIGxpc3QgKGFkZCAvIHVwZGF0ZSAvIHJlbW92ZSlcblx0XHRvblNvcnQ6IGZ1bmN0aW9uIChldnQpIHtcblx0XHRcdC8vIHNhbWUgcHJvcGVydGllcyBhcyBvblVwZGF0ZVxuXHRcdFx0Ly8gZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHQvLyBldnQuc3RvcFByb3BhZ2F0aW9uKCk7IHJldHVybiBmYWxzZTtcblxuXHRcdH0sXG5cblx0XHQvLyBFbGVtZW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgbGlzdCBpbnRvIGFub3RoZXIgbGlzdFxuXHRcdG9uUmVtb3ZlOiBmdW5jdGlvbiAoZXZ0KSB7XG5cdFx0ICAvLyBzYW1lIHByb3BlcnRpZXMgYXMgb25VcGRhdGVcblx0XHR9LFxuXG5cdFx0Ly8gQXR0ZW1wdCB0byBkcmFnIGEgZmlsdGVyZWQgZWxlbWVudFxuXHRcdG9uRmlsdGVyOiBmdW5jdGlvbiAoZXZ0KSB7XG5cdFx0XHR2YXIgaXRlbUVsID0gZXZ0Lml0ZW07ICAvLyBIVE1MRWxlbWVudCByZWNlaXZpbmcgdGhlIGBtb3VzZWRvd258dGFwc3RhcnRgIGV2ZW50LlxuXHRcdH0sXG5cblx0XHQvLyBFdmVudCB3aGVuIHlvdSBtb3ZlIGFuIGl0ZW0gaW4gdGhlIGxpc3Qgb3IgYmV0d2VlbiBsaXN0c1xuXHRcdG9uTW92ZTogZnVuY3Rpb24gKGV2dCkge1xuXHRcdFx0Ly8gRXhhbXBsZTogaHR0cDovL2pzYmluLmNvbS90dXlhZmUvMS9lZGl0P2pzLG91dHB1dFxuXHRcdFx0ZXZ0LmRyYWdnZWQ7IC8vIGRyYWdnZWQgSFRNTEVsZW1lbnRcblx0XHRcdGV2dC5kcmFnZ2VkUmVjdDsgLy8gVGV4dFJlY3RhbmdsZSB7bGVmdCwgdG9wLCByaWdodCDQuCBib3R0b219XG5cdFx0XHRldnQucmVsYXRlZDsgLy8gSFRNTEVsZW1lbnQgb24gd2hpY2ggaGF2ZSBndWlkZWRcblx0XHRcdGV2dC5yZWxhdGVkUmVjdDsgLy8gVGV4dFJlY3RhbmdsZVxuXHRcdFx0Ly8gcmV0dXJuIGZhbHNlOyDigJQgZm9yIGNhbmNlbFxuXG5cblx0XHRcdC8vIEFkZCBoZXJlIHRoZSBmdW5jdGlvbiB0byB1cGRhdGUgdW5kZXJseWluZyBjbGFzc1xuXHRcdFx0aWYgKCBqUXVlcnkoJy5kc2xjLW1vZHVsZXMtYXJlYS1lbXB0eScpLmZpbmQoJy5kc2xjLW1vZHVsZS1mcm9udCcpLmxlbmd0aCA+IDAgKSB7XG5cblx0XHRcdFx0alF1ZXJ5KHRoaXMpLnJlbW92ZUNsYXNzKCdkc2xjLW1vZHVsZXMtYXJlYS1lbXB0eScpLmFkZENsYXNzKCdkc2xjLW1vZHVsZXMtYXJlYS1ub3QtZW1wdHknKTtcblxuXHRcdFx0XHRqUXVlcnkoJy5kc2xjYS1uby1jb250ZW50Om5vdCg6dmlzaWJsZSknLCB0aGlzKS5zaG93KCkuY3NzKHtcblx0XHRcdFx0XHQnLXdlYmtpdC1hbmltYXRpb24tbmFtZScgOiAnZHNsY0JvdW5jZUluJyxcblx0XHRcdFx0XHQnLW1vei1hbmltYXRpb24tbmFtZScgOiAnZHNsY0JvdW5jZUluJyxcblx0XHRcdFx0XHQnYW5pbWF0aW9uLW5hbWUnIDogJ2RzbGNCb3VuY2VJbicsXG5cdFx0XHRcdFx0J2FuaW1hdGlvbi1kdXJhdGlvbicgOiAnMC42cycsXG5cdFx0XHRcdFx0Jy13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uJyA6ICcwLjZzJyxcblx0XHRcdFx0XHRwYWRkaW5nIDogMFxuXHRcdFx0XHR9KS5hbmltYXRlKHsgcGFkZGluZyA6ICczNXB4IDAnIH0sIDMwMCwgZnVuY3Rpb24oKXtcblxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXG5cdC8vIE1hcmsgbW9kdWxlIGFyZWEgYXMgaW5pdGlhbGl6ZWRcblx0alF1ZXJ5KCBlbGVtICkuYXR0cignZGF0YS1qc2luaXQnLCAnaW5pdGlhbGl6ZWQnKTtcblxuXHQvKiogU29ydCBvcHRpb24gc2V0dGVyICovXG5cdGpRdWVyeShkb2N1bWVudCkub24oJ0xDLnNvcnRhYmxlT2ZmJywgZnVuY3Rpb24oKXtcblxuXHRcdHNlbGYuc29ydGFibGUgJiYgc2VsZi5zb3J0YWJsZS5vcHRpb24gJiYgc2VsZi5zb3J0YWJsZS5vcHRpb24oJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cdH0pO1xuXG5cdGpRdWVyeShkb2N1bWVudCkub24oJ0xDLnNvcnRhYmxlT24nLCBmdW5jdGlvbigpe1xuXG5cdFx0c2VsZi5zb3J0YWJsZSAmJiBzZWxmLnNvcnRhYmxlLm9wdGlvbiAmJiBzZWxmLnNvcnRhYmxlLm9wdGlvbignZGlzYWJsZWQnLCBmYWxzZSk7XG5cdH0pO1xufVxuIiwiLyoqXG4gKiBGdW5jdGlvbnMgcG93ZXJpbmcgTW9kdWxlIEFyZWFzIGZ1bmN0aW9uYWxpdHlcbiAqXG4gKiA9IEFSRUFTICggTU9EVUxFIEFSRUFTICkgPVxuICpcbiAqIC0gQWN0aW9ucy9FdmVudHMgKER1cGxpY2F0ZSwgQ2hhbmdlIFdpZHRoLCBEZWxldGUsIC4uLilcbiAqIC0gZHNsY19tb2R1bGVzX2FyZWFfYWRkICggQWRkcyBhIG5ldyBtb2R1bGVzIGFyZWEgKVxuICogLSBkc2xjX21vZHVsZXNfYXJlYV9kZWxldGUgKCBEZWxldGVzIG1vZHVsZXMgYXJlYSApXG4gKiAtIGRzbGNfbW9kdWxlc19hcmVhX3dpZHRoX3NldCAoIFNldHMgc3BlY2lmaWMgd2lkdGggdG8gdGhlIG1vZHVsZXMgYXJlYSApXG4gKiAtIGRzbGNfY29weV9tb2R1bGVzX2FyZWEgKCBDb3BpZXMgbW9kdWxlcyBhcmVhIClcbiAqXG4gKi9cblxuaW1wb3J0IHsgZHJhZ0FuZERyb3BJbml0IH0gZnJvbSAnLi9kcmFnbmRyb3AuanMnO1xuaW1wb3J0IHsgYWRkU2VjdGlvbiB9IGZyb20gJy4vc2VjdGlvbnMuanMnO1xuaW1wb3J0IHsgTW9kdWxlQXJlYSB9IGZyb20gJy4vbW9kdWxlYXJlYS5jbGFzcy5qcyc7XG5cblxuLyoqXG4gKiBNb2R1bGUgQXJlYSBBY3Rpb25zIChEdXBsaWNhdGUsIENoYW5nZSBXaWR0aCwgRGVsZXRlLCAuLi4pXG4gKlxuICogQXR0YWNoIHRoZXNlIGFjdGlvbnMgb25jZSB0aGUgZWRpdGluZyBpRnJhbWUgbG9hZGVkLlxuICovXG5cbjtqUXVlcnkoZG9jdW1lbnQpLm9uKCdlZGl0b3JGcmFtZUxvYWRlZCcsIGZ1bmN0aW9uKCl7XG5cblx0ZnVuY3Rpb24gaW5pdF9zb3J0YWJsZXMoKSB7XG5cblx0XHR2YXIgZWwgPSBqUXVlcnkoJy5kc2xjLW1vZHVsZXMtYXJlYScsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpOyAvLyBHcm91cHMgdGhhdCBjYW4gaG9sZCBtb2R1bGVzXG5cblx0XHRqUXVlcnkoZWwpLmVhY2goZnVuY3Rpb24gKGksZSkge1xuXG5cdFx0XHRuZXcgTW9kdWxlQXJlYShlKTtcblx0XHR9KTtcblx0fVxuXG5cblx0dmFyIGFjdGlvbkF2YWlsID0gZnVuY3Rpb24oKSB7XG5cblx0XHRpZiAoIExpdmVDb21wb3Nlci5CdWlsZGVyLkZsYWdzLnBhbmVsT3BlbmVkICkge1xuXG5cdFx0XHRMaXZlQ29tcG9zZXIuQnVpbGRlci5VSS5zaGFrZVBhbmVsQ29uZmlybUJ1dHRvbigpO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFjdGlvbiAtIEF1dG9tYXRpY2FsbHkgQWRkIGEgUm93IGlmIEVtcHR5XG5cdCAqL1xuXHRpZiAoICEgalF1ZXJ5KCAnI2RzbGMtbWFpbiAuZHNsYy1tb2R1bGVzLXNlY3Rpb24nLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5sZW5ndGggJiYgISBqUXVlcnkoICcjZHNsY2EtdHV0LXBhZ2UnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5sZW5ndGggKSB7XG5cblx0XHRhZGRTZWN0aW9uKCBpbml0X3NvcnRhYmxlcygpICk7XG5cdH0gZWxzZSB7XG5cblx0XHRpbml0X3NvcnRhYmxlcygpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEhvb2sgLSBDb3B5IE1vZHVsZSBBcmVhXG5cdCAqL1xuXHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50Lm9uKCAnY2xpY2snLCAnLmRzbGNhLWNvcHktbW9kdWxlcy1hcmVhLWhvb2snLCBmdW5jdGlvbihlKXtcblxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdC8vIENoZWNrIGlmIGFjdGlvbiBjYW4gYmUgZmlyZWRcblx0XHRpZiAoICFhY3Rpb25BdmFpbCgpICkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0aWYgKCAhIGpRdWVyeSh0aGlzKS5oYXNDbGFzcygnZHNsY2EtYWN0aW9uLWRpc2FibGVkJykgKSB7XG5cblx0XHRcdHZhciBtb2R1bGVzQXJlYSA9IGpRdWVyeSh0aGlzKS5jbG9zZXN0KCcuZHNsYy1tb2R1bGVzLWFyZWEnKTtcblx0XHRcdGRzbGNfY29weV9tb2R1bGVzX2FyZWEoIG1vZHVsZXNBcmVhICk7XG5cdFx0fVxuXHR9KTtcblxuXHQvKipcblx0ICogSG9vayAtIERlbGV0ZSBNb2R1bGUgQXJlYVxuXHQgKi9cblx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudC5vbiggJ2NsaWNrJywgJy5kc2xjYS1kZWxldGUtbW9kdWxlcy1hcmVhLWhvb2snLCBmdW5jdGlvbihlKXtcblxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdC8vIENoZWNrIGlmIGFjdGlvbiBjYW4gYmUgZmlyZWRcblx0XHRpZiAoICFhY3Rpb25BdmFpbCgpICkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0aWYgKCAhIGpRdWVyeSh0aGlzKS5oYXNDbGFzcygnZHNsY2EtYWN0aW9uLWRpc2FibGVkJykgKSB7XG5cblx0XHRcdC8vIENoZWNrIGlmIGN1cnJlbnQgbW9kdWxlcyBhcmVhIGlzIGVtcHR5LlxuXHRcdFx0dmFyIG1vZHVsZXNBcmVhRW1wdHkgPSBqUXVlcnkodGhpcykuY2xvc2VzdCgnLmRzbGMtbW9kdWxlcy1hcmVhJykuaGFzQ2xhc3MoJ2RzbGMtbW9kdWxlcy1hcmVhLWVtcHR5Jyk7XG5cblx0XHRcdGlmICggISBtb2R1bGVzQXJlYUVtcHR5ICkge1xuXG5cdFx0XHRcdHZhciBzZWxmID0galF1ZXJ5KHRoaXMpO1xuXG5cdFx0XHRcdExpdmVDb21wb3Nlci5CdWlsZGVyLlVJLkNNb2RhbFdpbmRvdyh7XG5cblx0XHRcdFx0XHR0aXRsZTogRFNMQ1N0cmluZy5zdHJfZGVsX2FyZWFfdGl0bGUsXG5cdFx0XHRcdFx0Y29udGVudDogRFNMQ1N0cmluZy5zdHJfZGVsX2FyZWFfZGVzY3IsXG5cdFx0XHRcdFx0Y29uZmlybTogZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0XHRcdHZhciBtb2R1bGVzQXJlYSA9IHNlbGYuY2xvc2VzdCgnLmRzbGMtbW9kdWxlcy1hcmVhJyk7XG5cdFx0XHRcdFx0XHRkc2xjX21vZHVsZXNfYXJlYV9kZWxldGUoIG1vZHVsZXNBcmVhICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvLyBTaG93IGNvbmZpcm1hdGlvbiBtb2RhbCBvbmx5IGlmIHRoZSBtb2R1bGUgYXJlYSBpc24ndCBlbXB0eS5cblx0XHRcdFx0Lypkc2xjX2pzX2NvbmZpcm0oICdkZWxldGVfbW9kdWxlc19hcmVhJywgJzxzcGFuIGNsYXNzPVwiZHNsY2EtcHJvbXB0LW1vZGFsLXRpdGxlXCI+JyArIERTTENTdHJpbmcuc3RyX2RlbF9hcmVhX3RpdGxlICtcblx0XHRcdFx0XHQnPC9zcGFuPjxzcGFuIGNsYXNzPVwiZHNsY2EtcHJvbXB0LW1vZGFsLWRlc2NyXCI+JyArIERTTENTdHJpbmcuc3RyX2RlbF9hcmVhX2Rlc2NyICsgJzwvc3Bhbj4nLCBqUXVlcnkodGhpcykgKTsqL1xuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHR2YXIgbW9kdWxlc0FyZWEgPSBqUXVlcnkodGhpcykuY2xvc2VzdCgnLmRzbGMtbW9kdWxlcy1hcmVhJyk7XG5cdFx0XHRcdC8vIERlbGV0ZSBtb2R1bGUgYXJlYSB3aXRob3V0IGFza2luZyBhbnl0aGluZy5cblx0XHRcdFx0ZHNsY19kZWxldGVfbW9kdWxlc19hcmVhKCBtb2R1bGVzQXJlYSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG5cblx0LyoqXG5cdCAqIEhvb2sgLSBTZXQgV2lkdGggb2YgdGhlIE1vZHVsZSBBcmVhXG5cdCAqL1xuXHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50Lm9uKCAnY2xpY2snLCAnLmRzbGNhLWNoYW5nZS13aWR0aC1tb2R1bGVzLWFyZWEtb3B0aW9ucyBzcGFuJywgZnVuY3Rpb24oKXtcblx0XHQvLyBDaGVjayBpZiBhY3Rpb24gY2FuIGJlIGZpcmVkXG5cdFx0aWYgKCAhYWN0aW9uQXZhaWwoKSApIHJldHVybiBmYWxzZTtcblxuXHRcdGlmICggISBqUXVlcnkodGhpcykuaGFzQ2xhc3MoJ2RzbGNhLWFjdGlvbi1kaXNhYmxlZCcpICkge1xuXHRcdFx0dmFyIG1vZHVsZUFyZWFKUSA9IGpRdWVyeSh0aGlzKS5jbG9zZXN0KCcuZHNsYy1tb2R1bGVzLWFyZWEnKTtcblx0XHRcdHZhciBvbGRTaXplID0gbW9kdWxlQXJlYUpRLmRhdGEoJ3NpemUnKTtcblx0XHRcdHZhciBuZXdTaXplID0galF1ZXJ5KHRoaXMpLmRhdGEoJ3NpemUnKTtcblxuXHRcdFx0Ly8gU3RhcnQgZXhwZW5zaXZlIGZ1bmN0aW9uIG9ubHkgaWYgdGhlIHZhbHVlIGNoYW5nZWQuXG5cdFx0XHRpZiAoICBOdW1iZXIob2xkU2l6ZSkgIT09IE51bWJlcihuZXdTaXplKSApIHtcblx0XHRcdFx0ZHNsY19tb2R1bGVzX2FyZWFfd2lkdGhfc2V0KCBtb2R1bGVBcmVhSlEsIG5ld1NpemUgKTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXG5cdC8qKlxuXHQgKiBBY3Rpb24gLSBTaG93L0hpZGUgV2lkdGggT3B0aW9ucyBQb3B1cCBmb3IgdGhlIE1vZHVsZSBBcmVhXG5cdCAqL1xuXHQvKiBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50Lm9uKCAnY2xpY2snLCAnLmRzbGNhLWNoYW5nZS13aWR0aC1tb2R1bGVzLWFyZWEtaG9vaycsIGZ1bmN0aW9uKGUpe1xuXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0Ly8gQ2hlY2sgaWYgYWN0aW9uIGNhbiBiZSBmaXJlZFxuXHRcdGlmICggISBhY3Rpb25BdmFpbCgpICkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0aWYgKCAhIGpRdWVyeSh0aGlzKS5oYXNDbGFzcygnZHNsY2EtYWN0aW9uLWRpc2FibGVkJykgKSB7XG5cblx0XHRcdC8vIElzIHZpc2libGVcblx0XHRcdGlmICggalF1ZXJ5KCcuZHNsY2EtY2hhbmdlLXdpZHRoLW1vZHVsZXMtYXJlYS1vcHRpb25zOnZpc2libGUnLCB0aGlzKS5sZW5ndGggKSB7XG5cblx0XHRcdFx0Ly8gSGlkZVxuXHRcdFx0XHRqUXVlcnkoJy5kc2xjYS1jaGFuZ2Utd2lkdGgtbW9kdWxlcy1hcmVhLW9wdGlvbnMnLCB0aGlzKS5oaWRlKCk7XG5cblx0XHRcdC8vIElzIGhpZGRlblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHQvLyBTaG93XG5cdFx0XHRcdGpRdWVyeSgnLmRzbGNhLWNoYW5nZS13aWR0aC1tb2R1bGVzLWFyZWEtb3B0aW9ucycsIHRoaXMpLnNob3coKTtcblx0XHRcdH1cblx0XHR9XG5cdH0pOyAqL1xuLyogXG5cdExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQub24oICdtb3VzZWxlYXZlJywgJy5kc2xjYS1jaGFuZ2Utd2lkdGgtbW9kdWxlcy1hcmVhLW9wdGlvbnMnLCBmdW5jdGlvbihlKXtcblxuXHRcdC8vIEhpZGUgd2lkdGggc2VsZWNpdG9uIHBhbmVsLlxuXHRcdGpRdWVyeSh0aGlzKS5oaWRlKCk7XG5cdH0pO1xuICovXG5cdC8qKlxuXHQgKiBIb29rIC0gQWRkIE1vZHVsZXMgQXJlYVxuXHQgKiBUT0RPOiBXaGVyZSB3ZSB1c2UgaXQ/IERlbGV0ZSBtYXliZT9cblx0ICovXG5cdExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQub24oICdjbGljaycsICcuZHNsY2EtYWRkLW1vZHVsZXMtYXJlYS1ob29rJywgZnVuY3Rpb24oZSl7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0Ly8gQ2hlY2sgaWYgYWN0aW9uIGNhbiBiZSBmaXJlZFxuXHRcdGlmICggIWFjdGlvbkF2YWlsKCkgKSByZXR1cm4gZmFsc2U7XG5cblx0XHRkc2xjX21vZHVsZXNfYXJlYV9hZGQoIGpRdWVyeSh0aGlzKS5jbG9zZXN0KCcuZHNsYy1tb2R1bGVzLXNlY3Rpb24nKS5maW5kKCcuZHNsYy1tb2R1bGVzLXNlY3Rpb24taW5uZXInKSApO1xuXHR9KTtcblxufSk7XG5cbi8qKlxuICogQVJFQVMgLSBBZGQgTmV3XG4gKi9cblxuZnVuY3Rpb24gZHNsY19tb2R1bGVzX2FyZWFfYWRkKCByb3cgKSB7XG5cblx0aWYgKCB3aW5kb3cuZHNsY0RlYnVnICkgY29uc29sZS5sb2coICdkc2xjX2FkZF9tb2R1bGVzX2FyZWEnICk7XG5cblx0Ly8gQWRkIGNsYXNzIHRvIGJvZHkgc28gd2Uga25vdyBpdCdzIGluIHByb2dyZXNzXG5cdC8vIGpRdWVyeSgnYm9keScsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLmFkZENsYXNzKCdkc2xjYS1hbmltLWluLXByb2dyZXNzJyk7XG5cblx0dmFyIG91dHB1dCA9ICc8ZGl2IGNsYXNzPVwiZHNsYy1tb2R1bGVzLWFyZWEgZHNsYy1tb2R1bGVzLWFyZWEtZG5kIGRzbGMtY29sIGRzbGMtMTItY29sIGRzbGMtbW9kdWxlcy1hcmVhLWVtcHR5IFwiIGRhdGEtc2l6ZT1cIjEyXCI+Jytcblx0JzxkaXYgY2xhc3M9XCJkc2xjYS1tb2R1bGVzLWFyZWEtbWFuYWdlXCI+IDxkaXYgY2xhc3M9XCJkc2xjYS1tb2R1bGVzLWFyZWEtbWFuYWdlLWlubmVyXCI+Jytcblx0JzxzcGFuIGNsYXNzPVwiZHNsY2EtbWFuYWdlLWFjdGlvbiBkc2xjYS1jb3B5LW1vZHVsZXMtYXJlYS1ob29rXCIgdGl0bGU9XCJEdXBsaWNhdGVcIiA+PHNwYW4gY2xhc3M9XCJkc2xjYS1pY29uIGRzbGMtaWNvbi1jb3B5XCI+Jytcblx0Jzwvc3Bhbj48L3NwYW4+IDxzcGFuIGNsYXNzPVwiZHNsY2EtbWFuYWdlLWFjdGlvbiBkc2xjYS1tb3ZlLW1vZHVsZXMtYXJlYS1ob29rXCIgdGl0bGU9XCJEcmFnIHRvIG1vdmVcIiA+Jytcblx0JzxzcGFuIGNsYXNzPVwiZHNsY2EtaWNvbiBkc2xjLWljb24tbW92ZVwiPjwvc3Bhbj48L3NwYW4+Jytcblx0JzxzcGFuIGNsYXNzPVwiZHNsY2EtbWFuYWdlLWFjdGlvbiBkc2xjYS1jaGFuZ2Utd2lkdGgtbW9kdWxlcy1hcmVhLWhvb2tcIiB0aXRsZT1cIkNoYW5nZSB3aWR0aFwiID4nK1xuXHQnPHNwYW4gY2xhc3M9XCJkc2xjYS1pY29uIGRzbGMtaWNvbi1jb2x1bW5zXCI+PC9zcGFuPiA8ZGl2IGNsYXNzPVwiZHNsY2EtY2hhbmdlLXdpZHRoLW1vZHVsZXMtYXJlYS1vcHRpb25zXCI+Jytcblx0JzxzcGFuPkNvbnRhaW5lciBXaWR0aDwvc3Bhbj48c3BhbiBkYXRhLXNpemU9XCIxXCI+MS8xMjwvc3Bhbj48c3BhbiBkYXRhLXNpemU9XCIyXCI+Mi8xMjwvc3Bhbj4nK1xuXHQnPHNwYW4gZGF0YS1zaXplPVwiM1wiPjMvMTI8L3NwYW4+PHNwYW4gZGF0YS1zaXplPVwiNFwiPjQvMTI8L3NwYW4+IDxzcGFuIGRhdGEtc2l6ZT1cIjVcIj41LzEyPC9zcGFuPjxzcGFuIGRhdGEtc2l6ZT1cIjZcIj42LzEyPC9zcGFuPicrXG5cdCc8c3BhbiBkYXRhLXNpemU9XCI3XCI+Ny8xMjwvc3Bhbj48c3BhbiBkYXRhLXNpemU9XCI4XCI+OC8xMjwvc3Bhbj4gPHNwYW4gZGF0YS1zaXplPVwiOVwiPjkvMTI8L3NwYW4+PHNwYW4gZGF0YS1zaXplPVwiMTBcIj4xMC8xMjwvc3Bhbj4nK1xuXHQnPHNwYW4gZGF0YS1zaXplPVwiMTFcIj4xMS8xMjwvc3Bhbj48c3BhbiBkYXRhLXNpemU9XCIxMlwiPjEyLzEyPC9zcGFuPiA8L2Rpdj4gPC9zcGFuPicrXG5cdCc8c3BhbiBjbGFzcz1cImRzbGNhLW1hbmFnZS1hY3Rpb24gZHNsY2EtZGVsZXRlLW1vZHVsZXMtYXJlYS1ob29rXCIgdGl0bGU9XCJEZWxldGVcIiA+PHNwYW4gY2xhc3M9XCJkc2xjYS1pY29uIGRzbGMtaWNvbi1yZW1vdmVcIj48L3NwYW4+PC9zcGFuPiA8L2Rpdj4gPC9kaXY+Jytcblx0JzwvZGl2Pic7XG5cblxuXHQvLyBBcHBlbmQgbmV3IGFyZWEgYW5kIGFuaW1hdGVcblx0alF1ZXJ5KCBvdXRwdXQgKS5hcHBlbmRUbyggcm93ICkuY3NzKHsgaGVpZ2h0IDogMCB9KS5hbmltYXRlKHtcblx0XHRoZWlnaHQgOiA5OVxuXHR9LCAzMDAsIGZ1bmN0aW9uKCl7XG5cdFx0alF1ZXJ5KHRoaXMpLmNzcyh7IGhlaWdodCA6ICdhdXRvJyB9KTtcblx0fSkuYWRkQ2xhc3MoJ2RzbGNhLWluaXQtYW5pbWF0aW9uJyk7XG5cblxuXHQvLyBSZS1pbml0aWFsaXplIGFsbCB0aGUgZW1wdHkgYXJlYXMgb24gdGhlIHBhZ2Vcblx0dmFyIGVtcHR5TW9kdWxlQXJlYXMgPSBqUXVlcnkoJy5kc2xjLW1vZHVsZXMtYXJlYS1lbXB0eScsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpO1xuXG5cdGpRdWVyeShlbXB0eU1vZHVsZUFyZWFzKS5lYWNoKGZ1bmN0aW9uIChpLGUpIHtcblxuXHRcdG5ldyBNb2R1bGVBcmVhKGUpO1xuXHR9KTtcblxuXHQvLyBDYWxsIG90aGVyIGZ1bmN0aW9uc1xuXHRkcmFnQW5kRHJvcEluaXQoKTtcblx0d2luZG93LmRzbGNfZ2VuZXJhdGVfY29kZSgpO1xuXHR3aW5kb3cuZHNsY19zaG93X3B1Ymxpc2hfYnV0dG9uKCk7XG5cblx0Ly8gUmVtb3ZlIGNsYXNzIGZyb20gYm9keSBzbyB3ZSBrbm93IGl0J3MgZG9uZVxuXHQvLyBqUXVlcnkoJ2JvZHknLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5yZW1vdmVDbGFzcygnZHNsY2EtYW5pbS1pbi1wcm9ncmVzcycpO1xufVxuXG4vKipcbiAqIEFSRUFTIC0gRGVsZXRlXG4gKi9cblxuZnVuY3Rpb24gZHNsY19tb2R1bGVzX2FyZWFfZGVsZXRlKCBhcmVhICkge1xuXG5cdGlmICggd2luZG93LmRzbGNEZWJ1ZyApIGNvbnNvbGUubG9nKCAnZHNsY19kZWxldGVfbW9kdWxlc19hcmVhJyApO1xuXG5cdC8vIFZhcnNcblx0dmFyIG1vZHVsZXNTZWN0aW9uID0gYXJlYS5jbG9zZXN0KCcuZHNsYy1tb2R1bGVzLXNlY3Rpb24nKS5maW5kKCcuZHNsYy1tb2R1bGVzLXNlY3Rpb24taW5uZXInKSxcblx0ZHNsY0RlbGV0ZVNlY3Rpb25Ub28gPSBmYWxzZTtcblxuXHQvLyBBZGQgYSBjbGFzcyB0byB0aGUgYXJlYSBzbyB3ZSBrbm93IGl0J3MgYmVpbmcgZGVsZXRlZFxuXHRhcmVhLmFkZENsYXNzKCdkc2xjYS1tb2R1bGVzLWFyZWEtYmVpbmctZGVsZXRlZCcpO1xuXG5cdC8vIElmIGl0J3MgdGhlIGxhc3QgYXJlYSBpbiB0aGUgcm93IGRlbGV0ZSBzZWN0aW9uIGFzIHdlbGxcblx0aWYgKCBtb2R1bGVzU2VjdGlvbi5maW5kKCcuZHNsYy1tb2R1bGVzLWFyZWEnKS5sZW5ndGggPCAyICkge1xuXHRcdGRzbGNEZWxldGVTZWN0aW9uVG9vID0gdHJ1ZTtcblx0fVxuXG5cdC8vIElmIGEgbW9kdWxlIGluIHRoZSBhcmVhIGlzIGJlaW5nIGVkaXRlZFxuXHRpZiAoIGFyZWEuZmluZCgnLmRzbGNhLW1vZHVsZS1iZWluZy1lZGl0ZWQnKS5sZW5ndGggKSB7XG5cblx0XHQvLyBIaWRlIHRoZSBmaWx0ZXIgaG9va3Ncblx0XHRqUXVlcnkoJy5kc2xjYS1oZWFkZXIgLmRzbGNhLW9wdGlvbnMtZmlsdGVyLWhvb2snLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5oaWRlKCk7XG5cblx0XHQvLyBIaWRlIHRoZSBzYXZlL2NhbmNlbCBhY3Rpb25zXG5cdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtYWN0aW9ucycsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLmhpZGUoKTtcblxuXHRcdC8vIFNob3cgdGhlIHNlY3Rpb24gaG9va3Ncblx0XHRqUXVlcnkoJy5kc2xjYS1oZWFkZXIgLmRzbGNhLWdvLXRvLXNlY3Rpb24taG9vaycsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLnNob3coKTtcblxuXHRcdC8vIFNob3cgdGhlIG1vZHVsZXMgbGlzdGluZ1xuXHRcdGRzbGNfc2hvd19zZWN0aW9uKCcuZHNsY2EtbW9kdWxlcycpO1xuXG5cdH1cblxuXHQvLyBTZXQgYSB0aW1lb3V0IHNvIHdlIGhhbmRsZSBkZWxldGlvbiBhZnRlciBhbmltYXRpb24gZW5kc1xuXHRzZXRUaW1lb3V0KCBmdW5jdGlvbigpe1xuXG5cdFx0Ly8gRGVsZXRlIHNlY3Rpb24gaWYgbm8gbW9yZSBtb2R1bGUgYXJlYXMgaW5zaWRlLlxuXHRcdGlmICggZHNsY0RlbGV0ZVNlY3Rpb25Ub28gKSB7XG5cblx0XHRcdHZhciBwYXJlbnRTZWN0aW9uQ29udGFpbmVyID0gYXJlYS5jbG9zZXN0KCcuZHNsYy1tb2R1bGVzLXNlY3Rpb24taW5uZXInKTtcblx0XHRcdC8vIGRzbGNfbW9kdWxlc19hcmVhX2FkZCggbW9kdWxlc1NlY3Rpb24gKTtcblxuXHRcdFx0Ly8gRG9uJ3QgZGVsZXRlIGxhdGVzdCBtb2R1bGUgYXJlYSBpbiB0aGUgbGF0ZXN0IHNlY3Rpb24gb24gdGhlIHBhZ2Vcblx0XHRcdGlmICgyIDw9IGFyZWEuY2xvc2VzdCgnI2RzbGMtbWFpbicpLmZpbmQoJy5kc2xjLW1vZHVsZXMtc2VjdGlvbicpLmxlbmd0aCApIHtcblxuXHRcdFx0XHRkc2xjX3Jvd19kZWxldGUoIGFyZWEuY2xvc2VzdCgnLmRzbGMtbW9kdWxlcy1zZWN0aW9uJykgKTtcblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gUmVtb3ZlIHRoZSBhcmVhXG5cdFx0XHRcdGFyZWEucmVtb3ZlKCk7XG5cdFx0XHRcdC8vIENyZWF0ZSBuZXcgZW1wdHkgYXJlYSBpbiBjdXJyZW50IG1vZHVsZSBzZWN0aW9uXG5cdFx0XHRcdGRzbGNfbW9kdWxlc19hcmVhX2FkZCggbW9kdWxlc1NlY3Rpb24gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBSZW1vdmUgdGhlIGFyZWFcblx0XHRhcmVhLnJlbW92ZSgpO1xuXG5cdFx0Ly8gQ2FsbCBvdGhlciBmdW5jdGlvbnNcblx0XHR3aW5kb3cuZHNsY19nZW5lcmF0ZV9jb2RlKCk7XG5cdFx0d2luZG93LmRzbGNfc2hvd19wdWJsaXNoX2J1dHRvbigpO1xuXHR9LCA5MDAgKTtcblxuXHQvLyBBbmltYXRpb25cblx0YXJlYS5jc3Moe1xuXHRcdCctd2Via2l0LWFuaW1hdGlvbi1uYW1lJyA6ICdkc2xjQm91bmNlT3V0Jyxcblx0XHQnLW1vei1hbmltYXRpb24tbmFtZScgOiAnZHNsY0JvdW5jZU91dCcsXG5cdFx0J2FuaW1hdGlvbi1uYW1lJyA6ICdkc2xjQm91bmNlT3V0Jyxcblx0XHQnYW5pbWF0aW9uLWR1cmF0aW9uJyA6ICcwLjZzJyxcblx0XHQnLXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb24nIDogJzAuNnMnLFxuXHRcdCdvdmVyZmxvdycgOiAnaGlkZGVuJ1xuXHR9KS5hbmltYXRlKHtcblx0XHRvcGFjaXR5IDogMFxuXHR9LCA2MDApLmFuaW1hdGUoe1xuXHRcdGhlaWdodCA6IDAsXG5cdFx0bWFyZ2luQm90dG9tIDogMFxuXHR9LCAzMDAsIGZ1bmN0aW9uKCl7XG5cdFx0YXJlYS5yZW1vdmUoKTtcblx0XHR3aW5kb3cuZHNsY19nZW5lcmF0ZV9jb2RlKCk7XG5cdFx0d2luZG93LmRzbGNfc2hvd19wdWJsaXNoX2J1dHRvbigpO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBBUkVBUyAtIENvcHlcbiAqL1xuXG5mdW5jdGlvbiBkc2xjX21vZHVsZXNfYXJlYV9jb3B5KCBhcmVhICkge1xuXG5cdGlmICggd2luZG93LmRzbGNEZWJ1ZyApIGNvbnNvbGUubG9nKCAnZHNsY19jb3B5X21vZHVsZXNfYXJlYScgKTtcblxuXHQvLyBWYXJzXG5cdHZhciBkc2xjX21vZHVsZUlELFxuXHRtb2R1bGVzU2VjdGlvbiA9IGFyZWEuY2xvc2VzdCgnLmRzbGMtbW9kdWxlcy1zZWN0aW9uJykuZmluZCgnLmRzbGMtbW9kdWxlcy1zZWN0aW9uLWlubmVyJyk7XG5cblx0Ly8gQ29weSB0aGUgYXJlYSBhbmQgYXBwZW5kIHRvIHRoZSByb3dcblx0dmFyIGRzbGNfbW9kdWxlc0FyZWFDbG9uZWQgPSBhcmVhLmNsb25lKCkuYXBwZW5kVG8obW9kdWxlc1NlY3Rpb24pO1xuXG5cdG5ldyBNb2R1bGVBcmVhKGRzbGNfbW9kdWxlc0FyZWFDbG9uZWRbMF0pO1xuXG5cdC8vIFRyaWdnZXIgbW91c2VsZWF2ZSAoIHNvIHRoZSBhY3Rpb25zIHRoYXQgc2hvdyBvbiBob3ZlciBnbyBhd2F5IClcblx0ZHNsY19tb2R1bGVzQXJlYUNsb25lZC5maW5kKCcuZHNsY2EtbW9kdWxlcy1hcmVhLW1hbmFnZScpLnRyaWdnZXIoJ21vdXNlbGVhdmUnKTtcblxuXHQvLyBBcHBseSBjb3JyZWN0IGRhdGEgc2l6ZSBhbmQgZ2V0IHJpZCBvZiBhbmltYXRpb25zXG5cdGRzbGNfbW9kdWxlc0FyZWFDbG9uZWQuZGF0YSgnc2l6ZScsIGFyZWEuZGF0YSgnc2l6ZScpICkuZmluZCgnLmRzbGMtbW9kdWxlLWZyb250JykuY3NzKHtcblx0XHQnLXdlYmtpdC1hbmltYXRpb24tbmFtZScgOiAnbm9uZScsXG5cdFx0Jy1tb3otYW5pbWF0aW9uLW5hbWUnIDogJ25vbmUnLFxuXHRcdCdhbmltYXRpb24tbmFtZScgOiAnbm9uZScsXG5cdFx0J2FuaW1hdGlvbi1kdXJhdGlvbicgOiAnMCcsXG5cdFx0Jy13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uJyA6ICcwJyxcblx0XHRvcGFjaXR5IDogMFxuXG5cdC8vIEdvIHRocm91Z2ggZWFjaCBtb2R1bGUgaW4gdGhlIGFyZWFcblx0fSkuZWFjaChmdW5jdGlvbigpe1xuXG5cdFx0dmFyIGRzbGNfbW9kdWxlID0galF1ZXJ5KHRoaXMpO1xuXG5cdFx0Ly9HZW5lcmF0ZSBuZXcgSUQgZm9yIHRoZSBuZXcgbW9kdWxlIGFuZCBjaGFuZ2UgaXQgaW4gSFRNTC9DU1Mgb2YgdGhlIG1vZHVsZS5cblx0XHRkc2xjX21vZHVsZV9uZXdfaWQoIGRzbGNfbW9kdWxlWzBdICk7XG5cblx0XHQvLyBSZW1vdmUgXCJkc2xjYS1tb2R1bGUtYmVpbmctZWRpdGVkXCIgY2xhc3MgZm9ybSBhbnkgZWxlbWVudFxuXHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1iZWluZy1lZGl0ZWQnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5yZW1vdmVDbGFzcygnZHNsY2EtbW9kdWxlLWJlaW5nLWVkaXRlZCcpO1xuXG5cdFx0Ly8gTmVlZCB0byBjYWxsIHRoaXMgZnVuY3Rpb24gdG8gdXBkYXRlIGxhc3QgY29sdW1uIGNsYXNzIGZvciB0aGUgbW9kdWxlcy5cblx0XHR3aW5kb3cuZHNsY19nZW5lcmF0ZV9jb2RlKCk7XG5cblx0XHQvLyBTaG93IGJhY2sgbmV3IGNyZWF0ZWQgbW9kdWxlXG5cdFx0ZHNsY19tb2R1bGUuYW5pbWF0ZSh7XG5cdFx0XHRvcGFjaXR5IDogMVxuXHRcdH0sIDMwMCk7XG5cblx0fSk7XG5cblx0Ly8gQ2FsbCBvdGhlciBmdW5jdGlvbnNcblx0ZHJhZ0FuZERyb3BJbml0KCk7XG5cdHdpbmRvdy5kc2xjX3Nob3dfcHVibGlzaF9idXR0b24oKTtcblxuXHQvLyBOZWVkIHRvIGNhbGwgdGhpcyBmdW5jdGlvbiB0byB1cGRhdGUgbGFzdCBjb2x1bW4gY2xhc3MgZm9yIHRoZSBtb2R1bGUgYXJlYXMuXG5cdHdpbmRvdy5kc2xjX2dlbmVyYXRlX2NvZGUoKTtcblxuXG59XG5cbi8qKlxuICogQVJFQVMgLSBTZXQgV2lkdGhcbiAqL1xuZnVuY3Rpb24gZHNsY19tb2R1bGVzX2FyZWFfd2lkdGhfc2V0KCBhcmVhLCBuZXdXaWR0aCApIHtcblxuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2RzbGNfbW9kdWxlc19hcmVhX3dpZHRoX3NldCcgKTtcblxuXHQvLyBHZW5lcmF0ZSBuZXcgY2xhc3MgYmFzZWQgb24gd2lkdGhcblx0dmFyIG5ld0NsYXNzID0gJ2RzbGMtJyArIG5ld1dpZHRoICsgJy1jb2wnO1xuXG5cdC8vIFJlbW92ZSB3aWR0aCBjbGFzc2VzLCBhZGQgbmV3IHdpZHRoIGNsYXNzIGFuZCBzZXQgdGhlIGRhdGEtc2l6ZSBhdHRyXG5cdGFyZWFcblx0XHQucmVtb3ZlQ2xhc3MoJ2RzbGMtMS1jb2wgZHNsYy0yLWNvbCBkc2xjLTMtY29sIGRzbGMtNC1jb2wgZHNsYy01LWNvbCBkc2xjLTYtY29sIGRzbGMtNy1jb2wgZHNsYy04LWNvbCBkc2xjLTktY29sIGRzbGMtMTAtY29sIGRzbGMtMTEtY29sIGRzbGMtMTItY29sJylcblx0XHQuYWRkQ2xhc3MobmV3Q2xhc3MpXG5cdFx0LmRhdGEoJ3NpemUnLCBuZXdXaWR0aCk7XG5cblx0Ly8gQ2FsbCBvdGhlciBmdW5jdGlvbnNcblx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFXaW5kb3cuZHNsY19tYXNvbnJ5KCk7XG5cblx0aWYgKCBMaXZlQ29tcG9zZXIuQnVpbGRlci5GbGFncy5wYW5lbE9wZW5lZCApIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHR3aW5kb3cuZHNsY19nZW5lcmF0ZV9jb2RlKCk7XG5cdHdpbmRvdy5kc2xjX3Nob3dfcHVibGlzaF9idXR0b24oKTtcblxufVxuXG4vKipcbiAqIENoZWNrIE1vZHVsZSBBcmVhcyBpbml0aWFsaXphdGlvblxuICpcbiAqIEByZXR1cm4gdm9pZFxuICovXG5leHBvcnQgY29uc3QgbW9kdWxlYXJlYXNJbml0SlMgPSAoKSA9PiB7XG5cblx0Ly8gU2VsZWN0IGFsbCB0aGUgbW9kdWxlIGFyZWFzIGZvcm0gdGhlIG1haW4gc2VjdGlvbiBvZiB0aGUgcGFnZVxuXHRqUXVlcnkoICcjZHNsYy1tYWluIC5kc2xjLW1vZHVsZXMtYXJlYScsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQgKS5lYWNoKCBmdW5jdGlvbigpIHtcblxuXHRcdC8vIENoZWNrIGlmIGFsbCB0aGUgbW9kdWxlIGFyZWFzIGhhdmUgZGF0YSBhdHRyaWJ1dGUgJ2pzaW5pdCcgc2V0IHRvICdpbml0aWFsaXplZCc/XG5cdFx0aWYgKCBqUXVlcnkoIHRoaXMgKS5kYXRhKCdqc2luaXQnKSAhPT0gJ2luaXRpYWxpemVkJyApIHtcblxuXHRcdFx0Ly8gSW5pdGlhbGl6ZSBhbGwgdGhlIG1vZHVsZSBhcmVhcyB3aXRob3V0ICdqc2luaXQnIGF0dHJpYnV0ZSFcblx0XHRcdG5ldyBNb2R1bGVBcmVhKCB0aGlzICk7XG5cdFx0fVxuXHR9ICk7XG5cbn1cblxuLyoqXG4gKiBEZXByZWNhdGVkIEZ1bmN0aW9ucyBhbmQgRmFsbGJhY2tzXG4gKi9cblxuZnVuY3Rpb24gZHNsY19hZGRfbW9kdWxlc19hcmVhKCByb3cgKSB7IGRzbGNfbW9kdWxlc19hcmVhX2FkZCggcm93ICk7IH1cbmZ1bmN0aW9uIGRzbGNfZGVsZXRlX21vZHVsZXNfYXJlYSggYXJlYSApIHsgZHNsY19tb2R1bGVzX2FyZWFfZGVsZXRlKCBhcmVhICk7IH1cbmZ1bmN0aW9uIGRzbGNfY29weV9tb2R1bGVzX2FyZWEoIGFyZWEgKSB7IGRzbGNfbW9kdWxlc19hcmVhX2NvcHkoIGFyZWEgKTsgfVxuIiwiXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKlxuICogPSBVSSAtIFNDUk9MTEVSID1cbiAqXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKlxuICogU0NST0xMRVIgLSBEb2N1bWVudCBSZWFkeVxuICovXG5qUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCQpe1xuXG5cdHZhciBzY3JvbGxlclBsdWdpbiA9IGZ1bmN0aW9uKGNvbnRhaW5lcil7XG5cblx0XHQvKipcblx0XHQgKiBTY3JvbGwgbGlzdCBvZiBtb2R1bGVzIHdpdGggYSBtb3VzZSB3aGVlbC5cblx0XHQgKi9cblx0XHR2YXIgZGVsdGFLb2VmID0gLjc1O1xuXHRcdHZhciBpbmNyZW1lbnQgPSA1MDA7XG5cdFx0dmFyIHNjcm9sbGluYyA9IDEwMDtcblx0XHR2YXIgc2Nyb2xsZXIgPSBqUXVlcnkoJy5kc2xjYS1zZWN0aW9uLXNjcm9sbGVyJywgY29udGFpbmVyKTtcblx0XHR2YXIgc2Nyb2xsSW5uZXIgPSBqUXVlcnkoJy5kc2xjYS1zZWN0aW9uLXNjcm9sbGVyLWlubmVyJywgY29udGFpbmVyKVswXTtcblxuXHRcdHNjcm9sbGVyLm9uKCAnd2hlZWwnLCBmdW5jdGlvbihldmVudCkge1xuXG5cdFx0XHRzY3JvbGxfdG8oIGV2ZW50Lm9yaWdpbmFsRXZlbnQuZGVsdGFZIHx8IGV2ZW50Lm9yaWdpbmFsRXZlbnQuZGVsdGFYICk7XG5cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9KTtcblxuXHRcdC8qKlxuXHRcdCAqIFNjcm9sbCB0byBkZWx0YVxuXHRcdCAqXG5cdFx0ICogQHBhcmFtICB7aW50fSBkZWx0YVxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIHNjcm9sbF90byhkZWx0YSkge1xuXG5cdFx0XHRpZiAoZGVsdGEgPCAwICkge1xuXG5cdFx0XHRcdGRlbHRhID0gLXNjcm9sbGluYztcblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0ZGVsdGEgPSBzY3JvbGxpbmM7XG5cdFx0XHR9XG5cblx0XHRcdGRlbHRhID0gZGVsdGEgKiBkZWx0YUtvZWY7XG5cblx0XHRcdHZhciBsaXN0V2lkdGggPSBzY3JvbGxlci5maW5kKCcuZHNsY2Etc2VjdGlvbi1zY3JvbGxlci1jb250ZW50Jykud2lkdGgoKTtcblx0XHRcdHZhciBjb250ZW50V2lkdGggPSBzY3JvbGxlci53aWR0aCgpO1xuXG5cdFx0XHRpZiAoIGxpc3RXaWR0aCA8PSBjb250ZW50V2lkdGggKSByZXR1cm4gZmFsc2U7XG5cblx0XHRcdHZhciBzY3JvbGxNYXggPSBsaXN0V2lkdGggLSBjb250ZW50V2lkdGggKyAxMDtcblxuXHRcdFx0ZGVsdGEgPSBwYXJzZUludChzY3JvbGxJbm5lci5zdHlsZS5sZWZ0IHx8IDApIC0gZGVsdGE7XG5cdFx0XHRkZWx0YSA9IGRlbHRhID49IDAgPyAwIDogZGVsdGE7XG5cdFx0XHRkZWx0YSA9IGRlbHRhIDw9IC1zY3JvbGxNYXggPyAtc2Nyb2xsTWF4IDogZGVsdGE7XG5cblx0XHRcdHNjcm9sbElubmVyLnN0eWxlLmxlZnQgPSBkZWx0YSArICdweCc7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogSG9vayAtIFNjcm9sbGVyIFByZXZcblx0XHQgKi9cblx0XHRqUXVlcnkoJy5kc2xjYS1zZWN0aW9uLXNjcm9sbGVyLXByZXYnLCBjb250YWluZXIpLmNsaWNrKGZ1bmN0aW9uKGUpe1xuXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRzY3JvbGxfdG8oIC1pbmNyZW1lbnQgKTtcblx0XHR9KTtcblxuXHRcdC8qKlxuXHRcdCAqIEhvb2sgLSBTY3JvbGxlciBOZXh0XG5cdFx0ICovXG5cdFx0alF1ZXJ5KCcuZHNsY2Etc2VjdGlvbi1zY3JvbGxlci1uZXh0JywgY29udGFpbmVyKS5jbGljayhmdW5jdGlvbihlKXtcblxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0c2Nyb2xsX3RvKCBpbmNyZW1lbnQgKTtcblx0XHR9KTtcblxuXHRcdGpRdWVyeSh3aW5kb3cpLmxvYWQoZnVuY3Rpb24oKXtcblxuXHRcdFx0Ly8gSW5pdGlhdGUgc2Nyb2xsZXIgb24gd2luZG93IHJlc2l6ZVxuXHRcdFx0alF1ZXJ5KHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCl7XG5cblx0XHRcdFx0c2Nyb2xsX3RvKCAwICk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdHNjcm9sbGVyUGx1Z2luKGpRdWVyeSgnLmRzbGNhLXNlY3Rpb24uZHNsY2EtbW9kdWxlcycpKTtcblx0c2Nyb2xsZXJQbHVnaW4oalF1ZXJ5KCcuZHNsY2Etc2VjdGlvbi5kc2xjYS10ZW1wbGF0ZXMtbG9hZCcpKTtcbn0pO1xuXG4vKiogU2Nyb2xsIHByZXZpZXcgYXJlYSB3aGVuIG1vdXNlIGFyZSBvbiBzb21lIGRpc3RhbnQgb2YgZWRnZSAqL1xuZXhwb3J0IGNvbnN0IGluaXRQcmV2aWV3QXJlYVNjcm9sbGVyID0gKCkgPT4ge1xuXG5cdHZhciBweEluVGlrID0gNTtcblx0dmFyIHRpbWVyVGlrID0gNjtcblx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuRmxhZ3Mud2luZG93U2Nyb2xsZXIgPSBmYWxzZTtcblxuXHQvKiogU3RvcCBzY3JvbGwgaWYgd2l0aGluIGFyZWFzICovXG5cdGpRdWVyeShMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5vbignZHJhZ2xlYXZlJywnLmxjLXNjcm9sbC10b3AtYXJlYSwgLmxjLXNjcm9sbC1ib3R0b20tYXJlYScsIGZ1bmN0aW9uKGUpIHtcblxuXHRcdExpdmVDb21wb3Nlci5CdWlsZGVyLlVJLnN0b3BTY3JvbGxlcigpO1xuXHR9KTtcblxuXHQvKiogU2Nyb2xsIGJvdHRvbSAqL1xuXHRqUXVlcnkoTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkub24oJ2RyYWdlbnRlciBkcmFnb3ZlcicsJy5sYy1zY3JvbGwtYm90dG9tLWFyZWEnLCBmdW5jdGlvbihlKSB7XG5cblx0XHRpZiggTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuRmxhZ3Mud2luZG93U2Nyb2xsZXIgIT09IGZhbHNlICkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0TGl2ZUNvbXBvc2VyLlV0aWxzLnB1Ymxpc2goJ0xDLnNvcnRhYmxlT2ZmJywge30pO1xuXG5cdFx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuRmxhZ3Mud2luZG93U2Nyb2xsZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpe1xuXG5cdFx0XHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYVdpbmRvdy5zY3JvbGxCeSgwICwgcHhJblRpayk7XG5cdFx0fSwgdGltZXJUaWspO1xuXHR9KTtcblxuXHQvKiogU2Nyb2xsIHRvcCAqL1xuXHRqUXVlcnkoTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkub24oJ2RyYWdlbnRlcicsJy5sYy1zY3JvbGwtdG9wLWFyZWEnLCBmdW5jdGlvbihlKSB7XG5cblx0XHRpZiggTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuRmxhZ3Mud2luZG93U2Nyb2xsZXIgIT09IGZhbHNlICkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0TGl2ZUNvbXBvc2VyLlV0aWxzLnB1Ymxpc2goJ0xDLnNvcnRhYmxlT2ZmJywge30pO1xuXG5cdFx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuRmxhZ3Mud2luZG93U2Nyb2xsZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpe1xuXG5cdFx0XHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYVdpbmRvdy5zY3JvbGxCeSgwICwgLXB4SW5UaWspO1xuXHRcdH0sIHRpbWVyVGlrKTtcblx0fSk7XG5cblx0LyoqIFN0b3Agc2Nyb2xsIGlmIGNsaWNrIG9yIGRyYWcgZW5kZWQgKi9cblx0alF1ZXJ5KExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLm9uKCdkcmFnZW5kIG1vdXNldXAnLCAnYm9keScsIGZ1bmN0aW9uKGUpIHtcblxuXHRcdExpdmVDb21wb3Nlci5CdWlsZGVyLkZsYWdzLndpbmRvd1Njcm9sbGVyICYmIExpdmVDb21wb3Nlci5CdWlsZGVyLlVJLnN0b3BTY3JvbGxlcigpO1xuXHR9KTtcbn07XG5cbi8qKiBXaW5kb3cgWS1zY3JvbGxlciAqL1xualF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigkKXtcblxuXHRpbml0UHJldmlld0FyZWFTY3JvbGxlcigpO1xuXHQvKipcblx0ICogU3RvcHMgc2Nyb2xsZXIgZnVuY3Rpb25cblx0ICovXG5cdExpdmVDb21wb3Nlci5CdWlsZGVyLlVJLnN0b3BTY3JvbGxlciA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0TGl2ZUNvbXBvc2VyLlV0aWxzLnB1Ymxpc2goJ0xDLnNvcnRhYmxlT24nLCB7fSk7XG5cblx0XHRjbGVhckludGVydmFsKExpdmVDb21wb3Nlci5CdWlsZGVyLkZsYWdzLndpbmRvd1Njcm9sbGVyKTtcblx0XHRMaXZlQ29tcG9zZXIuQnVpbGRlci5GbGFncy53aW5kb3dTY3JvbGxlciA9IGZhbHNlO1xuXHR9XG5cblx0alF1ZXJ5KFwiI3Njcm9sbGVyLXN0b3BwZXJcIikub24oJ2RyYWdvdmVyJywgZnVuY3Rpb24oKXtcblxuXHRcdExpdmVDb21wb3Nlci5CdWlsZGVyLlVJLnN0b3BTY3JvbGxlcigpO1xuXHR9KTtcbn0pOyIsIi8qKlxuICogQnVpbGRlciBzZWN0aW9uIGNsYXNzXG4gKi9cblxuZXhwb3J0IGNvbnN0IFNlY3Rpb24gPSAoZWxlbSkgPT4ge1xuXG5cdHZhciBzZWxmID0gdGhpcztcblx0dmFyIHNvcnRhYmxlQ29udGFpbmVyID0galF1ZXJ5KCBlbGVtICkuZmluZCgnLmRzbGMtbW9kdWxlcy1zZWN0aW9uLXdyYXBwZXIgLmRzbGMtbW9kdWxlcy1zZWN0aW9uLWlubmVyJykuZXEoMClbMF07XG5cblx0alF1ZXJ5KCBlbGVtICkuZHJvcHBhYmxlKHtcblx0XHRkcm9wOiBmdW5jdGlvbiggZXZlbnQsIHVpICkge1xuXHRcdFx0dmFyIG1vZHVsZXNTZWN0aW9uID0galF1ZXJ5KHRoaXMpLmZpbmQoJy5kc2xjLW1vZHVsZXMtc2VjdGlvbi1pbm5lcicpO1xuXHRcdFx0dmFyIG1vZHVsZUlEID0gdWkuZHJhZ2dhYmxlLmRhdGEoICdpZCcgKTtcblx0XHRcdGlmICggbW9kdWxlSUQgPT0gJ0RTTENfTV9BJyApIHtcblxuXHRcdFx0XHRkc2xjX21vZHVsZXNfYXJlYV9hZGQoIG1vZHVsZXNTZWN0aW9uICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcblxuXHRjb25zdCBzb3J0YWJsZSA9IGpRdWVyeSggc29ydGFibGVDb250YWluZXIgKS5zb3J0YWJsZSh7XG5cdFx0Y29ubmVjdFdpdGg6ICcuZHNsYy1tb2R1bGVzLXNlY3Rpb24taW5uZXInLFxuXHRcdGl0ZW1zOiBcIi5kc2xjLW1vZHVsZXMtYXJlYS1kbmRcIixcblx0XHRoYW5kbGU6ICcuZHNsY2EtbW92ZS1tb2R1bGVzLWFyZWEtaG9vazpub3QoXCIuZHNsY2EtYWN0aW9uLWRpc2FibGVkXCIpJyxcblx0XHRwbGFjZWhvbGRlcjogJ2RzbGNhLW1vZHVsZXMtYXJlYS1wbGFjZWhvbGRlcicsXG5cdFx0Y3Vyc29yQXQ6IHsgdG9wOiAwLCBsZWZ0OiAwIH0sXG5cdFx0dG9sZXJhbmNlIDogJ2ludGVyc2VjdCcsXG5cdFx0c2Nyb2xsOiB0cnVlLFxuXHRcdHNjcm9sbFNlbnNpdGl2aXR5OiAxMDAsXG5cdFx0c2Nyb2xsU3BlZWQgOiAxNSxcblx0XHRzb3J0OiBmdW5jdGlvbigpIHtcblxuXHRcdFx0alF1ZXJ5KCB0aGlzICkucmVtb3ZlQ2xhc3MoIFwidWktc3RhdGUtZGVmYXVsdFwiICk7XG5cdFx0fSxcblx0XHRvdmVyOiBmdW5jdGlvbiAoZSwgdWkpIHtcblxuXHRcdFx0dmFyIGRzbGNTZWN0aW9uID0gdWkucGxhY2Vob2xkZXIuY2xvc2VzdCgnLmRzbGMtbW9kdWxlcy1zZWN0aW9uJyk7XG5cblx0XHRcdGpRdWVyeShkc2xjU2VjdGlvbikucmVtb3ZlQ2xhc3MoJ2RzbGMtbW9kdWxlcy1zZWN0aW9uLWVtcHR5JykuYWRkQ2xhc3MoJ2RzbGMtbW9kdWxlcy1zZWN0aW9uLW5vdC1lbXB0eScpO1xuXG5cdFx0XHRkc2xjU2VjdGlvbi5zaWJsaW5ncygnLmRzbGMtbW9kdWxlcy1zZWN0aW9uJykuZWFjaCggZnVuY3Rpb24oKXtcblx0XHRcdFx0aWYgKCBqUXVlcnkoJy5kc2xjLW1vZHVsZXMtYXJlYTpub3QoLnVpLXNvcnRhYmxlLWhlbHBlciknLCBqUXVlcnkodGhpcykpLmxlbmd0aCApIHtcblx0XHRcdFx0XHRqUXVlcnkodGhpcykucmVtb3ZlQ2xhc3MoJ2RzbGMtbW9kdWxlcy1zZWN0aW9uLWVtcHR5JykuYWRkQ2xhc3MoJ2RzbGMtbW9kdWxlcy1zZWN0aW9uLW5vdC1lbXB0eScpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGpRdWVyeSh0aGlzKS5yZW1vdmVDbGFzcygnZHNsYy1tb2R1bGVzLXNlY3Rpb24tbm90LWVtcHR5JykuYWRkQ2xhc3MoJ2RzbGMtbW9kdWxlcy1zZWN0aW9uLWVtcHR5Jyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0sXG5cdFx0cmVtb3ZlOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0KGpRdWVyeShzZWxmLmVsZW0pLmZpbmQoJy5kc2xjLW1vZHVsZXMtYXJlYScpLmxlbmd0aCA9PSAwKSAmJiBkc2xjX21vZHVsZXNfYXJlYV9hZGQoalF1ZXJ5KHNvcnRhYmxlQ29udGFpbmVyKSk7XG5cdFx0fSxcblx0XHR1cGRhdGU6IGZ1bmN0aW9uIChlLCB1aSkge1xuXG5cdFx0XHR3aW5kb3cuZHNsY19nZW5lcmF0ZV9jb2RlKCk7XG5cdFx0XHR3aW5kb3cuZHNsY19zaG93X3B1Ymxpc2hfYnV0dG9uKCk7XG5cdFx0fSxcblx0XHRzdGFydDogZnVuY3Rpb24oZSwgdWkpe1xuXG5cdFx0XHQvLyBQbGFjZWhvbGRlclxuXHRcdFx0dWkucGxhY2Vob2xkZXIuaHRtbCgnPHNwYW4gY2xhc3M9XCJkc2xjYS1wbGFjZWhvbGRlci1oZWxwLXRleHRcIj48c3BhbiBjbGFzcz1cImRzbGNhLXBsYWNlaG9sZGVyLWhlbHAtdGV4dC1pbm5lclwiPicgKyBEU0xDU3RyaW5nLnN0cl9hcmVhX2hlbHBlcl90ZXh0ICsgJzwvc3Bhbj48L3NwYW4+Jyk7XG5cdFx0XHRpZiAoICEgalF1ZXJ5KHVpLml0ZW0pLmhhc0NsYXNzKCdkc2xjLTEyLWNvbCcpICkge1xuXHRcdFx0XHR1aS5wbGFjZWhvbGRlci53aWR0aCh1aS5pdGVtLndpZHRoKCkgLSAxMClcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHVpLnBsYWNlaG9sZGVyLndpZHRoKHVpLml0ZW0ud2lkdGgoKSkuY3NzKHsgbWFyZ2luIDogMCB9KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWRkIGRyYWcgaW4gcHJvZ3Jlc3MgY2xhc3Ncblx0XHRcdGpRdWVyeSgnYm9keScpLnJlbW92ZUNsYXNzKCdkc2xjYS1kcmFnLW5vdC1pbi1wcm9ncmVzcycpLmFkZENsYXNzKCdkc2xjYS1kcmFnLWluLXByb2dyZXNzIGRzbGNhLW1vZHVsZXMtYXJlYS1kcmFnLWluLXByb2dyZXNzJyk7XG5cblx0XHRcdC8vIFJlZnJlc2ggcG9zaXRpb25zXG5cdFx0XHRqUXVlcnkoICcuZHNsYy1tb2R1bGVzLXNlY3Rpb24taW5uZXInICkuc29ydGFibGUoIFwicmVmcmVzaFBvc2l0aW9uc1wiICk7XG5cblx0XHR9LFxuXHRcdHN0b3A6IGZ1bmN0aW9uKGUsIHVpKXtcblxuXHRcdFx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuVUkuc3RvcFNjcm9sbGVyKCk7XG5cdFx0XHRqUXVlcnkoJ2JvZHknKS5yZW1vdmVDbGFzcygnZHNsY2EtZHJhZy1pbi1wcm9ncmVzcyBkc2xjYS1tb2R1bGVzLWFyZWEtZHJhZy1pbi1wcm9ncmVzcycpLmFkZENsYXNzKCdkc2xjYS1kcmFnLW5vdC1pbi1wcm9ncmVzcycpO1xuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtYW5pbS1vcGFjaXR5LWRyb3AnKS5yZW1vdmVDbGFzcygnZHNsY2EtYW5pbS1vcGFjaXR5LWRyb3AnKTtcblx0XHR9LFxuXHRcdGNoYW5nZTogZnVuY3Rpb24oIGUsIHVpICkge1xuXG5cdFx0fVxuXHR9KTtcblxuXHQvLyBNYXJrIHNlY3Rpb24gYXMgaW5pdGlhbGl6ZWRcblx0alF1ZXJ5KCBlbGVtICkuYXR0cignZGF0YS1qc2luaXQnLCAnaW5pdGlhbGl6ZWQnKTtcblxuXHQvKiogU29ydCBvcHRpb24gc2V0dGVyICovXG5cdGpRdWVyeShkb2N1bWVudCkub24oJ0xDLnNvcnRhYmxlT2ZmJywgZnVuY3Rpb24oKXtcblx0XHRpZiAoIHVuZGVmaW5lZCAhPT0gc2VsZi5zb3J0YWJsZS5zb3J0YWJsZSggXCJpbnN0YW5jZVwiICkgKSB7XG5cdFx0XHRzZWxmLnNvcnRhYmxlLnNvcnRhYmxlKCdvcHRpb24nLCdkaXNhYmxlZCcsIHRydWUpO1xuXHRcdH1cblx0fSk7XG5cblx0alF1ZXJ5KGRvY3VtZW50KS5vbignTEMuc29ydGFibGVPbicsIGZ1bmN0aW9uKCl7XG5cdFx0aWYgKCB1bmRlZmluZWQgIT09IHNlbGYuc29ydGFibGUuc29ydGFibGUoIFwiaW5zdGFuY2VcIiApICkge1xuXHRcdFx0c2VsZi5zb3J0YWJsZS5zb3J0YWJsZSgnb3B0aW9uJywnZGlzYWJsZWQnLCBmYWxzZSk7XG5cdFx0fVxuXHR9KTtcbn0iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKlxuICogPSBST1dTID1cbiAqXG4gKiAtIGRzbGNfcm93X2FkZCAoIEFkZCBOZXcgKVxuICogLSBkc2xjX3Jvd19kZWxldGUgKCBEZWxldGUgKVxuICogLSBkc2xjX3Jvd19lZGl0ICggRWRpdCApXG4gKiAtIGRzbGNfcm93X2VkaXRfc2xpZGVyX2luaXQgKCBFZGl0IC0gSW5pdGlhdGUgU2xpZGVyIClcbiAqIC0gZHNsY19yb3dfZWRpdF9jYW5jZWwgKCBFZGl0IC0gQ2FuY2VsIENoYW5nZXMgKVxuICogLSBkc2xjX3Jvd19lZGl0X2NvbmZpcm0gKCBFZGl0IC0gQ29uZmlybSBDaGFuZ2VzIClcbiAqIC0gZHNsY19yb3dfY29weSAoIENvcHkgKVxuICogLSBkc2xjX3Jvd19pbXBvcnQgKCBJbXBvcnQgKVxuICpcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuXG5cbmltcG9ydCB7IFNlY3Rpb24gfSBmcm9tICcuL3NlY3Rpb24uY2xhc3MuanMnO1xuaW1wb3J0IHsgZHJhZ0FuZERyb3BJbml0IH0gZnJvbSAnLi9kcmFnbmRyb3AuanMnO1xuaW1wb3J0IHsgbW9kdWxlYXJlYXNJbml0SlMgfSBmcm9tICcuL21vZHVsZWFyZWEuanMnO1xuaW1wb3J0IHsgTW9kdWxlQXJlYSB9IGZyb20gJy4vbW9kdWxlYXJlYS5jbGFzcy5qcyc7XG5cbjtqUXVlcnkoZG9jdW1lbnQpLm9uKCdlZGl0b3JGcmFtZUxvYWRlZCcsIGZ1bmN0aW9uKCl7XG5cblx0dmFyICQgPSBqUXVlcnk7XG5cblx0dmFyIGFjdGlvbkF2YWlsID0gZnVuY3Rpb24oKSB7XG5cblx0XHRpZiAoIExpdmVDb21wb3Nlci5CdWlsZGVyLkZsYWdzLnBhbmVsT3BlbmVkICkge1xuXG5cdFx0XHRMaXZlQ29tcG9zZXIuQnVpbGRlci5VSS5zaGFrZVBhbmVsQ29uZmlybUJ1dHRvbigpO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0alF1ZXJ5KFwiLmRzbGMtbW9kdWxlcy1zZWN0aW9uXCIsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLmVhY2goZnVuY3Rpb24oKXtcblxuXHRcdG5ldyBTZWN0aW9uKHRoaXMpO1xuXHR9KTtcblxuXHQvKipcblx0ICogSG9vayAtIERlbGV0ZSBSb3dcblx0ICovXG5cdExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQub24oICdjbGljaycsICcuZHNsY2EtZGVsZXRlLW1vZHVsZXMtc2VjdGlvbi1ob29rJywgZnVuY3Rpb24oZSl7XG5cblx0XHQvLyBDaGVjayBpZiBhY3Rpb24gY2FuIGJlIGZpcmVkXG5cdFx0aWYgKCAhYWN0aW9uQXZhaWwoKSApIHJldHVybiBmYWxzZTtcblxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRpZiAoICEgJCh0aGlzKS5oYXNDbGFzcygnZHNsY2EtYWN0aW9uLWRpc2FibGVkJykgKSB7XG5cblx0XHRcdExpdmVDb21wb3Nlci5CdWlsZGVyLlVJLkNNb2RhbFdpbmRvdyh7XG5cdFx0XHRcdHRpdGxlOiBEU0xDU3RyaW5nLnN0cl9kZWxfcm93X3RpdGxlLFxuXHRcdFx0XHRjb250ZW50OiBEU0xDU3RyaW5nLnN0cl9kZWxfcm93X2Rlc2NyLFxuXHRcdFx0XHRjb25maXJtOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdGRzbGNfcm93X2RlbGV0ZSggJChzZWxmKS5jbG9zZXN0KCcuZHNsYy1tb2R1bGVzLXNlY3Rpb24nKSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXG5cdFx0LypcdGRzbGNfanNfY29uZmlybSggJ2RlbGV0ZV9tb2R1bGVzX3NlY3Rpb24nLCAnPHNwYW4gY2xhc3M9XCJkc2xjYS1wcm9tcHQtbW9kYWwtdGl0bGVcIj4nICsgRFNMQ1N0cmluZy5zdHJfZGVsX3Jvd190aXRsZSArXG5cdFx0XHRcdCc8L3NwYW4+PHNwYW4gY2xhc3M9XCJkc2xjYS1wcm9tcHQtbW9kYWwtZGVzY3JcIj4nICsgRFNMQ1N0cmluZy5zdHJfZGVsX3Jvd19kZXNjciArICc8L3NwYW4+JywgJCh0aGlzKSApOyovXG5cdFx0fVxuXHR9KTtcblxuXHQvKipcblx0ICogSG9vayAtIEltcG9ydCBSb3dcblx0ICovXG5cdExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQub24oICdjbGljaycsICcuZHNsY2EtaW1wb3J0LW1vZHVsZXMtc2VjdGlvbi1ob29rJywgZnVuY3Rpb24oZSkge1xuXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0Ly8gQ2hlY2sgaWYgYWN0aW9uIGNhbiBiZSBmaXJlZFxuXHRcdGlmICggIWFjdGlvbkF2YWlsKCkgKSByZXR1cm4gZmFsc2U7XG5cblx0XHRpZiAoICEgalF1ZXJ5KHRoaXMpLmhhc0NsYXNzKCdkc2xjYS1hY3Rpb24tZGlzYWJsZWQnKSApIHtcblxuXHRcdFx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuVUkuQ01vZGFsV2luZG93KHtcblx0XHRcdFx0dGl0bGU6IERTTENTdHJpbmcuc3RyX2ltcG9ydF9yb3dfdGl0bGUsXG5cdFx0XHRcdGNvbnRlbnQ6IERTTENTdHJpbmcuc3RyX2ltcG9ydF9yb3dfZGVzY3IgKyAnPGJyPjxicj48dGV4dGFyZWE+PC90ZXh0YXJlYT4nLFxuXHRcdFx0XHRjb25maXJtOiBmdW5jdGlvbigpe1xuXHRcdFx0XHRcdGRzbGNfcm93X2ltcG9ydCggalF1ZXJ5KCcuZHNsY2EtcHJvbXB0LW1vZGFsIHRleHRhcmVhJykudmFsKCkgKTtcblx0XHRcdFx0XHRqUXVlcnkoJy5kc2xjYS1wcm9tcHQtbW9kYWwtY29uZmlybS1ob29rIHNwYW4nKS5jc3MoeyBvcGFjaXR5IDogMCB9KTtcblx0XHRcdFx0XHRqUXVlcnkoJy5kc2xjYS1wcm9tcHQtbW9kYWwtY29uZmlybS1ob29rIC5kc2xjYS1sb2FkaW5nJykuc2hvdygpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRjb25maXJtX3RpdGxlOiBEU0xDU3RyaW5nLnN0cl9pbXBvcnRcblx0XHRcdH0pO1xuXG5cdFx0XHQvKiQoJy5kc2xjYS1wcm9tcHQtbW9kYWwtY29uZmlybS1ob29rJykuaHRtbCgnPHNwYW4gY2xhc3M9XCJkc2xjLWljb24gZHNsYy1pY29uLW9rXCI+PC9zcGFuPjxzcGFuPicgKyBEU0xDU3RyaW5nLnN0cl9pbXBvcnQgK1xuXHRcdFx0XHQnPC9zcGFuPjxkaXYgY2xhc3M9XCJkc2xjYS1sb2FkaW5nIGZvbGxvd2luZ0JhbGxzR1dyYXBcIj48ZGl2IGNsYXNzPVwiZm9sbG93aW5nQmFsbHNHXzEgZm9sbG93aW5nQmFsbHNHXCI+PC9kaXY+Jytcblx0XHRcdFx0JzxkaXYgY2xhc3M9XCJmb2xsb3dpbmdCYWxsc0dfMiBmb2xsb3dpbmdCYWxsc0dcIj48L2Rpdj48ZGl2IGNsYXNzPVwiZm9sbG93aW5nQmFsbHNHXzMgZm9sbG93aW5nQmFsbHNHXCI+PC9kaXY+PGRpdiBjbGFzcz1cImZvbGxvd2luZ0JhbGxzR180IGZvbGxvd2luZ0JhbGxzR1wiPjwvZGl2PjwvZGl2PicpO1xuXG5cdFx0XHRkc2xjX2pzX2NvbmZpcm0oICdpbXBvcnRfbW9kdWxlc19zZWN0aW9uJywgJzxzcGFuIGNsYXNzPVwiZHNsY2EtcHJvbXB0LW1vZGFsLXRpdGxlXCI+JyArIERTTENTdHJpbmcuc3RyX2ltcG9ydF9yb3dfdGl0bGUgK1xuXHRcdFx0XHQnPC9zcGFuPjxzcGFuIGNsYXNzPVwiZHNsY2EtcHJvbXB0LW1vZGFsLWRlc2NyXCI+JyArIERTTENTdHJpbmcuc3RyX2ltcG9ydF9yb3dfZGVzY3IgKyAnIDxicj48YnI+PHRleHRhcmVhPjwvdGV4dGFyZWE+PC9zcGFuPicsICQodGhpcykgKTsqL1xuXHRcdH1cblx0fSk7XG5cblx0LyoqXG5cdCAqIEhvb2sgLSBFeHBvcnQgUm93XG5cdCAqL1xuXHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50Lm9uKCAnY2xpY2snLCAnLmRzbGNhLWV4cG9ydC1tb2R1bGVzLXNlY3Rpb24taG9vaycsIGZ1bmN0aW9uKGUpIHtcblxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdC8vIENoZWNrIGlmIGFjdGlvbiBjYW4gYmUgZmlyZWRcblx0XHRpZiAoICFhY3Rpb25BdmFpbCgpICkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0aWYgKCAhICQodGhpcykuaGFzQ2xhc3MoJ2RzbGNhLWFjdGlvbi1kaXNhYmxlZCcpICkge1xuXG5cdFx0XHQkKCcuZHNsY2EtcHJvbXB0LW1vZGFsLWNhbmNlbC1ob29rJykuaGlkZSgpO1xuXHRcdFx0JCgnLmRzbGNhLXByb21wdC1tb2RhbC1jb25maXJtLWhvb2snKS5odG1sKCc8c3BhbiBjbGFzcz1cImRzbGMtaWNvbiBkc2xjLWljb24tb2tcIj48L3NwYW4+JyArIERTTENTdHJpbmcuc3RyX29rKTtcblxuXHRcdFx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuVUkuQ01vZGFsV2luZG93KHtcblxuXHRcdFx0XHR0aXRsZTogRFNMQ1N0cmluZy5zdHJfZXhwb3J0X3Jvd190aXRsZSxcblx0XHRcdFx0Y29udGVudDogRFNMQ1N0cmluZy5zdHJfZXhwb3J0X3Jvd19kZXNjciArICc8YnI+PGJyPjx0ZXh0YXJlYT4nICsgJ1snICsgZHNsY19nZW5lcmF0ZV9zZWN0aW9uX2NvZGUoICQodGhpcykuY2xvc2VzdCgnLmRzbGMtbW9kdWxlcy1zZWN0aW9uJykgKSArICddJyArICc8L3RleHRhcmVhPjwvc3Bhbj4nXG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gZHNsY19qc19jb25maXJtKCAnZXhwb3J0X21vZHVsZXNfc2VjdGlvbicsICc8c3BhbiBjbGFzcz1cImRzbGNhLXByb21wdC1tb2RhbC10aXRsZVwiPicgKyBEU0xDU3RyaW5nLnN0cl9leHBvcnRfcm93X3RpdGxlICtcblx0XHRcdC8vIFx0Jzwvc3Bhbj48c3BhbiBjbGFzcz1cImRzbGNhLXByb21wdC1tb2RhbC1kZXNjclwiPicgKyBEU0xDU3RyaW5nLnN0cl9leHBvcnRfcm93X2Rlc2NyICsgJyA8YnI+PGJyPjx0ZXh0YXJlYT48L3RleHRhcmVhPjwvc3Bhbj4nLCAkKHRoaXMpICk7XG5cdFx0XHQvLyAkKCcuZHNsY2EtcHJvbXB0LW1vZGFsIHRleHRhcmVhJykudmFsKCBkc2xjX2dlbmVyYXRlX3NlY3Rpb25fY29kZSggJCh0aGlzKS5jbG9zZXN0KCcuZHNsYy1tb2R1bGVzLXNlY3Rpb24nKSApICk7XG5cdFx0fVxuXHR9KTtcblxuXHQvKipcblx0ICogSG9vayAtIENvcHkgUm93XG5cdCAqL1xuXHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50Lm9uKCAnY2xpY2snLCAnLmRzbGNhLWNvcHktbW9kdWxlcy1zZWN0aW9uLWhvb2snLCBmdW5jdGlvbigpIHtcblxuXHRcdC8vIENoZWNrIGlmIGFjdGlvbiBjYW4gYmUgZmlyZWRcblx0XHRpZiAoICFhY3Rpb25BdmFpbCgpICkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0aWYgKCAhIGpRdWVyeSh0aGlzKS5oYXNDbGFzcygnZHNsY2EtYWN0aW9uLWRpc2FibGVkJykgKSB7XG5cblx0XHRcdGRzbGNfcm93X2NvcHkoIGpRdWVyeSh0aGlzKS5jbG9zZXN0KCcuZHNsYy1tb2R1bGVzLXNlY3Rpb24nKSApO1xuXHRcdH1cblx0fSk7XG5cblx0LyoqXG5cdCAqIEhvb2sgLSBBZGQgUm93XG5cdCAqL1xuXHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50Lm9uKCAnY2xpY2snLCAnLmRzbGNhLWFkZC1tb2R1bGVzLXNlY3Rpb24taG9vaycsIGZ1bmN0aW9uKGUpe1xuXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0Ly8gQ2hlY2sgaWYgYWN0aW9uIGNhbiBiZSBmaXJlZFxuXHRcdGlmICggIWFjdGlvbkF2YWlsKCkgKSByZXR1cm4gZmFsc2U7XG5cblx0XHR2YXIgYnV0dG9uID0gJCh0aGlzKTtcblxuXHRcdGlmICggISAkKHRoaXMpLmhhc0NsYXNzKCdkc2xjYS1hY3Rpb24tZGlzYWJsZWQnKSApIHtcblxuXHRcdFx0Ly8gQWRkIGEgbG9hZGluZyBhbmltYXRpb25cblx0XHRcdGJ1dHRvbi5maW5kKCcuZHNsY2EtaWNvbicpLnJlbW92ZUNsYXNzKCdkc2xjLWljb24tYWxpZ24tanVzdGlmeScpLmFkZENsYXNzKCdkc2xjLWljb24tc3Bpbm5lciBkc2xjLWljb24tc3BpbicpO1xuXG5cdFx0XHQvLyBBZGQgYSByb3dcblx0XHRcdGFkZFNlY3Rpb24oIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdGJ1dHRvbi5maW5kKCcuZHNsY2EtaWNvbicpLnJlbW92ZUNsYXNzKCdkc2xjLWljb24tc3Bpbm5lciBkc2xjLWljb24tc3BpbicpLmFkZENsYXNzKCdkc2xjLWljb24tYWxpZ24tanVzdGlmeScpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9KTtcblxuXHQvKipcblx0ICogSG9vayAtIEVkaXQgUm93XG5cdCAqL1xuXHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50Lm9uKCAnY2xpY2snLCAnLmRzbGNhLWVkaXQtbW9kdWxlcy1zZWN0aW9uLWhvb2snLCBmdW5jdGlvbigpe1xuXG5cdFx0Ly8gQ2hlY2sgaWYgYWN0aW9uIGNhbiBiZSBmaXJlZFxuXHRcdGlmICggIWFjdGlvbkF2YWlsKCkgKSByZXR1cm4gZmFsc2U7XG5cblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHR2YXIgbW9kdWxlX2VkaXRlZCA9IGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1iZWluZy1lZGl0ZWQnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5sZW5ndGg7XG5cdFx0dmFyIHJvd19lZGl0ZWQgPSBqUXVlcnkoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tYmVpbmctZWRpdGVkJywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkubGVuZ3RoO1xuXG5cdFx0Ly8vIElmIHNldHRpbmdzIHBhbmVsIG9wZW5lZCAtIGZpbmlzaCBmdW5jXG5cdFx0aWYgKCAkKCdib2R5JykuaGFzQ2xhc3MoICdkc2xjYS1jb21wb3Nlci1oaWRkZW4nICkgfHwgbW9kdWxlX2VkaXRlZCA+IDAgfHwgcm93X2VkaXRlZCA+IDAgKSByZXR1cm4gZmFsc2U7XG5cblx0XHQvLyBJZiBub3QgZGlzYWJsZWQgKCBkaXNhYmxpbmcgdXNlZCBmb3IgdHV0b3JpYWwgKVxuXHRcdGlmICggISAkKHRoaXMpLmhhc0NsYXNzKCdkc2xjYS1hY3Rpb24tZGlzYWJsZWQnKSApIHtcblxuXHRcdFx0Ly8gVHJpZ2dlciB0aGUgZnVuY3Rpb24gdG8gZWRpdFxuXHRcdFx0ZHNsY19yb3dfZWRpdCggJCh0aGlzKS5jbG9zZXN0KCcuZHNsYy1tb2R1bGVzLXNlY3Rpb24nKSApO1xuXHRcdH1cblxuXHRcdGpRdWVyeSgnYm9keScsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLmFkZENsYXNzKCdzZWN0aW9uLWVkaXRpbmctaW4tcHJvZ3Jlc3MnKTtcblx0fSk7XG59KTtcblxuLyoqXG4gKiBSb3cgLSBBZGQgTmV3XG4gKi9cbmV4cG9ydCBjb25zdCBhZGRTZWN0aW9uID0gKCBjYWxsYmFjayApID0+IHtcblxuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2RzbGNfcm93X2FkZCcgKTtcblxuXHRjYWxsYmFjayA9IHR5cGVvZiBjYWxsYmFjayAhPT0gJ3VuZGVmaW5lZCcgPyBjYWxsYmFjayA6IGZhbHNlO1xuXG5cdHZhciBkZWZlciA9IGpRdWVyeS5EZWZlcnJlZCgpO1xuXHR2YXIgYnJvd3NlckNhY2hlVG1wID0gc2Vzc2lvblN0b3JhZ2U7XG5cblx0dmFyIG5ld1JvdyA9IGpRdWVyeSgpO1xuXHR2YXIgY2FjaGVkQWpheFJlcXVlc3QgPSBicm93c2VyQ2FjaGVUbXAuZ2V0SXRlbSggJ2NhY2hlLWRzbGMtYWpheC1hZGQtbW9kdWxlcy1zZWN0aW9uJyApO1xuXG5cdC8vIElmIG9wdGlvbiAnbGNfc2VjdGlvbl9wYWRkaW5nX3ZlcnRpY2FsJyB3YXMgdXBkYXRlLlxuXHRpZiAoIG51bGwgIT09IGNhY2hlZEFqYXhSZXF1ZXN0ICkge1xuXHRcdHZhciBjdXJyZW50X3ZhbHVlLCBjYWNoZV9jdXJlbnRfdmFsdWU7XG5cblx0XHRjdXJyZW50X3ZhbHVlID0gRFNMQ01haW5PcHRpb25zLnNlY3Rpb25fcGFkZGluZ192ZXJ0aWNhbDtcblx0XHRjYWNoZV9jdXJlbnRfdmFsdWUgPSBqUXVlcnkoY2FjaGVkQWpheFJlcXVlc3QpLmZpbmQoJ2lucHV0W2RhdGEtaWQ9XCJwYWRkaW5nXCJdJykudmFsKCk7XG5cblx0XHRpZiAoIGN1cnJlbnRfdmFsdWUgIT09IGNhY2hlX2N1cmVudF92YWx1ZSApIHtcblx0XHRcdGJyb3dzZXJDYWNoZVRtcC5yZW1vdmVJdGVtKCdjYWNoZS1kc2xjLWFqYXgtYWRkLW1vZHVsZXMtc2VjdGlvbicpO1xuXHRcdFx0Y2FjaGVkQWpheFJlcXVlc3QgPSBudWxsO1xuXHRcdH1cblx0fVxuXG5cdC8vIElmIG5vIGNhY2hlIGZvciBjdXJyZW50IEFqYXggcmVxdWVzdC5cblx0aWYgKCBudWxsID09PSBjYWNoZWRBamF4UmVxdWVzdCApIHtcblxuXHRcdC8vIEFKQVggUmVxdWVzdFxuXHRcdGpRdWVyeS5wb3N0KFxuXG5cdFx0XHREU0xDQWpheC5hamF4dXJsLFxuXHRcdFx0e1xuXHRcdFx0XHRhY3Rpb24gOiAnZHNsYy1hamF4LWFkZC1tb2R1bGVzLXNlY3Rpb24nLFxuXHRcdFx0XHRkc2xjIDogJ2FjdGl2ZSdcblx0XHRcdH0sXG5cdFx0XHRmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cblx0XHRcdFx0Ly8gbmV3Um93ID0galF1ZXJ5KHJlc3BvbnNlLm91dHB1dCk7XG5cdFx0XHRcdGJyb3dzZXJDYWNoZVRtcC5zZXRJdGVtKCAnY2FjaGUtZHNsYy1hamF4LWFkZC1tb2R1bGVzLXNlY3Rpb24nLCByZXNwb25zZS5vdXRwdXQgKTtcblxuXHRcdFx0XHRuZXdSb3cgPSBkc2xjX3Jvd19hZnRlcl9hZGQoIHJlc3BvbnNlLm91dHB1dCApO1xuXG5cdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7IGNhbGxiYWNrKCk7IH1cblx0XHRcdFx0cmV0dXJuIGRlZmVyO1xuXHRcdFx0fVxuXHRcdCk7XG5cblx0fSBlbHNlIHtcblx0XHQvLyBUaGVyZSBpcyBjYWNoZWQgdmVyc2lvbiBvZiBBSkFYIHJlcXVlc3QuXG5cdFx0Ly8gbmV3Um93ID0galF1ZXJ5KGNhY2hlZEFqYXhSZXF1ZXN0KTtcblxuXHRcdG5ld1JvdyA9IGRzbGNfcm93X2FmdGVyX2FkZCggY2FjaGVkQWpheFJlcXVlc3QgKTtcblxuXHRcdGlmICggY2FsbGJhY2sgKSB7IGNhbGxiYWNrKCk7IH1cblx0XHRyZXR1cm4gZGVmZXI7XG5cdH1cbn1cblxuLyoqXG4gKiBGaW5pc2ggbmV3IHJvdyBjcmVhdGlvbiBwcm9jZXNzLlxuICpcbiAqIEBwYXJhbSAge1N0cmluZ30gbmV3Um93SFRNTCBIVE1MIGNvZGUgb2YgdGhlIG5ldyByb3cuXG4gKiBAcmV0dXJuIHtqUXVlcnl9ICAgICAgICAgICAgTmV3IFJPVyBqUXVlcnkgb2JqZWN0LlxuICovXG5mdW5jdGlvbiBkc2xjX3Jvd19hZnRlcl9hZGQoIG5ld1Jvd0hUTUwgKSB7XG5cblx0dmFyIG5ld1JvdyA9IGpRdWVyeShuZXdSb3dIVE1MKTtcblxuXHQvLyBBcHBlbmQgbmV3IHJvd1xuXHRuZXdSb3cuYXBwZW5kVG8oTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudC5maW5kKFwiI2RzbGMtbWFpblwiKSk7XG5cblx0Ly8gQ2FsbCBvdGhlciBmdW5jdGlvbnNcblx0ZHJhZ0FuZERyb3BJbml0KCk7XG5cdHdpbmRvdy5kc2xjX2dlbmVyYXRlX2NvZGUoKTtcblx0d2luZG93LmRzbGNfc2hvd19wdWJsaXNoX2J1dHRvbigpO1xuXG5cdG5ldyBTZWN0aW9uKG5ld1Jvdyk7XG5cdG5ldyBNb2R1bGVBcmVhKCBuZXdSb3cuZmluZCgnLmRzbGMtbW9kdWxlcy1hcmVhJykuZXEoMClbMF0gKTtcblxuXHRuZXdSb3cuZmluZCgnLmRzbGMtbW9kdWxlcy1hcmVhJykuYWRkQ2xhc3MoJ2RzbGMtbW9kdWxlcy1hcmVhLWVtcHR5IGRzbGMtbGFzdC1jb2wnKTtcblxuXHRyZXR1cm4gbmV3Um93O1xufVxuXG4vKipcbiAqIFJvdyAtIERlbGV0ZVxuICovXG5mdW5jdGlvbiBkc2xjX3Jvd19kZWxldGUoIHJvdyApIHtcblxuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2RzbGNfcm93X2RlbGV0ZScgKTtcblxuXHQvLyBJZiB0aGUgcm93IGlzIGJlaW5nIGVkaXRlZFxuXHRpZiAoIHJvdy5maW5kKCcuZHNsY2EtbW9kdWxlLWJlaW5nLWVkaXRlZCcpICkge1xuXG5cdFx0Ly8gSGlkZSB0aGUgZmlsdGVyIGhvb2tzXG5cdFx0alF1ZXJ5KCcuZHNsY2EtaGVhZGVyIC5kc2xjYS1vcHRpb25zLWZpbHRlci1ob29rJykuaGlkZSgpO1xuXG5cdFx0Ly8gSGlkZSB0aGUgc2F2ZS9jYW5jZWwgYWN0aW9uc1xuXHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWFjdGlvbnMnKS5oaWRlKCk7XG5cblx0XHQvLyBTaG93IHRoZSBzZWN0aW9uIGhvb2tzXG5cdFx0alF1ZXJ5KCcuZHNsY2EtaGVhZGVyIC5kc2xjYS1nby10by1zZWN0aW9uLWhvb2snKS5zaG93KCk7XG5cblx0XHRkc2xjX3Nob3dfc2VjdGlvbignLmRzbGNhLW1vZHVsZXMnKTtcblxuXHR9XG5cblx0Ly8gUmVtb3ZlIHJvd1xuXHRyb3cudHJpZ2dlcignbW91c2VsZWF2ZScpLnJlbW92ZSgpO1xuXG5cdC8vIENhbGwgb3RoZXIgZnVuY3Rpb25zXG5cdHdpbmRvdy5kc2xjX2dlbmVyYXRlX2NvZGUoKTtcblx0d2luZG93LmRzbGNfc2hvd19wdWJsaXNoX2J1dHRvbigpO1xufVxuXG4vKipcbiAqIFJvdyAtIEVkaXRcbiAqL1xuZnVuY3Rpb24gZHNsY19yb3dfZWRpdCggcm93ICkge1xuXG5cdGlmICggd2luZG93LmRzbGNEZWJ1ZyApIGNvbnNvbGUubG9nKCAnZHNsY19yb3dfZWRpdCcgKTtcblxuXHQvLyBWYXJzIHdlIHdpbGwgdXNlXG5cdHZhciBkc2xjTW9kdWxlc1NlY3Rpb25PcHRzLCBkc2xjVmFsO1xuXG5cdC8vIFNldCBlZGl0aW5nIGNsYXNzXG5cdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1iZWluZy1lZGl0ZWQnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5yZW1vdmVDbGFzcygnZHNsY2EtbW9kdWxlLWJlaW5nLWVkaXRlZCcpO1xuXHRqUXVlcnkoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tYmVpbmctZWRpdGVkJywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkucmVtb3ZlQ2xhc3MoJ2RzbGNhLW1vZHVsZXMtc2VjdGlvbi1iZWluZy1lZGl0ZWQnKS5yZW1vdmVDbGFzcygnZHNsY2EtbW9kdWxlcy1zZWN0aW9uLWNoYW5nZS1tYWRlJyk7XG5cdHJvdy5hZGRDbGFzcygnZHNsY2EtbW9kdWxlcy1zZWN0aW9uLWJlaW5nLWVkaXRlZCcpO1xuXG5cdC8vIEhpZGUgdGhlIHNlY3Rpb24gaG9va3Ncblx0alF1ZXJ5KCcuZHNsY2EtaGVhZGVyIC5kc2xjYS1nby10by1zZWN0aW9uLWhvb2snKS5oaWRlKCk7XG5cblx0Ly8gU2hvdyB0aGUgc3R5bGluZy9yZXNwb25zaXZlIHRhYnNcblx0alF1ZXJ5KCcuZHNsY2Etcm93LW9wdGlvbnMtZmlsdGVyLWhvb2tbZGF0YS1zZWN0aW9uPVwic3R5bGluZ1wiXSwgLmRzbGNhLXJvdy1vcHRpb25zLWZpbHRlci1ob29rW2RhdGEtc2VjdGlvbj1cInJlc3BvbnNpdmVcIl0nKS5zaG93KCk7XG5cdGpRdWVyeSgnLmRzbGNhLXJvdy1vcHRpb25zLWZpbHRlci1ob29rW2RhdGEtc2VjdGlvbj1cInN0eWxpbmdcIl0nKS50cmlnZ2VyKCdjbGljaycpO1xuXG5cdC8vIEhpZGUgdGhlIGZpbHRlciBob29rc1xuXHRqUXVlcnkoJy5kc2xjYS1oZWFkZXIgLmRzbGNhLW9wdGlvbnMtZmlsdGVyLWhvb2snKS5oaWRlKCk7XG5cblx0Ly8gSGlkZSB0aGUgc2F2ZS9jYW5jZWwgYWN0aW9uc1xuXHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1hY3Rpb25zJykuaGlkZSgpO1xuXG5cdC8vIFNob3cgdGhlIHNhdmUvY2FuY2VsIGFjdGlvbnNcblx0alF1ZXJ5KCcuZHNsY2Etcm93LWVkaXQtYWN0aW9ucycpLnNob3coKTtcblxuXHQvLyBTZXQgY3VycmVudCB2YWx1ZXNcblx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlcy1zZWN0aW9uLWVkaXQtZmllbGQnKS5lYWNoKGZ1bmN0aW9uKCl7XG5cblxuXHRcdC8qKlxuXHRcdCAqIFRlbXBvcmFyeSBtaWdyYXRpb24gZnJvbSAnd3JhcHBlZCcgdmFsdWUgdG8gJ3dyYXBwZXInIGluIFJPVyB0eXBlIHNlbGVjdG9yXG5cdFx0ICogVE9ETzogZGVsZXRlIHRoaXMgYmxvY2sgaW4gYSBmZXcgdmVyc2lvbnMgYXMgcHJvYmxlbSBkbyBub3QgZXhpc3RzIG9uIG5ldyBpbnN0YWxsc1xuXHRcdCAqXG5cdFx0ICogQHNpbmNlIHZlciAxLjFcblx0XHQgKi9cblx0XHRpZiAoICd0eXBlJyA9PT0galF1ZXJ5KHRoaXMpLmRhdGEoJ2lkJykgKSB7XG5cblx0XHRcdGlmICggJycgPT09IGpRdWVyeSgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1iZWluZy1lZGl0ZWQgLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1zZXR0aW5ncyBpbnB1dFtkYXRhLWlkPVwidHlwZVwiXScsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLnZhbCgpIHx8XG5cdFx0XHRcdCAgJ3dyYXBwZWQnID09PSBqUXVlcnkoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tYmVpbmctZWRpdGVkIC5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tc2V0dGluZ3MgaW5wdXRbZGF0YS1pZD1cInR5cGVcIl0nLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS52YWwoKSApIHtcblx0XHRcdFx0alF1ZXJ5KCdzZWxlY3RbZGF0YS1pZD1cInR5cGVcIl0nKS52YWwoJ3dyYXBwZXInKS5jaGFuZ2UoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIGpRdWVyeSh0aGlzKS5kYXRhKCdpZCcpID09ICdib3JkZXItdG9wJyApIHtcblxuXHRcdFx0aWYgKCBqUXVlcnkoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tYmVpbmctZWRpdGVkIC5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tc2V0dGluZ3MgaW5wdXRbZGF0YS1pZD1cImJvcmRlclwiXScsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLnZhbCgpLmluZGV4T2YoJ3RvcCcpID49IDAgKSB7XG5cdFx0XHRcdGpRdWVyeSh0aGlzKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XG5cdFx0XHRcdGpRdWVyeSh0aGlzKS5zaWJsaW5ncygnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LW9wdGlvbi1jaGVja2JveC1ob29rJykuZmluZCgnLmRzbGNhLWljb24nKS5yZW1vdmVDbGFzcygnZHNsYy1pY29uLWNoZWNrLWVtcHR5JykuYWRkQ2xhc3MoJ2RzbGMtaWNvbi1jaGVjaycpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0alF1ZXJ5KHRoaXMpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XG5cdFx0XHRcdGpRdWVyeSh0aGlzKS5zaWJsaW5ncygnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LW9wdGlvbi1jaGVja2JveC1ob29rJykuZmluZCgnLmRzbGNhLWljb24nKS5yZW1vdmVDbGFzcygnZHNsYy1pY29uLWNoZWNrJykuYWRkQ2xhc3MoJ2RzbGMtaWNvbi1jaGVjay1lbXB0eScpO1xuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIGlmICggalF1ZXJ5KHRoaXMpLmRhdGEoJ2lkJykgPT0gJ2JvcmRlci1yaWdodCcgKSB7XG5cblx0XHRcdGlmICggalF1ZXJ5KCcuZHNsY2EtbW9kdWxlcy1zZWN0aW9uLWJlaW5nLWVkaXRlZCAuZHNsY2EtbW9kdWxlcy1zZWN0aW9uLXNldHRpbmdzIGlucHV0W2RhdGEtaWQ9XCJib3JkZXJcIl0nLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS52YWwoKS5pbmRleE9mKCdyaWdodCcpID49IDAgKSB7XG5cdFx0XHRcdGpRdWVyeSh0aGlzKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XG5cdFx0XHRcdGpRdWVyeSh0aGlzKS5zaWJsaW5ncygnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LW9wdGlvbi1jaGVja2JveC1ob29rJykuZmluZCgnLmRzbGNhLWljb24nKS5yZW1vdmVDbGFzcygnZHNsYy1pY29uLWNoZWNrLWVtcHR5JykuYWRkQ2xhc3MoJ2RzbGMtaWNvbi1jaGVjaycpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0alF1ZXJ5KHRoaXMpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XG5cdFx0XHRcdGpRdWVyeSh0aGlzKS5zaWJsaW5ncygnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LW9wdGlvbi1jaGVja2JveC1ob29rJykuZmluZCgnLmRzbGNhLWljb24nKS5yZW1vdmVDbGFzcygnZHNsYy1pY29uLWNoZWNrJykuYWRkQ2xhc3MoJ2RzbGMtaWNvbi1jaGVjay1lbXB0eScpO1xuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIGlmICggalF1ZXJ5KHRoaXMpLmRhdGEoJ2lkJykgPT0gJ2JvcmRlci1ib3R0b20nICkge1xuXG5cdFx0XHRpZiAoIGpRdWVyeSgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1iZWluZy1lZGl0ZWQgLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1zZXR0aW5ncyBpbnB1dFtkYXRhLWlkPVwiYm9yZGVyXCJdJywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkudmFsKCkuaW5kZXhPZignYm90dG9tJykgPj0gMCApIHtcblx0XHRcdFx0alF1ZXJ5KHRoaXMpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKTtcblx0XHRcdFx0alF1ZXJ5KHRoaXMpLnNpYmxpbmdzKCcuZHNsY2EtbW9kdWxlcy1zZWN0aW9uLWVkaXQtb3B0aW9uLWNoZWNrYm94LWhvb2snKS5maW5kKCcuZHNsY2EtaWNvbicpLnJlbW92ZUNsYXNzKCdkc2xjLWljb24tY2hlY2stZW1wdHknKS5hZGRDbGFzcygnZHNsYy1pY29uLWNoZWNrJyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRqUXVlcnkodGhpcykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcblx0XHRcdFx0alF1ZXJ5KHRoaXMpLnNpYmxpbmdzKCcuZHNsY2EtbW9kdWxlcy1zZWN0aW9uLWVkaXQtb3B0aW9uLWNoZWNrYm94LWhvb2snKS5maW5kKCcuZHNsY2EtaWNvbicpLnJlbW92ZUNsYXNzKCdkc2xjLWljb24tY2hlY2snKS5hZGRDbGFzcygnZHNsYy1pY29uLWNoZWNrLWVtcHR5Jyk7XG5cdFx0XHR9XG5cblx0XHR9IGVsc2UgaWYgKCBqUXVlcnkodGhpcykuZGF0YSgnaWQnKSA9PSAnYm9yZGVyLWxlZnQnICkge1xuXG5cdFx0XHRpZiAoIGpRdWVyeSgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1iZWluZy1lZGl0ZWQgLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1zZXR0aW5ncyBpbnB1dFtkYXRhLWlkPVwiYm9yZGVyXCJdJywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkudmFsKCkuaW5kZXhPZignbGVmdCcpID49IDAgKSB7XG5cdFx0XHRcdGpRdWVyeSh0aGlzKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XG5cdFx0XHRcdGpRdWVyeSh0aGlzKS5zaWJsaW5ncygnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LW9wdGlvbi1jaGVja2JveC1ob29rJykuZmluZCgnLmRzbGNhLWljb24nKS5yZW1vdmVDbGFzcygnZHNsYy1pY29uLWNoZWNrLWVtcHR5JykuYWRkQ2xhc3MoJ2RzbGMtaWNvbi1jaGVjaycpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0alF1ZXJ5KHRoaXMpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XG5cdFx0XHRcdGpRdWVyeSh0aGlzKS5zaWJsaW5ncygnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LW9wdGlvbi1jaGVja2JveC1ob29rJykuZmluZCgnLmRzbGNhLWljb24nKS5yZW1vdmVDbGFzcygnZHNsYy1pY29uLWNoZWNrJykuYWRkQ2xhc3MoJ2RzbGMtaWNvbi1jaGVjay1lbXB0eScpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoIGpRdWVyeSh0aGlzKS5oYXNDbGFzcygnZHNsY2EtbW9kdWxlcy1zZWN0aW9uLWVkaXQtZmllbGQtY2hlY2tib3gnKSApIHtcblxuXHRcdFx0aWYgKCBqUXVlcnkoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tYmVpbmctZWRpdGVkIC5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tc2V0dGluZ3MgaW5wdXRbZGF0YS1pZD1cIicgKyBqUXVlcnkodGhpcykuZGF0YSgnaWQnKSArICdcIl0nLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS52YWwoKS5pbmRleE9mKCBqUXVlcnkodGhpcykuZGF0YSgndmFsJykgKSA+PSAwICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLnNpYmxpbmdzKCcuZHNsY2EtbW9kdWxlcy1zZWN0aW9uLWVkaXQtb3B0aW9uLWNoZWNrYm94LWhvb2snKS5maW5kKCcuZHNsY2EtaWNvbicpLnJlbW92ZUNsYXNzKCdkc2xjLWljb24tY2hlY2stZW1wdHknKS5hZGRDbGFzcygnZHNsYy1pY29uLWNoZWNrJyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5zaWJsaW5ncygnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LW9wdGlvbi1jaGVja2JveC1ob29rJykuZmluZCgnLmRzbGNhLWljb24nKS5yZW1vdmVDbGFzcygnZHNsYy1pY29uLWNoZWNrJykuYWRkQ2xhc3MoJ2RzbGMtaWNvbi1jaGVjay1lbXB0eScpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdGpRdWVyeSh0aGlzKS52YWwoIGpRdWVyeSgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1iZWluZy1lZGl0ZWQgLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1zZXR0aW5ncyBpbnB1dFtkYXRhLWlkPVwiJyArIGpRdWVyeSh0aGlzKS5kYXRhKCdpZCcpICsgJ1wiXScsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQgKS52YWwoKS50cmltKCkucmVwbGFjZSgnJSglJywgJ1snKS5yZXBsYWNlKCclKSUnLCAnXScpICk7XG5cblx0XHRcdGlmICggalF1ZXJ5KCB0aGlzICkuaGFzQ2xhc3MoICdkc2xjYS1tb2R1bGVzLXNlY3Rpb24tZWRpdC1maWVsZC1jb2xvcnBpY2tlcicgKSApIHtcblxuXHRcdFx0XHR2YXIgX3RoaXMgPSBqUXVlcnkoIHRoaXMgKTtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuY2xvc2VzdCggJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tZWRpdC1vcHRpb24nIClcblx0XHRcdFx0XHRcdC5maW5kKCAnLnNwLXByZXZpZXctaW5uZXInIClcblx0XHRcdFx0XHRcdC5yZW1vdmVDbGFzcygnc3AtY2xlYXItZGlzcGxheScpXG5cdFx0XHRcdFx0XHQuY3NzKHsgJ2JhY2tncm91bmQtY29sb3InIDogX3RoaXMudmFsKCkgfSk7XG5cblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuY3NzKHsgJ2JhY2tncm91bmQtY29sb3InIDogX3RoaXMudmFsKCkgfSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcblxuXHRqUXVlcnkoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tZWRpdC1maWVsZC11cGxvYWQnKS5lYWNoKGZ1bmN0aW9uKCl7XG5cblx0XHR2YXIgZHNsY1BhcmVudCA9IGpRdWVyeSh0aGlzKS5jbG9zZXN0KCcuZHNsY2EtbW9kdWxlcy1zZWN0aW9uLWVkaXQtb3B0aW9uJyk7XG5cblx0XHRpZiAoIGpRdWVyeSh0aGlzKS52YWwoKSAmJiBqUXVlcnkodGhpcykudmFsKCkgIT09ICdkaXNhYmxlZCcgKSB7XG5cblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LWZpZWxkLWltYWdlLWFkZC1ob29rJywgZHNsY1BhcmVudCApLmhpZGUoKTtcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LWZpZWxkLWltYWdlLXJlbW92ZS1ob29rJywgZHNsY1BhcmVudCApLnNob3coKTtcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tZWRpdC1maWVsZC1pbWFnZS1yZW1vdmUtaG9vaycsIGRzbGNQYXJlbnQgKS5oaWRlKCk7XG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tZWRpdC1maWVsZC1pbWFnZS1hZGQtaG9vaycsIGRzbGNQYXJlbnQgKS5zaG93KCk7XG5cdFx0fVxuXHR9KTtcblxuXHQvLyBJbml0aWF0ZSBudW1lcmljIG9wdGlvbiBzbGlkZXJzXG5cdC8vIGRzbGNfcm93X2VkaXRfc2xpZGVyX2luaXQoKTtcblxuXHQvLyBTaG93IG9wdGlvbnMgbWFuYWdlbWVudFxuXHRkc2xjX3Nob3dfc2VjdGlvbignLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0Jyk7XG5cblx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuRmxhZ3MucGFuZWxPcGVuZWQgPSB0cnVlO1xuXG5cdC8vIEhpZGUgdGhlIHB1Ymxpc2ggYnV0dG9uXG5cdGRzbGNfaGlkZV9wdWJsaXNoX2J1dHRvbigpO1xufVxuXG4vKipcbiAqIFJvdyAtIEVkaXQgLSBDYW5jZWwgQ2hhbmdlc1xuICovXG5mdW5jdGlvbiBkc2xjX3Jvd19lZGl0X2NhbmNlbCggY2FsbGJhY2sgKSB7XG5cblx0aWYgKCB3aW5kb3cuZHNsY0RlYnVnICkgY29uc29sZS5sb2coICdkc2xjX3Jvd19jYW5jZWxfY2hhbmdlcycgKTtcblxuXHRjYWxsYmFjayA9IHR5cGVvZiBjYWxsYmFjayAhPT0gJ3VuZGVmaW5lZCcgPyBjYWxsYmFjayA6IGZhbHNlO1xuXG5cdC8vIFRpbWUgdG8gZ2VuZXJhdGUgY29kZSBvcHRpbWl6ZWQge0hBQ0t9XG5cdExpdmVDb21wb3Nlci5CdWlsZGVyLkZsYWdzLmdlbmVyYXRlX2NvZGVfYWZ0ZXJfcm93X2NoYW5nZWQgPSBmYWxzZTtcblxuXHQvLyBSZWNvdmVyIG9yaWdpbmFsIGRhdGEgZnJvbSBkYXRhLWRlZiBhdHRyaWJ1dGUgZm9yIGVhY2ggY29udHJvbFxuXHRqUXVlcnkoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tYmVpbmctZWRpdGVkIC5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tc2V0dGluZ3MgaW5wdXQnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5lYWNoKGZ1bmN0aW9uKCl7XG5cblx0XHRqUXVlcnkodGhpcykudmFsKCBqUXVlcnkodGhpcykuZGF0YSgnZGVmJykgKTtcblxuXHRcdC8vIEZpcmUgY2hhbmdlIGZvciBldmVyeSBST1cgY29udHJvbCwgc28gaXQgcmVkcmF3IGxpbmtlZCBDU1MgcHJvcGVydGllc1xuXHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LWZpZWxkW2RhdGEtaWQ9XCInICsgalF1ZXJ5KHRoaXMpLmRhdGEoJ2lkJykgKyAnXCJdJykudmFsKCBqUXVlcnkodGhpcykuZGF0YSgnZGVmJykgKS50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0fSk7XG5cblx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuRmxhZ3MuZ2VuZXJhdGVfY29kZV9hZnRlcl9yb3dfY2hhbmdlZCA9IHRydWU7XG5cdHdpbmRvdy5kc2xjX2dlbmVyYXRlX2NvZGUoKTtcblx0d2luZG93LmRzbGNfc2hvd19wdWJsaXNoX2J1dHRvbigpO1xuXG5cdGRzbGNfc2hvd19zZWN0aW9uKCcuZHNsY2EtbW9kdWxlcycpO1xuXG5cdC8vIEhpZGUgdGhlIHNhdmUvY2FuY2VsIGFjdGlvbnNcblx0alF1ZXJ5KCcuZHNsY2Etcm93LWVkaXQtYWN0aW9ucycpLmhpZGUoKTtcblxuXHQvLyBIaWRlIHRoZSBzdHlsaW5nL3Jlc3BvbnNpdmUgdGFic1xuXHRqUXVlcnkoJy5kc2xjYS1yb3ctb3B0aW9ucy1maWx0ZXItaG9vaycpLmhpZGUoKTtcblxuXHQvLyBTaG93IHRoZSBzZWN0aW9uIGhvb2tzXG5cdGpRdWVyeSgnLmRzbGNhLWhlYWRlciAuZHNsY2EtZ28tdG8tc2VjdGlvbi1ob29rJykuc2hvdygpO1xuXG5cdC8vIFNob3cgdGhlIHB1Ymxpc2ggYnV0dG9uXG5cdGRzbGNfc2hvd19wdWJsaXNoX2J1dHRvbjtcblxuXHQvLyBSZW1vdmUgYmVpbmcgZWRpdGVkIGNsYXNzXG5cdGpRdWVyeSgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1iZWluZy1lZGl0ZWQnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5yZW1vdmVDbGFzcygnZHNsY2EtbW9kdWxlcy1zZWN0aW9uLWJlaW5nLWVkaXRlZCBkc2xjYS1tb2R1bGVzLXNlY3Rpb24tY2hhbmdlLW1hZGUnKTtcblxuXHRpZiAoIGNhbGxiYWNrICkgeyBjYWxsYmFjaygpOyB9XG5cblx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuRmxhZ3MucGFuZWxPcGVuZWQgPSBmYWxzZTtcblx0alF1ZXJ5KFwiYm9keVwiLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5yZW1vdmVDbGFzcygnc2VjdGlvbi1lZGl0aW5nLWluLXByb2dyZXNzJyk7XG5cbn1cblxuLyoqXG4gKiBSb3cgLSBFZGl0IC0gQ29uZmlybSBDaGFuZ2VzXG4gKi9cbmZ1bmN0aW9uIGRzbGNfcm93X2VkaXRfY29uZmlybSggY2FsbGJhY2sgKSB7XG5cblx0aWYgKCB3aW5kb3cuZHNsY0RlYnVnICkgY29uc29sZS5sb2coICdkc2xjX2NvbmZpcm1fcm93X2NoYW5nZXMnICk7XG5cblx0Y2FsbGJhY2sgPSB0eXBlb2YgY2FsbGJhY2sgIT09ICd1bmRlZmluZWQnID8gY2FsbGJhY2sgOiBmYWxzZTtcblxuXHRqUXVlcnkoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tYmVpbmctZWRpdGVkIC5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tc2V0dGluZ3MgaW5wdXQnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5lYWNoKGZ1bmN0aW9uKCl7XG5cblx0XHRqUXVlcnkodGhpcykuZGF0YSggJ2RlZicsIGpRdWVyeSh0aGlzKS52YWwoKSApO1xuXHR9KTtcblxuXHRkc2xjX3Nob3dfc2VjdGlvbignLmRzbGNhLW1vZHVsZXMnKTtcblxuXHQvLyBIaWRlIHRoZSBzYXZlL2NhbmNlbCBhY3Rpb25zXG5cdGpRdWVyeSgnLmRzbGNhLXJvdy1lZGl0LWFjdGlvbnMnKS5oaWRlKCk7XG5cblx0Ly8gSGlkZSB0aGUgc3R5bGluZy9yZXNwb25zaXZlIHRhYnNcblx0alF1ZXJ5KCcuZHNsY2Etcm93LW9wdGlvbnMtZmlsdGVyLWhvb2snKS5oaWRlKCk7XG5cblx0Ly8gU2hvdyB0aGUgc2VjdGlvbiBob29rc1xuXHRqUXVlcnkoJy5kc2xjYS1oZWFkZXIgLmRzbGNhLWdvLXRvLXNlY3Rpb24taG9vaycpLnNob3coKTtcblxuXHQvLyBSZW1vdmUgYmVpbmcgZWRpdGVkIGNsYXNzXG5cdGpRdWVyeSgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1iZWluZy1lZGl0ZWQnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5yZW1vdmVDbGFzcygnZHNsY2EtbW9kdWxlcy1zZWN0aW9uLWJlaW5nLWVkaXRlZCBkc2xjYS1tb2R1bGVzLXNlY3Rpb24tY2hhbmdlLW1hZGUnKTtcblxuXHR3aW5kb3cuZHNsY19nZW5lcmF0ZV9jb2RlKCk7XG5cblx0Ly8gU2hvdyB0aGUgcHVibGlzaCBidXR0b25cblx0d2luZG93LmRzbGNfc2hvd19wdWJsaXNoX2J1dHRvbigpO1xuXG5cdGlmICggY2FsbGJhY2sgKSB7IGNhbGxiYWNrKCk7IH1cblxuXHRMaXZlQ29tcG9zZXIuQnVpbGRlci5GbGFncy5wYW5lbE9wZW5lZCA9IGZhbHNlO1xuXHRqUXVlcnkoXCJib2R5XCIsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLnJlbW92ZUNsYXNzKCdzZWN0aW9uLWVkaXRpbmctaW4tcHJvZ3Jlc3MnKTtcbn1cblxuLyoqXG4gKiBSb3cgLSBDb3B5XG4gKi9cbmZ1bmN0aW9uIGRzbGNfcm93X2NvcHkoIHJvdyApIHtcblxuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2RzbGNfcm93X2NvcHknICk7XG5cblx0Ly8gVmFycyB0aGF0IHdpbGwgYmUgdXNlZFxuXHR2YXIgZHNsY19tb2R1bGVfaWQsXG5cdGRzbGNNb2R1bGVzU2VjdGlvbkNsb25lZCxcblx0ZHNsY01vZHVsZTtcblxuXHQvLyBDbG9uZSB0aGUgcm93XG5cdGRzbGNNb2R1bGVzU2VjdGlvbkNsb25lZCA9IHJvdy5jbG9uZSgpLmFwcGVuZFRvKCBqUXVlcnkoJyNkc2xjLW1haW4nLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50ICkgKTtcblxuXHQvLyBNYXJrIG5ldyBST1cgYXMgTk9OIGluaXRpYWxpemVkXG5cdGRzbGNNb2R1bGVzU2VjdGlvbkNsb25lZFswXS5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtanNpbml0Jyk7XG5cblx0Ly8gR28gdGhyb3VnaCBlYWNoIGFyZWEgb2YgdGhlIG5ldyByb3cgYW5kIGFwcGx5IGNvcnJlY3QgZGF0YS1zaXplXG5cdC8vIE1hcmsgZWFjaCBtb2R1bGUgYXJlYSBpbnNpZGUgYXMgTk9OIGluaXRpYWxpemVkICgyKVxuXHRkc2xjTW9kdWxlc1NlY3Rpb25DbG9uZWQuZmluZCgnLmRzbGMtbW9kdWxlcy1hcmVhJykuZWFjaChmdW5jdGlvbigpe1xuXHRcdHZhciBkc2xjSW5kZXggPSBqUXVlcnkodGhpcykuaW5kZXgoKTtcblx0XHRqUXVlcnkodGhpcykuZGF0YSgnc2l6ZScsIHJvdy5maW5kKCcuZHNsYy1tb2R1bGVzLWFyZWE6ZXEoICcgKyBkc2xjSW5kZXggKyAnICknKS5kYXRhKCdzaXplJykgKTtcblxuXHRcdHRoaXMucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWpzaW5pdCcpOyAvLyAoMilcblx0fSk7XG5cblx0bmV3IFNlY3Rpb24oZHNsY01vZHVsZXNTZWN0aW9uQ2xvbmVkKTtcblxuXHQvKipcblx0ICogUmUtcmVuZGVyIG1vZHVsZXMgaW5zaWRlIG9mIHRoZSBuZXcgUk9XXG5cdCAqL1xuXG5cdC8vIFJlbW92ZSBhbmltYXRpb25zIGFuZCB0ZW1wb3JhcnkgaGlkZSBtb2R1bGVzIGluc2lkZVxuXHRkc2xjTW9kdWxlc1NlY3Rpb25DbG9uZWQuZmluZCgnLmRzbGMtbW9kdWxlLWZyb250JykuY3NzKHtcblx0XHQnLXdlYmtpdC1hbmltYXRpb24tbmFtZScgOiAnbm9uZScsXG5cdFx0Jy1tb3otYW5pbWF0aW9uLW5hbWUnIDogJ25vbmUnLFxuXHRcdCdhbmltYXRpb24tbmFtZScgOiAnbm9uZScsXG5cdFx0J2FuaW1hdGlvbi1kdXJhdGlvbicgOiAnMCcsXG5cdFx0Jy13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uJyA6ICcwJyxcblx0XHRvcGFjaXR5IDogMFxuXG5cdC8vIEdvIHRocm91Z2ggZWFjaCBtb2R1bGUgaW5zaWRlIHRoZSBuZXcgUk9XXG5cdH0pLmVhY2goZnVuY3Rpb24oKXtcblxuXHRcdC8vIEN1cnJlbnQgbW9kdWxlXG5cdFx0dmFyIGRzbGNfbW9kdWxlID0galF1ZXJ5KHRoaXMpO1xuXG5cdFx0Ly9HZW5lcmF0ZSBuZXcgSUQgZm9yIHRoZSBuZXcgbW9kdWxlIGFuZCBjaGFuZ2UgaXQgaW4gSFRNTC9DU1Mgb2YgdGhlIG1vZHVsZS5cblx0XHRkc2xjX21vZHVsZV9uZXdfaWQoIGRzbGNfbW9kdWxlWzBdICk7XG5cblx0XHQvLyBDaGVjayBpbml0IGZvciByb3dzIGFuZCBtb2R1bGUgYXJlYXNcblx0XHRzZWN0aW9uc0luaXRKUygpO1xuXHRcdG1vZHVsZWFyZWFzSW5pdEpTKCk7XG5cblx0XHQvLyBUT0RPOiB0aGUgbmV4dCBmdW5jdGlvbiBjb250YWlucyBBSkFYIGNhbGwuIEl0IG5lZWRzIG9wdGltaXphdGlvbi5cblx0XHR3aW5kb3cuZHNsY19nZW5lcmF0ZV9jb2RlKCk7XG5cblx0XHQvKipcblx0XHQgKiBSZS1pbml0IGRyYWcgYW5kIGRyb3AgZnJvbSBtb2R1bGVzIGxpc3QgaW50byBtb2R1bGVzIGFyZWFzLlxuXHRcdCAqIE5lZWQgdGhpcyBmdW5jdGlvbiwgc28gd2UgY2FuIGRyb3AgbmV3IG1vZHVsZXMgb24gdGhlIGNsb25lZCBhcmVhcy5cblx0XHQgKi9cblx0XHRkcmFnQW5kRHJvcEluaXQoKTtcblxuXHRcdC8vIFJlbW92ZSBcImRzbGNhLW1vZHVsZS1iZWluZy1lZGl0ZWRcIiBjbGFzcyBmb3JtIGFueSBlbGVtZW50XG5cdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWJlaW5nLWVkaXRlZCcsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLnJlbW92ZUNsYXNzKCdkc2xjYS1tb2R1bGUtYmVpbmctZWRpdGVkJyk7XG5cblx0XHQvLyBTaG93IGJhY2sgbmV3IGNyZWF0ZWQgbW9kdWxlXG5cdFx0ZHNsY19tb2R1bGUuYW5pbWF0ZSh7XG5cdFx0XHRvcGFjaXR5IDogMVxuXHRcdH0sIDMwMCk7XG5cblx0XHR3aW5kb3cuZHNsY19zaG93X3B1Ymxpc2hfYnV0dG9uKCk7XG5cdH0pO1xuXG5cdC8vIEdlbmVyYXRlIG5ldyBJRCBmb3IgdGhlIG5ldyBzZWN0aW9uLlxuXHRkc2xjX3NlY3Rpb25fbmV3X2lkKCBkc2xjTW9kdWxlc1NlY3Rpb25DbG9uZWRbMF0gKTtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSBuZXcgSUQgZm9yIHRoZSBzZWN0aW9uIHByb3ZpZGVkXG4gKlxuICpcbiAqIEBwYXJhbSBET00gc2VjdGlvbiB0aGF0IG5lZWRzIElEIHVwZGF0ZWQgKG5ldyBJRCkuXG4gKiBAcmV0dXJuIHZvaWRcbiAqL1xuZnVuY3Rpb24gZHNsY19zZWN0aW9uX25ld19pZCggc2VjdGlvbiApIHtcblxuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2RzbGNfc2VjdGlvbl9uZXdfaWQnICk7XG5cblx0dmFyIGRzbGNfc2VjdGlvbl9pZCA9IExpdmVDb21wb3Nlci5VdGlscy5nZXRfdW5pcXVlX2lkKCk7IC8vIEdlbmVyYXRlIG5ldyBzZWN0aW9uIElELlxuXG5cdC8vIFVwZGF0ZSBzZWN0aW9uIElEIGluIGRhdGEgYXR0cmlidXRlXG5cdHNlY3Rpb24uc2V0QXR0cmlidXRlKCAnZGF0YS1zZWN0aW9uLWlkJywgZHNsY19zZWN0aW9uX2lkICk7XG5cblx0Ly8gVXBkYXRlIHNlY3Rpb24gSUQgaW4gcmF3IGJhc2U2NCBjb2RlIChkc2xjX2NvZGUpIG9mIHRoZSBzZWN0aW9uXG5cdExpdmVDb21wb3Nlci5VdGlscy51cGRhdGVfc2VjdGlvbl9wcm9wZXJ0eV9yYXcoIHNlY3Rpb24sICdzZWN0aW9uX2luc3RhbmNlX2lkJywgZHNsY19zZWN0aW9uX2lkICk7XG59XG5cblxuLyoqXG4gKiBSb3cgLSBJbXBvcnRcbiAqL1xuZnVuY3Rpb24gZHNsY19yb3dfaW1wb3J0KCByb3dDb2RlICkge1xuXG5cdGlmICggd2luZG93LmRzbGNEZWJ1ZyApIGNvbnNvbGUubG9nKCAnZHNsY19yb3dfaW1wb3J0JyApO1xuXG5cdC8vIEFKQVggQ2FsbFxuXHRqUXVlcnkucG9zdChcblxuXHRcdERTTENBamF4LmFqYXh1cmwsXG5cdFx0e1xuXHRcdFx0YWN0aW9uIDogJ2RzbGMtYWpheC1pbXBvcnQtbW9kdWxlcy1zZWN0aW9uJyxcblx0XHRcdGRzbGMgOiAnYWN0aXZlJyxcblx0XHRcdGRzbGNfbW9kdWxlc19zZWN0aW9uX2NvZGUgOiByb3dDb2RlXG5cdFx0fSxcblx0XHRmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cblx0XHRcdC8vIENsb3NlIHRoZSBpbXBvcnQgcG9wdXAvbW9kYWxcblx0XHRcdGRzbGNfanNfY29uZmlybV9jbG9zZSgpO1xuXG5cdFx0XHQvLyBBZGQgdGhlIG5ldyBzZWN0aW9uXG5cdFx0XHRqUXVlcnkoJyNkc2xjLW1haW4nLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5hcHBlbmQoIHJlc3BvbnNlLm91dHB1dCApO1xuXG5cdFx0XHQvLyBDYWxsIG90aGVyIGZ1bmN0aW9uc1xuXHRcdFx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFXaW5kb3cuZHNsY19iZ192aWRlbygpO1xuXHRcdFx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFXaW5kb3cuZHNsY19jYXJvdXNlbCgpO1xuXHRcdFx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFXaW5kb3cuZHNsY19tYXNvbnJ5KCk7XG5cblx0XHRcdC8vIENoZWNrIGluaXQgZm9yIHJvd3MgYW5kIG1vZHVsZSBhcmVhc1xuXHRcdFx0c2VjdGlvbnNJbml0SlMoKTtcblx0XHRcdG1vZHVsZWFyZWFzSW5pdEpTKCk7XG5cblx0XHRcdGRyYWdBbmREcm9wSW5pdCgpO1xuXHRcdFx0d2luZG93LmRzbGNfZ2VuZXJhdGVfY29kZSgpO1xuXG5cdFx0XHR3aW5kb3cuZHNsY19zaG93X3B1Ymxpc2hfYnV0dG9uKCk7XG5cdFx0fVxuXHQpO1xufVxuXG4vKipcbiAqIERlcHJlY2F0ZWQgRnVuY3Rpb25zIGFuZCBGYWxsYmFja3NcbiAqL1xuXG5mdW5jdGlvbiBkc2xjX2FkZF9tb2R1bGVzX3NlY3Rpb24oKSB7IGFkZFNlY3Rpb24oKTsgfVxuZnVuY3Rpb24gZHNsY19kZWxldGVfbW9kdWxlc19zZWN0aW9uKCByb3cgICkgeyBkc2xjX3Jvd19kZWxldGUoIHJvdyApOyB9XG5mdW5jdGlvbiBkc2xjX2VkaXRfbW9kdWxlc19zZWN0aW9uKCByb3cgKSB7IGRzbGNfcm93X2VkaXQoIHJvdyApOyB9XG5mdW5jdGlvbiBkc2xjX2NvcHlfbW9kdWxlc19zZWN0aW9uKCByb3cgKSB7IGRzbGNfcm93X2NvcHkoIHJvdyApOyB9XG5mdW5jdGlvbiBkc2xjX2ltcG9ydF9tb2R1bGVzX3NlY3Rpb24oIHJvd0NvZGUgKSB7IGRzbGNfcm93X2ltcG9ydCggcm93Q29kZSApOyB9XG5cbi8qKlxuICogQ2hlY2sgUk9XcyBpbml0aWFsaXphdGlvblxuICpcbiAqIEByZXR1cm4gdm9pZFxuICovXG5leHBvcnQgY29uc3Qgc2VjdGlvbnNJbml0SlMgPSAoKSA9PiB7XG5cblx0Ly8gU2VsZWN0IGFsbCB0aGUgUk9XcyBmb3JtIHRoZSBtYWluIHNlY3Rpb24gb2YgdGhlIHBhZ2Vcblx0alF1ZXJ5KCAnI2RzbGMtbWFpbiAuZHNsYy1tb2R1bGVzLXNlY3Rpb24nLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50ICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHQvLyBDaGVjayBpZiBhbGwgdGhlIHJvd3MgaGF2ZSBkYXRhIGF0dHJpYnV0ZSAnanNpbml0JyBzZXQgdG8gJ2luaXRpYWxpemVkJz9cblx0XHRpZiAoIGpRdWVyeSggdGhpcyApLmRhdGEoJ2pzaW5pdCcpICE9PSAnaW5pdGlhbGl6ZWQnICkge1xuXG5cdFx0XHQvLyBJbml0aWFsaXplIGFsbCB0aGUgcm93cyB3aXRob3V0ICdqc2luaXQnIGF0dHJpYnV0ZSFcblx0XHRcdG5ldyBTZWN0aW9uKCB0aGlzICk7XG5cdFx0fVxuXHR9ICk7XG5cbn1cblxuZXhwb3J0IGNvbnN0IHNlY3Rpb25zSW5pdCA9ICgpID0+IHtcblx0c2VjdGlvbnNJbml0SlMoKTtcblxuXHQvKipcblx0ICogSG9vayAtIENvbmZpcm0gUm93IENoYW5nZXNcblx0ICovXG5cdCQoZG9jdW1lbnQpLm9uKCAnY2xpY2snLCAnLmRzbGNhLXJvdy1lZGl0LXNhdmUnLCBmdW5jdGlvbigpe1xuXG5cdFx0ZHNsY19yb3dfZWRpdF9jb25maXJtKCk7XG5cblx0XHQkKFwiLmRzbGNhLWN1cnJlbnRseS1lZGl0aW5nXCIpLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG5cdFx0JCgnLmRzbGNhLXJvdy1vcHRpb25zLWZpbHRlci1ob29rLmRzbGNhLWFjdGl2ZScpLnJlbW92ZUNsYXNzKCdkc2xjYS1hY3RpdmUnKTtcblx0XHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYVdpbmRvdy5kc2xjX3Jlc3BvbnNpdmVfY2xhc3NlcyggdHJ1ZSApO1xuXHR9KTtcblxuXHQvKipcblx0ICogSG9vayAtIENhbmNlbCBSb3cgQ2hhbmdlc1xuXHQgKi9cblx0JChkb2N1bWVudCkub24oICdjbGljaycsICcuZHNsY2Etcm93LWVkaXQtY2FuY2VsJywgZnVuY3Rpb24oKXtcblxuXHRcdGRzbGNfcm93X2VkaXRfY2FuY2VsKCk7XG5cblx0XHQkKFwiLmRzbGNhLWN1cnJlbnRseS1lZGl0aW5nXCIpLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG5cdFx0JCgnLmRzbGNhLXJvdy1vcHRpb25zLWZpbHRlci1ob29rLmRzbGNhLWFjdGl2ZScpLnJlbW92ZUNsYXNzKCdkc2xjYS1hY3RpdmUnKTtcblx0XHRMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYVdpbmRvdy5kc2xjX3Jlc3BvbnNpdmVfY2xhc3NlcyggdHJ1ZSApO1xuXHR9KTtcbn0iLCIvKipcbiAqIFNlY3Rpb25zIGNvbnRhaW5lciBjbGFzc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGNvbnN0IENTZWN0aW9uc0NvbnRhaW5lciA9IChlbGVtKSA9PiB7XG5cblxuXHRjb25zdCBzb3J0YWJsZSA9IHdpbmRvdy5qUXVlcnkoZWxlbSkuc29ydGFibGUoe1xuXHRcdGl0ZW1zOiBcIi5kc2xjLW1vZHVsZXMtc2VjdGlvbi1kbmRcIixcblx0XHRoYW5kbGU6ICcuZHNsY2EtbW92ZS1tb2R1bGVzLXNlY3Rpb24taG9vazpub3QoXCIuZHNsY2EtYWN0aW9uLWRpc2FibGVkXCIpJyxcblx0XHRwbGFjZWhvbGRlcjogJ2RzbGNhLW1vZHVsZXMtc2VjdGlvbi1wbGFjZWhvbGRlcicsXG5cdFx0dG9sZXJhbmNlIDogJ2ludGVyc2VjdCcsXG5cdFx0Y3Vyc29yQXQ6IHsgYm90dG9tOiAxMCB9LFxuXHRcdGF4aXM6ICd5Jyxcblx0XHRzY3JvbGw6IHRydWUsXG5cdFx0c2Nyb2xsU2Vuc2l0aXZpdHk6IDE0MCxcblx0XHRzY3JvbGxTcGVlZCA6IDUsXG5cdFx0c29ydDogZnVuY3Rpb24oKSB7XG5cblx0XHRcdGpRdWVyeSggdGhpcyApLnJlbW92ZUNsYXNzKCBcInVpLXN0YXRlLWRlZmF1bHRcIiApO1xuXHRcdH0sXG5cdFx0dXBkYXRlOiBmdW5jdGlvbiAoZSwgdWkpIHtcblxuXHRcdFx0d2luZG93LmRzbGNfc2hvd19wdWJsaXNoX2J1dHRvbigpO1xuXHRcdH0sXG5cdFx0c3RhcnQ6IGZ1bmN0aW9uKGUsIHVpKXtcblxuXHRcdFx0alF1ZXJ5KCdib2R5JykucmVtb3ZlQ2xhc3MoJ2RzbGNhLWRyYWctbm90LWluLXByb2dyZXNzJykuYWRkQ2xhc3MoJ2RzbGNhLWRyYWctaW4tcHJvZ3Jlc3MnKTtcblx0XHRcdGpRdWVyeSgnYm9keScsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLnJlbW92ZUNsYXNzKCdkc2xjYS1kcmFnLW5vdC1pbi1wcm9ncmVzcycpLmFkZENsYXNzKCdkc2xjYS1kcmFnLWluLXByb2dyZXNzJyk7XG5cdFx0XHR1aS5wbGFjZWhvbGRlci5odG1sKCc8c3BhbiBjbGFzcz1cImRzbGNhLXBsYWNlaG9sZGVyLWhlbHAtdGV4dFwiPjxzcGFuIGNsYXNzPVwiZHNsY2EtcGxhY2Vob2xkZXItaGVscC10ZXh0LWlubmVyXCI+JyArIERTTENTdHJpbmcuc3RyX3Jvd19oZWxwZXJfdGV4dCArICc8L3NwYW4+PC9zcGFuPicpO1xuXHRcdFx0alF1ZXJ5KCAnLmRzbGMtY29udGVudCcgKS5zb3J0YWJsZSggXCJyZWZyZXNoUG9zaXRpb25zXCIgKTtcblx0XHR9LFxuXHRcdHN0b3A6IGZ1bmN0aW9uKGUsIHVpKXtcblxuXHRcdFx0d2luZG93LmRzbGNfZ2VuZXJhdGVfY29kZSgpO1xuXG5cdFx0XHRMaXZlQ29tcG9zZXIuQnVpbGRlci5VSS5zdG9wU2Nyb2xsZXIoKTtcblx0XHRcdGpRdWVyeSgnYm9keScsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLnJlbW92ZUNsYXNzKCdkc2xjYS1kcmFnLWluLXByb2dyZXNzJykuYWRkQ2xhc3MoJ2RzbGNhLWRyYWctbm90LWluLXByb2dyZXNzJyk7XG5cdFx0XHRqUXVlcnkoJ2JvZHknKS5yZW1vdmVDbGFzcygnZHNsY2EtZHJhZy1pbi1wcm9ncmVzcycpLmFkZENsYXNzKCdkc2xjYS1kcmFnLW5vdC1pbi1wcm9ncmVzcycpO1xuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtYW5pbS1vcGFjaXR5LWRyb3AnKS5yZW1vdmVDbGFzcygnZHNsY2EtYW5pbS1vcGFjaXR5LWRyb3AnKTtcblx0XHR9XG5cdH0pO1xuXG5cblx0LyoqIFNvcnQgb3B0aW9uIHNldHRlciAqL1xuXHRqUXVlcnkoZG9jdW1lbnQpLm9uKCdMQy5zb3J0YWJsZU9mZicsIGZ1bmN0aW9uKCl7XG5cdFx0aWYgKCB1bmRlZmluZWQgIT09IHNlbGYuc29ydGFibGUuc29ydGFibGUoIFwiaW5zdGFuY2VcIiApICkge1xuXHRcdFx0c2VsZi5zb3J0YWJsZS5zb3J0YWJsZSgnb3B0aW9uJywnZGlzYWJsZWQnLCB0cnVlKTtcblx0XHR9XG5cdH0pO1xuXG5cdGpRdWVyeShkb2N1bWVudCkub24oJ0xDLnNvcnRhYmxlT24nLCBmdW5jdGlvbigpe1xuXHRcdGlmICggdW5kZWZpbmVkICE9PSBzZWxmLnNvcnRhYmxlLnNvcnRhYmxlKCBcImluc3RhbmNlXCIgKSApIHtcblx0XHRcdHNlbGYuc29ydGFibGUuc29ydGFibGUoJ29wdGlvbicsJ2Rpc2FibGVkJywgZmFsc2UpO1xuXHRcdH1cblx0fSk7XG5cbn0iLCIvKipcbiAqIEJ1aWxkZXIgc2V0dGluZ3MgcGFuZWwgZnVuY3Rpb25zIHByb3ZpZGluZyB3b3JrIHdpdGggbW9kdWxlc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGRzbGNSZWd1bGFyRm9udHNBcnJheSA9IHdpbmRvdy5EU0xDRm9udHMucmVndWxhcjtcbnZhciBkc2xjR29vZ2xlRm9udHNBcnJheSA9IHdpbmRvdy5EU0xDRm9udHMuZ29vZ2xlO1xudmFyIGRzbGNBbGxGb250c0FycmF5ID0gZHNsY1JlZ3VsYXJGb250c0FycmF5LmNvbmNhdCggZHNsY0dvb2dsZUZvbnRzQXJyYXkgKTtcblxuLy8gU2V0IGN1cnJlbnQvZGVmYXVsdCBpY29ucyBzZXRcbnZhciBkc2xjSWNvbnNDdXJyZW50U2V0ID0gd2luZG93LkRTTENJY29ucy5mb250YXdlc29tZTtcblxuLyoqXG4gKiBNb2R1bGVzIC0gRG9jdW1lbnQgUmVhZHlcbiAqL1xuXG5qUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCQpe1xuXG5cdGRzbGNfbW9kdWxlX29wdGlvbnNfdG9vbHRpcCgpO1xuXHRkc2xjX21vZHVsZV9vcHRpb25zX2ZvbnQoKTtcblx0ZHNsY19tb2R1bGVfb3B0aW9uc19pY29uKCk7XG5cdGRzbGNfbW9kdWxlX29wdGlvbnNfaWNvbl9yZXR1cm5pZCgpXG5cdGRzbGNfbW9kdWxlX29wdGlvbnNfdGV4dF9hbGlnbigpO1xuXHRkc2xjX21vZHVsZV9vcHRpb25zX2NoZWNrYm94KCk7XG5cdGRzbGNfbW9kdWxlX29wdGlvbnNfYm94X3NoYWRvdygpO1xuXHRkc2xjX21vZHVsZV9vcHRpb25zX3RleHRfc2hhZG93KCk7XG5cblxuXHQvKiBJbml0aWF0ZSBhbGwgdGhlIGNvbG9yIHBpY2tlciBjb250cm9scyBvbiB0aGUgbW9kdWxlL3NlY3Rpb24gb3B0aW9ucyBwYW5lbC4gKi9cblx0dmFyIGRzbGNhX29wdGlvbnNfd2l0aF9jb2xvcnBpY2tlciA9ICcnO1xuXHRkc2xjYV9vcHRpb25zX3dpdGhfY29sb3JwaWNrZXIgKz0gJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC1jb2xvcnBpY2tlcic7XG5cdGRzbGNhX29wdGlvbnNfd2l0aF9jb2xvcnBpY2tlciArPSAnLCAuZHNsY2EtbW9kdWxlcy1zZWN0aW9uLWVkaXQtZmllbGQtY29sb3JwaWNrZXInO1xuXHRkc2xjYV9vcHRpb25zX3dpdGhfY29sb3JwaWNrZXIgKz0gJywgLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi1ib3gtc2hhZG93LWNvbG9yJztcblx0ZHNsY2Ffb3B0aW9uc193aXRoX2NvbG9ycGlja2VyICs9ICcsIC5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24tdGV4dC1zaGFkb3ctY29sb3InO1xuXG5cdC8vIEluaXQgY29sb3IgcGlja2VyIG9uIGNsaWNrIG9ubHkgdG8gbm90IHBvbHV0ZSBET00gd2l0aCB1bndhbnRlZCBlbGVtZW50cy5cblx0Ly8gSXQgd2lsbCBmaXJlIG9ubHkgb25jZSAoZmlyc3QgdGltZSkgYXMgY29sb3IgcGlja2VyIHRoZW4gcHV0IGl0J3Mgb3duIGxpc3RlbmVycy5cblx0alF1ZXJ5KGRvY3VtZW50KS5vbignY2xpY2snLCBkc2xjYV9vcHRpb25zX3dpdGhfY29sb3JwaWNrZXIsIGZ1bmN0aW9uKCkge1xuXG5cdFx0Ly8gQ2FsbCB0aGUgY29sb3IgcGlja2VyIGluaXQgZnVuY3Rpb24uXG5cdFx0ZHNsY19tb2R1bGVfb3B0aW9uc19jb2xvciggdGhpcyApO1xuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoZSBjb2xvciBwaWNrZXIgcG9wdXAgYXBwZWFycyBpbiB0aGUgcmlnaHQgcGxhY2UuXG5cdFx0dmFyIHdyYXBwZXIgPSBqUXVlcnkoIHRoaXMgKS5jbG9zZXN0KCcuZHNsY2EtY29sb3Itb3B0aW9uJyk7XG5cdFx0dmFyIG9wdGlvbnNQYW5lbCA9IGpRdWVyeSggJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLWlubmVyJyk7XG5cdFx0dmFyIGNvbG9ycGlja2VyID0gd3JhcHBlci5maW5kKCcud3AtcGlja2VyLWhvbGRlcicpO1xuXHRcdHZhciBvZmZzZXQgPSB3cmFwcGVyLm9mZnNldCgpO1xuXHRcdHZhciBvZmZzZXRQb3B1cCA9IG9mZnNldC5sZWZ0ICsgMTU7XG5cdFx0dmFyIHdpbmRvV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcblx0XHR2YXIgcG9wdXBXaWR0aCA9IDI2MDtcblxuXG5cdFx0aWYgKCB3aW5kb1dpZHRoIDwgb2Zmc2V0UG9wdXAgKyBwb3B1cFdpZHRoICkge1xuXHRcdFx0b2Zmc2V0UG9wdXAgPSB3aW5kb1dpZHRoIC0gcG9wdXBXaWR0aDtcblx0XHR9XG5cblx0XHQvLyBTZXQgdGhlIHJpZ2h0IHBvc2l0aW9uIGZvciB0aGUgY29sb3IgcGlja2VyIHBvcHVwIG9uIGZpcnN0IGNsaWNrLlxuXHRcdGNvbG9ycGlja2VyLmNzcygnbGVmdCcsIG9mZnNldFBvcHVwICsgJ3B4JyApO1xuXG5cdFx0Ly8gVXBkYXRlIHBvc2l0aW9uIGxlZnQgZm9yIHRoZSBjb2xvciBwaWNrZXIgb24gb3B0aW9ucyBzY3JvbGwuXG5cdFx0alF1ZXJ5KG9wdGlvbnNQYW5lbCkub24oJ3Njcm9sbCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0XHRvZmZzZXQgPSB3cmFwcGVyLm9mZnNldCgpO1xuXHRcdFx0dmFyIG9mZnNldFBvcHVwID0gb2Zmc2V0LmxlZnQgKyAxNTtcblx0XHRcdHZhciB3aW5kb1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG5cdFx0XHR2YXIgcG9wdXBXaWR0aCA9IDI2MDtcblxuXHRcdFx0aWYgKCB3aW5kb1dpZHRoIDwgb2Zmc2V0UG9wdXAgKyBwb3B1cFdpZHRoICkge1xuXHRcdFx0XHRvZmZzZXRQb3B1cCA9IHdpbmRvV2lkdGggLSBwb3B1cFdpZHRoO1xuXHRcdFx0fVxuXG5cdFx0XHRjb2xvcnBpY2tlci5jc3MoJ2xlZnQnLCBvZmZzZXRQb3B1cCArICdweCcgKTtcblx0XHR9KTtcblx0fSk7XG5cblxuXHQvKiBJbml0aWF0ZSBhbGwgdGhlIHNsaWRlciBjb250cm9scyBvbiB0aGUgbW9kdWxlIG9wdGlvbnMgcGFuZWwuICovXG5cdGpRdWVyeSgnLmRzbGNhLWNvbnRhaW5lcicpLm9uKCdtb3VzZWVudGVyJywgJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24tc2xpZGVyJywgZnVuY3Rpb24oKSB7XG5cdFx0XG5cdFx0Ly8gRml4ZWQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9saXZlLWNvbXBvc2VyL2xpdmUtY29tcG9zZXItcGFnZS1idWlsZGVyL2lzc3Vlcy83NDBcblx0XHRpZiAoICEgalF1ZXJ5KHRoaXMpLmhhc0NsYXNzKCAnZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uLXNlbGVjdCcgKSApIHtcbiAgICAgICAgXHRkc2xjX21vZHVsZV9vcHRpb25zX251bWVyaWMoIHRoaXMgKTtcblx0XHR9XG5cdH0pO1xuXG5cdC8qIEluaXRpYXRlIGFsbCB0aGUgc2xpZGVyIGNvbnRyb2xzIG9uIHRoZSByb3cgb3B0aW9ucyBwYW5lbC4gKi9cblx0alF1ZXJ5KCcuZHNsY2EtY29udGFpbmVyJykub24oJ21vdXNlZW50ZXInLCAnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LW9wdGlvbi1zbGlkZXInLCBmdW5jdGlvbigpIHtcblxuXHRcdGRzbGNfbW9kdWxlX29wdGlvbnNfbnVtZXJpYyggdGhpcyApO1xuXHR9KTtcblxuXHQvKipcblx0ICogSG9vayAtIFN1Ym1pdFxuXHQgKi9cblx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtZm9ybScpLnN1Ym1pdCggZnVuY3Rpb24oZSl7XG5cblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0ZHNsY19tb2R1bGVfb3V0cHV0X2FsdGVyZWQoKTtcblx0fSk7XG5cblx0LyoqXG5cdCAqIEhvb2sgLSBUYWIgU3dpdGNoXG5cdCAqL1xuXHQkKGRvY3VtZW50KS5vbiggJ2NsaWNrJywgJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rJywgZnVuY3Rpb24oZSl7XG5cblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0ZHNsY19tb2R1bGVfb3B0aW9uc190YWJfZmlsdGVyKCAkKHRoaXMpICk7XG5cdH0pO1xuXG5cdC8qKlxuXHQgKiBIb29rIC0gT3B0aW9uIFNlY3Rpb24gU3dpdGNoXG5cdCAqL1xuXHQkKGRvY3VtZW50KS5vbiggJ2NsaWNrJywgJy5kc2xjYS1vcHRpb25zLWZpbHRlci1ob29rJywgZnVuY3Rpb24oZSl7XG5cblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHR2YXIgZHNsY1ByZXYgPSBqUXVlcnkoJy5kc2xjYS1vcHRpb25zLWZpbHRlci1ob29rLmRzbGNhLWFjdGl2ZScpLmRhdGEoJ3NlY3Rpb24nKTtcblx0XHR2YXIgY3VycmVudFNlY3Rpb24gPSBqUXVlcnkodGhpcykuZGF0YSgnc2VjdGlvbicpO1xuXG5cdFx0JCgnLmRzbGNhLW9wdGlvbnMtZmlsdGVyLWhvb2suZHNsY2EtYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2RzbGNhLWFjdGl2ZScpO1xuXHRcdCQodGhpcykuYWRkQ2xhc3MoJ2RzbGNhLWFjdGl2ZScpO1xuXG5cblx0XHRkc2xjX21vZHVsZV9vcHRpb25zX3NlY3Rpb25fZmlsdGVyKCBjdXJyZW50U2VjdGlvbiApO1xuXG5cdFx0Ly8gSWYgcHJldmlvdXMgd2FzIHJlc3BvbnNpdmUgcmVsb2FkIG1vZHVsZVxuXHRcdGlmICggZHNsY1ByZXYgPT0gJ3Jlc3BvbnNpdmUnICkge1xuXG5cdFx0XHQvLyBTaG93IHRoZSBsb2FkZXJcblx0XHRcdGpRdWVyeSgnLmRzbGNhLWNvbnRhaW5lci1sb2FkZXInKS5zaG93KCk7XG5cblx0XHRcdC8vIFJlc2V0IHRoZSByZXNwb25zaXZlIGNsYXNzZXNcblx0XHRcdHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYVdpbmRvdy5kc2xjX3Jlc3BvbnNpdmVfY2xhc3NlcygpO1xuXG5cdFx0XHQvLyBSZWxvYWQgTW9kdWxlXG5cdFx0XHRkc2xjX21vZHVsZV9vdXRwdXRfYWx0ZXJlZChmdW5jdGlvbigpe1xuXG5cdFx0XHRcdC8vIEhpZGUgdGhlIGxvYWRlclxuXHRcdFx0XHRqUXVlcnkoJy5kc2xjYS1jb250YWluZXItbG9hZGVyJykuaGlkZSgpO1xuXHRcdFx0fSk7XG5cblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBEZXN0cm95IHJlc2l6YWJsZSBwcmV2aWV3IGZ1bmN0aW9uYWxpdHlcblx0XHRcdCAqIHdoZW4gbGVhdmluZyBSZXNwb25zaXZlIHZpZXcuXG5cdFx0XHQgKi9cblx0XHRcdGpRdWVyeSgnI3BhZ2UtYnVpbGRlci1wcmV2aWV3LWFyZWEnKS5yZXNpemFibGUoJ2Rlc3Ryb3knKS5hdHRyKCdzdHlsZScsJycpO1xuXG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogTWFrZSB0aGUgcHJldmlldyBhcmVhIHJlc2l6YWJsZVxuXHRcdCAqIHdoZW4gZW50ZXJpbmcgUmVzcG9uc2l2ZSB2aWV3LlxuXHRcdCAqL1xuXHRcdGlmICggY3VycmVudFNlY3Rpb24gPT0gJ3Jlc3BvbnNpdmUnICkge1xuXG5cdFx0XHRqUXVlcnkoJyNwYWdlLWJ1aWxkZXItcHJldmlldy1hcmVhJykucmVzaXphYmxlKCk7XG5cdFx0fVxuXG5cdH0pO1xuXG5cdC8qKlxuXHQgKiBIb29rIC0gQ29uZmlybSBDaGFuZ2VzXG5cdCAqL1xuXHRqUXVlcnkoZG9jdW1lbnQpLm9uKCAnY2xpY2snLCAnLmRzbGNhLW1vZHVsZS1lZGl0LXNhdmUnLCBmdW5jdGlvbihlKXtcblxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdGRzbGNfbW9kdWxlX29wdGlvbnNfY29uZmlybV9jaGFuZ2VzKGZ1bmN0aW9uKCl7XG5cblx0XHRcdC8vIHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5VSS5pbml0SW5saW5lRWRpdG9ycyh7d2l0aFJlbW92ZTp0cnVlfSk7XG5cdFx0XHR3aW5kb3cuTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuVUkudW5sb2FkT3B0aW9uc0RlcHMoKTtcblx0XHRcdHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5GbGFncy5wYW5lbE9wZW5lZCA9IGZhbHNlO1xuXG5cdFx0XHRqUXVlcnkoXCJib2R5XCIsIHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5yZW1vdmVDbGFzcygnbW9kdWxlLWVkaXRpbmctaW4tcHJvZ3Jlc3MnKTtcblxuXHRcdH0pO1xuXG5cdFx0alF1ZXJ5KCcuZHNsY2Etb3B0aW9ucy1maWx0ZXItaG9vay5kc2xjYS1hY3RpdmUnKS5yZW1vdmVDbGFzcygnZHNsY2EtYWN0aXZlJyk7XG5cblx0XHRkc2xjX2Rpc2FibGVfcmVzcG9uc2l2ZV92aWV3KCk7XG5cblx0fSk7XG5cblx0LyoqXG5cdCAqIEhvb2sgLSBDYW5jZWwgQ2hhbmdlc1xuXHQgKi9cblx0alF1ZXJ5KGRvY3VtZW50KS5vbiggJ2NsaWNrJywgJy5kc2xjYS1tb2R1bGUtZWRpdC1jYW5jZWwnLCBmdW5jdGlvbihlKXtcblxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdGRzbGNfbW9kdWxlX29wdGlvbnNfY2FuY2VsX2NoYW5nZXMoZnVuY3Rpb24oKXtcblxuXHRcdFx0Ly8gd2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLlVJLmluaXRJbmxpbmVFZGl0b3JzKHt3aXRoUmVtb3ZlOnRydWV9KTtcblx0XHRcdHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5VSS51bmxvYWRPcHRpb25zRGVwcygpO1xuXHRcdFx0d2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLkZsYWdzLnBhbmVsT3BlbmVkID0gZmFsc2U7XG5cblx0XHRcdGpRdWVyeShcImJvZHlcIiwgd2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLnJlbW92ZUNsYXNzKCdtb2R1bGUtZWRpdGluZy1pbi1wcm9ncmVzcycpO1xuXG5cdFx0fSk7XG5cblx0XHRqUXVlcnkoJy5kc2xjYS1vcHRpb25zLWZpbHRlci1ob29rLmRzbGNhLWFjdGl2ZScpLnJlbW92ZUNsYXNzKCdkc2xjYS1hY3RpdmUnKTtcblxuXHRcdGRzbGNfZGlzYWJsZV9yZXNwb25zaXZlX3ZpZXcoKTtcblx0fSk7XG59KTtcblxuLyogRWRpdG9yIHNjcmlwdHMgKi9cbmV4cG9ydCBjb25zdCBzZXR0aW5nc1BhbmVsSW5pdCA9ICgpID0+IHtcblxuXHR2YXIgJCA9IGpRdWVyeTtcblx0dmFyIHNlbGYgPSB3aW5kb3cuTGl2ZUNvbXBvc2VyLkJ1aWxkZXI7XG5cdHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5IZWxwZXJzLmNvbG9ycGlja2VycyA9IFtdO1xuLypcblx0d2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLlVJLmluaXRJbmxpbmVFZGl0b3JzID0gZnVuY3Rpb24ocGFyYW1zKXtcblx0XHRwYXJhbXMgPSBwYXJhbXMgfHwge307XG5cblx0XHRpZiAoIHBhcmFtcy53aXRoUmVtb3ZlID09IHRydWUgKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHR3aW5kb3cuTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFXaW5kb3cudGlueU1DRS5yZW1vdmUoKTtcblx0XHRcdH0gY2F0Y2goZXJyKSB7XG5cdFx0XHRcdGNvbnNvbGUuaW5mbyggJ05vIHRpbnlNQ0UgY29kZSBmb3VuZC4gRXJyb3IgY29kZTogMTAxODExMTYuJyApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYVdpbmRvdy50aW55TUNFLmluaXQoe1xuXHRcdFx0c2VsZWN0b3I6ICcuaW5saW5lLWVkaXRvci5kc2xjYS1lZGl0YWJsZS1jb250ZW50Jyxcblx0XHRcdGVkaXRvcl9kZXNlbGVjdG9yOiAnbWNlLWNvbnRlbnQtYm9keScsXG5cdFx0XHRtZW51YmFyOiBmYWxzZSxcblx0XHRcdGlubGluZTogdHJ1ZSxcblx0XHRcdHBsdWdpbnM6ICd3b3JkcHJlc3Mgd3BsaW5rIGxpc3RzIHBhc3RlJyxcblx0XHRcdHBhc3RlX2FzX3RleHQ6IHRydWUsIC8vIFBhc3RlIHN0eWxlZCB0ZXh0IGFzIHBsYWluIHRleHQgb25seS4gUmVxdWlyZXMgJ3Bhc3RlJyBpbiBwbHVnaW5zLlxuXHRcdFx0cGFzdGVfYmxvY2tfZHJvcDogdHJ1ZSwgLy8gRGlzYWJsZWQgZHJvcCBhY3Rpb24gZm9yIGlubGluZSBlZGl0b3IgdG8gcHJldmVudCBqcyBlcnJvcnMgaW4gdGhlIGNvbnNvbGUuIGh0dHA6Ly9hcmNoaXZlLnRpbnltY2UuY29tL3dpa2kucGhwL1BsdWdpbjN4OnBhc3RlXG5cdFx0XHRzdHlsZV9mb3JtYXRzOiBbXG5cdFx0XHRcdFx0e3RpdGxlOiAnUGFyYWdyYXBoJywgZm9ybWF0OiAncCd9LFxuXHRcdFx0XHRcdHt0aXRsZTogJ0hlYWRlciAxJywgZm9ybWF0OiAnaDEnfSxcblx0XHRcdFx0XHR7dGl0bGU6ICdIZWFkZXIgMicsIGZvcm1hdDogJ2gyJ30sXG5cdFx0XHRcdFx0e3RpdGxlOiAnSGVhZGVyIDMnLCBmb3JtYXQ6ICdoMyd9LFxuXHRcdFx0XHRcdHt0aXRsZTogJ0hlYWRlciA0JywgZm9ybWF0OiAnaDQnfSxcblx0XHRcdFx0XHR7dGl0bGU6ICdIZWFkZXIgNScsIGZvcm1hdDogJ2g1J30sXG5cdFx0XHRcdFx0e3RpdGxlOiAnSGVhZGVyIDYnLCBmb3JtYXQ6ICdoNid9LFxuXHRcdFx0ICBdLFxuXHRcdFx0dG9vbGJhcjogJ3N0eWxlc2VsZWN0IHwgYm9sZCBpdGFsaWMgYmxvY2txdW90ZSB8IHJlbW92ZWZvcm1hdCB8IGJ1bGxpc3QgbnVtbGlzdCAnXG5cdFx0fSk7XG5cdH1cbiovXG5cdC8qIERlc3Ryb3kgaW5zdGFuY2VkIG9mIHNsaWRlcnMsIGNvbG9yIHBpY2tlcnMgYW5kIG90aGVyIHRlbXBvcmFyeSBlbGVtZW50cyAqL1xuXHR3aW5kb3cuTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuVUkuY2xlYXJVdGlscyA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0aWYgKCB3aW5kb3cuZHNsY0RlYnVnICkgY29uc29sZS5sb2coICd3aW5kb3cuTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuVUkuY2xlYXJVdGlscycgKTtcblxuXHRcdC8vIERlc3Ryb3kgYWxsIENvbG9yIFBpY2tlcnNcblx0XHR3aW5kb3cuTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuVUkuY2xlYXJDb2xvclBpY2tlcnMoKTtcblxuXHRcdC8vIERlbGV0ZSBtb2R1bGUgYmFja3VwcyBmb3JtIG1lbW9yeS5cblx0XHRpZiAoIHVuZGVmaW5lZCAhPT0gd2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLm1vZHVsZUJhY2t1cCApIHtcblx0XHRcdHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5tb2R1bGVCYWNrdXAucmVtb3ZlKCk7XG5cdFx0fVxuXG5cdFx0alF1ZXJ5KCcudGVtcC1zdHlsZXMtZm9yLW1vZHVsZScsIHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5yZW1vdmUoKTtcblxuXHRcdC8vIEhpZGUgaW5saW5lIGVkaXRvciBwYW5lbCBpZiBvbiBbQ29uZmlybV0gb3IgW0NhbmNlbF0gYnV0dG9uIGNsaWNrLlxuXHRcdGpRdWVyeSgnLm1jZS10aW55bWNlJywgd2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLmhpZGUoKTtcblx0fVxuXG5cdHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5VSS5jbGVhckNvbG9yUGlja2VycyA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0aWYgKCBBcnJheS5pc0FycmF5KHNlbGYuSGVscGVycy5jb2xvcnBpY2tlcnMgKSApIHtcblxuXHRcdFx0c2VsZi5IZWxwZXJzLmNvbG9ycGlja2Vycy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe1xuXHRcdFx0XHQvLyBEbyBub3QgZGVsZXRlIGNvbG9yIHBpY2tlciBpbnN0YW5jZSBmcm9tIHJvdyBzZXR0aW5ncyBwYW5lbCxcblx0XHRcdFx0Ly8gYXMgaXQgc3RheXMgb24gcGFnZSBhbmQgbm90IGdldCBsb2FkZWQgdmlhIEFqYXguXG5cdFx0XHRcdGlmICggISBqUXVlcnkoaXRlbSkuaGFzQ2xhc3MoJ2RzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LWZpZWxkJykgKSB7XG5cdFx0XHRcdFx0Ly8gRGVzdHJveSBjb2xvciBwaWNrZXIgaW5zdGFuY2UuXG5cdFx0XHRcdFx0alF1ZXJ5KGl0ZW0pLnJlbW92ZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0c2VsZi5IZWxwZXJzLmNvbG9ycGlja2VycyA9IFtdO1xuXHRcdH1cblxuXHRcdC8vIERlbGV0ZSB0aGUgY29sb3IgcGlja2VyIGV2ZW50cy5cblx0XHRqUXVlcnkoICdib2R5JyApLm9mZiggJ2NsaWNrLndwY29sb3JwaWNrZXInICk7XG5cdH1cblxuXHQvKiogT3B0aW9ucyBkZXBlbmRlbmNpZXMgKi9cblx0d2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLkhlbHBlcnMuZGVwc0hhbmRsZXJzID0gW107XG5cblx0d2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLlVJLmxvYWRPcHRpb25zRGVwcyA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0JChcIi5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25cIikuZWFjaChmdW5jdGlvbigpe1xuXG5cdFx0XHR2YXIgZWxlbSA9IHRoaXM7XG5cdFx0XHR2YXIgcGFyc2VkID0gdHJ1ZTtcblxuXHRcdFx0dHJ5IHtcblxuXHRcdFx0XHR2YXIgZGVwID0gSlNPTi5wYXJzZSggTGl2ZUNvbXBvc2VyLlV0aWxzLmI2NF90b191dGY4KCAkKHRoaXMpLmRhdGEoJ2RlcCcpICkgKTtcblxuXHRcdFx0fSBjYXRjaChlKXtcblxuXHRcdFx0XHRwYXJzZWQgPSBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBwYXJzZWQgKSB7XG5cblx0XHRcdFx0dmFyIGhhbmRsZXIgPSBmdW5jdGlvbigpe1xuXG5cdFx0XHRcdFx0dmFyIG9wdEVsZW0gPSB0aGlzO1xuXHRcdFx0XHRcdHZhciBsb2NhbERlcCA9IHt9O1xuXG5cdFx0XHRcdFx0aWYgKCAoIG9wdEVsZW0udHlwZSA9PSAncmFkaW8nIHx8IG9wdEVsZW0udHlwZSA9PSAnY2hlY2tib3gnICkgJiYgZGVwWyBvcHRFbGVtLnZhbHVlIF0gPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCBvcHRFbGVtLnR5cGUgPT0gJ2NoZWNrYm94JyAmJiBkZXBbIG9wdEVsZW0udmFsdWUgXSAhPSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0XHRcdGxvY2FsRGVwWyBvcHRFbGVtLnZhbHVlIF0gPSBkZXBbIG9wdEVsZW0udmFsdWUgXTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRsb2NhbERlcCA9IGRlcDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRPYmplY3Qua2V5cyhsb2NhbERlcCkuZm9yRWFjaChmdW5jdGlvbihvcHRfdmFsKXtcblxuXHRcdFx0XHRcdFx0bG9jYWxEZXBbIG9wdF92YWwgXS5zcGxpdCgnLCcpLmZvckVhY2goZnVuY3Rpb24oaXRlbSl7XG5cblx0XHRcdFx0XHRcdFx0dmFyIG9wdF93cmFwID0gJChcIi5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24tXCIgKyBpdGVtLnRyaW0oKSkuY2xvc2VzdCgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbicpO1xuXHRcdFx0XHRcdFx0XHR2YXIgY2hlY2tlZENoZWNrYm94ID0gdHJ1ZTtcblxuXHRcdFx0XHRcdFx0XHRpZiAoIG9wdEVsZW0udHlwZSA9PSAncmFkaW8nIHx8IG9wdEVsZW0udHlwZSA9PSAnY2hlY2tib3gnICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2hlY2tlZENoZWNrYm94ID0gJChvcHRFbGVtKS5pcyhcIjpjaGVja2VkXCIpO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0dmFyIHNlY3Rpb25fdGFiID0galF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9vay5kc2xjYS1hY3RpdmUnKS5kYXRhKCdpZCcpO1xuXG5cdFx0XHRcdFx0XHRcdGlmICggb3B0RWxlbS52YWx1ZSA9PSBvcHRfdmFsICYmIGNoZWNrZWRDaGVja2JveCApIHtcblxuXHRcdFx0XHRcdFx0XHRcdGlmICggb3B0X3dyYXAubm90KCBcIi5kZXBlbmRlbnRcIiApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0b3B0X3dyYXAuYWRkQ2xhc3MoJ2RlcGVuZGVudCcpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdGlmICggb3B0X3dyYXAuaGFzQ2xhc3MoJ2RlcC1oaWRlJykgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRvcHRfd3JhcC5yZW1vdmVDbGFzcygnZGVwLWhpZGUnKTtcblx0XHRcdFx0XHRcdFx0XHRcdG9wdF93cmFwLmFkZENsYXNzKCdkZXAtc2hvdycpO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRvcHRfd3JhcC5hZGRDbGFzcygnZGVwLXNob3cnKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoIHNlY3Rpb25fdGFiID09IG9wdF93cmFwLmRhdGEoJ3RhYicpICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0b3B0X3dyYXAuc2hvdygpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHRcdGlmICggb3B0X3dyYXAubm90KCBcIi5kZXBlbmRlbnRcIiApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0b3B0X3dyYXAuYWRkQ2xhc3MoJ2RlcGVuZGVudCcpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdGlmICggb3B0X3dyYXAuaGFzQ2xhc3MoJ2RlcC1zaG93JykgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRvcHRfd3JhcC5yZW1vdmVDbGFzcygnZGVwLXNob3cnKTtcblx0XHRcdFx0XHRcdFx0XHRcdG9wdF93cmFwLmFkZENsYXNzKCdkZXAtaGlkZScpO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRvcHRfd3JhcC5hZGRDbGFzcygnZGVwLWhpZGUnKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRvcHRfd3JhcC5oaWRlKCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0JChkb2N1bWVudCkub24oJ2NoYW5nZSBkc2xjLWluaXQtZGVwcycsICcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uICpbZGF0YS1pZD1cIicgKyAkKHRoaXMpLmRhdGEoJ2lkJykgKyAnXCJdJywgaGFuZGxlcik7XG5cdFx0XHRcdHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5IZWxwZXJzLmRlcHNIYW5kbGVycy5wdXNoKCBoYW5kbGVyICk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQkKFwiLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbiBpbnB1dCwgLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbiBzZWxlY3RcIikudHJpZ2dlcignZHNsYy1pbml0LWRlcHMnKTtcblx0fVxuXG5cdHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5VSS51bmxvYWRPcHRpb25zRGVwcyA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0d2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLkhlbHBlcnMuZGVwc0hhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24oaGFuZGxlcil7XG5cblx0XHRcdCQoZG9jdW1lbnQpLnVuYmluZCggJ2NoYW5nZScsIGhhbmRsZXIgKTtcblx0XHRcdCQoZG9jdW1lbnQpLnVuYmluZCggJ2RzbGMtaW5pdC1kZXBzJywgaGFuZGxlciApO1xuXHRcdH0pO1xuXG5cdFx0d2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLkhlbHBlcnMuZGVwc0hhbmRsZXJzID0gW107XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBpbmxpbmUgc3R5bGUgdGFnIHdoZW4gZWRpdGluZyBXWVNXSUdcblx0ICpcblx0ICogQHBhcmFtICB7b2JqZWN0fSBwYXJhbXNcblx0ICogICAgcGFyYW1zLnJ1bGVcblx0ICogICAgcGFyYW1zLmVsZW1zXG5cdCAqICAgIHBhcmFtcy5tb2R1bGVfaWRcblx0ICovXG5cdHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5IZWxwZXJzLnByb2Nlc3NJbmxpbmVTdHlsZVRhZyA9IGZ1bmN0aW9uKCBwYXJhbXMgKSB7XG5cblx0XHRpZiAoIHR5cGVvZiBwYXJhbXMgIT0gJ29iamVjdCcgKSByZXR1cm4gZmFsc2U7XG5cblx0XHR2YXIgcmVzcF9wcmVmaXggPSAnJywgcmVzcF9wb3N0Zml4ID0gJyc7XG5cblx0XHRpZiAoIHBhcmFtcy5jb250ZXh0LmNsb3Nlc3QoXCIuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uXCIpLmRhdGEoJ3RhYicpID09ICd0YWJsZXRfcmVzcG9uc2l2ZScgKSB7XG5cblx0XHRcdHJlc3BfcHJlZml4ID0gJ0BtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogMTAyNHB4KSBhbmQgKG1pbi13aWR0aDogNzY4cHgpIHsnO1xuXHRcdFx0cmVzcF9wb3N0Zml4ID0gJ30nO1xuXHRcdH0gZWxzZSBpZiAoIHBhcmFtcy5jb250ZXh0LmNsb3Nlc3QoXCIuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uXCIpLmRhdGEoJ3RhYicpID09ICdwaG9uZV9yZXNwb25zaXZlJyApIHtcblxuXHRcdFx0cmVzcF9wcmVmaXggPSAnQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA3NjdweCkgeyc7XG5cdFx0XHRyZXNwX3Bvc3RmaXggPSAnfSc7XG5cdFx0fVxuXG5cdFx0cGFyYW1zLnN0eWxlQ29udGVudCA9IHJlc3BfcHJlZml4ICsgcGFyYW1zLnN0eWxlQ29udGVudCArIHJlc3BfcG9zdGZpeDtcblxuXHRcdHZhciBpZCA9IHJlc3BfcHJlZml4ICsgcGFyYW1zLnJ1bGUgKyBwYXJhbXMuZWxlbXM7XG5cdFx0aWQgPSBpZC5yZXBsYWNlKC8gL2dpLCAnJyk7XG5cblx0XHRpZiAoIHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50WzBdLmdldEVsZW1lbnRCeUlkKGlkKSA9PSBudWxsICkge1xuXG5cdFx0XHR2YXIgc3R5bGVUYWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuXHRcdFx0c3R5bGVUYWcuaW5uZXJIVE1MID0gcGFyYW1zLnN0eWxlQ29udGVudDtcblx0XHRcdHN0eWxlVGFnLmlkID0gaWQ7XG5cdFx0XHRzdHlsZVRhZy5jbGFzc05hbWUgPSBcInRlbXAtc3R5bGVzLWZvci1tb2R1bGVcIjtcblxuXHRcdFx0d2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnRbMF0uYm9keS5hcHBlbmRDaGlsZChzdHlsZVRhZyk7XG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0d2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnRbMF0uZ2V0RWxlbWVudEJ5SWQoaWQpLmlubmVySFRNTCA9IHBhcmFtcy5zdHlsZUNvbnRlbnQ7XG5cdFx0fVxuXHR9XG5cblx0d2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLlVJLnNoYWtlUGFuZWxDb25maXJtQnV0dG9uID0gZnVuY3Rpb24oKSB7XG5cblx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1zYXZlJykuYWRkQ2xhc3MoJ2xjLXNoYWtlLWVmZmVjdCBhY3RpdmUnKTtcblxuXHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcblxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtc2F2ZScpLnJlbW92ZUNsYXNzKCdsYy1zaGFrZS1lZmZlY3QgYWN0aXZlJyk7XG5cdFx0fSwgMTAwMCk7XG5cdH07XG59O1xuXG5cbi8qKlxuICogTU9EVUxFUyBTRVRUSU5HUyBQQU5FTCAtIEZpbHRlciBNb2R1bGUgT3B0aW9uc1xuICovXG5mdW5jdGlvbiBkc2xjX21vZHVsZV9vcHRpb25zX3NlY3Rpb25fZmlsdGVyKCBzZWN0aW9uSUQgKSB7XG5cblx0aWYgKCB3aW5kb3cuZHNsY0RlYnVnICkgY29uc29sZS5sb2coICdkc2xjX21vZHVsZV9vcHRpb25zX3NlY3Rpb25fZmlsdGVyJyApO1xuXG5cdC8vIEhpZGUgYWxsIG9wdGlvbnNcblx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uJykuaGlkZSgpO1xuXG5cdC8vIFNob3cgb3B0aW9ucyBmb3IgY3VycmVudCBzZWN0aW9uXG5cdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbltkYXRhLXNlY3Rpb249XCInICsgc2VjdGlvbklEICsgJ1wiXScpLnNob3coKTtcblxuXHQvLyBSZWNhbGwgbW9kdWxlIG9wdGlvbnMgdGFiXG5cdGRzbGNfbW9kdWxlX29wdGlvbnNfdGFiX2ZpbHRlcigpO1xufVxuXG4vKipcbiAqIE1PRFVMRVMgU0VUVElOR1MgUEFORUwgLSBTaG93IG1vZHVsZSBvcHRpb25zIHRhYlxuICovXG5leHBvcnQgbGV0IGVsZW1lbnRPcHRpb25zVGFicyA9ICggZHNsY1RhYiApID0+IHtcblxuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2RzbGNfbW9kdWxlX29wdGlvbnNfdGFiX2ZpbHRlcicgKTtcblxuXHQvLyBHZXQgY3VycmVudGx5IGFjdGl2ZSBzZWN0aW9uXG5cdHZhciBkc2xjU2VjdGlvbklEID0galF1ZXJ5KCcuZHNsY2Etb3B0aW9ucy1maWx0ZXItaG9vay5kc2xjYS1hY3RpdmUnKS5kYXRhKCdzZWN0aW9uJyk7XG5cblx0Ly8gSWYgdGFiIG5vdCBzdXBwbGllZCBzZXQgdG8gZmlyc3Rcblx0ZHNsY1RhYiA9IHR5cGVvZiBkc2xjVGFiICE9PSAndW5kZWZpbmVkJyA/IGRzbGNUYWIgOiBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtc2VjdGlvbj1cIicgKyBkc2xjU2VjdGlvbklEICsgJ1wiXTpmaXJzdCcpO1xuXG5cdC8vIEdldCB0aGUgdGFiIElEXG5cdHZhciBkc2xjVGFiSUQgPSBkc2xjVGFiLmRhdGEoJ2lkJyk7XG5cblx0Ly8gU2V0IGFjdGl2ZSBjbGFzcyBvbiB0YWJcblx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9vaycpLnJlbW92ZUNsYXNzKCdkc2xjYS1hY3RpdmUnKTtcblx0ZHNsY1RhYi5hZGRDbGFzcygnZHNsY2EtYWN0aXZlJyk7XG5cblx0Ly8gU2hvdyB0YWJzIGNvbnRhaW5lclxuXHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYnMnKS5zaG93KCk7XG5cblx0Ly8gSGlkZS9TaG93IHRhYnMgaG9va3Ncblx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9vaycpLmhpZGUoKTtcblx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLXNlY3Rpb249XCInICsgZHNsY1NlY3Rpb25JRCArICdcIl0nKS5zaG93KCk7XG5cblx0aWYgKCBkc2xjVGFiSUQgKSB7XG5cblx0XHQvLyBIaWRlL1Nob3cgb3B0aW9uc1xuXHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbicpLmhpZGUoKTtcblx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25bZGF0YS10YWI9XCInICsgZHNsY1RhYklEICsgJ1wiXScpLnNob3coKTtcblxuXHRcdC8vIEhpZGUvU2hvdyBUYWJzXG5cdFx0ZHNsY19tb2R1bGVfb3B0aW9uc19oaWRlc2hvd190YWJzKCk7XG5cblx0XHQvLyBJZiBvbmx5IG9uZSB0YWIgaGlkZSB0aGUgdGFicyBjb250YWluZXJcblx0XHRpZiAoIGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2s6dmlzaWJsZScpLmxlbmd0aCA8IDIgKSB7XG5cblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFicycpLmhpZGUoKTtcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYnMnKS5zaG93KCk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogSWYgcmVzcG9uc2l2ZSB0YWIsIGNoYW5nZSB0aGUgd2lkdGggb2YgdGhlIGRzbGMtY29udGVudCBkaXZcblx0XHQgKi9cblxuXHRcdGRzbGNfZGlzYWJsZV9yZXNwb25zaXZlX3ZpZXcoKTtcblxuXHRcdC8vIFRhYmxldFxuXHRcdGlmICggZHNsY1RhYklEID09IERTTENTdHJpbmcuc3RyX3Jlc190YWJsZXQudG9Mb3dlckNhc2UoKSArICdfcmVzcG9uc2l2ZScgKSB7XG5cblx0XHRcdGpRdWVyeSgnYm9keScpLnJlbW92ZUNsYXNzKCdkc2xjLXJlcy1iaWcgZHNsYy1yZXMtc21hbGxlci1tb25pdG9yIGRzbGMtcmVzLXBob25lIGRzbGMtcmVzLXRhYmxldCcpO1xuXHRcdFx0alF1ZXJ5KCdib2R5JykuYWRkQ2xhc3MoJ2RzbGMtcmVzLXRhYmxldCcpO1xuXHRcdFx0alF1ZXJ5KCdodG1sJykuYWRkQ2xhc3MoJ2RzbGMtcmVzcG9uc2l2ZS1wcmV2aWV3Jyk7XG5cdFx0fVxuXG5cdFx0Ly8gUGhvbmVcblx0XHRpZiAoIGRzbGNUYWJJRCA9PSBEU0xDU3RyaW5nLnN0cl9yZXNfcGhvbmUudG9Mb3dlckNhc2UoKSArICdfcmVzcG9uc2l2ZScgKSB7XG5cblx0XHRcdGpRdWVyeSgnYm9keScpLnJlbW92ZUNsYXNzKCdkc2xjLXJlcy1iaWcgZHNsYy1yZXMtc21hbGxlci1tb25pdG9yIGRzbGMtcmVzLXBob25lIGRzbGMtcmVzLXRhYmxldCcpO1xuXHRcdFx0alF1ZXJ5KCdib2R5JykuYWRkQ2xhc3MoJ2RzbGMtcmVzLXBob25lJyk7XG5cdFx0XHRqUXVlcnkoJ2h0bWwnKS5hZGRDbGFzcygnZHNsYy1yZXNwb25zaXZlLXByZXZpZXcnKTtcblx0XHR9XG5cblx0XHQvLyBJZiByZXNwb25zaXZlIHJlbG9hZCBtb2R1bGVcblx0XHRpZiAoIGRzbGNUYWJJRCA9PSBEU0xDU3RyaW5nLnN0cl9yZXNfdGFibGV0LnRvTG93ZXJDYXNlKCkgKyAnX3Jlc3BvbnNpdmUnIHx8IGRzbGNUYWJJRCA9PSBEU0xDU3RyaW5nLnN0cl9yZXNfcGhvbmUudG9Mb3dlckNhc2UoKSArICdfcmVzcG9uc2l2ZScgKSB7XG5cblx0XHRcdC8vIFNob3cgdGhlIGxvYWRlclxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtY29udGFpbmVyLWxvYWRlcicpLnNob3coKTtcblxuXHRcdFx0Ly8gUmVsb2FkIE1vZHVsZVxuXHRcdFx0ZHNsY19tb2R1bGVfb3V0cHV0X2FsdGVyZWQoZnVuY3Rpb24oKXtcblxuXHRcdFx0XHQvLyBIaWRlIHRoZSBsb2FkZXJcblx0XHRcdFx0alF1ZXJ5KCcuZHNsY2EtY29udGFpbmVyLWxvYWRlcicpLmhpZGUoKTtcblx0XHRcdH0pO1xuXHRcdH1cdFxuXHR9XG5cblx0Ly8gU2Nyb2xsIGhvcml6b250YWxseSBvcHRpb25zIHBhbmVsIHRvIHRoZSBsZWZ0IChub3QgcmVhZHkpXG5cdGlmICggalF1ZXJ5KCdib2R5JykuaGFzQ2xhc3MoJ3J0bCcpICkge1xuXHRcdHZhciB0b3RhbFdpZHRoT3B0aW9uID0gMDtcblx0XHR2YXIgdG90YWxXaWR0aEdyb3VwID0gMDtcblx0XHR2YXIgdG90YWxXaWR0aCA9IDA7XG5cblx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXdyYXBwZXIgPiAuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uOnZpc2libGUnKS5lYWNoKGZ1bmN0aW9uKGluZGV4KSB7XG5cdFx0XHRpZiAoICEgalF1ZXJ5KHRoaXMpLmhhc0NsYXNzKCdkc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24taGlkZGVuJykgJiYgISBqUXVlcnkodGhpcykuaGFzQ2xhc3MoJ2RzbGNhLW1vZHVsZS1jb250cm9sLWdyb3VwJykgKSB7XG5cdFx0XHRcdHRvdGFsV2lkdGhPcHRpb24gKz0gcGFyc2VJbnQoalF1ZXJ5KHRoaXMpLm91dGVyV2lkdGgoKSwgMTApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy13cmFwcGVyID4gLmRzbGNhLW1vZHVsZS1jb250cm9sLWdyb3VwOnZpc2libGUnKS5lYWNoKGZ1bmN0aW9uKGluZGV4KSB7XG5cdFx0XHR0b3RhbFdpZHRoR3JvdXAgKz0gcGFyc2VJbnQoalF1ZXJ5KHRoaXMpLm91dGVyV2lkdGgoKSwgMTApO1xuXHRcdH0pO1xuXG5cdFx0dG90YWxXaWR0aCA9IHBhcnNlSW50KHRvdGFsV2lkdGhPcHRpb24pICsgcGFyc2VJbnQodG90YWxXaWR0aEdyb3VwKSArIDEwO1xuXG5cdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy13cmFwcGVyJykuY3NzKHtcblx0XHRcdCd3aWR0aCc6IHRvdGFsV2lkdGggKyAncHgnLFxuXHRcdH0pO1xuXHR9XG59XG5cbi8qKlxuICogTU9EVUxFUyBTRVRUSU5HUyBQQU5FTCAtIEhpZGUgc2hvdyB0YWJzIGJhc2VkIG9uIG9wdGlvbiBjaG9pY2VzXG4gKi9cbmZ1bmN0aW9uIGRzbGNfbW9kdWxlX29wdGlvbnNfaGlkZXNob3dfdGFicygpIHtcblxuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2RzbGNfbW9kdWxlX29wdGlvbnNfaGlkZXNob3dfdGFicycgKTtcblxuXHR2YXIgZHNsY1NlY3Rpb25JRCA9IGpRdWVyeSgnLmRzbGNhLW9wdGlvbnMtZmlsdGVyLWhvb2suZHNsY2EtYWN0aXZlJykuZGF0YSgnc2VjdGlvbicpO1xuXG5cdGlmICggZHNsY1NlY3Rpb25JRCA9PSAnc3R5bGluZycgKSB7XG5cblx0XHQvLyBWYXJzXG5cdFx0dmFyIGRzbGNDb250YWluZXIgPSBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdCcpLFxuXHRcdGRzbGNIZWFkaW5nID0gdHJ1ZSxcblx0XHRkc2xjRmlsdGVycyA9IHRydWUsXG5cdFx0ZHNsY0NhckFycm93cyA9IHRydWUsXG5cdFx0ZHNsY0NhckNpcmNsZXMgPSB0cnVlLFxuXHRcdGRzbGNQYWdpbmF0aW9uID0gdHJ1ZSxcblx0XHRkc2xjRWxUaHVtYiA9IHRydWUsXG5cdFx0ZHNsY0VsVGl0bGUgPSB0cnVlLFxuXHRcdGRzbGNFbEV4Y2VycHQgPSB0cnVlLFxuXHRcdGRzbGNFbE1ldGEgPSB0cnVlLFxuXHRcdGRzbGNFbEJ1dHRvbiA9IHRydWUsXG5cdFx0ZHNsY0VsQ2F0cyA9IHRydWUsXG5cdFx0ZHNsY0VsQ291bnQgPSB0cnVlLFxuXHRcdGRzbGNFbFNlcGFyYXRvciA9IHRydWUsXG5cdFx0ZHNsY0VsVGFncyA9IHRydWUsXG5cdFx0ZHNsY0VsU29jaWFsID0gdHJ1ZSxcblx0XHRkc2xjRWxQb3NpdGlvbiA9IHRydWUsXG5cdFx0ZHNsY0VsSWNvbiA9IHRydWUsXG5cdFx0ZHNsY0VsQ29udGVudCA9IHRydWUsXG5cdFx0ZHNsY0VsUHJpY2UgPSB0cnVlLFxuXHRcdGRzbGNFbFByaWNlU2VjID0gdHJ1ZSxcblx0XHRkc2xjRWxBZGRDYXJ0ID0gdHJ1ZSxcblx0XHRkc2xjRWxEZXRhaWxzID0gdHJ1ZSxcblx0XHRkc2xjRWxRdW90ZSA9IHRydWUsXG5cdFx0ZHNsY0VsQXV0aG9yTmFtZSA9IHRydWUsXG5cdFx0ZHNsY0VsQXV0aG9yUG9zID0gdHJ1ZSxcblx0XHRkc2xjRWxJbWFnZSA9IHRydWUsXG5cdFx0ZHNsY0VsTG9nbyA9IHRydWU7XG5cblxuXHRcdC8vIElzIGhlYWRpbmcgc2VsZWN0ZWQ/XG5cdFx0aWYgKCAhIGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkW3ZhbHVlPVwibWFpbl9oZWFkaW5nXCJdJykuaXMoJzpjaGVja2VkJykgKVxuXHRcdFx0ZHNsY0hlYWRpbmcgPSBmYWxzZTtcblxuXHRcdC8vIEFyZSBmaWx0ZXJzIHNlbGVjdGVkP1xuXHRcdGlmICggISBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZFt2YWx1ZT1cImZpbHRlcnNcIl0nKS5pcygnOmNoZWNrZWQnKSApXG5cdFx0XHRkc2xjRmlsdGVycyA9IGZhbHNlO1xuXG5cdFx0Ly8gQXJlIGFycm93cyBzZWxlY3RlZD9cblx0XHRpZiAoICEgalF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGRbdmFsdWU9XCJhcnJvd3NcIl0nKS5pcygnOmNoZWNrZWQnKSApXG5cdFx0XHRkc2xjQ2FyQXJyb3dzID0gZmFsc2U7XG5cblx0XHQvLyBBcmUgY2lyY2xlcyBzZWxlY3RlZD9cblx0XHRpZiAoICEgalF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGRbdmFsdWU9XCJjaXJjbGVzXCJdJykuaXMoJzpjaGVja2VkJykgKVxuXHRcdFx0ZHNsY0NhckNpcmNsZXMgPSBmYWxzZTtcblxuXHRcdC8vIElzIGl0IGEgY2Fyb3VzZWw/XG5cdFx0aWYgKCBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZFtkYXRhLWlkPVwidHlwZVwiXScpLnZhbCgpICE9ICdjYXJvdXNlbCcgKSB7XG5cdFx0XHRkc2xjQ2FyQXJyb3dzID0gZmFsc2U7XG5cdFx0XHRkc2xjQ2FyQ2lyY2xlcyA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIElzIHBhZ2luYXRpb24gZW5hYmxlZD9cblx0XHRpZiAoIGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkW2RhdGEtaWQ9XCJwYWdpbmF0aW9uX3R5cGVcIl0nKS52YWwoKSA9PSAnZGlzYWJsZWQnICkge1xuXHRcdFx0ZHNsY1BhZ2luYXRpb24gPSBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBJcyB0aHVtYiBlbmFibGVkP1xuXHRcdGlmICggISBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZFtkYXRhLWlkKj1cImVsZW1lbnRzXCJdW3ZhbHVlPVwidGh1bWJuYWlsXCJdJykuaXMoJzpjaGVja2VkJykgKSB7XG5cdFx0XHRkc2xjRWxUaHVtYiA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIElzIHRpdGxlIGVuYWJsZWQ/XG5cdFx0aWYgKCBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZFtkYXRhLWlkKj1cImVsZW1lbnRzXCJdW3ZhbHVlPVwiY29udGVudFwiXScpLmxlbmd0aCAmJiAhIGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkW2RhdGEtaWQqPVwiZWxlbWVudHNcIl1bdmFsdWU9XCJ0aXRsZVwiXScpLmlzKCc6Y2hlY2tlZCcpICkge1xuXHRcdFx0ZHNsY0VsVGl0bGUgPSBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBJcyBleGNlcnB0IGVuYWJsZWQ/XG5cdFx0aWYgKCAhIGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkW2RhdGEtaWQqPVwiZWxlbWVudHNcIl1bdmFsdWU9XCJleGNlcnB0XCJdJykuaXMoJzpjaGVja2VkJykgKSB7XG5cdFx0XHRkc2xjRWxFeGNlcnB0ID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gSXMgbWV0YSBlbmFibGVkP1xuXHRcdGlmICggISBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZFtkYXRhLWlkKj1cImVsZW1lbnRzXCJdW3ZhbHVlPVwibWV0YVwiXScpLmlzKCc6Y2hlY2tlZCcpICkge1xuXHRcdFx0ZHNsY0VsTWV0YSA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIElzIGJ1dHRvbiBlbmFibGVkP1xuXHRcdGlmICggalF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGRbZGF0YS1pZCo9XCJlbGVtZW50c1wiXVt2YWx1ZT1cImJ1dHRvblwiXScpLmxlbmd0aCAmJiAhIGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkW2RhdGEtaWQqPVwiZWxlbWVudHNcIl1bdmFsdWU9XCJidXR0b25cIl0nKS5pcygnOmNoZWNrZWQnKSApIHtcblx0XHRcdGRzbGNFbEJ1dHRvbiA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIEFyZSBjYXRzIGVuYWJsZWQ/XG5cdFx0aWYgKCAhIGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkW2RhdGEtaWQqPVwiZWxlbWVudHNcIl1bdmFsdWU9XCJjYXRlZ29yaWVzXCJdJykuaXMoJzpjaGVja2VkJykgKSB7XG5cdFx0XHRkc2xjRWxDYXRzID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gSXMgc2VwYXJhdG9yIGVuYWJsZWQ/XG5cdFx0aWYgKCAhIGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkW2RhdGEtaWQqPVwiZWxlbWVudHNcIl1bdmFsdWU9XCJzZXBhcmF0b3JcIl0nKS5pcygnOmNoZWNrZWQnKSApIHtcblx0XHRcdGRzbGNFbFNlcGFyYXRvciA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIElzIGNvdW50IGVuYWJsZWQ/XG5cdFx0aWYgKCAhIGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkW2RhdGEtaWQqPVwiZWxlbWVudHNcIl1bdmFsdWU9XCJjb3VudFwiXScpLmlzKCc6Y2hlY2tlZCcpICkge1xuXHRcdFx0ZHNsY0VsQ291bnQgPSBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBBcmUgdGFncyBlbmFibGVkP1xuXHRcdGlmICggISBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZFtkYXRhLWlkKj1cImVsZW1lbnRzXCJdW3ZhbHVlPVwidGFnc1wiXScpLmlzKCc6Y2hlY2tlZCcpICkge1xuXHRcdFx0ZHNsY0VsVGFncyA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIEFyZSBzb2NpYWwgbGluayBlbmFibGVkP1xuXHRcdGlmICggISBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZFtkYXRhLWlkKj1cImVsZW1lbnRzXCJdW3ZhbHVlPVwic29jaWFsXCJdJykuaXMoJzpjaGVja2VkJykgKSB7XG5cdFx0XHRkc2xjRWxTb2NpYWwgPSBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBJcyBwb3NpdGlvbiBlbmFibGVkP1xuXHRcdGlmICggISBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZFtkYXRhLWlkKj1cImVsZW1lbnRzXCJdW3ZhbHVlPVwicG9zaXRpb25cIl0nKS5pcygnOmNoZWNrZWQnKSApIHtcblx0XHRcdGRzbGNFbFBvc2l0aW9uID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gSXMgaWNvbiBlbmFibGVkP1xuXHRcdGlmICggalF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGRbZGF0YS1pZCo9XCJlbGVtZW50c1wiXVt2YWx1ZT1cImljb25cIl0nKS5sZW5ndGggJiYgISBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZFtkYXRhLWlkKj1cImVsZW1lbnRzXCJdW3ZhbHVlPVwiaWNvblwiXScpLmlzKCc6Y2hlY2tlZCcpICkge1xuXHRcdFx0ZHNsY0VsSWNvbiA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIElzIGNvbnRlbnQgZW5hYmxlZD9cblx0XHRpZiAoICBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZFtkYXRhLWlkKj1cImVsZW1lbnRzXCJdW3ZhbHVlPVwiY29udGVudFwiXScpLmxlbmd0aCAmJiAhIGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkW2RhdGEtaWQqPVwiZWxlbWVudHNcIl1bdmFsdWU9XCJjb250ZW50XCJdJykuaXMoJzpjaGVja2VkJykgKSB7XG5cdFx0XHRkc2xjRWxDb250ZW50ID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gSXMgcHJpY2UgZW5hYmxlZD9cblx0XHRpZiAoICEgalF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGRbZGF0YS1pZCo9XCJlbGVtZW50c1wiXVt2YWx1ZT1cInByaWNlXCJdJykuaXMoJzpjaGVja2VkJykgKSB7XG5cdFx0XHRkc2xjRWxQcmljZSA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIElzIHByaWNlIHNlY29uZGFyeSBlbmFibGVkP1xuXHRcdGlmICggISBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZFtkYXRhLWlkKj1cImVsZW1lbnRzXCJdW3ZhbHVlPVwicHJpY2VfMlwiXScpLmlzKCc6Y2hlY2tlZCcpICkge1xuXHRcdFx0ZHNsY0VsUHJpY2VTZWMgPSBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBJcyBhZGQgdG8gY2FydCBlbmFibGVkP1xuXHRcdGlmICggISBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZFtkYXRhLWlkKj1cImVsZW1lbnRzXCJdW3ZhbHVlPVwiYWRkdG9jYXJ0XCJdJykuaXMoJzpjaGVja2VkJykgKSB7XG5cdFx0XHRkc2xjRWxBZGRDYXJ0ID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gSXMgYWRkIHRvIGNhcnQgZW5hYmxlZD9cblx0XHRpZiAoICEgalF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGRbZGF0YS1pZCo9XCJlbGVtZW50c1wiXVt2YWx1ZT1cImRldGFpbHNcIl0nKS5pcygnOmNoZWNrZWQnKSApIHtcblx0XHRcdGRzbGNFbERldGFpbHMgPSBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBJcyBxdW90ZSBlbmFibGVkP1xuXHRcdGlmICggISBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZFtkYXRhLWlkKj1cImVsZW1lbnRzXCJdW3ZhbHVlPVwicXVvdGVcIl0nKS5pcygnOmNoZWNrZWQnKSApIHtcblx0XHRcdGRzbGNFbFF1b3RlID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gSXMgYXV0aG9yIG5hbWUgZW5hYmxlZD9cblx0XHRpZiAoICEgalF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGRbZGF0YS1pZCo9XCJlbGVtZW50c1wiXVt2YWx1ZT1cImF1dGhvcl9uYW1lXCJdJykuaXMoJzpjaGVja2VkJykgKSB7XG5cdFx0XHRkc2xjRWxBdXRob3JOYW1lID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gSXMgYXV0aG9yIHBvc2l0aW9uIGVuYWJsZWQ/XG5cdFx0aWYgKCAhIGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkW2RhdGEtaWQqPVwiZWxlbWVudHNcIl1bdmFsdWU9XCJhdXRob3JfcG9zaXRpb25cIl0nKS5pcygnOmNoZWNrZWQnKSApIHtcblx0XHRcdGRzbGNFbEF1dGhvclBvcyA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIElzIGltYWdlIGVuYWJsZWQ/XG5cdFx0aWYgKCAhIGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkW2RhdGEtaWQqPVwiZWxlbWVudHNcIl1bdmFsdWU9XCJpbWFnZVwiXScpLmlzKCc6Y2hlY2tlZCcpICkge1xuXHRcdFx0ZHNsY0VsSW1hZ2UgPSBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBJcyBsb2dvIGVuYWJsZWQ/XG5cdFx0aWYgKCAhIGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkW2RhdGEtaWQqPVwiZWxlbWVudHNcIl1bdmFsdWU9XCJsb2dvXCJdJykuaXMoJzpjaGVja2VkJykgKSB7XG5cdFx0XHRkc2xjRWxMb2dvID0gZmFsc2U7XG5cdFx0fVxuXG5cblx0XHQvLyBTaG93L0hpZGUgSGVhZGluZ1xuXHRcdGlmICggZHNsY0hlYWRpbmcgKVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwiaGVhZGluZ19zdHlsaW5nXCJdJykuc2hvdygpO1xuXHRcdGVsc2Vcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cImhlYWRpbmdfc3R5bGluZ1wiXScpLmhpZGUoKTtcblxuXHRcdC8vIFNob3cvSGlkZSBGaWx0ZXJzXG5cdFx0aWYgKCBkc2xjRmlsdGVycyApXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJmaWx0ZXJzX3N0eWxpbmdcIl0nKS5zaG93KCk7XG5cdFx0ZWxzZVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwiZmlsdGVyc19zdHlsaW5nXCJdJykuaGlkZSgpO1xuXG5cdFx0Ly8gU2hvdy9IaWRlIENhcm91c2VsIEFycm93c1xuXHRcdGlmICggZHNsY0NhckFycm93cyApXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJjYXJvdXNlbF9hcnJvd3Nfc3R5bGluZ1wiXScpLnNob3coKTtcblx0XHRlbHNlXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJjYXJvdXNlbF9hcnJvd3Nfc3R5bGluZ1wiXScpLmhpZGUoKTtcblxuXHRcdC8vIFNob3cvSGlkZSBDYXJvdXNlbCBDaXJjbGVzXG5cdFx0aWYgKCBkc2xjQ2FyQ2lyY2xlcyApXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJjYXJvdXNlbF9jaXJjbGVzX3N0eWxpbmdcIl0nKS5zaG93KCk7XG5cdFx0ZWxzZVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwiY2Fyb3VzZWxfY2lyY2xlc19zdHlsaW5nXCJdJykuaGlkZSgpO1xuXG5cdFx0Ly8gU2hvdy9IaWRlIFBhZ2luYXRpb25cblx0XHRpZiAoIGRzbGNQYWdpbmF0aW9uIClcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cInBhZ2luYXRpb25fc3R5bGluZ1wiXScpLnNob3coKTtcblx0XHRlbHNlXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJwYWdpbmF0aW9uX3N0eWxpbmdcIl0nKS5oaWRlKCk7XG5cblx0XHQvLyBTaG93L0hpZGUgVGh1bWJcblx0XHRpZiAoIGRzbGNFbFRodW1iIClcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cInRodW1ibmFpbF9zdHlsaW5nXCJdJykuc2hvdygpO1xuXHRcdGVsc2Vcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cInRodW1ibmFpbF9zdHlsaW5nXCJdJykuaGlkZSgpO1xuXG5cdFx0Ly8gU2hvdy9IaWRlIFRpdGxlXG5cdFx0aWYgKCBkc2xjRWxUaXRsZSApXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJ0aXRsZV9zdHlsaW5nXCJdJykuc2hvdygpO1xuXHRcdGVsc2Vcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cInRpdGxlX3N0eWxpbmdcIl0nKS5oaWRlKCk7XG5cblx0XHQvLyBTaG93L0hpZGUgRXhjZXJwdFxuXHRcdGlmICggZHNsY0VsRXhjZXJwdCApXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJleGNlcnB0X3N0eWxpbmdcIl0nKS5zaG93KCk7XG5cdFx0ZWxzZVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwiZXhjZXJwdF9zdHlsaW5nXCJdJykuaGlkZSgpO1xuXG5cdFx0Ly8gU2hvdy9IaWRlIE1ldGFcblx0XHRpZiAoIGRzbGNFbE1ldGEgKVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwibWV0YV9zdHlsaW5nXCJdJykuc2hvdygpO1xuXHRcdGVsc2Vcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cIm1ldGFfc3R5bGluZ1wiXScpLmhpZGUoKTtcblxuXHRcdC8vIFNob3cvSGlkZSBCdXR0b25cblx0XHRpZiAoIGRzbGNFbEJ1dHRvbiApXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJidXR0b25fc3R5bGluZ1wiXSwgLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cInByaW1hcnlfYnV0dG9uX3N0eWxpbmdcIl0sJytcblx0XHRcdFx0JyAuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwic2Vjb25kYXJ5X2J1dHRvbl9zdHlsaW5nXCJdJykuc2hvdygpO1xuXHRcdGVsc2Vcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cImJ1dHRvbl9zdHlsaW5nXCJdLCAuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwicHJpbWFyeV9idXR0b25fc3R5bGluZ1wiXSwnK1xuXHRcdFx0XHQnIC5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJzZWNvbmRhcnlfYnV0dG9uX3N0eWxpbmdcIl0nKS5oaWRlKCk7XG5cblx0XHQvLyBTaG93L0hpZGUgQ2F0c1xuXHRcdGlmICggZHNsY0VsQ2F0cyApXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJjYXRlZ29yaWVzX3N0eWxpbmdcIl0nKS5zaG93KCk7XG5cdFx0ZWxzZVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwiY2F0ZWdvcmllc19zdHlsaW5nXCJdJykuaGlkZSgpO1xuXG5cdFx0Ly8gU2hvdy9IaWRlIFNlcGFyYXRvclxuXHRcdGlmICggZHNsY0VsU2VwYXJhdG9yIClcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cInNlcGFyYXRvcl9zdHlsaW5nXCJdJykuc2hvdygpO1xuXHRcdGVsc2Vcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cInNlcGFyYXRvcl9zdHlsaW5nXCJdJykuaGlkZSgpO1xuXG5cdFx0Ly8gU2hvdy9IaWRlIENvdW50XG5cdFx0aWYgKCBkc2xjRWxDb3VudCApXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJjb3VudF9zdHlsaW5nXCJdJykuc2hvdygpO1xuXHRcdGVsc2Vcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cImNvdW50X3N0eWxpbmdcIl0nKS5oaWRlKCk7XG5cblx0XHQvLyBTaG93L0hpZGUgVGFnc1xuXHRcdGlmICggZHNsY0VsVGFncyApXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJ0YWdzX3N0eWxpbmdcIl0nKS5zaG93KCk7XG5cdFx0ZWxzZVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwidGFnc19zdHlsaW5nXCJdJykuaGlkZSgpO1xuXG5cdFx0Ly8gU2hvdy9IaWRlIFRhZ3Ncblx0XHRpZiAoIGRzbGNFbFBvc2l0aW9uIClcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cInBvc2l0aW9uX3N0eWxpbmdcIl0nKS5zaG93KCk7XG5cdFx0ZWxzZVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwicG9zaXRpb25fc3R5bGluZ1wiXScpLmhpZGUoKTtcblxuXHRcdC8vIFNob3cvSGlkZSBUYWdzXG5cdFx0aWYgKCBkc2xjRWxTb2NpYWwgKVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwic29jaWFsX3N0eWxpbmdcIl0nKS5zaG93KCk7XG5cdFx0ZWxzZVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwic29jaWFsX3N0eWxpbmdcIl0nKS5oaWRlKCk7XG5cblx0XHQvLyBTaG93L0hpZGUgSWNvblxuXHRcdGlmICggZHNsY0VsSWNvbiApXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJpY29uX3N0eWxpbmdcIl0nKS5zaG93KCk7XG5cdFx0ZWxzZVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwiaWNvbl9zdHlsaW5nXCJdJykuaGlkZSgpO1xuXG5cdFx0Ly8gU2hvdy9IaWRlIENvbnRlbnRcblx0XHRpZiAoIGRzbGNFbENvbnRlbnQgKVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwiY29udGVudF9zdHlsaW5nXCJdJykuc2hvdygpO1xuXHRcdGVsc2Vcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cImNvbnRlbnRfc3R5bGluZ1wiXScpLmhpZGUoKTtcblxuXHRcdC8vIFNob3cvSGlkZSBQcmljZVxuXHRcdGlmICggZHNsY0VsUHJpY2UgKVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwicHJpY2Vfc3R5bGluZ1wiXScpLnNob3coKTtcblx0XHRlbHNlXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJwcmljZV9zdHlsaW5nXCJdJykuaGlkZSgpO1xuXG5cdFx0Ly8gU2hvdy9IaWRlIFByaWNlIFNlY1xuXHRcdGlmICggZHNsY0VsUHJpY2VTZWMgKVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwicHJpY2Vfc2Vjb25kYXJ5X3N0eWxpbmdcIl0nKS5zaG93KCk7XG5cdFx0ZWxzZVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwicHJpY2Vfc2Vjb25kYXJ5X3N0eWxpbmdcIl0nKS5oaWRlKCk7XG5cblx0XHQvLyBTaG93L0hpZGUgQWRkIHRvIENhcnRcblx0XHRpZiAoIGRzbGNFbEFkZENhcnQgfHwgZHNsY0VsRGV0YWlscyApXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJvdGhlcl9zdHlsaW5nXCJdJykuc2hvdygpO1xuXHRcdGVsc2Vcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cIm90aGVyX3N0eWxpbmdcIl0nKS5oaWRlKCk7XG5cblx0XHQvLyBTaG93L0hpZGUgUXVvdGVcblx0XHRpZiAoIGRzbGNFbFF1b3RlIClcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cInF1b3RlX3N0eWxpbmdcIl0nKS5zaG93KCk7XG5cdFx0ZWxzZVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwicXVvdGVfc3R5bGluZ1wiXScpLmhpZGUoKTtcblxuXHRcdC8vIFNob3cvSGlkZSBBdXRob3IgTmFtZVxuXHRcdGlmICggZHNsY0VsQXV0aG9yTmFtZSApXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJhdXRob3JfbmFtZV9zdHlsaW5nXCJdJykuc2hvdygpO1xuXHRcdGVsc2Vcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cImF1dGhvcl9uYW1lX3N0eWxpbmdcIl0nKS5oaWRlKCk7XG5cblx0XHQvLyBTaG93L0hpZGUgQXV0aG9yIFBvc2l0aW9uXG5cdFx0aWYgKCBkc2xjRWxBdXRob3JQb3MgKVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwiYXV0aG9yX3Bvc2l0aW9uX3N0eWxpbmdcIl0nKS5zaG93KCk7XG5cdFx0ZWxzZVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwiYXV0aG9yX3Bvc2l0aW9uX3N0eWxpbmdcIl0nKS5oaWRlKCk7XG5cblx0XHQvLyBTaG93L0hpZGUgSW1hZ2Vcblx0XHRpZiAoIGRzbGNFbEltYWdlIClcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFiLWhvb2tbZGF0YS1pZD1cImltYWdlX3N0eWxpbmdcIl0nKS5zaG93KCk7XG5cdFx0ZWxzZVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwiaW1hZ2Vfc3R5bGluZ1wiXScpLmhpZGUoKTtcblxuXHRcdC8vIFNob3cvSGlkZSBRdW90ZVxuXHRcdGlmICggZHNsY0VsTG9nbyApXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rW2RhdGEtaWQ9XCJsb2dvX3N0eWxpbmdcIl0nKS5zaG93KCk7XG5cdFx0ZWxzZVxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9va1tkYXRhLWlkPVwibG9nb19zdHlsaW5nXCJdJykuaGlkZSgpO1xuXG5cdH1cblxuXHQvKipcblx0ICogQ2hlY2sgJ0VuYWJsZS9EaXNhYmxlIEN1c3RvbSBDU1MnIGNvbnRyb2xcblx0ICovXG5cblx0aWYgKCBqUXVlcnkoJy5kc2xjYS1vcHRpb25zLWZpbHRlci1ob29rW2RhdGEtc2VjdGlvbj1cInN0eWxpbmdcIl0nKS5oYXNDbGFzcygnZHNsY2EtYWN0aXZlJykgKSB7XG5cblx0XHR2YXIgZHNsY0N1c3RvbUNTUyA9IGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbltkYXRhLWlkPVwiY3NzX2N1c3RvbVwiXScpLFxuXHRcdGRzbGNDdXN0b21DU1NWYWwgPSBkc2xjQ3VzdG9tQ1NTLmZpbmQoJ3NlbGVjdCcpLnZhbCgpO1xuXG5cdFx0aWYgKCBkc2xjQ3VzdG9tQ1NTVmFsID09ICdlbmFibGVkJyApIHtcblxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uW2RhdGEtc2VjdGlvbj1cInN0eWxpbmdcIl0nKS5jc3MoeyB2aXNpYmlsaXR5IDogJ3Zpc2libGUnIH0pO1xuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uW2RhdGEtdGFiXScpLmNzcyggJ3Zpc2liaWxpdHknLCAndmlzaWJsZScgKTtcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFicycpLnNob3coKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uW2RhdGEtc2VjdGlvbj1cInN0eWxpbmdcIl0nKS5jc3MoeyB2aXNpYmlsaXR5IDogJ2hpZGRlbicgfSk7XG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtY29udHJvbC1ncm91cC5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24nKS5jc3MoICd2aXNpYmlsaXR5JywgJ2hpZGRlbicgKTtcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFicycpLmhpZGUoKTtcblx0XHRcdGRzbGNDdXN0b21DU1MuY3NzKHsgdmlzaWJpbGl0eSA6ICd2aXNpYmxlJyB9KTtcblx0XHR9XG5cblx0fSBlbHNlIHtcblx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYnMnKS5zaG93KCk7XG5cdH1cblxuXHRpZiAoIGpRdWVyeSgnc2VsZWN0LmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkW2RhdGEtaWQ9XCJjc3NfcmVzX3RcIl0nKS52YWwoKSA9PSAnZGlzYWJsZWQnICkge1xuXHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbltkYXRhLWlkKj1cImNzc19yZXNfdFwiXScpLmNzcyggJ3Zpc2liaWxpdHknLCAnaGlkZGVuJyApO1xuXHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbltkYXRhLXRhYj1cInRhYmxldF9yZXNwb25zaXZlXCJdJykuY3NzKCAndmlzaWJpbGl0eScsICdoaWRkZW4nICk7XG5cdH0gZWxzZSB7XG5cdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uW2RhdGEtaWQqPVwiY3NzX3Jlc190XCJdJykuY3NzKCAndmlzaWJpbGl0eScsICd2aXNpYmxlJyApO1xuXHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbltkYXRhLXRhYj1cInRhYmxldF9yZXNwb25zaXZlXCJdJykuY3NzKCAndmlzaWJpbGl0eScsICd2aXNpYmxlJyApO1xuXHR9XG5cblx0aWYgKCBqUXVlcnkoJ3NlbGVjdC5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZFtkYXRhLWlkPVwiY3NzX3Jlc19wXCJdJykudmFsKCkgPT0gJ2Rpc2FibGVkJyApIHtcblx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25bZGF0YS1pZCo9XCJjc3NfcmVzX3BcIl0nKS5jc3MoICd2aXNpYmlsaXR5JywgJ2hpZGRlbicgKTtcblx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25bZGF0YS10YWI9XCJwaG9uZV9yZXNwb25zaXZlXCJdJykuY3NzKCAndmlzaWJpbGl0eScsICdoaWRkZW4nICk7XG5cdH0gZWxzZSB7XG5cdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uW2RhdGEtaWQqPVwiY3NzX3Jlc19wXCJdJykuY3NzKCAndmlzaWJpbGl0eScsICd2aXNpYmxlJyApO1xuXHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbltkYXRhLXRhYj1cInBob25lX3Jlc3BvbnNpdmVcIl0nKS5jc3MoICd2aXNpYmlsaXR5JywgJ3Zpc2libGUnICk7XG5cdH1cblxuXHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25bZGF0YS1pZD1cImNzc19yZXNfcFwiXSwgLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbltkYXRhLWlkPVwiY3NzX3Jlc190XCJdJykuY3NzKCAndmlzaWJpbGl0eScsICd2aXNpYmxlJyApO1xuXG5cblx0aWYgKCBqUXVlcnkoJy5kc2xjYS1vcHRpb25zLWZpbHRlci1ob29rJykuaGFzQ2xhc3MoJ2RzbGNhLWFjdGl2ZScpICkge1xuXHRcdHZhciBzZWN0aW9uX3RhYiA9IGpRdWVyeSgnLmRzbGNhLW9wdGlvbnMtZmlsdGVyLWhvb2suZHNsY2EtYWN0aXZlJykuZGF0YSgnc2VjdGlvbicpO1xuXG5cdFx0aWYgKCBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25bZGF0YS1zZWN0aW9uPVwiJyArIHNlY3Rpb25fdGFiICsgJ1wiXScpLmhhc0NsYXNzKCdkZXAtc2hvdycpICkge1xuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uLmRlcC1zaG93Jykuc2hvdygpO1xuXHRcdH1cblxuXHRcdGlmICggalF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uW2RhdGEtc2VjdGlvbj1cIicgKyBzZWN0aW9uX3RhYiArICdcIl0nKS5oYXNDbGFzcygnZGVwLWhpZGUnKSApIHtcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi5kZXAtaGlkZScpLmhpZGUoKTtcblx0XHR9XG5cdH1cblx0XG5cdGlmICggalF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9ucy10YWItaG9vaycpLmhhc0NsYXNzKCdkc2xjYS1hY3RpdmUnKSApIHtcblx0XHR2YXIgZGF0YV90YWIgPSBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYi1ob29rLmRzbGNhLWFjdGl2ZScpLmRhdGEoJ2lkJyk7XG5cdFx0XG5cdFx0aWYgKCBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25bZGF0YS10YWI9XCInICsgZGF0YV90YWIgKyAnXCJdJykuaGFzQ2xhc3MoJ2RlcGVuZGVudCcpICkge1xuXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24uZGVwZW5kZW50JykuaGlkZSgpO1xuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uW2RhdGEtdGFiPVwiJyArIGRhdGFfdGFiICsgJ1wiXS5kZXAtc2hvdycpLnNob3coKTtcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbltkYXRhLXRhYj1cIicgKyBkYXRhX3RhYiArICdcIl0uZGVwLWhpZGUnKS5oaWRlKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdFxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uLmRlcGVuZGVudCcpLmhpZGUoKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBNT0RVTEVTIFNFVFRJTkdTIFBBTkVMIC0gQ29uZmlybSBtb2R1bGUgb3B0aW9ucyBjaGFuZ2VzXG4gKi9cbmZ1bmN0aW9uIGRzbGNfbW9kdWxlX29wdGlvbnNfY29uZmlybV9jaGFuZ2VzKCBjYWxsYmFjayApIHtcblxuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2RzbGNfbW9kdWxlX29wdGlvbnNfY29uZmlybV9jaGFuZ2VzJyApO1xuXG5cdC8vIENhbGxiYWNrXG5cdGNhbGxiYWNrID0gdHlwZW9mIGNhbGxiYWNrICE9PSAndW5kZWZpbmVkJyA/IGNhbGxiYWNrIDogZmFsc2U7XG5cblx0Ly8gSWYgc2xpZGVyIG1vZHVsZVxuXHRpZiAoIGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1iZWluZy1lZGl0ZWQnLCB3aW5kb3cuTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkuaGFzQ2xhc3MoJ2RzbGMtbW9kdWxlLURTTENfU2xpZGVycycpICkge1xuXG5cdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWJlaW5nLWVkaXRlZCcsIHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5yZW1vdmVDbGFzcygnZHNsY2EtbW9kdWxlLWJlaW5nLWVkaXRlZCcpO1xuXHQvLyBJZiBub3Qgc2xpZGVyIG1vZHVsZVxuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQWRkIGNsYXNzIHNvIHdlIGtub3cgc2F2aW5nIGlzIGluIHByb2dyZXNzXG5cdFx0alF1ZXJ5KCdib2R5JykuYWRkQ2xhc3MoJ2RzbGNhLW1vZHVsZS1zYXZpbmctaW4tcHJvZ3Jlc3MnKTtcblxuXHRcdC8vIFJlbG9hZCBtb2R1bGUgd2l0aCBuZXcgc2V0dGluZ3Ncblx0XHRkc2xjX21vZHVsZV9vdXRwdXRfYWx0ZXJlZCggZnVuY3Rpb24oKXtcblxuXHRcdFx0Ly8gVXBkYXRlIHByZXNldFxuXHRcdFx0ZHNsY191cGRhdGVfcHJlc2V0KCk7XG5cblx0XHRcdHdpbmRvdy5kc2xjX2dlbmVyYXRlX2NvZGUoKTtcblxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWJlaW5nLWVkaXRlZCcsIHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5yZW1vdmVDbGFzcygnZHNsY2EtbW9kdWxlLWJlaW5nLWVkaXRlZCcpO1xuXG5cdFx0XHQvLyBSZW1vdmUgY2xhc3NlcyBzbyB3ZSBrbm93IHNhdmluZyBmaW5pc2hlZFxuXHRcdFx0alF1ZXJ5KCdib2R5JykucmVtb3ZlQ2xhc3MoJ2RzbGNhLW1vZHVsZS1zYXZpbmctaW4tcHJvZ3Jlc3MnKTtcblxuXHRcdFx0Ly8gQ2xlYW4gdXAgb3B0aW9ucyBjb250YWluZXJcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtaW5uZXInKS5odG1sKCcnKTtcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtdGFicycpLmh0bWwoJycpO1xuXG5cdFx0XHR3aW5kb3cuTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuVUkuY2xlYXJVdGlscygpO1xuXG5cdFx0XHQvLyBDYWxsYmFjayBpZiB0aGVyZSdzIG9uZVxuXHRcdFx0aWYgKCBjYWxsYmFjayApIHsgY2FsbGJhY2soKTsgfVxuXHRcdH0pO1xuXHR9XG5cblx0Ly8gU2hvdyBtb2R1bGVzIGxpc3Rpbmdcblx0ZHNsY19zaG93X3NlY3Rpb24oJy5kc2xjYS1tb2R1bGVzJyk7XG5cblx0Ly8gSGlkZSB0aGUgZmlsdGVyIGhvb2tzXG5cdGpRdWVyeSgnLmRzbGNhLWhlYWRlciAuZHNsY2Etb3B0aW9ucy1maWx0ZXItaG9vaycpLmhpZGUoKTtcblxuXHQvLyBIaWRlIHRoZSBzYXZlL2NhbmNlbCBhY3Rpb25zXG5cdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWFjdGlvbnMnKS5oaWRlKCk7XG5cblx0Ly8gU2hvdyB0aGUgc2VjdGlvbiBob29rc1xuXHRqUXVlcnkoJy5kc2xjYS1oZWFkZXIgLmRzbGNhLWdvLXRvLXNlY3Rpb24taG9vaycpLnNob3coKTtcblxuXHQvLyB3aW5kb3cuZHNsY19nZW5lcmF0ZV9jb2RlKCk7XG5cdC8vIFNob3cgdGhlIHB1Ymxpc2ggYnV0dG9uXG5cdHdpbmRvdy5kc2xjX3Nob3dfcHVibGlzaF9idXR0b24oKTtcbn1cblxuLyoqXG4gKiBNT0RVTEVTIFNFVFRJTkdTIFBBTkVMIC0gQ2FuY2VsIG1vZHVsZSBvcHRpb25zIGNoYW5nZXNcbiAqL1xuZnVuY3Rpb24gZHNsY19tb2R1bGVfb3B0aW9uc19jYW5jZWxfY2hhbmdlcyggY2FsbGJhY2sgKSB7XG5cblx0aWYgKCB3aW5kb3cuZHNsY0RlYnVnICkgY29uc29sZS5sb2coICdkc2xjX21vZHVsZV9vcHRpb25zX2NhbmNlbF9jaGFuZ2VzJyApO1xuXG5cdC8vIENhbGxiYWNrXG5cdGNhbGxiYWNrID0gdHlwZW9mIGNhbGxiYWNrICE9PSAndW5kZWZpbmVkJyA/IGNhbGxiYWNrIDogZmFsc2U7XG5cblx0Ly8gVmFyc1xuXHR2YXIgZWRpdGVkTW9kdWxlID0galF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWJlaW5nLWVkaXRlZCcsIHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KTtcblxuXHQvLyBBZGQgYmFja3VwIG9wdGlvbiB2YWx1ZXNcblx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLW9wdGlvbnMtZnJvbnQnLCBlZGl0ZWRNb2R1bGUpLmh0bWwoJycpLmFwcGVuZCh3aW5kb3cuTGl2ZUNvbXBvc2VyLkJ1aWxkZXIubW9kdWxlQmFja3VwKTtcblx0Ly8gd2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLm1vZHVsZUJhY2t1cCA9IGZhbHNlO1xuXG5cdC8vIFJlbG9hZCBtb2R1bGVcblx0ZHNsY19tb2R1bGVfb3V0cHV0X2FsdGVyZWQoIGZ1bmN0aW9uKCl7XG5cblx0XHR3aW5kb3cuZHNsY19nZW5lcmF0ZV9jb2RlKCk7XG5cblx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtYmVpbmctZWRpdGVkJywgd2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLnJlbW92ZUNsYXNzKCdkc2xjYS1tb2R1bGUtYmVpbmctZWRpdGVkJyk7XG5cblx0XHQvLyBDbGVhbiB1cCBvcHRpb25zIGNvbnRhaW5lclxuXHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbnMtaW5uZXInKS5odG1sKCcnKTtcblx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb25zLXRhYnMnKS5odG1sKCcnKTtcblxuXHRcdHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5VSS5jbGVhclV0aWxzKCk7XG5cblx0XHRpZiAoIGNhbGxiYWNrICkgeyBjYWxsYmFjaygpOyB9XG5cdH0pO1xuXG5cdC8vIFNob3cgbW9kdWxlcyBsaXN0aW5nXG5cdGRzbGNfc2hvd19zZWN0aW9uKCcuZHNsY2EtbW9kdWxlcycpO1xuXG5cdC8vIEhpZGUgdGhlIGZpbHRlciBob29rc1xuXHRqUXVlcnkoJy5kc2xjYS1oZWFkZXIgLmRzbGNhLW9wdGlvbnMtZmlsdGVyLWhvb2snKS5oaWRlKCk7XG5cblx0Ly8gSGlkZSB0aGUgc2F2ZS9jYW5jZWwgYWN0aW9uc1xuXHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1hY3Rpb25zJykuaGlkZSgpO1xuXG5cdC8vIFNob3cgdGhlIHNlY3Rpb24gaG9va3Ncblx0alF1ZXJ5KCcuZHNsY2EtaGVhZGVyIC5kc2xjYS1nby10by1zZWN0aW9uLWhvb2snKS5zaG93KCk7XG5cblx0Ly8gU2hvdyB0aGUgcHVibGlzaCBidXR0b25cblx0d2luZG93LmRzbGNfc2hvd19wdWJsaXNoX2J1dHRvbigpO1xuXG5cdHdpbmRvdy5MaXZlQ29tcG9zZXIuQnVpbGRlci5VSS5jbGVhclV0aWxzKCk7XG59XG5cbi8qKlxuICogTU9EVUxFUyBTRVRUSU5HUyBQQU5FTCAtIE9wdGlvbiBUb29sdGlwc1xuICovXG5mdW5jdGlvbiBkc2xjX21vZHVsZV9vcHRpb25zX3Rvb2x0aXAoKSB7XG5cblx0Ly8gQ2xvc2UgVG9vbHRpcFxuXHRqUXVlcnkoZG9jdW1lbnQpLm9uKCAnY2xpY2snLCAnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkLXR0aXAtY2xvc2UnLCBmdW5jdGlvbigpe1xuXHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkLXR0aXAsIC5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC1pY29uLXR0aXAnKS5oaWRlKCk7XG5cdH0pO1xuXG5cdC8vIFNob3cgVG9vbHRpcFxuXHRqUXVlcnkoZG9jdW1lbnQpLm9uKCAnY2xpY2snLCAnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkLXR0aXAtaG9vaycsIGZ1bmN0aW9uKCl7XG5cblx0XHR2YXIgZHNsY1R0aXAgPSBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC10dGlwJyksXG5cdFx0ZHNsY1R0aXBJbm5lciA9IGRzbGNUdGlwLmZpbmQoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC10dGlwLWlubmVyJyksXG5cdFx0ZHNsY0hvb2sgPSBqUXVlcnkodGhpcyksXG5cdFx0ZHNsY1R0aXBDb250ZW50LFxuXHRcdGRzbGNMYWJlbDtcblxuXHRcdGRzbGNMYWJlbCA9IGRzbGNIb29rLnBhcmVudCgpO1xuXG5cdFx0aWYgKCBkc2xjTGFiZWwucGFyZW50KCkuaGFzQ2xhc3MoJ2RzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LW9wdGlvbicpICkge1xuXHRcdFx0ZHNsY1R0aXBDb250ZW50ID0gZHNsY0hvb2suY2xvc2VzdCgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LW9wdGlvbicpLmZpbmQoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC10dGlwLWNvbnRlbnQnKS5odG1sKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRzbGNUdGlwQ29udGVudCA9IGRzbGNIb29rLmNsb3Nlc3QoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24nKS5maW5kKCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtdHRpcC1jb250ZW50JykuaHRtbCgpO1xuXHRcdH1cblxuXHRcdGlmICggZHNsY1R0aXAuaXMoJzp2aXNpYmxlJykgKSB7XG5cblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkLXR0aXAnKS5oaWRlKCk7XG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0ZHNsY1R0aXBJbm5lci5odG1sKCBkc2xjVHRpcENvbnRlbnQgKTtcblxuXHRcdFx0dmFyIGRzbGNPZmZzZXQgPSBkc2xjSG9vay5vZmZzZXQoKTtcblx0XHRcdHZhciBkc2xjVHRpcEhlaWdodCA9IGRzbGNUdGlwLm91dGVySGVpZ2h0KCk7XG5cdFx0XHR2YXIgZHNsY1R0aXBXaWR0aCA9IGRzbGNUdGlwLm91dGVyV2lkdGgoKTtcblx0XHRcdHZhciBkc2xjVHRpcExlZnQgPSBkc2xjT2Zmc2V0LmxlZnQgLSAoIGRzbGNUdGlwV2lkdGggLyAyICkgKyA2O1xuXHRcdFx0dmFyIGRzbGNUdGlwQXJyTGVmdCA9ICc1MCUnO1xuXG5cdFx0XHRpZiAoIGRzbGNUdGlwTGVmdCA8IDAgKSB7XG5cblx0XHRcdFx0ZHNsY1R0aXBBcnJMZWZ0ID0gKCBkc2xjVHRpcFdpZHRoIC8gMiApICsgZHNsY1R0aXBMZWZ0ICsgJ3B4Jztcblx0XHRcdFx0ZHNsY1R0aXBMZWZ0ID0gMDtcblx0XHRcdH1cblxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtdHRpcCcpLnNob3coKS5jc3Moe1xuXHRcdFx0XHR0b3AgOiBkc2xjT2Zmc2V0LnRvcCAtIGRzbGNUdGlwSGVpZ2h0IC0gMjAsXG5cdFx0XHRcdGxlZnQ6IGRzbGNUdGlwTGVmdFxuXHRcdFx0fSk7XG5cblx0XHRcdGpRdWVyeShcImhlYWRcIikuYXBwZW5kKGpRdWVyeSgnPHN0eWxlPi5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC10dGlwOmFmdGVyLCAuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtdHRpcDpiZWZvcmUgeyBsZWZ0OiAnICsgZHNsY1R0aXBBcnJMZWZ0ICsgJyB9PC9zdHlsZT4nKSk7XG5cdFx0fVxuXHR9KTtcblxuXHQvLyBTaG93IFRvb2x0aXAgKCBJY29uIE9wdGlvbnMgKVxuXHRqUXVlcnkoZG9jdW1lbnQpLm9uKCAnY2xpY2snLCAnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkLWljb24tdHRpcC1ob29rJywgZnVuY3Rpb24oKXtcblxuXHRcdHZhciBkc2xjVHRpcCA9IGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkLWljb24tdHRpcCcpO1xuXHRcdHZhciBkc2xjSG9vayA9IGpRdWVyeSh0aGlzKTtcblxuXHRcdGlmICggZHNsY1R0aXAuaXMoJzp2aXNpYmxlJykgKSB7XG5cblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkLWljb24tdHRpcCcpLmhpZGUoKTtcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHR2YXIgZHNsY09mZnNldCA9IGRzbGNIb29rLm9mZnNldCgpO1xuXHRcdFx0dmFyIGRzbGNUdGlwSGVpZ2h0ID0gZHNsY1R0aXAub3V0ZXJIZWlnaHQoKTtcblx0XHRcdHZhciBkc2xjVHRpcFdpZHRoID0gZHNsY1R0aXAub3V0ZXJXaWR0aCgpO1xuXHRcdFx0dmFyIGRzbGNUdGlwTGVmdCA9IGRzbGNPZmZzZXQubGVmdCAtICggZHNsY1R0aXBXaWR0aCAvIDIgKSArIDY7XG5cdFx0XHR2YXIgZHNsY1R0aXBBcnJMZWZ0ID0gJzUwJSc7XG5cblx0XHRcdGlmICggZHNsY1R0aXBMZWZ0IDwgMCApIHtcblxuXHRcdFx0XHRkc2xjVHRpcEFyckxlZnQgPSAoIGRzbGNUdGlwV2lkdGggLyAyICkgKyBkc2xjVHRpcExlZnQgKyAncHgnO1xuXHRcdFx0XHRkc2xjVHRpcExlZnQgPSAwO1xuXHRcdFx0fVxuXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC1pY29uLXR0aXAnKS5zaG93KCkuY3NzKHtcblx0XHRcdFx0dG9wIDogZHNsY09mZnNldC50b3AgLSBkc2xjVHRpcEhlaWdodCAtIDIwLFxuXHRcdFx0XHRsZWZ0OiBkc2xjVHRpcExlZnRcblx0XHRcdH0pO1xuXG5cdFx0XHRqUXVlcnkoXCJoZWFkXCIpLmFwcGVuZChqUXVlcnkoJzxzdHlsZT4uZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtaWNvbi10dGlwOmFmdGVyLCAuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtaWNvbi10dGlwOmJlZm9yZSB7IGxlZnQ6ICcgKyBkc2xjVHRpcEFyckxlZnQgKyAnIH08L3N0eWxlPicpKTtcblx0XHR9XG5cdH0pO1xufVxuXG4vKipcbiAqIE1PRFVMRVMgU0VUVElOR1MgUEFORUwgLSBGb250IG9wdGlvbiB0eXBlXG4gKi9cbmZ1bmN0aW9uIGRzbGNfbW9kdWxlX29wdGlvbnNfZm9udCgpIHtcblxuXHQvLyBOZXh0IEZvbnRcblx0alF1ZXJ5KGRvY3VtZW50KS5vbiggJ2NsaWNrJywgJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC1mb250LW5leHQnLCAgZnVuY3Rpb24oZSl7XG5cblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRpZiAoICEgalF1ZXJ5KHRoaXMpLmhhc0NsYXNzKCdkc2xjYS1mb250LWxvYWRpbmcnKSAmJiAhIGpRdWVyeSh0aGlzKS5zaWJsaW5ncygnLmRzbGNhLWZvbnQtbG9hZGluZycpLmxlbmd0aCApIHtcblxuXHRcdFx0dmFyIGRzbGNPcHRpb24gPSBqUXVlcnkodGhpcykuY2xvc2VzdCgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi1mb250Jyk7XG5cdFx0XHR2YXIgZHNsY0ZpZWxkID0galF1ZXJ5KCAnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkLWZvbnQnLCBkc2xjT3B0aW9uICk7XG5cdFx0XHR2YXIgZHNsY0N1cnJJbmRleCA9IGRzbGNBbGxGb250c0FycmF5LmluZGV4T2YoIGRzbGNGaWVsZC52YWwoKSApO1xuXHRcdFx0dmFyIGRzbGNOZXdJbmRleCA9IGRzbGNDdXJySW5kZXggKyAxO1xuXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC1mb250LXN1Z2dlc3QnLCBkc2xjT3B0aW9uKS50ZXh0KCcnKTtcblxuXHRcdFx0ZHNsY0ZpZWxkLnZhbCggZHNsY0FsbEZvbnRzQXJyYXlbZHNsY05ld0luZGV4XSApLnRyaWdnZXIoJ2NoYW5nZScpO1xuXG5cdFx0XHRqUXVlcnkodGhpcykuYWRkQ2xhc3MoJ2RzbGNhLWZvbnQtbG9hZGluZycpLmZpbmQoJy5kc2xjYS1pY29uJykucmVtb3ZlQ2xhc3MoJ2RzbGMtaWNvbi1jaGV2cm9uLXJpZ2h0JykuYWRkQ2xhc3MoJ2RzbGMtaWNvbi1yZWZyZXNoIGRzbGMtaWNvbi1zcGluJyk7XG5cdFx0fVxuXHR9KTtcblxuXHQvLyBQcmV2aW91cyBGb250XG5cdGpRdWVyeShkb2N1bWVudCkub24oICdjbGljaycsICcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtZm9udC1wcmV2JywgIGZ1bmN0aW9uKGUpe1xuXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0aWYgKCAhIGpRdWVyeSh0aGlzKS5oYXNDbGFzcygnZHNsY2EtZm9udC1sb2FkaW5nJykgJiYgISBqUXVlcnkodGhpcykuc2libGluZ3MoJy5kc2xjYS1mb250LWxvYWRpbmcnKS5sZW5ndGggKSB7XG5cblx0XHRcdHZhciBkc2xjT3B0aW9uID0galF1ZXJ5KHRoaXMpLmNsb3Nlc3QoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24tZm9udCcpO1xuXHRcdFx0dmFyIGRzbGNGaWVsZCA9IGpRdWVyeSggJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC1mb250JywgZHNsY09wdGlvbiApO1xuXHRcdFx0dmFyIGRzbGNDdXJySW5kZXggPSBkc2xjQWxsRm9udHNBcnJheS5pbmRleE9mKCBkc2xjRmllbGQudmFsKCkgKTtcblx0XHRcdHZhciBkc2xjTmV3SW5kZXggPSBkc2xjQ3VyckluZGV4IC0gMTtcblxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtZm9udC1zdWdnZXN0JywgZHNsY09wdGlvbikudGV4dCgnJyk7XG5cblx0XHRcdGlmICggZHNsY05ld0luZGV4IDwgMCApIHtcblxuXHRcdFx0XHRkc2xjTmV3SW5kZXggPSBkc2xjQWxsRm9udHNBcnJheS5sZW5ndGggLSAxXG5cdFx0XHR9XG5cblx0XHRcdGRzbGNGaWVsZC52YWwoIGRzbGNBbGxGb250c0FycmF5W2RzbGNOZXdJbmRleF0gKS50cmlnZ2VyKCdjaGFuZ2UnKTtcblxuXHRcdFx0alF1ZXJ5KHRoaXMpLmFkZENsYXNzKCdkc2xjYS1mb250LWxvYWRpbmcnKS5maW5kKCcuZHNsY2EtaWNvbicpLnJlbW92ZUNsYXNzKCdkc2xjLWljb24tY2hldnJvbi1sZWZ0JykuYWRkQ2xhc3MoJ2RzbGMtaWNvbi1yZWZyZXNoIGRzbGMtaWNvbi1zcGluJyk7XG5cdFx0fVxuXHR9KTtcblxuXHQvLyBLZXl1cCAoIGxlZnQgYXJyb3csIHJpZ2h0IGFycm93LCBlbHNlIClcblx0alF1ZXJ5KGRvY3VtZW50KS5vbiggJ2tleXVwJywgJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC1mb250JywgZnVuY3Rpb24oZSkge1xuXG5cdFx0dmFyIGRzbGNGaWVsZCwgZHNsY09wdGlvbiwgZHNsY1ZhbCwgZHNsY01hdGNoaW5nRm9udCA9IGZhbHNlLCBkc2xjRm9udDtcblxuXHRcdGRzbGNGaWVsZCA9IGpRdWVyeSh0aGlzKTtcblx0XHRkc2xjT3B0aW9uID0gZHNsY0ZpZWxkLmNsb3Nlc3QoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24nKTtcblxuXHRcdGlmICggZS53aGljaCA9PSAzOCApIHtcblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkLWZvbnQtcHJldicsIGRzbGNPcHRpb24pLmNsaWNrKCk7XG5cdFx0fVxuXG5cdFx0aWYgKCBlLndoaWNoID09IDQwICkge1xuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtZm9udC1uZXh0JywgZHNsY09wdGlvbikuY2xpY2soKTtcblx0XHR9XG5cblx0XHRpZiAoIGUud2hpY2ggIT0gMTMgJiYgZS53aGljaCAhPSAzOCAmJiBlLndoaWNoICE9IDQwICkge1xuXG5cdFx0XHRkc2xjVmFsID0gZHNsY0ZpZWxkLnZhbCgpO1xuXG5cdFx0XHR2YXIgc2VhcmNoID0gW107XG5cdFx0XHR2YXIgcmUgPSBuZXcgUmVnRXhwKCdeJyArIGRzbGNWYWwsICdpJyk7XG5cdFx0XHR2YXIgZHNsY0ZvbnRzQW1vdW50ID0gZHNsY0FsbEZvbnRzQXJyYXkubGVuZ3RoO1xuXHRcdFx0dmFyIGkgPSAwO1xuXG5cdFx0XHRkbyB7XG5cblx0XHRcdFx0aWYgKHJlLnRlc3QoZHNsY0FsbEZvbnRzQXJyYXlbaV0pKSB7XG5cblx0XHRcdFx0XHRpZiAoICEgZHNsY01hdGNoaW5nRm9udCApIHtcblxuXHRcdFx0XHRcdFx0dmFyIGRzbGNNYXRjaGluZ0ZvbnQgPSBkc2xjQWxsRm9udHNBcnJheVtpXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0aSsrOyB9IHdoaWxlIChpIDwgZHNsY0ZvbnRzQW1vdW50KTtcblxuXHRcdFx0aWYgKCAhIGRzbGNNYXRjaGluZ0ZvbnQgKSB7XG5cblx0XHRcdFx0ZHNsY0ZvbnQgPSBkc2xjVmFsO1xuXHRcdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC1mb250LXN1Z2dlc3QnLCBkc2xjT3B0aW9uKS5oaWRlKCk7XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdGRzbGNGb250ID0gZHNsY01hdGNoaW5nRm9udDtcblx0XHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtZm9udC1zdWdnZXN0JywgZHNsY09wdGlvbikuc2hvdygpO1xuXHRcdFx0fVxuXG5cdFx0XHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC1mb250LXN1Z2dlc3QnLCBkc2xjT3B0aW9uKS50ZXh0KCBkc2xjRm9udCApO1xuXG5cdFx0XHRpZiAoIGRzbGNGb250Lmxlbmd0aCApe1xuXG5cdFx0XHRcdGRzbGNGaWVsZC52YWwoIGRzbGNGb250LnN1YnN0cmluZyggMCAsIGRzbGNGaWVsZC52YWwoKS5sZW5ndGggKSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG5cblx0Ly8gS2V5IHByZXNzICggZW50ZXIgKVxuXHRqUXVlcnkoZG9jdW1lbnQpLm9uKCAna2V5cHJlc3MnLCAnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkLWZvbnQnLCBmdW5jdGlvbihlKSB7XG5cblx0XHRpZiAoIGUud2hpY2ggPT0gMTMgKSB7XG5cblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0dmFyIGRzbGNGaWVsZCwgZHNsY09wdGlvbiwgZHNsY1ZhbCwgZHNsY01hdGNoaW5nRm9udCwgZHNsY0ZvbnQ7XG5cblx0XHRcdGRzbGNGaWVsZCA9IGpRdWVyeSh0aGlzKTtcblx0XHRcdGRzbGNPcHRpb24gPSBkc2xjRmllbGQuY2xvc2VzdCgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbicpO1xuXG5cdFx0XHRqUXVlcnkodGhpcykudmFsKCBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC1mb250LXN1Z2dlc3QnLCBkc2xjT3B0aW9uKS50ZXh0KCkgKS50cmlnZ2VyKCdjaGFuZ2UnKTtcblxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtZm9udC1zdWdnZXN0JywgZHNsY09wdGlvbikudGV4dCgnJyk7XG5cdFx0fVxuXHR9KTtcbn1cblxuLypcbiAqIE1PRFVMRVMgU0VUVElOR1MgUEFORUwgLSBDaGFuZ2UgaWNvbiBjb2RlIGJhc2VkIG9uIGRpcmVjdGlvbiAobmV4dC9wcmV2aW91cylcbiAqL1xuZnVuY3Rpb24gZHNsY19saXN0X2ljb24oIG9iamVjdCwgZGlyZWN0aW9uICkge1xuXG5cdHZhciBkc2xjT3B0aW9uID0galF1ZXJ5KG9iamVjdCkuY2xvc2VzdCgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi1pY29uJyk7XG5cdHZhciBkc2xjRmllbGQgPSBqUXVlcnkoICcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtaWNvbicsIGRzbGNPcHRpb24gKTtcblx0dmFyIGRzbGNDdXJySW5kZXggPSBkc2xjSWNvbnNDdXJyZW50U2V0LmluZGV4T2YoIGRzbGNGaWVsZC52YWwoKSApO1xuXG5cdGlmICggZGlyZWN0aW9uID09ICdwcmV2aW91cycgKSB7XG5cblx0XHR2YXIgZHNsY05ld0luZGV4ID0gZHNsY0N1cnJJbmRleCAtIDE7XG5cdH0gZWxzZSB7XG5cblx0XHR2YXIgZHNsY05ld0luZGV4ID0gZHNsY0N1cnJJbmRleCArIDE7XG5cdH1cblxuXHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC1pY29uLXN1Z2dlc3QnLCBkc2xjT3B0aW9uKS50ZXh0KCcnKTtcblxuXHRpZiAoIGRzbGNOZXdJbmRleCA8IDAgKSB7XG5cblx0XHRkc2xjTmV3SW5kZXggPSBkc2xjSWNvbnNDdXJyZW50U2V0Lmxlbmd0aCAtIDFcblx0fVxuXG5cdGRzbGNGaWVsZC52YWwoIGRzbGNJY29uc0N1cnJlbnRTZXRbZHNsY05ld0luZGV4XSApLnRyaWdnZXIoJ2NoYW5nZScpO1xufVxuXG4vKipcbiAqIE1PRFVMRVMgU0VUVElOR1MgUEFORUwgLSBJY29uIG9wdGlvbiB0eXBlXG4gKi9cbmZ1bmN0aW9uIGRzbGNfbW9kdWxlX29wdGlvbnNfaWNvbigpIHtcblxuXHQvLyBLZXkgVXAgKCBhcnJvdyB1cCwgYXJyb3cgZG93biwgZWxzZSApXG5cblx0alF1ZXJ5KGRvY3VtZW50KS5vbiggJ2tleXVwJywgJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC1pY29uJywgZnVuY3Rpb24oZSkge1xuXG5cdFx0dmFyIGRzbGNGaWVsZCwgZHNsY09wdGlvbiwgZHNsY1ZhbCwgZHNsY0ljb25zQXJyYXlHcmVwLCBkc2xjSWNvbjtcblxuXHRcdGRzbGNGaWVsZCA9IGpRdWVyeSh0aGlzKTtcblx0XHRkc2xjT3B0aW9uID0gZHNsY0ZpZWxkLmNsb3Nlc3QoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24nKTtcblxuXHRcdC8vIEtleSBwcmVzc2VkOiBhcnJvdyB1cFxuXHRcdGlmICggZS53aGljaCA9PSAzOCApIHtcblxuXHRcdFx0ZHNsY19saXN0X2ljb24oZHNsY0ZpZWxkLCdwcmV2aW91cycpO1xuXHRcdH1cblxuXHRcdC8vIEtleSBwcmVzc2VkOiBhcnJvdyBkb3duXG5cdFx0aWYgKCBlLndoaWNoID09IDQwICkge1xuXG5cdFx0XHRkc2xjX2xpc3RfaWNvbihkc2xjRmllbGQsJ25leHQnKTtcblx0XHR9XG5cblx0XHRpZiAoIGUud2hpY2ggIT0gMTMgJiYgZS53aGljaCAhPSAzOCAmJiBlLndoaWNoICE9IDQwICkge1xuXG5cdFx0XHRkc2xjVmFsID0gZHNsY0ZpZWxkLnZhbCgpLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRkc2xjRmllbGQudmFsKCBkc2xjVmFsICk7XG5cblx0XHRcdGRzbGNJY29uc0FycmF5R3JlcCA9IGpRdWVyeS5ncmVwKGRzbGNJY29uc0N1cnJlbnRTZXQsIGZ1bmN0aW9uKHZhbHVlLCBpKSB7XG5cdFx0XHRcdHJldHVybiAoIHZhbHVlLmluZGV4T2YoIGRzbGNWYWwgKSA9PSAwICk7XG5cdFx0XHR9KTtcblxuXHRcdFx0ZHNsY0ljb24gPSBkc2xjSWNvbnNBcnJheUdyZXBbMF07XG5cblx0XHRcdGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkLWljb24tc3VnZ2VzdCcsIGRzbGNPcHRpb24pLnRleHQoIGRzbGNJY29uICk7XG5cdFx0fVxuXHR9KTtcblxuXHQvLyBLZXkgUHJlc3MgKCBFbnRlciApXG5cblx0alF1ZXJ5KGRvY3VtZW50KS5vbiggJ2tleXByZXNzJywgJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC1pY29uJywgZnVuY3Rpb24oZSkge1xuXG5cdFx0aWYgKCBlLndoaWNoID09IDEzICkge1xuXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdHZhciBkc2xjRmllbGQsIGRzbGNPcHRpb24sIGRzbGNWYWwsIGRzbGNJY29uc0FycmF5R3JlcCwgZHNsY0ljb247XG5cblx0XHRcdGRzbGNGaWVsZCA9IGpRdWVyeSh0aGlzKTtcblx0XHRcdGRzbGNPcHRpb24gPSBkc2xjRmllbGQuY2xvc2VzdCgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbicpO1xuXG5cdFx0XHRqUXVlcnkodGhpcykudmFsKCBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZC1pY29uLXN1Z2dlc3QnLCBkc2xjT3B0aW9uKS50ZXh0KCkgKS50cmlnZ2VyKCdjaGFuZ2UnKTtcblxuXHRcdFx0alF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtaWNvbi1zdWdnZXN0JywgZHNsY09wdGlvbikudGV4dCgnJyk7XG5cdFx0fVxuXHR9KTtcbn1cblxuLyoqXG4gKiBNT0RVTEVTIFNFVFRJTkdTIFBBTkVMIC0gcmV0dXJuIG9wdGlvbnMgaWRcbiAqL1xuZnVuY3Rpb24gZHNsY19tb2R1bGVfb3B0aW9uc19pY29uX3JldHVybmlkKCkge1xuXG5cdGpRdWVyeShkb2N1bWVudCkub24oJ2NsaWNrJywgJy5kc2xjYS1vcGVuLW1vZGFsLWhvb2tbZGF0YS1tb2RhbF49XCIuZHNsYy1saXN0LWljb25zXCJdJywgZnVuY3Rpb24oZWwpIHtcblx0XHRqUXVlcnkodGhpcykuY2xvc2VzdCgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi1pY29uJykuZmluZCgnaW5wdXQnKS5hZGRDbGFzcygnaWNvbi1tb2RhbC1hY3RpdmUnKTtcblx0fSk7XG5cblx0alF1ZXJ5KGRvY3VtZW50KS5vbignY2xpY2snLCAnLmRzbGNhLW1vZGFsLWljb25zIC5pY29uLWl0ZW0nLCBmdW5jdGlvbihlbCkge1xuXG5cdFx0Ly8gR2V0IHNlbGVjdGVkIGl0ZW0gY29kZVxuXHRcdHZhciBzZWxlY3RlZEljb25Db2RlID0galF1ZXJ5KHRoaXMpLmZpbmQoJy5pY29uLWl0ZW1fbmFtZScpLnRleHQoKTtcblx0XHRqUXVlcnkoJ2lucHV0Lmljb24tbW9kYWwtYWN0aXZlJykudmFsKHNlbGVjdGVkSWNvbkNvZGUpLmNoYW5nZSgpO1xuXG5cdFx0Ly8gQ2xvc2UgbW9kYWwgd2luZG93XG5cdFx0ZHNsY19oaWRlX21vZGFsKCAnJywgalF1ZXJ5KCcuZHNsY2EtbW9kYWw6dmlzaWJsZScpICk7XG5cdFx0alF1ZXJ5KCdpbnB1dC5pY29uLW1vZGFsLWFjdGl2ZScpLnJlbW92ZUNsYXNzKCdpY29uLW1vZGFsLWFjdGl2ZScpO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBNT0RVTEVTIFNFVFRJTkdTIFBBTkVMIC0gVGV4dCBhbGlnbiBvcHRpb24gdHlwZVxuICovXG5mdW5jdGlvbiBkc2xjX21vZHVsZV9vcHRpb25zX3RleHRfYWxpZ24oKSB7XG5cblx0alF1ZXJ5KGRvY3VtZW50KS5vbiggJ2NsaWNrJywgJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24tdGV4dC1hbGlnbi1ob29rJywgZnVuY3Rpb24oKXtcblxuXHRcdHZhciBuZXdPcHQgPSBqUXVlcnkodGhpcyksXG5cdFx0b3RoZXJPcHQgPSBqUXVlcnkodGhpcykuY2xvc2VzdCgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi10ZXh0LWFsaWduLXdyYXBwZXInKS5maW5kKCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uLXRleHQtYWxpZ24taG9vaycpLFxuXHRcdG5ld1ZhbCA9IG5ld09wdC5kYXRhKCd2YWwnKSxcblx0XHRyZWFsT3B0ID0galF1ZXJ5KHRoaXMpLmNsb3Nlc3QoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24tdGV4dC1hbGlnbi13cmFwcGVyJykuc2libGluZ3MoJ2lucHV0LmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkJyk7XG5cblx0XHRvdGhlck9wdC5yZW1vdmVDbGFzcygnZHNsY2EtYWN0aXZlJyk7XG5cdFx0bmV3T3B0LmFkZENsYXNzKCdkc2xjYS1hY3RpdmUnKTtcblxuXHRcdHJlYWxPcHQudmFsKCBuZXdWYWwgKS50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0fSk7XG59XG5cbi8qKlxuICogTU9EVUxFUyBTRVRUSU5HUyBQQU5FTCAtIENoZWNrYm94IE9wdGlvbiBUeXBlXG4gKi9cbmZ1bmN0aW9uIGRzbGNfbW9kdWxlX29wdGlvbnNfY2hlY2tib3goKSB7XG5cblx0alF1ZXJ5KGRvY3VtZW50KS5vbiggJ2NsaWNrJywgJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24tY2hlY2tib3gtaG9vaywgLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LW9wdGlvbi1jaGVja2JveC1ob29rJywgZnVuY3Rpb24oKXtcblxuXHRcdHZhciBjaGVja0Zha2UgPSBqUXVlcnkodGhpcyk7XG5cdFx0dmFyIGNoZWNrUmVhbCA9IGNoZWNrRmFrZS5zaWJsaW5ncygnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyk7XG5cblx0XHRpZiAoIGNoZWNrUmVhbC5wcm9wKCdjaGVja2VkJykgKSB7XG5cdFx0XHRjaGVja1JlYWwucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcblx0XHRcdGNoZWNrRmFrZS5maW5kKCcuZHNsY2EtaWNvbicpLnJlbW92ZUNsYXNzKCdkc2xjLWljb24tY2hlY2snKS5hZGRDbGFzcygnZHNsYy1pY29uLWNoZWNrLWVtcHR5Jyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNoZWNrUmVhbC5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XG5cdFx0XHRjaGVja0Zha2UuZmluZCgnLmRzbGNhLWljb24nKS5yZW1vdmVDbGFzcygnZHNsYy1pY29uLWNoZWNrLWVtcHR5JykuYWRkQ2xhc3MoJ2RzbGMtaWNvbi1jaGVjaycpO1xuXHRcdH1cblxuXHRcdGNoZWNrUmVhbC5jaGFuZ2UoKTtcblx0fSk7XG59XG5cbi8qKlxuICogTU9EVUxFUyBTRVRUSU5HUyBQQU5FTCAtIEJveCBTaGFkb3cgT3B0aW9uIFR5cGVcbiAqL1xuZnVuY3Rpb24gZHNsY19tb2R1bGVfb3B0aW9uc19ib3hfc2hhZG93KCkge1xuXG5cdGlmICggd2luZG93LmRzbGNEZWJ1ZyApIGNvbnNvbGUubG9nKCAnZHNsY19tb2R1bGVfb3B0aW9uc19ib3hfc2hhZG93JyApO1xuXG5cdC8qKlxuXHQgKiBWYWx1ZSBDaGFuZ2Vcblx0ICovXG5cblx0alF1ZXJ5KGRvY3VtZW50KS5vbiggJ2NoYW5nZScsICcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uLWJveC1zaGFkb3ctaG9yLCAnK1xuXHRcdCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uLWJveC1zaGFkb3ctdmVyLCAuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uLWJveC1zaGFkb3ctYmx1ciwgLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi1ib3gtc2hhZG93LXNwcmVhZCwnK1xuXHRcdCcgLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi1ib3gtc2hhZG93LWNvbG9yLCAuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uLWJveC1zaGFkb3ctaW5zZXQnLCBmdW5jdGlvbigpe1xuXG5cdFx0dmFyIGJveFNoYWRvd1dyYXBwZXIgPSBqUXVlcnkodGhpcykuY2xvc2VzdCgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbicpLFxuXHRcdGJveFNoYWRvd0lucHV0ID0gYm94U2hhZG93V3JhcHBlci5maW5kKCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQnKSxcblx0XHRib3hTaGFkb3dIb3IgPSBib3hTaGFkb3dXcmFwcGVyLmZpbmQoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24tYm94LXNoYWRvdy1ob3InKS52YWwoKSxcblx0XHRib3hTaGFkb3dWZXIgPSBib3hTaGFkb3dXcmFwcGVyLmZpbmQoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24tYm94LXNoYWRvdy12ZXInKS52YWwoKSxcblx0XHRib3hTaGFkb3dCbHVyID0gYm94U2hhZG93V3JhcHBlci5maW5kKCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uLWJveC1zaGFkb3ctYmx1cicpLnZhbCgpLFxuXHRcdGJveFNoYWRvd1NwcmVhZCA9IGJveFNoYWRvd1dyYXBwZXIuZmluZCgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi1ib3gtc2hhZG93LXNwcmVhZCcpLnZhbCgpLFxuXHRcdGJveFNoYWRvd0NvbG9yID0gYm94U2hhZG93V3JhcHBlci5maW5kKCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uLWJveC1zaGFkb3ctY29sb3InKS52YWwoKSxcblx0XHRib3hTaGFkb3dJbnNldCA9IGJveFNoYWRvd1dyYXBwZXIuZmluZCgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi1ib3gtc2hhZG93LWluc2V0JykuaXMoJzpjaGVja2VkJyk7XG5cblx0XHRpZiAoIGJveFNoYWRvd0luc2V0ICkgeyBib3hTaGFkb3dJbnNldCA9ICcgaW5zZXQnOyB9IGVsc2UgeyBib3hTaGFkb3dJbnNldCA9ICcnOyB9XG5cblx0XHR2YXIgYm94U2hhZG93VmFsID0gYm94U2hhZG93SG9yICsgJ3B4ICcgKyBib3hTaGFkb3dWZXIgKyAncHggJyArIGJveFNoYWRvd0JsdXIgKyAncHggJyArIGJveFNoYWRvd1NwcmVhZCArICdweCAnICsgYm94U2hhZG93Q29sb3IgKyBib3hTaGFkb3dJbnNldDtcblxuXHRcdGJveFNoYWRvd0lucHV0LnZhbCggYm94U2hhZG93VmFsICkudHJpZ2dlcignY2hhbmdlJyk7XG5cdH0pO1xufVxuXG4vKipcbiAqIE1PRFVMRVMgU0VUVElOR1MgUEFORUwgLSBUZXh0IFNoYWRvdyBPcHRpb24gVHlwZVxuICovXG5mdW5jdGlvbiBkc2xjX21vZHVsZV9vcHRpb25zX3RleHRfc2hhZG93KCkge1xuXG5cdGlmICggd2luZG93LmRzbGNEZWJ1ZyApIGNvbnNvbGUubG9nKCAnZHNsY19tb2R1bGVfb3B0aW9uc190ZXh0X3NoYWRvdycgKTtcblxuXHQvKipcblx0ICogVmFsdWUgQ2hhbmdlXG5cdCAqL1xuXG5cdGpRdWVyeShkb2N1bWVudCkub24oICdjaGFuZ2UnLCAnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi10ZXh0LXNoYWRvdy1ob3IsIC5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24tdGV4dC1zaGFkb3ctdmVyLCcrXG5cdFx0Jy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24tdGV4dC1zaGFkb3ctYmx1ciwgLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi10ZXh0LXNoYWRvdy1jb2xvcicsIGZ1bmN0aW9uKCl7XG5cblx0XHR2YXIgdGV4dFNoYWRvd1dyYXBwZXIgPSBqUXVlcnkodGhpcykuY2xvc2VzdCgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbicpLFxuXHRcdHRleHRTaGFkb3dJbnB1dCA9IHRleHRTaGFkb3dXcmFwcGVyLmZpbmQoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZCcpLFxuXHRcdHRleHRTaGFkb3dIb3IgPSB0ZXh0U2hhZG93V3JhcHBlci5maW5kKCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uLXRleHQtc2hhZG93LWhvcicpLnZhbCgpLFxuXHRcdHRleHRTaGFkb3dWZXIgPSB0ZXh0U2hhZG93V3JhcHBlci5maW5kKCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uLXRleHQtc2hhZG93LXZlcicpLnZhbCgpLFxuXHRcdHRleHRTaGFkb3dCbHVyID0gdGV4dFNoYWRvd1dyYXBwZXIuZmluZCgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi10ZXh0LXNoYWRvdy1ibHVyJykudmFsKCksXG5cdFx0dGV4dFNoYWRvd0NvbG9yID0gdGV4dFNoYWRvd1dyYXBwZXIuZmluZCgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi10ZXh0LXNoYWRvdy1jb2xvcicpLnZhbCgpO1xuXG5cdFx0dmFyIHRleHRTaGFkb3dWYWwgPSB0ZXh0U2hhZG93SG9yICsgJ3B4ICcgKyB0ZXh0U2hhZG93VmVyICsgJ3B4ICcgKyB0ZXh0U2hhZG93Qmx1ciArICdweCAnICsgdGV4dFNoYWRvd0NvbG9yO1xuXG5cdFx0dGV4dFNoYWRvd0lucHV0LnZhbCggdGV4dFNoYWRvd1ZhbCApLnRyaWdnZXIoJ2NoYW5nZScpO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBNT0RVTEVTIFNFVFRJTkdTIFBBTkVMIC0gQ29sb3IgT3B0aW9uIFR5cGVcbiAqL1xuZnVuY3Rpb24gZHNsY19tb2R1bGVfb3B0aW9uc19jb2xvciggZmllbGQgKSB7XG5cblx0aWYgKCB3aW5kb3cuZHNsY0RlYnVnICkgY29uc29sZS5sb2coICdkc2xjX21vZHVsZV9vcHRpb25zX2NvbG9yJyApO1xuXG5cdHZhciBkc2xjQ29sb3JGaWVsZCxcblx0ZHNsY0FmZmVjdE9uQ2hhbmdlRWwsXG5cdGRzbGNBZmZlY3RPbkNoYW5nZVJ1bGUsXG5cdGRzbGNDb2xvckZpZWxkVmFsLFxuXHRkc2xjTW9kdWxlLFxuXHRkc2xjT3B0aW9uSUQsXG5cdGRzbGNDdXJyQ29sb3I7XG5cblx0LyoqXG5cdCAqIENvbG9yIFBhbGxldGUuXG5cdCAqXG5cdCAqIExhc3QgdGhyZWUgc2VsZWN0ZWQgY29sb3JzIGdldCBzdG9yZWQgaW4gdGhlIGxvY2FsIHN0b3JhZ2Vcblx0ICogb2YgdGhlIGJyb3dzZXIgdW5kZXIgdGhlIGtleSAnZHNsY0NvbG9ycy1leGFtcGxlLmNvbScuXG5cdCAqXG5cdCAqIEJlc2lkZSBsYXRlc3QgdGhyZWUgY3VzdG9tIGNvbG9ycywgY29sb3IgcGFsZXR0ZSBpbmNsdWRlc1xuXHQgKiB0aHJlZSBwcmVkZWZpbmVkL2ZpeGVkIGNvbG9yczogd2hpdGUsIGJsYWNrIGFuZCB0cmFuc3BhcmVudC5cblx0ICovXG5cblx0dmFyIGRzbGNDb2xvclBhbGxldGUgPSBbXSxcblx0Y3VyclN0b3JhZ2UsXG5cdGluZGV4O1xuXG5cdHZhciBwYWxsZXRlQ3VycmVudERvbW1haW4gPSAnZHNsY0NvbG9ycy0nICsgZG9jdW1lbnQuZG9tYWluXG5cblx0Ly8gR2V0IHRocmVlIHJlY2VudCBjb2xvcnMgZnJvbSB0aGUgbG9jYWwgc3RvcmFnZS5cblx0aWYgKCB1bmRlZmluZWQgIT09IGxvY2FsU3RvcmFnZVsgcGFsbGV0ZUN1cnJlbnREb21tYWluIF0gKSB7XG5cdFx0Y3VyclN0b3JhZ2UgPSBKU09OLnBhcnNlKCBsb2NhbFN0b3JhZ2VbIHBhbGxldGVDdXJyZW50RG9tbWFpbiBdICk7XG5cdFx0ZHNsY0NvbG9yUGFsbGV0ZSA9IGN1cnJTdG9yYWdlO1xuXHR9XG5cblx0Ly8gU2V0IGRlZmF1bHQgY29sb3JzIGlmIG5vdCBlbm91Z2ggY3VzdG9tIGNvbG9ycy4gU2hvdWxkIGJlIHNpeC5cblx0aWYgKCAxID4gZHNsY0NvbG9yUGFsbGV0ZS5sZW5ndGggKSB7XG5cdFx0ZHNsY0NvbG9yUGFsbGV0ZS5wdXNoKCAnIzc4YicgKTtcblx0fVxuXG5cdGlmICggMiA+IGRzbGNDb2xvclBhbGxldGUubGVuZ3RoICkge1xuXHRcdGRzbGNDb2xvclBhbGxldGUucHVzaCggJyNhYjAnICk7XG5cdH1cblxuXHRpZiAoIDMgPiBkc2xjQ29sb3JQYWxsZXRlLmxlbmd0aCApIHtcblx0XHRkc2xjQ29sb3JQYWxsZXRlLnB1c2goICcjZGUzJyApO1xuXHR9XG5cblx0Ly8gQWRkIHRoZSBuZXh0IFwiZml4ZWRcIiBjb2xvcnMgdG8gdGhlIGVuZCBvZiB0aGUgcGFsbGV0ZS5cblx0ZHNsY0NvbG9yUGFsbGV0ZS5wdXNoKCAnI2ZmZicgKTtcblx0ZHNsY0NvbG9yUGFsbGV0ZS5wdXNoKCAnIzAwMCcgKTtcblx0ZHNsY0NvbG9yUGFsbGV0ZS5wdXNoKCAncmdiYSgwLDAsMCwwKScgKTtcblxuXHR2YXIgcXVlcnkgPSBmaWVsZDtcblxuXHQvLyBGb3IgZWFjaCBjb2xvciBwaWNrZXIgaW5wdXQgZmllbGQuXG5cdGpRdWVyeShxdWVyeSkuZWFjaCggZnVuY3Rpb24oKXtcblxuXHRcdC8vIFNldCBzZXR0aW5nIHRoZSBjb25vdHJvbCB3cmFwcGVyLlxuXHRcdHZhciB3cmFwcGVyID0galF1ZXJ5KHRoaXMpLmNsb3Nlc3QoJy5kc2xjYS1jb2xvci1vcHRpb24nKTtcblx0XHR2YXIgaW5wdXQgPSBqUXVlcnkodGhpcyk7XG5cblx0XHRkc2xjQ3VyckNvbG9yID0galF1ZXJ5KHRoaXMpLnZhbCgpO1xuXG5cdFx0LyoqXG5cdFx0ICogSW5pdCBzdGFuZGFyZCBXUCBjb2xvciBwaWNrZXJzIChJcmlzKS5cblx0XHQgKlxuXHRcdCAqIFNlZTogaHR0cDovL2F1dG9tYXR0aWMuZ2l0aHViLmlvL0lyaXMvXG5cdFx0ICogU2VlOiBodHRwczovL2dpdGh1Yi5jb20vMjNyOWkwL3dwLWNvbG9yLXBpY2tlci1hbHBoYVxuXHRcdCAqL1xuXHRcdGlucHV0LndwQ29sb3JQaWNrZXIoe1xuXHRcdFx0bW9kZTogJ2hzbCcsXG5cdFx0XHRwYWxldHRlczogZHNsY0NvbG9yUGFsbGV0ZSxcblx0XHRcdGNoYW5nZTogZnVuY3Rpb24oZXZlbnQsIHVpKSB7XG5cblx0XHRcdFx0Ly8gQHRvZG86IGdldCB0aGUgY29kZSBiZWxvdyBpbnRvIGEgc2VwYXJhdGUgZnVuY3Rpb24hXG4gICAgICAgICBcdC8vIFRoZSBvcHRpb24gZmllbGRcbiAgICAgICAgIFx0ZHNsY0NvbG9yRmllbGQgPSBpbnB1dDtcblxuICAgICAgICAgXHR2YXIgY29sb3IgPSBpbnB1dC53cENvbG9yUGlja2VyKCdjb2xvcicpO1xuXG4gICAgICAgICBcdC8vIFRoZSBuZXcgY29sb3JcbiAgICAgICAgIFx0aWYgKCBjb2xvciA9PSBudWxsICkge1xuICAgICAgICAgXHRcdGRzbGNDb2xvckZpZWxkVmFsID0gJyc7XG4gICAgICAgICBcdH0gZWxzZSB7XG4gICAgICAgICBcdFx0ZHNsY0NvbG9yRmllbGRWYWwgPSBjb2xvcjtcbiAgICAgICAgIFx0fVxuXG4gICAgICAgICBcdC8vIENoYW5nZSBjdXJyZW50IHZhbHVlIG9mIG9wdGlvblxuICAgICAgICAgXHRkc2xjQ29sb3JGaWVsZC52YWwoIGRzbGNDb2xvckZpZWxkVmFsICkudHJpZ2dlcignY2hhbmdlJyk7XG5cbiAgICAgICAgIFx0Ly8gQ2hhbmdlIGlucHV0IGZpZWxkIGJhY2tncm91bmQuXG4gICAgICAgICBcdGRzbGNDb2xvckZpZWxkLmNzcygnYmFja2dyb3VuZCcsIGRzbGNDb2xvckZpZWxkVmFsKTtcblxuICAgICAgICAgXHQvLyBMaXZlIGNoYW5nZVxuICAgICAgICAgXHRkc2xjQWZmZWN0T25DaGFuZ2VFbCA9IGRzbGNDb2xvckZpZWxkLmRhdGEoJ2FmZmVjdC1vbi1jaGFuZ2UtZWwnKTtcbiAgICAgICAgIFx0ZHNsY0FmZmVjdE9uQ2hhbmdlUnVsZSA9IGRzbGNDb2xvckZpZWxkLmRhdGEoJ2FmZmVjdC1vbi1jaGFuZ2UtcnVsZScpO1xuXG4gICAgICAgICBcdC8vIFJPV3MgZG9lc24ndCBoYXZlICdkc2xjQWZmZWN0T25DaGFuZ2VFbCcgZGVmaW5lZFxuICAgICAgICAgXHRpZiAoIG51bGwgIT0gZHNsY0FmZmVjdE9uQ2hhbmdlRWwgKSB7XG4gICAgICAgICBcdFx0alF1ZXJ5KCBkc2xjQWZmZWN0T25DaGFuZ2VFbCAsJy5kc2xjYS1tb2R1bGUtYmVpbmctZWRpdGVkJyApLmNzcyggZHNsY0FmZmVjdE9uQ2hhbmdlUnVsZSAsIGRzbGNDb2xvckZpZWxkVmFsICk7XG4gICAgICAgICBcdH1cblxuICAgICAgICAgXHQvLyBVcGRhdGUgb3B0aW9uXG4gICAgICAgICBcdGRzbGNNb2R1bGUgPSBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtYmVpbmctZWRpdGVkJywgd2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpO1xuICAgICAgICAgXHRkc2xjT3B0aW9uSUQgPSBkc2xjQ29sb3JGaWVsZC5kYXRhKCdpZCcpO1xuICAgICAgICAgXHRqUXVlcnkoJy5kc2xjYS1tb2R1bGUtb3B0aW9uLWZyb250W2RhdGEtaWQ9XCInICsgZHNsY09wdGlvbklEICsgJ1wiXScsIGRzbGNNb2R1bGUpLnZhbCggZHNsY0NvbG9yRmllbGRWYWwgKTtcblxuICAgICAgICAgXHQvLyBBZGQgY2hhbmdlZCBjbGFzc1xuICAgICAgICAgXHRkc2xjTW9kdWxlLmFkZENsYXNzKCdkc2xjYS1tb2R1bGUtY2hhbmdlLW1hZGUnKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHZhciBjb2xvclBpY2tlclBvcHVwID0gd3JhcHBlci5maW5kKCcud3AtcGlja2VyLWhvbGRlciAuaXJpcy1waWNrZXInKTtcblx0XHRjb2xvclBpY2tlclBvcHVwLmFwcGVuZCgnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJkc2xjYS1jb2xvcnBpY2tlci1hcHBseVwiPkFwcGx5PC9idXR0b24+Jyk7XG5cblx0XHR2YXIgYXBwbHkgPSB3cmFwcGVyLmZpbmQoJy5kc2xjYS1jb2xvcnBpY2tlci1hcHBseScpO1xuXG5cdFx0aW5wdXQud3BDb2xvclBpY2tlciggJ29wZW4nICk7XG5cblx0XHQvLyBJZiBbQVBQTFldIGJ1dHRvbiBjbGlja2VkLi4uXG5cdFx0alF1ZXJ5KGFwcGx5KS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gSWYgbmV3IGNvbG9yIGlzIG5vdCBvbmUgb2YgdGhlIFwiZml4ZWRcIiBjb2xvcnMuLi5cblx0XHRcdGlmICggJyNmZmYnICE9PSBkc2xjQ29sb3JGaWVsZFZhbCAmJlxuXHRcdFx0XHQgICcjZmZmZmZmJyAhPT0gZHNsY0NvbG9yRmllbGRWYWwgJiZcblx0XHRcdFx0ICAnIzAwMCcgIT09IGRzbGNDb2xvckZpZWxkVmFsICYmXG5cdFx0XHRcdCAgJyMwMDAwMDAnICE9PSBkc2xjQ29sb3JGaWVsZFZhbCAmJlxuXHRcdFx0XHQgICdyZ2JhKDAsMCwwLDApJyAhPT0gZHNsY0NvbG9yRmllbGRWYWwgKSB7XG5cblx0XHRcdFx0Ly8gVXBkYXRlIHBhbGxldGUgY29sb3JzIGluIHRoZSBsb2NhbCBzdG9yYWdlLlxuXHRcdFx0XHRpZiAoIHVuZGVmaW5lZCA9PT0gbG9jYWxTdG9yYWdlWyBwYWxsZXRlQ3VycmVudERvbW1haW4gXSApIHtcblxuXHRcdFx0XHRcdC8vIENyZWF0ZSBuZXcgcmVjb3JkIGlmIG5vIGxvY2FsIHN0b3JhZ2UgZm91bmQuXG5cdFx0XHRcdFx0dmFyIG5ld1N0b3JhZ2UgPSBbIGRzbGNDb2xvckZpZWxkVmFsIF07XG5cdFx0XHRcdFx0bG9jYWxTdG9yYWdlWyBwYWxsZXRlQ3VycmVudERvbW1haW4gXSA9IEpTT04uc3RyaW5naWZ5KG5ld1N0b3JhZ2UpO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHQvLyBVcGRhdGUgZXhpc3RpbmcgcmVjb3JkIGluIHRoZSBsb2NhbCBzdG9yYWdlLlxuXHRcdFx0XHRcdHZhciBuZXdTdG9yYWdlID0gSlNPTi5wYXJzZSggbG9jYWxTdG9yYWdlWyBwYWxsZXRlQ3VycmVudERvbW1haW4gXSApO1xuXG5cdFx0XHRcdFx0aWYgKCBuZXdTdG9yYWdlLmluZGV4T2YoIGRzbGNDb2xvckZpZWxkVmFsICkgPT0gLTEgKSB7XG5cblx0XHRcdFx0XHRcdC8vIEFkZCBuZXcgY29sb3IgdG8gdGhlIGhlYWQgb2YgdGhlIHBhbGxldGUgYXJyYXkuXG5cdFx0XHRcdFx0XHRuZXdTdG9yYWdlLnVuc2hpZnQoIGRzbGNDb2xvckZpZWxkVmFsICk7XG5cblx0XHRcdFx0XHRcdGlmICggMyA8IG5ld1N0b3JhZ2UubGVuZ3RoICkge1xuXHRcdFx0XHRcdFx0XHQvLyBSZW1vdmUgdGhlIGxhc3QgY29sb3IgZnJvbSB0aGUgcGFsbGV0ZS5cblx0XHRcdFx0XHRcdFx0bmV3U3RvcmFnZS5wb3AoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRsb2NhbFN0b3JhZ2VbIHBhbGxldGVDdXJyZW50RG9tbWFpbiBdID0gSlNPTi5zdHJpbmdpZnkobmV3U3RvcmFnZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aW5wdXQud3BDb2xvclBpY2tlciggJ2Nsb3NlJyApO1xuXHRcdH0pO1xuXG5cdFx0Ly8gU2F2ZSB0aGlzIGVsZW1lbnQgdG8gZGVzdHJveSBvbiBwYW5lbCBjbG9zZWQuXG5cdFx0d2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLkhlbHBlcnMuY29sb3JwaWNrZXJzLnB1c2goIGpRdWVyeSh0aGlzKSApO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBNT0RVTEVTIFNFVFRJTkdTIFBBTkVMIC0gTnVtZXJpYyBPcHRpb24gVHlwZVxuICovXG5mdW5jdGlvbiBkc2xjX21vZHVsZV9vcHRpb25zX251bWVyaWMoIGZpZWxkV3JhcHBlciApIHtcblxuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2RzbGNfbW9kdWxlX29wdGlvbnNfbnVtZXJpYycgKTtcblxuXHR2YXIgcXVlcnkgPSBmaWVsZFdyYXBwZXI7IC8vIHx8ICcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uLXNsaWRlcic7XG5cblx0alF1ZXJ5KHF1ZXJ5KS5lYWNoKGZ1bmN0aW9uKCl7XG5cblx0XHR2YXIgY29udHJvbFdyYXBwZXIgPSBqUXVlcnkodGhpcyk7XG5cblx0XHQvKiBDcmVhdGUgYW4gZW1wdHkgZGl2IHRvIGJlIHVzZXMgYnkgalF1ZXJ5IGFzIHRoZSBzbGlkZXIgY29udGFpbmVyLiAqL1xuXHRcdGlmICggMCA9PT0galF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtc2xpZGVyJywgY29udHJvbFdyYXBwZXIpLmxlbmd0aCApIHtcblx0XHRcdGNvbnRyb2xXcmFwcGVyLmFwcGVuZCgnPGRpdiBjbGFzcz1cImRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkLXNsaWRlclwiPjwvZGl2PicpO1xuXHRcdH1cblxuXHRcdHZhciB3b3JraW5nV2l0aE1vZHVsZSA9IHRydWU7XG5cblx0XHQvKiBJcyB0aGUgY29udHJvbCBwYXJ0IG9mIHRoZSBtb2R1bGUgc2V0dGluZyBwYW5lbCBvciBzZWN0aW9uIHNldHRpbmdzPyAqL1xuXHRcdGlmICggY29udHJvbFdyYXBwZXIuaGFzQ2xhc3MoJ2RzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LW9wdGlvbicpICkge1xuXHRcdFx0Ly8gV2UgYXJlIHdvcmtpbmcgd2l0aCBzZWNpdG9uLlxuXHRcdFx0d29ya2luZ1dpdGhNb2R1bGUgPSBmYWxzZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gV2UgYXJlIHdvcmtpbmcgd2l0aCBtb2R1bGUuXG5cdFx0XHR3b3JraW5nV2l0aE1vZHVsZSA9IHRydWU7XG5cdFx0fVxuXG5cdFx0aWYgKCB3b3JraW5nV2l0aE1vZHVsZSApIHtcblx0XHRcdHZhciBzbGlkZXJJbnB1dCA9IGNvbnRyb2xXcmFwcGVyLmZpbmQoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZCcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgc2xpZGVySW5wdXQgPSBjb250cm9sV3JhcHBlci5maW5kKCcuZHNsY2EtbW9kdWxlcy1zZWN0aW9uLWVkaXQtZmllbGQnKTtcblx0XHR9XG5cblx0XHQvKiBJcyB0aGUgY29udHJvbCBwYXJ0IG9mIHRoZSBtb2R1bGUgc2V0dGluZyBwYW5lbCBvciBzZWN0aW9uIHNldHRpbmdzPyAqL1xuXHRcdGlmICggY29udHJvbFdyYXBwZXIuaGFzQ2xhc3MoJ2RzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LW9wdGlvbicpICkge1xuXHRcdFx0Ly8gV2UgYXJlIHdvcmtpbmcgd2l0aCBzZWNpdG9uLlxuXHRcdFx0dmFyIHNsaWRlcklucHV0ID0gY29udHJvbFdyYXBwZXIuZmluZCgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LWZpZWxkJyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIFdlIGFyZSB3b3JraW5nIHdpdGggbW9kdWxlLlxuXHRcdFx0dmFyIHNsaWRlcklucHV0ID0gY29udHJvbFdyYXBwZXIuZmluZCgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkJyk7XG5cdFx0fVxuXG5cdFx0dmFyIHNsaWRlckV4dCA9ICcnLFxuXHRcdHNsaWRlckNvbnRyb2wgPSBjb250cm9sV3JhcHBlci5maW5kKCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtc2xpZGVyJyksXG5cdFx0Y3VycmVudFZhbCAgICA9IHBhcnNlRmxvYXQoIHNsaWRlcklucHV0LnZhbCgpICksXG5cblx0XHQvLyBNYXggdmFsdWUuIEJ5IGRlZmF1bHQgbWF4IGlzIDEwMC5cblx0XHRtYXggPSBwYXJzZUZsb2F0KCBzbGlkZXJJbnB1dC5kYXRhKCdtYXgnKSApLFxuXHRcdC8vIE1pbiB2YWx1ZS4gQnkgZGVmYXVsdCBtaW4gaXMgMC5cblx0XHRtaW4gPSBwYXJzZUZsb2F0KCBzbGlkZXJJbnB1dC5kYXRhKCdtaW4nKSApLFxuXHRcdC8vIEluY3JlbWVudCB2YWx1ZS4gQnkgZGVmYXVsdCBpbmNyZW1lbnQgaXMgMS5cblx0XHRpbmMgPSBwYXJzZUZsb2F0KCBzbGlkZXJJbnB1dC5kYXRhKCdpbmNyZW1lbnQnKSApLFxuXHRcdC8vIEJhY2t1cCB2YWx1ZXMuXG5cdFx0bWF4X29yaWcgPSBtYXgsXG5cdFx0bWluX29yaWcgPSBtaW47XG5cblx0XHQvKipcblx0XHQgKiBDaGVjayBpZiB2YWx1ZSBjYW4ndCBiZSBuZWdhdGl2ZSBhY2NvcmRpbmcgdG8gbW9kdWxlIHNldHRpbmdzLlxuXHRcdCAqL1xuXHRcdHZhciBvbmx5cG9zaXRpdmUgPSBmYWxzZTtcblxuXHRcdGlmICggdW5kZWZpbmVkICE9PSBzbGlkZXJJbnB1dC5kYXRhKCdvbmx5cG9zaXRpdmUnKSAmJiAxID09PSBzbGlkZXJJbnB1dC5kYXRhKCdvbmx5cG9zaXRpdmUnKSAgKSB7XG5cdFx0XHRvbmx5cG9zaXRpdmUgPSB0cnVlO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIElmIHRoZSBjdXJyZW50IHNsaWRlciB2YWx1ZSBnZXRzIHRvIHRoZSBtYXggb3IgbWluLFxuXHRcdCAqIHdlIHNldCBuZXcgJ3dpZGVyJyBtYXgvbWluIHZhbHVlcy5cblx0XHQgKlxuXHRcdCAqIFRoaXMgd2F5IHNsaWRlciBoYXMgbm8gZml4ZWQgdG9wIG9yIGJvdHRvbSBsaW1pdCBvbmUgb25lIGhhbmRcblx0XHQgKiBhbmQgd29ya3MgcHJlY2lzZSBlbm91Z2ggZm9yIGJvdGggc21hbGwgYW5kIGJpZyB2YWx1ZXMuXG5cdFx0ICovXG5cdFx0aWYgKCBjdXJyZW50VmFsID49IG1heCApIHtcblx0XHRcdG1heCA9IGN1cnJlbnRWYWwgKiAyO1xuXHRcdH1cblxuXHRcdGlmICggISBvbmx5cG9zaXRpdmUgJiYgY3VycmVudFZhbCA8PSBtaW4gKSB7XG5cdFx0XHRtaW4gPSBjdXJyZW50VmFsICogMjtcblx0XHR9XG5cblx0XHRzbGlkZXJDb250cm9sLnNsaWRlcih7XG5cdFx0XHRtaW4gOiBtaW4sXG5cdFx0XHRtYXggOiBtYXgsXG5cdFx0XHRzdGVwOiBpbmMsXG5cdFx0XHR2YWx1ZTogc2xpZGVySW5wdXQudmFsKCksXG5cblx0XHRcdHNsaWRlOiBmdW5jdGlvbihldmVudCwgdWkpIHtcblxuXHRcdFx0XHRzbGlkZXJJbnB1dC52YWwoIHVpLnZhbHVlICsgc2xpZGVyRXh0ICk7XG5cdFx0XHRcdHNsaWRlcklucHV0LnRyaWdnZXIoJ2NoYW5nZScpO1xuXHRcdFx0fSxcblxuXHRcdFx0Y2hhbmdlOiBmdW5jdGlvbihldmVudCwgdWkpIHtcblxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICogSWYgdGhlIGN1cnJlbnQgc2xpZGVyIHZhbHVlIGdldHMgdG8gdGhlIG1heCBvciBtaW4sXG5cdFx0XHRcdCAqIHdlIHJlc2V0IHRoZSBzbGlkZXIgKGRlc3Ryb3kvY2FsbCBhZ2Fpbikgc28gc2NyaXB0IGFib3ZlXG5cdFx0XHRcdCAqIHNldCBuZXcgYmlnZ2VyIG1heC9taW4gdmFsdWVzLlxuXHRcdFx0XHQgKlxuXHRcdFx0XHQgKiBUaGlzIHdheSBzbGlkZXIgaGFzIG5vIHRvcCBvciBib3R0b20gbGltaXQgb25lIG9uZSBoYW5kXG5cdFx0XHRcdCAqIGFuZCBwcmVjaXNlIGVub3VnaCBmb3IgYm90aCBzbWFsbCBhbmQgYmlnIHZhbHVlcy5cblx0XHRcdFx0ICovXG5cdFx0XHRcdGlmICggdWkudmFsdWUgPj0gbWF4IHx8IHVpLnZhbHVlIDw9IG1pbiApIHtcblx0XHRcdFx0XHRzbGlkZXJDb250cm9sLnNsaWRlciggXCJkZXN0cm95XCIgKTtcblx0XHRcdFx0XHRkc2xjX21vZHVsZV9vcHRpb25zX251bWVyaWMoIGNvbnRyb2xXcmFwcGVyICk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHQvKlxuXHRcdFx0c3RvcDogZnVuY3Rpb24oIGV2ZW50LCB1aSApIHtcblx0XHRcdH0sXG5cdFx0XHRzdGFydDogZnVuY3Rpb24oIGV2ZW50LCB1aSApIHtcblx0XHRcdH1cblx0XHRcdCovXG5cdFx0fSk7XG5cblx0XHQvKipcblx0XHQgKiBPbmNlIHRoZSBzbGlkZXIgaW5pdGlhdGVkLCBzaG93IGl0IGluIEhUTUwuXG5cdFx0ICogU2xpZGVyIGNvbnRyb2wgaXMgaGlkZGVuIGJ5IGRlZmF1bHQuIFdlIHNob3cgaXQgb24gaG92ZXIgb25seS5cblx0XHQgKi9cblx0XHRzbGlkZXJDb250cm9sLnNob3coKTtcblxuXHRcdC8qIE9uIG1vdXNlIGxlYXZlOiBSZW1vdmUgZW1wdHkgRElWIGFuZCBkZXN0cm95IHRoZSBzbGlkZXIuICovXG5cdFx0alF1ZXJ5KGNvbnRyb2xXcmFwcGVyKS5vbignbW91c2VsZWF2ZScsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRpZiAoIHVuZGVmaW5lZCAhPT0gc2xpZGVyQ29udHJvbC5zbGlkZXIoICdpbnN0YW5jZScgKSApIHtcblx0XHRcdFx0alF1ZXJ5KHNsaWRlckNvbnRyb2wpLnNsaWRlciggJ2Rlc3Ryb3knICk7XG5cdFx0XHR9XG5cblx0XHRcdHNsaWRlckNvbnRyb2wucmVtb3ZlKCk7XG5cdFx0fSk7XG5cblxuXHRcdGlmKCBzbGlkZXJJbnB1dFswXS5jbGFzc0xpc3QuY29udGFpbnMoJ3NsaWRlci1pbml0aWF0ZWQnKSApIHJldHVybjtcblx0XHRzbGlkZXJJbnB1dFswXS5jbGFzc0xpc3QuYWRkKFwic2xpZGVyLWluaXRpYXRlZFwiKTtcblxuXHRcdHNsaWRlcklucHV0Lm9uKCdrZXl1cCcsIGZ1bmN0aW9uKGUpe1xuXG5cdFx0XHQvLyBJbiBzb21lIHJhcmUgY2FzZXMgd2UgaGF2ZSB0aGUgbmV4dCBlcnJvcjpcblx0XHRcdC8vIFR5cGVFcnJvcjogdW5kZWZpbmVkIGlzIG5vdCBhbiBvYmplY3QgKGV2YWx1YXRpbmcgJ2Eua2V5Lm1hdGNoJylcblx0XHRcdGlmICh1bmRlZmluZWQgPT09IGUpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTaGlmdCArIFVwL0Rvd25cblx0XHRcdGlmKCBlLnNoaWZ0S2V5ICkge1xuXG5cdFx0XHRcdGlmKCBlLmtleUNvZGUgPT0gMzggKSB7XG5cdFx0XHRcdFx0dGhpcy52YWx1ZSA9ICggcGFyc2VJbnQodGhpcy52YWx1ZSkgfHwgMCApICsgOTtcblx0XHRcdFx0XHRzbGlkZXJJbnB1dC50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmKCBlLmtleUNvZGUgPT0gNDAgKSB7XG5cdFx0XHRcdFx0dGhpcy52YWx1ZSA9ICggcGFyc2VJbnQodGhpcy52YWx1ZSkgKyAwICkgLSA5O1xuXHRcdFx0XHRcdHNsaWRlcklucHV0LnRyaWdnZXIoJ2NoYW5nZScpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEJhY2tzcGFjZSwgXCItXCJcblx0XHRcdGlmKCBlLmtleUNvZGUgPT0gOCB8fCBlLmtleUNvZGUgPT0gNDUgKSB7XG5cdFx0XHRcdHNsaWRlcklucHV0LnRyaWdnZXIoJ2NoYW5nZScpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBudW1iZXIga2V5IHByZXNzZWRcblx0XHRcdGlmICgoZS5rZXlDb2RlID49IDQ4ICYmIGUua2V5Q29kZSA8PSA1NykgfHwgKGUua2V5Q29kZSA+PSA5NiAmJiBlLmtleUNvZGUgPD0gMTA1KSkge1xuXHRcdFx0XHRzbGlkZXJJbnB1dC50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGNoYXJDb2RlID0gKGUud2hpY2gpID8gZS53aGljaCA6IGUua2V5Q29kZTtcblxuXHRcdFx0Ly9AdG9kbyBtb3JlIHdvcmsgaGVyZVxuXHRcdFx0aWYoICggKGNoYXJDb2RlID49IDQ4ICYmIGNoYXJDb2RlIDw9IDU3KSB8fCAoY2hhckNvZGUgPj0gOTYgJiYgY2hhckNvZGUgPD0gMTA1KSApICYmIGUua2V5Q29kZSAhPSA4ICYmIGUua2V5Q29kZSAhPSAzOSAmJiBlLmtleUNvZGUgIT0gMzcgJiYgZS5rZXlDb2RlICE9IDQ2ICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBzbGlkZXJJbnB1dC51bmJpbmQoJ2NoYW5nZScpO1xuXHRcdHNsaWRlcklucHV0Lm9uKCdjaGFuZ2UnLCBmdW5jdGlvbihlKXtcblxuXHRcdFx0aWYgKCBvbmx5cG9zaXRpdmUgJiYgdGhpcy52YWx1ZSA8IDAgKSB7XG5cdFx0XHRcdHRoaXMudmFsdWUgPSAwO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgY29udGFpbmVyV3JhcHBlcjtcblxuXHRcdFx0aWYgKCB3b3JraW5nV2l0aE1vZHVsZSApIHtcblx0XHRcdFx0Y29udGFpbmVyV3JhcHBlciA9IGpRdWVyeSggZS50YXJnZXQuY2xvc2VzdCgnLmRzbGNhLW1vZHVsZS1lZGl0LW9wdGlvbi1zbGlkZXInKSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29udGFpbmVyV3JhcHBlciA9IGpRdWVyeSggZS50YXJnZXQuY2xvc2VzdCgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1lZGl0LW9wdGlvbi1zbGlkZXInKSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvKipcblx0XHRcdCAqIE1vdmUgdGhlIHNsaWRlciBuZWVkbGUgdG8gcmVmbGVjdCB0aGUgdmFsdWUgY2hhbmdlc1xuXHRcdFx0ICogbWFkZSB2aWEgZGlyZWN0IGlucHV0IG9mIHZpYSBrZXlib2FyZCBhcnJvdyBrZXlzLlxuXHRcdFx0ICovXG5cdFx0XHR2YXIgY3VycmVudFNsaWRlckluc3RhbmNlID0gY29udGFpbmVyV3JhcHBlci5maW5kKCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtc2xpZGVyJyk7XG5cdFx0XHRpZiAoIHVuZGVmaW5lZCAhPT0gY3VycmVudFNsaWRlckluc3RhbmNlLnNsaWRlciggJ2luc3RhbmNlJyApICkge1xuXHRcdFx0XHRjdXJyZW50U2xpZGVySW5zdGFuY2Uuc2xpZGVyKCAndmFsdWUnLCB0aGlzLnZhbHVlICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggd29ya2luZ1dpdGhNb2R1bGUgKSB7XG5cdFx0XHRcdC8vIEFkZCBjaGFuZ2VkIGNsYXNzIHRvIHRoZSBtb2R1bGUuXG5cdFx0XHRcdHZhciBtb2R1bGUgPSBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtYmVpbmctZWRpdGVkJywgd2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpO1xuXHRcdFx0XHRtb2R1bGUuYWRkQ2xhc3MoJ2RzbGNhLW1vZHVsZS1jaGFuZ2UtbWFkZScpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9KTsgLy8gLmVhY2hcbn1cblxuZnVuY3Rpb24gZHNsY19kaXNhYmxlX3Jlc3BvbnNpdmVfdmlldyAoKSB7XG5cdGpRdWVyeSgnaHRtbCcpLnJlbW92ZUNsYXNzKCdkc2xjLXJlc3BvbnNpdmUtcHJldmlldycpO1xuXHRqUXVlcnkoJ2JvZHknKS5yZW1vdmVDbGFzcygnZHNsYy1yZXMtYmlnIGRzbGMtcmVzLXNtYWxsZXItbW9uaXRvciBkc2xjLXJlcy1waG9uZSBkc2xjLXJlcy10YWJsZXQnKTtcblxufVxuXG5cbmZ1bmN0aW9uIGRzbGNfZmlsdGVyX21vZHVsZV9vcHRpb25zKCBzZWN0aW9uSUQgKSB7IGRzbGNfbW9kdWxlX29wdGlvbnNfc2VjdGlvbl9maWx0ZXIoIHNlY3Rpb25JRCApOyB9XG5mdW5jdGlvbiBkc2xjX3Nob3dfbW9kdWxlX29wdGlvbnNfdGFiKCB0YWIgKSB7IGRzbGNfbW9kdWxlX29wdGlvbnNfdGFiX2ZpbHRlciggdGFiICk7IH1cbmZ1bmN0aW9uIGRzbGNfY29uZmlybV9jaGFuZ2VzKCBjYWxsYmFjayApIHsgZHNsY19tb2R1bGVfb3B0aW9uc19jb25maXJtX2NoYW5nZXMoIGNhbGxiYWNrICk7IH1cbmZ1bmN0aW9uIGRzbGNfY2FuY2VsX2NoYW5nZXMoIGNhbGxiYWNrICkgeyBkc2xjX21vZHVsZV9vcHRpb25zX2NhbmNlbF9jaGFuZ2VzKCBjYWxsYmFjayApOyB9XG5mdW5jdGlvbiBkc2xjX2luaXRfY29sb3JwaWNrZXIoKSB7IGRzbGNfbW9kdWxlX29wdGlvbnNfY29sb3IoKTsgfVxuZnVuY3Rpb24gZHNsY19pbml0X29wdGlvbnNfc2xpZGVyKCkgeyBkc2xjX21vZHVsZV9vcHRpb25zX251bWVyaWMoKTsgfVxuZnVuY3Rpb24gZHNsY19tb2R1bGVfZWRpdF9vcHRpb25zX2hpZGVzaG93X3RhYnMoKSB7IGRzbGNfbW9kdWxlX29wdGlvbnNfaGlkZXNob3dfdGFicygpOyB9IiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICpcbiAqID0gVUkgLSBHRU5FUkFMID1cbiAqXG4gKiAtIGRzbGNfaGlkZV9jb21wb3NlciAoIEhpZGVzIHRoZSBjb21wb3NlciBlbGVtZW50cyApXG4gKiAtIGRzbGNfc2hvd19jb21wb3NlciAoIFNob3dzIHRoZSBjb21wb3NlciBlbGVtZW50cyApXG4gKiAtIGRzbGNfc2hvd19wdWJsaXNoX2J1dHRvbiAoIFNob3dzIHRoZSBwdWJsaXNoIGJ1dHRvbiApXG4gKiAtIGRzbGNfc2hvd19zZWN0aW9uICggU2hvdyBhIHNwZWNpZmljIHNlY3Rpb24gKVxuICogLSBkc2xjX2dlbmVyYXRlX2ZpbHRlcnMgKCBHZW5lcmF0ZSBvcmlnaW4gZmlsdGVycyApXG4gKiAtIGRzbGNfZmlsdGVyX29yaWdpbiAoIE9yaWdpbiBmaWx0ZXJpbmcgZm9yIHRlbXBsYXRlcy9tb2R1bGVzIGxpc3RpbmcgKVxuICogLSBkcmFnQW5kRHJvcEluaXQgKCBJbml0aWF0ZSBkcmFnIGFuZCBkcm9wIGZ1bmN0aW9uYWxpdHkgKVxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IGVsZW1lbnRPcHRpb25zVGFicyB9IGZyb20gJy4vc2V0dGluZ3MucGFuZWwuanMnO1xuXG5pbXBvcnQgU29ydGFibGUgZnJvbSAnc29ydGFibGVqcyc7XG5cbi8qKlxuICogVHJ5IHRvIGRldGVjdCBKUyBlcnJvcnMgaW4gV1AgQWRtaW4gcGFydC5cbiAqL1xuIHdpbmRvdy5vbmVycm9yID0gZnVuY3Rpb24oIGVycm9yLCBmaWxlLCBsaW5lLCBjaGFyICkge1xuXG5cdGRzbGNhX2dlbmVyYXRlX2Vycm9yX3JlcG9ydCAoIGVycm9yLCBmaWxlLCBsaW5lLCBjaGFyICk7XG59XG5cbi8qKlxuICogSG9vayAtIE9wZW4gRXJyb3IgTG9nIGJ1dHRvblxuICovXG5qUXVlcnkoZG9jdW1lbnQpLm9uKCAnY2xpY2snLCAnLmRzbGNhLXNob3ctanMtZXJyb3ItaG9vaycsIGZ1bmN0aW9uKGUpe1xuXG5cdGUucHJldmVudERlZmF1bHQoKTtcblxuXHR2YXIgZXJyb3JzX2NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkc2xjYS1qcy1lcnJvcnMtcmVwb3J0Jyk7XG5cblx0aWYgKCAhIGpRdWVyeSgnYm9keScpLmhhc0NsYXNzKCdkc2xjYS1zYXZpbmctaW4tcHJvZ3Jlc3MnKSApIHtcblxuXHRcdExpdmVDb21wb3Nlci5CdWlsZGVyLlVJLkNNb2RhbFdpbmRvdyh7XG5cblx0XHRcdHRpdGxlOiAnPGEgaHJlZj1cImh0dHBzOi8vbGl2ZWNvbXBvc2VycGx1Z2luLmNvbS9zdXBwb3J0L1wiIHRhcmdldD1cIl9ibGFua1wiPjxzcGFuIGNsYXNzPVwiZHNsY2EtaWNvbiBkc2xjLWljb24tY29tbWVudFwiPjwvc3Bhbj4gJm5ic3A7IEdldCBTdXBwb3J0IEluZm88L2E+Jyxcblx0XHRcdGNvbnRlbnQ6ICc8c3BhbiBjbGFzcz1cImRzbGNhLWVycm9yLXJlcG9ydFwiPicgKyBlcnJvcnNfY29udGFpbmVyLnZhbHVlICsgJzwvc3Bhbj4nLFxuXHRcdH0pO1xuXHR9XG59KTtcblxuXG4vKipcbiAqIFVJIC0gR0VORVJBTCAtIERvY3VtZW50IFJlYWR5XG4gKi9cblxualF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigkKSB7XG5cblx0LyoqXG5cdCAqIFRyeSB0byBkZXRlY3QgSlMgZXJyb3JzIGluIHByZXZpZXcgYXJlYS5cblx0ICovXG5cdGpRdWVyeShcIiNwYWdlLWJ1aWxkZXItZnJhbWVcIilbMF0uY29udGVudFdpbmRvdy5vbmVycm9yID0gZnVuY3Rpb24oIGVycm9yLCBmaWxlLCBsaW5lLCBjaGFyICkge1xuXHRcdGRzbGNhX2dlbmVyYXRlX2Vycm9yX3JlcG9ydCAoIGVycm9yLCBmaWxlLCBsaW5lLCBjaGFyICk7XG5cdH1cblxuXHQvLyBQdXQgSlMgZXJyb3IgbG9nIGRhdGEgaW4gYSBoaWRkZW4gdGV4dGFyZWEuXG5cdGRzbGNhX3VwZGF0ZV9yZXBvcnRfbG9nKCk7XG5cbiBcdGpRdWVyeSgnYm9keScpLmFkZENsYXNzKCdkc2xjYS1lbmFibGVkIGRzbGNhLWRyYWctbm90LWluLXByb2dyZXNzJyk7XG4gXHRqUXVlcnkoJy5kc2xjYS1pbnZpc2libGUtb3ZlcmxheScpLmhpZGUoKTtcbiBcdGpRdWVyeSgnLmRzbGNhLXNlY3Rpb24nKS5lcSgwKS5zaG93KCk7XG59KTtcblxuLyoqXG4gKiBBY3Rpb24gLSBcIkN1cnJlbnRseSBFZGl0aW5nXCIgc2Nyb2xsIG9uIGNsaWNrXG4gKi9cblxualF1ZXJ5KGRvY3VtZW50KS5vbiggJ2NsaWNrJywgJy5kc2xjYS1jdXJyZW50bHktZWRpdGluZycsIGZ1bmN0aW9uKCl7XG5cblx0dmFyIGFjdGl2ZUVsZW1lbnQgPSBmYWxzZSxcblx0bmV3T2Zmc2V0ID0gZmFsc2UsXG5cdG91dGxpbmVDb2xvcjtcblxuXHRpZiAoIGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1iZWluZy1lZGl0ZWQnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KS5sZW5ndGggKSB7XG5cblx0XHRhY3RpdmVFbGVtZW50ID0galF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWJlaW5nLWVkaXRlZCcsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpO1xuXHRcdG91dGxpbmVDb2xvciA9ICcjNTg5MGU1JztcblxuXHR9IGVsc2UgaWYgKCBqUXVlcnkoJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tYmVpbmctZWRpdGVkJywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkubGVuZ3RoICkge1xuXG5cdFx0YWN0aXZlRWxlbWVudCA9IGpRdWVyeSgnLmRzbGNhLW1vZHVsZXMtc2VjdGlvbi1iZWluZy1lZGl0ZWQnLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KTtcblx0XHRvdXRsaW5lQ29sb3IgPSAnI2VhYmJhOSc7XG5cdH1cblxuXHRpZiAoIGFjdGl2ZUVsZW1lbnQgKSB7XG5cdFx0bmV3T2Zmc2V0ID0gYWN0aXZlRWxlbWVudC5vZmZzZXQoKS50b3AgLSAxMDA7XG5cdFx0aWYgKCBuZXdPZmZzZXQgPCAwICkgeyBuZXdPZmZzZXQgPSAwOyB9XG5cblx0XHR2YXIgY2FsbGJhY2tzID0gW107XG5cblx0XHRqUXVlcnkoICdodG1sLCBib2R5JywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCApLmFuaW1hdGUoeyBzY3JvbGxUb3A6IG5ld09mZnNldCB9LCAzMDAsIGZ1bmN0aW9uKCl7XG5cdFx0XHRhY3RpdmVFbGVtZW50LnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG5cdFx0fSk7XG5cdH1cblxufSk7XG5cbi8qKlxuICogU2F2ZSBjb21wb3NlciBjb2RlIHdpdGggQ01EK1Mgb3IgQ3RybCtTXG4gKi9cbmpRdWVyeSh3aW5kb3cpLmtleXByZXNzKCBmdW5jdGlvbihlKXtcblxuXHRpZiAoKGUubWV0YUtleSB8fCBlLmN0cmxLZXkpICYmIGUua2V5Q29kZSA9PSA4Mykge1xuXG5cdFx0ZHNsY19hamF4X3NhdmVfY29tcG9zZXIoKTtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcblx0fVxufSk7XG5cbi8qKlxuICogSG9vayAtIEhpZGUgQ29tcG9zZXJcbiAqL1xuXG5qUXVlcnkoZG9jdW1lbnQpLm9uKCAnY2xpY2snLCAnLmRzbGNhLWhpZGUtY29tcG9zZXItaG9vaycsIGZ1bmN0aW9uKGUpe1xuXG5cdGUucHJldmVudERlZmF1bHQoKTtcblx0ZHNsY19oaWRlX2NvbXBvc2VyKClcbn0pO1xuXG4vKipcbiAqIEhvb2sgLSBTaG93IENvbXBvc2VyXG4gKi9cblxualF1ZXJ5KGRvY3VtZW50KS5vbiggJ2NsaWNrJywgJy5kc2xjYS1zaG93LWNvbXBvc2VyLWhvb2snLCBmdW5jdGlvbihlKXtcblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRkc2xjX3Nob3dfY29tcG9zZXIoKTtcbn0pO1xuXG4vKipcbiAqIEhvb2sgLSBTZWN0aW9uIFNob3cgLSBNb2R1bGVzIExpc3RpbmdcbiAqL1xuXG5qUXVlcnkoZG9jdW1lbnQpLm9uKCAnY2xpY2snLCAnLmRzbGNhLWdvLXRvLW1vZHVsZXMtaG9vaycsIGZ1bmN0aW9uKGUpe1xuXHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdGRzbGNfc2hvd19zZWN0aW9uKCAnLmRzbGNhLW1vZHVsZXMnICk7XG59KTtcblxuLyoqXG4gKiBIb29rIC0gU2VjdGlvbiBTaG93IC0gRHluYW1pY1xuICovXG5cbmpRdWVyeShkb2N1bWVudCkub24oICdjbGljaycsICcuZHNsY2EtZ28tdG8tc2VjdGlvbi1ob29rJywgZnVuY3Rpb24oZSl7XG5cblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdC8vIERvIG5vdGhpbmcgaWYgY2xpY2tlZCBvbiBhY3RpdmUgdGFiXG5cdGlmICggalF1ZXJ5KHRoaXMpLmhhc0NsYXNzKCdkc2xjYS1hY3RpdmUnKSApIHtcblxuXHRcdHJldHVybjtcblx0fVxuXG5cdHZhciBzZWN0aW9uVGl0bGUgPSBqUXVlcnkodGhpcykuZGF0YSgnc2VjdGlvbicpO1xuXHRkc2xjX3Nob3dfc2VjdGlvbiggc2VjdGlvblRpdGxlICk7XG5cblx0aWYgKCBqUXVlcnkodGhpcykuaGFzQ2xhc3MoJ2RzbGNhLWdvLXRvLXNlY3Rpb24tbW9kdWxlcycpIHx8IGpRdWVyeSh0aGlzKS5oYXNDbGFzcygnZHNsY2EtZ28tdG8tc2VjdGlvbi10ZW1wbGF0ZXMnKSAgKSB7XG5cblx0XHRqUXVlcnkodGhpcykuYWRkQ2xhc3MoJ2RzbGNhLWFjdGl2ZScpLnNpYmxpbmdzKCcuZHNsY2EtZ28tdG8tc2VjdGlvbi1ob29rJykucmVtb3ZlQ2xhc3MoJ2RzbGNhLWFjdGl2ZScpO1xuXHR9XG59KTtcblxuLyoqXG4gKiBIb29rIC0gQ2xvc2UgQ29tcG9zZXJcbiAqL1xuXG5qUXVlcnkoZG9jdW1lbnQpLm9uKCAnY2xpY2snLCAnLmRzbGNhLWNsb3NlLWNvbXBvc2VyLWhvb2snLCBmdW5jdGlvbihlKXtcblxuXHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0dmFyIHJlZGlyZWN0X3VybCA9IGpRdWVyeSh0aGlzKS5hdHRyKCdocmVmJyk7XG5cblx0aWYgKCAhIGpRdWVyeSgnYm9keScpLmhhc0NsYXNzKCdkc2xjYS1zYXZpbmctaW4tcHJvZ3Jlc3MnKSAmJiBqUXVlcnkoJy5kc2xjYS1zYXZlLWNvbXBvc2VyJykuaXMoJzp2aXNpYmxlJykgKSB7XG5cdFx0Ly8gU2hvdyB3YXJuaW5nIGlmIGNoYW5nZXMgd2VyZW4ndCBzYXZlZC5cblx0XHRMaXZlQ29tcG9zZXIuQnVpbGRlci5VSS5DTW9kYWxXaW5kb3coe1xuXG5cdFx0XHR0aXRsZTogRFNMQ1N0cmluZy5zdHJfZXhpdF90aXRsZSxcblx0XHRcdGNvbnRlbnQ6IERTTENTdHJpbmcuc3RyX2V4aXRfZGVzY3IsXG5cdFx0XHRjb25maXJtOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0d2luZG93LmxvY2F0aW9uID0gcmVkaXJlY3RfdXJsO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5sb2NhdGlvbiA9IHJlZGlyZWN0X3VybDtcblx0fVxufSk7XG5cbi8qKlxuICogU3VibWl0IEZvcm1cbiAqL1xuXG5qUXVlcnkoZG9jdW1lbnQpLm9uKCAnY2xpY2snLCAnLmRzbGNhLXN1Ym1pdCcsIGZ1bmN0aW9uKCl7XG5cblx0alF1ZXJ5KHRoaXMpLmNsb3Nlc3QoJ2Zvcm0nKS5zdWJtaXQoKTtcblxufSk7XG5cbi8qKlxuICogSG9vayAtIFNob3cgT3JpZ2luIEZpbHRlcnNcbiAqL1xuXG5qUXVlcnkoZG9jdW1lbnQpLm9uKCAnY2xpY2snLCAnLmRzbGNhLXNlY3Rpb24tdGl0bGUnLCBmdW5jdGlvbihlKXtcblxuXHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG5cdGlmICggalF1ZXJ5KCcuZHNsY2Etc2VjdGlvbi10aXRsZS1maWx0ZXInLCB0aGlzKS5sZW5ndGggKSB7XG5cblx0XHRkc2xjX2dlbmVyYXRlX2ZpbHRlcnMoKTtcblxuXHRcdC8vIE9wZW4gZmlsdGVyIHBhbmVsXG5cdFx0alF1ZXJ5KCcuZHNsY2Etc2VjdGlvbi10aXRsZS1maWx0ZXItb3B0aW9ucycpLnNsaWRlVG9nZ2xlKDMwMCk7XG5cdH1cbn0pO1xuXG4vKipcbiAqIEhvb2sgLSBBcHBseSBGaWx0ZXIgT3JpZ2luXG4gKi9cblxualF1ZXJ5KGRvY3VtZW50KS5vbiggJ2NsaWNrJywgJy5kc2xjYS1zZWN0aW9uLXRpdGxlLWZpbHRlci1vcHRpb25zIGEnLCBmdW5jdGlvbihlKXtcblxuXHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cblx0dmFyIG9yaWdpbiA9IGpRdWVyeSh0aGlzKS5kYXRhKCdvcmlnaW4nKTtcblx0dmFyIHNlY3Rpb24gPSBqUXVlcnkodGhpcykuY2xvc2VzdCgnLmRzbGNhLXNlY3Rpb24nKTtcblxuXHRpZiAoIHNlY3Rpb24uaGFzQ2xhc3MoJ2RzbGNhLXRlbXBsYXRlcy1sb2FkJykgKSB7XG5cblx0XHRqUXVlcnkoJy5kc2xjYS1zZWN0aW9uLXRpdGxlLWZpbHRlci1jdXJyJywgc2VjdGlvbikudGV4dCggalF1ZXJ5KHRoaXMpLnRleHQoKSk7XG5cdH0gZWxzZSB7XG5cblx0XHRqUXVlcnkoJy5kc2xjYS1zZWN0aW9uLXRpdGxlLWZpbHRlci1jdXJyJywgc2VjdGlvbikudGV4dCggalF1ZXJ5KHRoaXMpLnRleHQoKSk7XG5cdH1cblxuXHRqUXVlcnkoJy5kc2xjYS1zZWN0aW9uLXNjcm9sbGVyLWlubmVyJykuY3NzKHsgbGVmdCA6IDAgfSk7XG5cblx0ZHNsY19maWx0ZXJfb3JpZ2luKCBvcmlnaW4sIHNlY3Rpb24gKTtcblxuXHQvLyBDbG9zZSBmaWx0ZXIgcGFuZWxcblx0alF1ZXJ5KCcuZHNsY2Etc2VjdGlvbi10aXRsZS1maWx0ZXItb3B0aW9ucycpLnNsaWRlVG9nZ2xlKDMwMCk7XG59KTtcblxuXG4vKipcbiAqIFVJIC0gR0VORVJBTCAtIEhpZGUgQ29tcG9zZXJcbiAqL1xuXG5mdW5jdGlvbiBkc2xjX2hpZGVfY29tcG9zZXIoKSB7XG5cblx0aWYgKCB3aW5kb3cuZHNsY0RlYnVnICkgY29uc29sZS5sb2coICdkc2xjX2hpZGVfY29tcG9zZXInICk7XG5cblx0Ly8gSGlkZSBcImhpZGVcIiBidXR0b24gYW5kIHNob3cgXCJzaG93XCIgYnV0dG9uXG5cdGpRdWVyeSgnLmRzbGNhLWhpZGUtY29tcG9zZXItaG9vaycpLmhpZGUoKTtcblx0alF1ZXJ5KCcuZHNsY2Etc2hvdy1jb21wb3Nlci1ob29rJykuc2hvdygpO1xuXG5cdC8vIEFkZCBjbGFzcyB0byBrbm93IGl0J3MgaGlkZGVuXG5cdGpRdWVyeSgnYm9keScpLmFkZENsYXNzKCdkc2xjYS1jb21wb3Nlci1oaWRkZW4nKTtcblx0alF1ZXJ5KCdib2R5JywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkuYWRkQ2xhc3MoJ2RzbGNhLWNvbXBvc2VyLWhpZGRlbicpO1xuXG5cblx0Ly8gSGlkZSAoIGFuaW1hdGlvbiApIHRoZSBtYWluIGNvbXBvc2VyIGFyZWEgKCBhdCB0aGUgYm90dG9tIClcblx0alF1ZXJ5KCcuZHNsY2EtY29udGFpbmVyJykuY3NzKHsgYm90dG9tIDogalF1ZXJ5KCcuZHNsY2EtY29udGFpbmVyJykub3V0ZXJIZWlnaHQoKSAqIC0xIH0pO1xuXG5cdC8vIEhpZGUgdGhlIGhlYWRlciAgcGFydCBvZiB0aGUgbWFpbiBjb21wb3NlciBhcmVhICggYXQgdGhlIGJvdHRvbSApXG5cdGpRdWVyeSgnLmRzbGNhLWhlYWRlcicpLmhpZGUoKTtcblxufVxuXG4vKipcbiAqIFVJIC0gR0VORVJBTCAtIFNob3cgQ29tcG9zZXJcbiAqL1xuXG5mdW5jdGlvbiBkc2xjX3Nob3dfY29tcG9zZXIoKSB7XG5cblx0aWYgKCB3aW5kb3cuZHNsY0RlYnVnICkgY29uc29sZS5sb2coICdkc2xjX3Nob3dfY29tcG9zZXInICk7XG5cblx0Ly8gSGlkZSB0aGUgXCJzaG93XCIgYnV0dG9uIGFuZCBzaG93IHRoZSBcImhpZGVcIiBidXR0b25cblx0alF1ZXJ5KCcuZHNsY2Etc2hvdy1jb21wb3Nlci1ob29rJykuaGlkZSgpO1xuXHRqUXVlcnkoJy5kc2xjYS1oaWRlLWNvbXBvc2VyLWhvb2snKS5zaG93KCk7XG5cblx0Ly8gUmVtb3ZlIHRoZSBjbGFzcyBmcm9tIHRoZSBib2R5IHNvIHdlIGtub3cgaXQncyBub3QgaGlkZGVuXG5cdGpRdWVyeSgnYm9keScpLnJlbW92ZUNsYXNzKCdkc2xjYS1jb21wb3Nlci1oaWRkZW4nKTtcblx0alF1ZXJ5KCdib2R5JywgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkucmVtb3ZlQ2xhc3MoJ2RzbGNhLWNvbXBvc2VyLWhpZGRlbicpO1xuXG5cblx0Ly8gU2hvdyAoIGFuaW1hdGUgKSB0aGUgbWFpbiBjb21wb3NlciBhcmVhICggYXQgdGhlIGJvdHRvbSApXG5cdGpRdWVyeSgnLmRzbGNhLWNvbnRhaW5lcicpLmNzcyh7IGJvdHRvbSA6IDAgfSk7XG5cblx0Ly8gU2hvdyB0aGUgaGVhZGVyIG9mIHRoZSBtYWluIGNvbXBvc2VyIGFyZWEgKCBhdCB0aGUgYm90dG9tIClcblx0alF1ZXJ5KCcuZHNsY2EtaGVhZGVyJykuc2hvdygpO1xufVxuXG4vKipcbiAqIFVJIC0gR0VORVJBTCAtIFNob3cgUHVibGlzaCBCdXR0b25cbiAqL1xuXG53aW5kb3cuZHNsY19zaG93X3B1Ymxpc2hfYnV0dG9uID0gZnVuY3Rpb24oKSB7XG5cblx0aWYgKCB3aW5kb3cuZHNsY0RlYnVnICkgY29uc29sZS5sb2coICdkc2xjX3Nob3dfcHVibGlzaF9idXR0b24nICk7XG5cblx0alF1ZXJ5KCcuZHNsY2Etc2F2ZS1jb21wb3NlcicpLnNob3coKS5hZGRDbGFzcygnZHNsY2EtaW5pdC1hbmltYXRpb24nKTtcblx0alF1ZXJ5KCcuZHNsY2Etc2F2ZS1kcmFmdC1jb21wb3NlcicpLnNob3coKS5hZGRDbGFzcygnZHNsY2EtaW5pdC1hbmltYXRpb24nKTtcbn1cblxuZnVuY3Rpb24gZHNsY19oaWRlX3B1Ymxpc2hfYnV0dG9uKCkge1xuXG5cdGlmICggd2luZG93LmRzbGNEZWJ1ZyApIGNvbnNvbGUubG9nKCAnZHNsY19oaWRlX3B1Ymxpc2hfYnV0dG9uJyApO1xuXG5cdGpRdWVyeSgnLmRzbGNhLXNhdmUtY29tcG9zZXInKS5oaWRlKCk7XG5cdGpRdWVyeSgnLmRzbGNhLXNhdmUtZHJhZnQtY29tcG9zZXInKS5oaWRlKCk7XG59XG5cbi8qKlxuICogVUkgLSBHRU5FUkFMIC0gU2hvdyBTZWN0aW9uXG4gKi9cblxuZnVuY3Rpb24gZHNsY19zaG93X3NlY3Rpb24oIHNlY3Rpb24gKSB7XG5cblx0aWYgKCB3aW5kb3cuZHNsY0RlYnVnICkgY29uc29sZS5sb2coICdkc2xjX3Nob3dfc2VjdGlvbicgKTtcblxuXHQvLyBBZGQgY2xhc3MgdG8gYm9keSBzbyB3ZSBrbm93IGl0J3MgaW4gcHJvZ3Jlc3Ncblx0Ly8galF1ZXJ5KCdib2R5JykuYWRkQ2xhc3MoJ2RzbGNhLWFuaW0taW4tcHJvZ3Jlc3MnKTtcblxuXHQvLyBHZXQgdmFyc1xuXHR2YXIgc2VjdGlvblRpdGxlID0galF1ZXJ5KHNlY3Rpb24pLmRhdGEoJ3RpdGxlJyksXG5cdG5ld0NvbG9yID0galF1ZXJ5KHNlY3Rpb24pLmRhdGEoJ2JnJyk7XG5cblx0Ly8gSGlkZSAoIGFuaW1hdGUgKSB0aGUgY29udGFpbmVyXG5cdGpRdWVyeSgnLmRzbGNhLWNvbnRhaW5lcicpLmNzcyh7IGJvdHRvbTogLTUwMCB9KTtcblxuXHQvLyBIaWRlIGFsbCBzZWN0aW9ucyBhbmQgc2hvdyBzcGVjaWZpYyBzZWN0aW9uXG5cdGpRdWVyeSgnLmRzbGNhLXNlY3Rpb24nKS5oaWRlKCk7XG5cdGpRdWVyeShzZWN0aW9uKS5zaG93KCk7XG5cblx0Ly8gQ2hhbmdlIFwiY3VycmVudGx5IGVkaXRpbmdcIlxuXHRpZiAoIHNlY3Rpb24gPT0gJy5kc2xjYS1tb2R1bGUtZWRpdCcgKSB7XG5cblx0XHRqUXVlcnkoJy5kc2xjYS1jdXJyZW50bHktZWRpdGluZycpXG5cdFx0XHQuc2hvdygpXG5cdFx0XHRcdC5maW5kKCdzdHJvbmcnKVxuXHRcdFx0XHQudGV4dCggalF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWJlaW5nLWVkaXRlZCcsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLmF0dHIoJ3RpdGxlJykgKyAnIGVsZW1lbnQnICk7XG5cdH0gZWxzZSBpZiAoIHNlY3Rpb24gPT0gJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tZWRpdCcgKSB7XG5cblx0XHRqUXVlcnkoJy5kc2xjYS1jdXJyZW50bHktZWRpdGluZycpXG5cdFx0XHQuc2hvdygpXG5cdFx0XHQuY3NzKCAnYmFja2dyb3VuZC1jb2xvcicsICcjZTU4NTVmJyApXG5cdFx0XHRcdC5maW5kKCdzdHJvbmcnKVxuXHRcdFx0XHQudGV4dCggJ1JvdycgKTtcblx0fSBlbHNlIHtcblxuXHRcdGpRdWVyeSgnLmRzbGNhLWN1cnJlbnRseS1lZGl0aW5nJylcblx0XHRcdC5oaWRlKClcblx0XHRcdFx0LmZpbmQoJ3N0cm9uZycpXG5cdFx0XHRcdC50ZXh0KCcnKTtcblx0fVxuXG5cdC8vIEZpbHRlciBtb2R1bGUgb3B0aW9uIHRhYnNcblx0ZWxlbWVudE9wdGlvbnNUYWJzKCk7XG5cblx0Ly8gU2hvdyAoIGFuaW1hdGUgKSB0aGUgY29udGFpbmVyXG5cdC8vIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdGpRdWVyeSgnLmRzbGNhLWNvbnRhaW5lcicpLmNzcyh7IGJvdHRvbSA6IDAgfSk7XG5cdC8vIH0sIDMwMCApO1xuXG5cdC8vIFJlbW92ZSBjbGFzcyBmcm9tIGJvZHkgc28gd2Uga25vdyBpdCdzIGZpbmlzaGVkXG5cdC8vIGpRdWVyeSgnYm9keScpLnJlbW92ZUNsYXNzKCdkc2xjYS1hbmltLWluLXByb2dyZXNzJyk7XG5cblx0Ly8gU2V0IGluaXRpYWwgYmFja2dyb3VuZCBjb2xvciBmb3IgdGhlIGNvbG9yIHBpY2tlciBmaWVsZHNcblx0Ly8gRml4ZXMgdGhlIGJ1ZyB3aXRoIHNlY3Rpb24gY29sb3IgcGlja2VycyB0byBrZWVwIHZhbHVlcyBmcm9tIHRoZSBwcmV2aW91c2x5XG5cdC8vIGVkaXRlZCBzZWN0aW9uLlxuXHRqUXVlcnkoc2VjdGlvbikuZmluZCgnaW5wdXQuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQtY29sb3JwaWNrZXInKS5lYWNoKCBmdW5jdGlvbiAoaXRlbSkge1xuXHRcdGpRdWVyeSh0aGlzKS5jc3MoJ2JhY2tncm91bmQnLCBqUXVlcnkodGhpcykudmFsKCkpO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBVSSAtIEdFTkVSQUwgLSBHZW5lcmF0ZSBPcmlnaW4gRmlsdGVyc1xuICovXG5cbmZ1bmN0aW9uIGRzbGNfZ2VuZXJhdGVfZmlsdGVycygpIHtcblxuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2RzbGNfZ2VuZXJhdGVfZmlsdGVycycgKTtcblxuXHQvLyBWYXJzXG5cdHZhciBlbCwgZmlsdGVycyA9IFtdLCBmaWx0ZXJzSFRNTCA9ICc8YSBodG1sPVwiI1wiIGRhdGEtb3JpZ2luPVwiXCI+U2hvdyBBbGw8L2E+JywgZWxzID0galF1ZXJ5KCcuZHNsY2Etc2VjdGlvbjp2aXNpYmxlIC5kc2xjYS1vcmlnaW4nKTtcblxuXHQvLyBHbyB0aHJvdWdoIGVhY2ggYW5kIGdlbmVyYXRlIHRoZSBmaWx0ZXJzXG5cdGVscy5lYWNoKGZ1bmN0aW9uKCl7XG5cdFx0ZWwgPSBqUXVlcnkodGhpcyk7XG5cblx0XHRpZiAoIGpRdWVyeS5pbkFycmF5KCBlbC5kYXRhKCdvcmlnaW4nKSwgZmlsdGVycyApID09IC0xICkge1xuXHRcdFx0ZmlsdGVycy5wdXNoKCBlbC5kYXRhKCdvcmlnaW4nKSApO1xuXHRcdFx0ZmlsdGVyc0hUTUwgKz0gJzxhIGhyZWY9XCIjXCIgZGF0YS1vcmlnaW49XCInICsgZWwuZGF0YSgnb3JpZ2luJykgKyAnXCI+JyArIGVsLmRhdGEoJ29yaWdpbicpICsgJzwvYT4nO1xuXHRcdH1cblx0fSk7XG5cblx0alF1ZXJ5KCcuZHNsY2Etc2VjdGlvbjp2aXNpYmxlIC5kc2xjYS1zZWN0aW9uLXRpdGxlLWZpbHRlci1vcHRpb25zJykuaHRtbCggZmlsdGVyc0hUTUwgKS5jc3MoICdiYWNrZ3JvdW5kJywgalF1ZXJ5KCcuZHNsY2Etc2VjdGlvbjp2aXNpYmxlJykuZGF0YSgnYmcnKSApO1xufVxuXG4vKipcbiAqIFVJIC0gR0VORVJBTCAtIE9yaWdpbiBGaWx0ZXJcbiAqL1xuXG5mdW5jdGlvbiBkc2xjX2ZpbHRlcl9vcmlnaW4oIG9yaWdpbiwgc2VjdGlvbiApIHtcblxuXHRpZiAoIHdpbmRvdy5kc2xjRGVidWcgKSBjb25zb2xlLmxvZyggJ2RzbGNfZmlsdGVyX29yaWdpbicgKTtcblxuXHRqUXVlcnkoJy5kc2xjYS1vcmlnaW4nLCBzZWN0aW9uKS5hdHRyKCdkYXRhLWRpc3BsYXktbW9kdWxlJywgJ2ZhbHNlJyk7XG5cdGpRdWVyeSgnLmRzbGNhLW9yaWdpbltkYXRhLW9yaWdpbj1cIicgKyBvcmlnaW4gKyAnXCJdJywgc2VjdGlvbikuYXR0cignZGF0YS1kaXNwbGF5LW1vZHVsZScsICd0cnVlJyk7XG5cblx0aWYgKCBvcmlnaW4gPT0gJycgKSB7XG5cblx0XHRqUXVlcnkoJy5kc2xjYS1vcmlnaW4nLCBzZWN0aW9uKS5hdHRyKCdkYXRhLWRpc3BsYXktbW9kdWxlJywgJ3RydWUnKTtcblx0XHRqUXVlcnkoJy5kc2xjYS1vcmlnaW4uZHNsY2EtZXhjbHVkZScsIHNlY3Rpb24pLmF0dHIoJ2RhdGEtZGlzcGxheS1tb2R1bGUnLCAnZmFsc2UnKVxuXHR9XG59XG5cbi8qKlxuICogRGVwcmVjYXRlZCBGdW5jdGlvbnMgYW5kIEZhbGxiYWNrc1xuICovXG5cbmZ1bmN0aW9uIGRzbGNfb3B0aW9uX2NoYW5nZWQoKSB7IHdpbmRvdy5kc2xjX3Nob3dfcHVibGlzaF9idXR0b24oKTsgfVxuXG5cbi8qKlxuICogUHJldmVudCBkcmFnIGFuZCBkcm9wIG9mIHRoZSBtb2R1bGVzXG4gKiBpbnRvIHRoZSBpbm5lciBjb250ZW50IGFyZWFzIG9mIHRoZSBvdGhlciBtb2R1bGVzXG4gKi9cbmV4cG9ydCBjb25zdCBmaXhDb250ZW50ZWRpdGFibGUgPSAoKSA9PiB7XG5cblx0d2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQub24oJ2RyYWdzdGFydCcsICcuZHNsY2EtbW9kdWxlLCAuZHNsYy1tb2R1bGUtZnJvbnQsIC5kc2xjLW1vZHVsZXMtYXJlYSwgLmRzbGMtbW9kdWxlcy1zZWN0aW9uJywgZnVuY3Rpb24gKGUpIHtcblxuXHRcdGpRdWVyeSgnW2NvbnRlbnRlZGl0YWJsZV0nLCB3aW5kb3cuTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCkuYXR0cignY29udGVudGVkaXRhYmxlJywgZmFsc2UpO1xuXHR9KTtcblxuXHR3aW5kb3cuTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudC5vbignZHJhZ2VuZCBtb3VzZWRvd24nLCAnLmRzbGNhLW1vZHVsZSwgLmRzbGMtbW9kdWxlLWZyb250LCAuZHNsYy1tb2R1bGVzLWFyZWEsIC5kc2xjLW1vZHVsZXMtc2VjdGlvbicsIGZ1bmN0aW9uIChlKSB7XG5cblx0XHRqUXVlcnkoJ1tjb250ZW50ZWRpdGFibGVdJywgd2luZG93LkxpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpLmF0dHIoJ2NvbnRlbnRlZGl0YWJsZScsIHRydWUpO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBEaXNhYmxlL0VuYWJsZSBtb2R1bGUgY29udHJvbC5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGNvbnRyb2xfaWQgQ1NTIElEIG9mIHRoZSBjb250cm9sIHdlIGFyZSB0b2dnbGluZ1xuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gZHNsY190b29nbGVfY29udHJvbCAoIGNvbnRyb2xfaWQgKSB7XG5cblx0aWYgKCBjb250cm9sX2lkID09PSB1bmRlZmluZWQpIGNvbnRyb2xfaWQgPSBmYWxzZTtcblx0aWYgKCAhY29udHJvbF9pZCApIHJldHVybjtcblxuXHR2YXIgY29udHJvbCAgICAgICAgID0galF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uLScgKyBjb250cm9sX2lkICk7XG5cdHZhciBjb250cm9sX3N0b3JhZ2UgPSBjb250cm9sLmZpbmQoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZCcpO1xuXG5cdC8vIEdldCB0aGUgZWxlbWVudCB3ZSBhcmUgZWRpdGluZ1xuXHR2YXIgbW9kdWxlID0galF1ZXJ5KCcuZHNsY2EtbW9kdWxlLWJlaW5nLWVkaXRlZCcsIExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhRG9jdW1lbnQpO1xuXG5cdC8vIEdldCB0aGUgZWxlbWVudCBpZFxuXHR2YXIgbW9kdWxlX2lkID0gbW9kdWxlWzBdLmlkO1xuXG5cdHZhciByZXNwb25zaXZlX3ByZWZpeCA9ICcnO1xuXG5cdGlmICggJ3RhYmxldF9yZXNwb25zaXZlJyA9PT0gY29udHJvbC5kYXRhKCd0YWInKSApIHtcblx0XHRyZXNwb25zaXZlX3ByZWZpeCA9ICdib2R5LmRzbGMtcmVzLXRhYmxldCAnO1xuXHR9IGVsc2UgaWYgKCAncGhvbmVfcmVzcG9uc2l2ZScgPT09IGNvbnRyb2wuZGF0YSgndGFiJykgKSB7XG5cdFx0cmVzcG9uc2l2ZV9wcmVmaXggPSAnYm9keS5kc2xjLXJlcy1waG9uZSAnO1xuXHR9XG5cblx0dmFyIGFmZmVjdF9vbl9jaGFuZ2VfZWwgPSBjb250cm9sX3N0b3JhZ2UuZGF0YSgnYWZmZWN0LW9uLWNoYW5nZS1lbCcpO1xuXG5cdGlmICggYWZmZWN0X29uX2NoYW5nZV9lbCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cblx0dmFyIGFmZmVjdF9vbl9jaGFuZ2VfZWxtdHMgPSBhZmZlY3Rfb25fY2hhbmdlX2VsLnNwbGl0KCAnLCcgKTtcblxuXHRhZmZlY3Rfb25fY2hhbmdlX2VsID0gJyc7XG5cblx0Ly8gTG9vcCB0aHJvdWdoIGVsZW1lbnRzICh1c2VmdWwgd2hlbiB0aGVyZSBhcmUgbXVsdGlwbGUgZWxlbWVudHMpXG5cdGZvciAoIHZhciBpID0gMDsgaSA8IGFmZmVjdF9vbl9jaGFuZ2VfZWxtdHMubGVuZ3RoOyBpKysgKSB7XG5cblx0XHRpZiAoIGkgPiAwICkge1xuXG5cdFx0XHRhZmZlY3Rfb25fY2hhbmdlX2VsICs9ICcsICc7XG5cdFx0fVxuXG5cdFx0YWZmZWN0X29uX2NoYW5nZV9lbCArPSByZXNwb25zaXZlX3ByZWZpeCArICcjJyArIG1vZHVsZV9pZCArICcgJyArIGFmZmVjdF9vbl9jaGFuZ2VfZWxtdHNbaV07XG5cdH1cblxuXHR2YXIgYWZmZWN0X29uX2NoYW5nZV9ydWxlICA9IGNvbnRyb2xfc3RvcmFnZS5kYXRhKCdhZmZlY3Qtb24tY2hhbmdlLXJ1bGUnKS5yZXBsYWNlKC8gL2csJycpO1xuXHR2YXIgYWZmZWN0X29uX2NoYW5nZV9ydWxlcyA9IGFmZmVjdF9vbl9jaGFuZ2VfcnVsZS5zcGxpdCggJywnICk7XG5cblx0dmFyIGNvbnRyb2xfdmFsdWU7XG5cdHZhciBjb250cm9sX2RhdGFfZXh0ID0gY29udHJvbF9zdG9yYWdlLmRhdGEoJ2V4dCcpO1xuXG5cdGNvbnRyb2wudG9nZ2xlQ2xhc3MoJ2RzbGNhLW9wdGlvbi1vZmYnKTtcblxuXHRpZiAoIGNvbnRyb2wuaGFzQ2xhc3MoJ2RzbGNhLW9wdGlvbi1vZmYnKSkge1xuXHRcdC8vIERpc2FibGVcblxuXHRcdGNvbnRyb2xfdmFsdWUgPSBkc2xjX2dldF9jb250cm9sX3ZhbHVlKGNvbnRyb2xfaWQpO1xuXHRcdC8vIFRlbXBvcmFyeSBiYWNrdXAgdGhlIGN1cnJlbnQgdmFsdWUgYXMgZGF0YSBhdHRyaWJ1dGVcblx0XHRjb250cm9sX3N0b3JhZ2UuZGF0YSggJ3ZhbC1iY2twJywgY29udHJvbF92YWx1ZSApO1xuXHRcdC8vIGNvbnRyb2xfdmFsdWUgPSBkc2xjX2NvbWJpbmVfdmFsdWVfYW5kX2V4dGVuc2lvbiggY29udHJvbF92YWx1ZSwgY29udHJvbF9kYXRhX2V4dCk7XG5cblx0XHQvLyBMb29wIHRocm91Z2ggcnVsZXMgKHVzZWZ1bCB3aGVuIHRoZXJlIGFyZSBtdWx0aXBsZSBydWxlcylcblx0XHRmb3IgKCB2YXIgaSA9IDA7IGkgPCBhZmZlY3Rfb25fY2hhbmdlX3J1bGVzLmxlbmd0aDsgaSsrICkge1xuXG5cdFx0XHQvLyByZW1vdmUgY3NzIHJ1bGUgaW4gZWxlbWVudCBpbmxpbmUgc3R5bGVcblx0XHRcdGpRdWVyeSggYWZmZWN0X29uX2NoYW5nZV9lbCwgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFEb2N1bWVudCApLmNzcyggYWZmZWN0X29uX2NoYW5nZV9ydWxlc1tpXSAsICcnICk7XG5cdFx0XHQvLyByZW1vdmUgY3NzIHJ1bGUgaW4gY3NzIGJsb2NrXG5cdFx0XHRkaXNhYmxlX2Nzc19ydWxlICggYWZmZWN0X29uX2NoYW5nZV9lbCwgYWZmZWN0X29uX2NoYW5nZV9ydWxlc1tpXSwgbW9kdWxlX2lkKTtcblx0XHRcdC8vIFBST0JMRU0gZG8gbm90IHdvcmsgd2l0aCBtdWx0aXBseSBydWxlcyBleC46IC5kc2xjLXRleHQtbW9kdWxlLWNvbnRlbnQsLmRzbGMtdGV4dC1tb2R1bGUtY29udGVudCBwXG5cdFx0fVxuXG5cdFx0Y29udHJvbF9zdG9yYWdlLnZhbCgnJykudHJpZ2dlcignY2hhbmdlJyk7XG5cdH0gZWxzZSB7XG5cdFx0Ly8gRW5hYmxlXG5cblx0XHQvLyBSZXN0b3JlIHZhbHVlIG9mIHRoZSBkYXRhIGJhY2t1cCBhdHRyaWJ1dGVcblx0XHRjb250cm9sX3N0b3JhZ2UudmFsKCBjb250cm9sX3N0b3JhZ2UuZGF0YSgndmFsLWJja3AnKSApLnRyaWdnZXIoJ2NoYW5nZScpO1xuXHRcdGNvbnRyb2xfdmFsdWUgPSBkc2xjX2dldF9jb250cm9sX3ZhbHVlKGNvbnRyb2xfaWQpO1xuXHRcdGNvbnRyb2xfdmFsdWUgPSBkc2xjX2NvbWJpbmVfdmFsdWVfYW5kX2V4dGVuc2lvbiggY29udHJvbF92YWx1ZSwgY29udHJvbF9kYXRhX2V4dCB8fCAnJyk7XG5cblx0XHQvLyBMb29wIHRocm91Z2ggcnVsZXMgKHVzZWZ1bCB3aGVuIHRoZXJlIGFyZSBtdWx0aXBsZSBydWxlcylcblx0XHRmb3IgKCB2YXIgaSA9IDA7IGkgPCBhZmZlY3Rfb25fY2hhbmdlX3J1bGVzLmxlbmd0aDsgaSsrICkge1xuXG5cdFx0XHR2YXIgc3R5bGVDb250ZW50ID0gYWZmZWN0X29uX2NoYW5nZV9lbCArIFwie1wiICsgYWZmZWN0X29uX2NoYW5nZV9ydWxlc1tpXSArIFwiOiBcIiArIGNvbnRyb2xfdmFsdWUgKyBcIn1cIjtcblxuXHRcdFx0TGl2ZUNvbXBvc2VyLkJ1aWxkZXIuSGVscGVycy5wcm9jZXNzSW5saW5lU3R5bGVUYWcoe1xuXG5cdFx0XHRcdGNvbnRleHQ6IGNvbnRyb2wsXG5cdFx0XHRcdHJ1bGU6IGFmZmVjdF9vbl9jaGFuZ2VfcnVsZXNbaV0sXG5cdFx0XHRcdGVsZW1zOiBhZmZlY3Rfb25fY2hhbmdlX2VsLnJlcGxhY2UobmV3IFJlZ0V4cCgnIycgKyBtb2R1bGVfaWQsICdnaScpLCAnJykudHJpbSgpLFxuXHRcdFx0XHRzdHlsZUNvbnRlbnQ6IHN0eWxlQ29udGVudFxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG59XG5cbmpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCl7XG5cblx0Ly8gT3B0aW9uIENvbnRyb2wgVG9nZ2xlXG5cdGpRdWVyeShkb2N1bWVudCkub24oICdjbGljaycsICcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uIC5kc2xjLWNvbnRyb2wtdG9nZ2xlJywgZnVuY3Rpb24oZSl7XG5cblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0dmFyIGNvbnRyb2xfaWQgPSBqUXVlcnkoZS50YXJnZXQpLmNsb3Nlc3QoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24nKS5maW5kKCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQnKS5kYXRhKCdpZCcpO1xuXHRcdGRzbGNfdG9vZ2xlX2NvbnRyb2wgKCBjb250cm9sX2lkICk7XG5cdH0pO1xuXG5cblx0Ly8gRGlzYWJsZSBUb2dnbGUgSWYgdGhlIENvbnRyb2wgRm9jdXNlZFxuXHRqUXVlcnkoZG9jdW1lbnQpLm9uKCAnbW91c2Vkb3duJywgJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24nLCBmdW5jdGlvbihlKXtcblxuXHRcdHZhciB0b2dnbGUgPSAkKCcuZHNsYy1jb250cm9sLXRvZ2dsZScpO1xuXHRcdGlmICggISB0b2dnbGUuaXMoZS50YXJnZXQpIC8vIGlmIHRoZSB0YXJnZXQgb2YgdGhlIGNsaWNrIGlzbid0IHRoZSBjb250YWluZXIuLi5cblx0XHQgICAgICYmIHRvZ2dsZS5oYXMoZS50YXJnZXQpLmxlbmd0aCA9PT0gMCApIC8vIC4uLiBub3IgYSBkZXNjZW5kYW50IG9mIHRoZSBjb250YWluZXJcblx0XHR7XG5cblx0XHRcdGlmICggalF1ZXJ5KGUudGFyZ2V0KS5jbG9zZXN0KCcuZHNsY2EtbW9kdWxlLWVkaXQtb3B0aW9uJykuaGFzQ2xhc3MoJ2RzbGNhLW9wdGlvbi1vZmYnKSApIHtcblxuXHRcdFx0XHR2YXIgY29udHJvbF9pZCA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24nKS5maW5kKCcuZHNsY2EtbW9kdWxlLWVkaXQtZmllbGQnKS5kYXRhKCdpZCcpO1xuXHRcdFx0XHRkc2xjX3Rvb2dsZV9jb250cm9sIChjb250cm9sX2lkKTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXG4vKiBSZXNldCBhbGwgc3R5bGluZyDigJMgbm90IHJlYWR5XG5cblx0JChkb2N1bWVudCkub24oICdjbGljaycsICcuZHNsY2EtY2xlYXItc3R5bGluZy1idXR0b24nLCBmdW5jdGlvbihlKXtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblxuXHRcdCQoJy5kc2xjYS1vcHRpb24td2l0aC10b2dnbGUnKS5lYWNoKGZ1bmN0aW9uKGUpe1xuXHRcdFx0Ly8gdmFyIGNvbnRyb2xfaWQgPSAkKHRoaXMpLmZpbmQoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZCcpLmRhdGEoJ2lkJyk7XG5cdFx0XHQkKHRoaXMpLmZpbmQoJy5kc2xjYS1tb2R1bGUtZWRpdC1maWVsZCcpLnZhbCgnJykudHJpZ2dlcignY2hhbmdlJyk7XG5cdFx0fSk7XG5cblx0XHRkc2xjX21vZHVsZV9vdXRwdXRfYWx0ZXJlZCgpOyAvLyBjYWxsIG1vZHVsZSByZWdlbmVyYXRpb25cblxuXHR9KTtcbiovXG59KTtcblxuLy8gVmVyeSBTbG93IGRvIG5vdCB1c2UgZm9yIGxpdmUgZWRpdGluZ1xuLy8gT25seSB1c2Ugd2hlbiB5b3UgbmVlZCB0byBkaXNhYmxlIHNvbWUgb2YgdGhlIENTUyBwcm9wZXJ0aWVzLlxuXG5mdW5jdGlvbiBkaXNhYmxlX2Nzc19ydWxlKHNlbGVjdG9yQ1NTLCBydWxlQ1NTLCBtb2R1bGVJRCkge1xuXG5cdHZhciBjc3NSdWxlcztcblx0dmFyIHRhcmdldF9zdHlsc2hlZXRfSUQgPSAnY3NzLWZvci0nICsgbW9kdWxlSUQ7XG5cdHZhciBzdHlsZXNoZWV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhZ2UtYnVpbGRlci1mcmFtZScpLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0X3N0eWxzaGVldF9JRCk7XG5cblx0c2VsZWN0b3JDU1MgPSBzZWxlY3RvckNTUy5yZXBsYWNlKCAvXFxzXFxzKy9nLCAnICcgKTtcblxuXHRpZiAoc3R5bGVzaGVldCkge1xuXG5cdCAgIHN0eWxlc2hlZXQgPSBzdHlsZXNoZWV0LnNoZWV0O1xuXG5cdFx0aWYgKHN0eWxlc2hlZXRbJ3J1bGVzJ10pIHtcblxuXHRcdFx0Y3NzUnVsZXMgPSAncnVsZXMnO1xuXHRcdH0gZWxzZSBpZiAoc3R5bGVzaGVldFsnY3NzUnVsZXMnXSkge1xuXG5cdFx0XHRjc3NSdWxlcyA9ICdjc3NSdWxlcyc7XG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly9ubyBydWxlcyBmb3VuZC4uLiBicm93c2VyIHVua25vd25cblx0XHR9XG5cblx0XHQvLyBHbyB0aHJvdWdoIGVhY2ggQ1NTIHJ1bGUgKGV4LjogLmNvbnRlbnQgaDEgey4uLn0pXG5cdFx0Zm9yICh2YXIgUiA9IDA7IFIgPCBzdHlsZXNoZWV0W2Nzc1J1bGVzXS5sZW5ndGg7IFIrKykge1xuXG5cdFx0XHQvLyBJcyBjdXJyZW50IENTUyBydWxlIGVxdWFsIHRvIHRoZSBzZWxlY3RvckNTUyB3ZSBhcmUgbG9va2luZyBmb3I/XG5cdFx0XHQvLyAoZXguOiAnLmNvbnRlbnQgaDEnID09ICcuY29udGVudCBoMScgKVxuXHRcdFx0aWYgKHN0eWxlc2hlZXRbY3NzUnVsZXNdW1JdLnNlbGVjdG9yVGV4dCA9PSBzZWxlY3RvckNTUykge1xuXG5cdFx0XHRcdC8vIEdldCBDU1MgcHJvcGVydHkgd2UgYXJlIGxvb2tpbmcgZm9yLi4uIChleC46IGZvbnQtc2l6ZSA6IC4uLjsgKVxuXHRcdFx0XHRpZihzdHlsZXNoZWV0W2Nzc1J1bGVzXVtSXS5zdHlsZVtydWxlQ1NTXSl7XG5cblx0XHRcdFx0XHRcdHN0eWxlc2hlZXRbY3NzUnVsZXNdW1JdLnN0eWxlW3J1bGVDU1NdID0gJyc7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gZHNsY19jb21iaW5lX3ZhbHVlX2FuZF9leHRlbnNpb24gKCB2YWx1ZSwgZXh0ZW5zaW9uKSB7XG5cblx0aWYgKCAnJyA9PT0gdmFsdWUgfHwgbnVsbCA9PT0gdmFsdWUgKSB7XG5cblx0XHRyZXR1cm4gdmFsdWU7XG5cdH1cblxuXHQvLyBDaGVjayBpZiB2YWx1ZSBkbyBub3QgYWxyZWFkeSBpbmNsdWRlIGV4dGVuc2lvblxuXHRpZiAoIHZhbHVlLmluZGV4T2YoZXh0ZW5zaW9uKSA9PSAtMSApIHtcblxuXHRcdHZhbHVlID0gdmFsdWUgKyBleHRlbnNpb247XG5cdH1cblxuXHRyZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGRzbGNfZ2V0X2NvbnRyb2xfdmFsdWUgKCBjb250cm9sX2lkICkge1xuXG5cdHZhciBjb250cm9sICAgICAgPSBqUXVlcnkoJy5kc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24tJyArIGNvbnRyb2xfaWQgKTtcblx0dmFyIGNvbnRyb2xfdHlwZSA9ICd0ZXh0Jztcblx0dmFyIGNvbnRyb2xfc3RvcmFnZSA9IGNvbnRyb2wuZmluZCgnLmRzbGNhLW1vZHVsZS1lZGl0LWZpZWxkJyk7XG5cdHZhciB2YWx1ZTtcblxuLypcblx0aWYgKCBjb250cm9sLmhhc0NsYXNzKCdkc2xjYS1tb2R1bGUtZWRpdC1vcHRpb24tc2VsZWN0JykgKSB7XG5cblx0fSBlbHNlIHtcblx0XHQvLyB0ZXh0IGJhc2VkIGNvbnRyb2xzXG5cdFx0dmFsdWUgPSBjb250cm9sX3N0b3JhZ2UudmFsKCk7XG5cdH1cbiovXG5cdHZhbHVlID0gY29udHJvbF9zdG9yYWdlLnZhbCgpO1xuXG5cdHJldHVybiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBCaW5kIGtleXByZXNzIGV2ZW50cyB3aXRoIGJvdGggcGFyZW50IGFuZCBpZnJhbWUgcGFnZXMuXG4gKiBGdW5jdGlvbiBjYWxsZWQgd2hlbiBjb250ZW50IGluc2lkZSBpZnJhbWUgaXMgbG9hZGVkLlxuICpcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmV4cG9ydCBjb25zdCBrZXlwcmVzc0V2ZW50cyA9ICgpID0+IHtcblxuXHRqUXVlcnkoIFtkb2N1bWVudCwgTGl2ZUNvbXBvc2VyLkJ1aWxkZXIuUHJldmlld0FyZWFXaW5kb3cuZG9jdW1lbnQgXSApLnVuYmluZCgna2V5ZG93bicpLmJpbmQoJ2tleWRvd24nLCBmdW5jdGlvbiAoa2V5ZG93bl9ldmVudCkge1xuXG5cdFx0Ly8gTW9kYWwgd2luZG93IFtFU0NdL1tFbnRlcl1cblx0XHRkc2xjX21vZGFsX2tleXByZXNzX2V2ZW50cyhrZXlkb3duX2V2ZW50KTtcblxuXHRcdC8vIFByZXZlbnQgYmFja3NwYWNlIGZyb20gbmF2aWdhdGluZyBiYWNrXG5cdFx0ZHNsY19kaXNhYmxlX2JhY2tzcGFjZV9uYXZpZ2F0aW9uKGtleWRvd25fZXZlbnQpO1xuXG5cdFx0Ly8gUHJvbXB0IE1vZGFsIG9uIEY1XG5cdFx0ZHNsY19ub3RpY2Vfb25fcmVmcmVzaChrZXlkb3duX2V2ZW50KTtcblxuXHRcdC8vIFNhdmUgUGFnZVxuXHRcdGRzbGNfc2F2ZV9wYWdlKGtleWRvd25fZXZlbnQpO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBBY3Rpb24gLSBQcmV2ZW50IGJhY2tzcGFjZSBmcm9tIG5hdmlnYXRpbmcgYmFja1xuICovXG5cbmZ1bmN0aW9uIGRzbGNfZGlzYWJsZV9iYWNrc3BhY2VfbmF2aWdhdGlvbiAoZXZlbnQpIHtcblxuXHR2YXIgZG9QcmV2ZW50ID0gZmFsc2U7XG5cblx0aWYgKGV2ZW50LmtleUNvZGUgPT09IDgpIHtcblxuXHRcdHZhciBkID0gZXZlbnQuc3JjRWxlbWVudCB8fCBldmVudC50YXJnZXQ7XG5cblx0XHRpZiAoIChkLnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PT0gJ0lOUFVUJyAmJiAoXG5cdFx0XHRcdGQudHlwZS50b1VwcGVyQ2FzZSgpID09PSAnVEVYVCcgfHxcblx0XHRcdFx0ZC50eXBlLnRvVXBwZXJDYXNlKCkgPT09ICdQQVNTV09SRCcgfHxcblx0XHRcdFx0ZC50eXBlLnRvVXBwZXJDYXNlKCkgPT09ICdOVU1CRVInIHx8XG5cdFx0XHRcdGQudHlwZS50b1VwcGVyQ2FzZSgpID09PSAnRklMRScpXG5cdFx0XHQgIClcblx0XHRcdCB8fCBkLnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PT0gJ1RFWFRBUkVBJ1xuXHRcdFx0IHx8IGpRdWVyeShkKS5oYXNDbGFzcygnZHNsY2EtZWRpdGFibGUtY29udGVudCcpXG5cdFx0XHQgfHwgalF1ZXJ5KGQpLmhhc0NsYXNzKCdkc2xjLXRhYnMtbmF2LWhvb2stdGl0bGUnKVxuXHRcdFx0IHx8IGpRdWVyeShkKS5oYXNDbGFzcygnZHNsYy1hY2NvcmRpb24tdGl0bGUnKSApIHtcblxuXHRcdFx0ZG9QcmV2ZW50ID0gZC5yZWFkT25seSB8fCBkLmRpc2FibGVkO1xuXHRcdH0gZWxzZSB7XG5cblx0XHRcdGRvUHJldmVudCA9IHRydWU7XG5cdFx0fVxuXHR9XG5cblx0aWYgKGRvUHJldmVudCkge1xuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdH1cbn1cblxuLyoqXG4gKiBBY3Rpb25zIC0gUHJvbXB0IE1vZGFsIG9uIEY1XG4gKlxuICogMTE2IOKAkyBGNVxuICogODEgKyBldmVudC5tZXRhS2V5ID0gQ01EICsgUlxuICovXG5cbmZ1bmN0aW9uIGRzbGNfbm90aWNlX29uX3JlZnJlc2goZSkge1xuXG5cdGlmICggZS53aGljaCA9PSAxMTYgfHwgKCBlLndoaWNoID09PSA4MiAmJiBlLm1ldGFLZXkgKSApIHtcblxuXHRcdGlmICggalF1ZXJ5KCcuZHNsY2Etc2F2ZS1jb21wb3Nlci1ob29rJykub2Zmc2V0UGFyZW50ICE9PSBudWxsIHx8IGpRdWVyeSgnLmRzbGNhLW1vZHVsZS1lZGl0LXNhdmUnKS5vZmZzZXRQYXJlbnQgIT09IG51bGwgKSB7XG5cblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdExpdmVDb21wb3Nlci5CdWlsZGVyLlVJLkNNb2RhbFdpbmRvdyh7XG5cblx0XHRcdFx0dGl0bGU6IERTTENTdHJpbmcuc3RyX3JlZnJlc2hfdGl0bGUsXG5cdFx0XHRcdGNvbnRlbnQ6IERTTENTdHJpbmcuc3RyX3JlZnJlc2hfZGVzY3IsXG5cdFx0XHRcdGNvbmZpcm06IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdFx0d2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0Lypkc2xjX2pzX2NvbmZpcm0oICdkaXNhYmxlX2xjJywgJzxzcGFuIGNsYXNzPVwiZHNsY2EtcHJvbXB0LW1vZGFsLXRpdGxlXCI+JyArIERTTENTdHJpbmcuc3RyX3JlZnJlc2hfdGl0bGUgK1xuXHRcdFx0ICc8L3NwYW4+PHNwYW4gY2xhc3M9XCJkc2xjYS1wcm9tcHQtbW9kYWwtZGVzY3JcIj4nICsgRFNMQ1N0cmluZy5zdHJfcmVmcmVzaF9kZXNjciArICc8L3NwYW4+JywgZG9jdW1lbnQuVVJMICk7Ki9cblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBJZiBDb250cm9sIG9yIENvbW1hbmQga2V5IGlzIHByZXNzZWQgYW5kIHRoZSBTIGtleSBpcyBwcmVzc2VkIHJ1biBkc2xjX3NhdmVfY29tcG9zZXIuXG4gKiA4MyBpcyB0aGUga2V5IGNvZGUgZm9yIFMuXG4gKi9cbmZ1bmN0aW9uIGRzbGNfc2F2ZV9wYWdlKGUpIHtcblxuICAgIGlmICggZS53aGljaCA9PSA4MyAmJiAoIGUubWV0YUtleSB8fCBlLmN0cmxLZXkgKSAgKSB7XG4gICAgXHRpZiAoIGpRdWVyeSgnLmRzbGNhLXNhdmUtY29tcG9zZXItaG9vaycpLmNzcygnZGlzcGxheScpID09ICdibG9jaycgKSB7XG5cdCAgICAgICAgZHNsY19zYXZlX2NvbXBvc2VyKCk7XG5cdCAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogR2VuZXJhdGUgcmVwb3J0IGFib3V0IEpTIGVycm9yIGFuZCBzYXZlIGl0IGluIGEgbG9jYWwgc3RvcmFnZS5cbiAqIEBwYXJhbSAgU3RyaW5nIGVycm9yIEVycm9yIHRleHRcbiAqIEBwYXJhbSAgU3RyaW5nIGZpbGUgIEZpbGUgd2l0aCBlcnJvclxuICogQHBhcmFtICBTdHJpbmcgbGluZSAgTGluZSB3aXRoIGVycm9yXG4gKiBAcGFyYW0gIFN0cmluZyBjaGFyICBDb2x1bW4gd2l0aCBlcnJvclxuICogQHJldHVybiB2b2lkXG4gKi9cbmZ1bmN0aW9uIGRzbGNhX2dlbmVyYXRlX2Vycm9yX3JlcG9ydCAoIGVycm9yLCBmaWxlLCBsaW5lLCBjaGFyICkge1xuXG5cdHZhciB0aXRsZSA9ICdKYXZhU2NyaXB0IGVycm9yIGRldGVjdGVkIGluIGEgdGhpcmQtcGFydHkgcGx1Z2luJztcblxuXHRpZiAoIGZpbGUubWF0Y2goXCJ3cC1jb250ZW50XFwvcGx1Z2luc1xcL2xpdmUtY29tcG9zZXItcGFnZS1idWlsZGVyXFwvanNcIikgIT0gbnVsbCApIHtcblxuXHRcdHRpdGxlID0gJ0xpdmUgQ29tcG9zZXIgcmV0dXJuZWQgSlMgZXJyb3InO1xuXHR9XG5cblx0dmFyIGVycm9yX3JlcG9ydCA9ICcnO1xuXHRlcnJvcl9yZXBvcnQgKz0gJzxiciAvPjxzdHJvbmcgc3R5bGU9XCJjb2xvcjojRTU1RjVGO1wiPicgKyB0aXRsZSArICc8L3N0cm9uZz48YnIgLz4nO1xuXHRlcnJvcl9yZXBvcnQgKz0gZXJyb3IgKyAnPGJyIC8+IEZpbGUgXCInICsgZmlsZSArICdcIiwgbGluZSAnICsgbGluZSArICcsIGNoYXIgJyArIGNoYXIgKyAnPGJyIC8+JztcblxuXHRpZiAoICd1bmRlZmluZWQnICE9PSB0eXBlb2YoU3RvcmFnZSkpIHtcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnanNfZXJyb3JzX3JlcG9ydCcsIGVycm9yX3JlcG9ydCk7XG5cdH1cbn1cblxuLyoqXG4gKiBQdXQgaW4gYSBoaWRkZW4gZGl2I2RzbGNhLWpzLWVycm9ycy1yZXBvcnQgaW5mb3JtYXRpb24gZnJvbSBsb2NhbCBzdG9yYWdlXG4gKiBAcmV0dXJuIHZvaWRcbiAqL1xuZnVuY3Rpb24gZHNsY2FfdXBkYXRlX3JlcG9ydF9sb2coKSB7XG5cblx0dmFyIGVycm9yc19jb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHNsY2EtanMtZXJyb3JzLXJlcG9ydCcpO1xuXHR2YXIgZXJyb3JfcmVwb3J0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2pzX2Vycm9yc19yZXBvcnQnKTtcblxuXHRpZiAoIG51bGwgIT09IGVycm9yX3JlcG9ydCApIHtcblx0XHRlcnJvcnNfY29udGFpbmVyLnZhbHVlID0gZXJyb3JfcmVwb3J0O1xuXHRcdGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdqc19lcnJvcnNfcmVwb3J0Jyk7XG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvciggJy5kc2xjYS1zaG93LWpzLWVycm9yLWhvb2snICkuc2V0QXR0cmlidXRlKCdzdHlsZScsJ3Zpc2liaWxpdHk6dmlzaWJsZScpO1xuXHR9XG59XG5cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5qUXVlcnkoZG9jdW1lbnQpLm9uKCdlZGl0b3JGcmFtZUxvYWRlZCcsIGZ1bmN0aW9uKCl7XG5cblx0dmFyICQgPSBqUXVlcnk7XG5cdHZhciBoZWFkZXJGb290ZXIgPSAkKCdkaXZbZGF0YS1oZl0nLCBMaXZlQ29tcG9zZXIuQnVpbGRlci5QcmV2aWV3QXJlYURvY3VtZW50KTtcblx0dmFyIG92ZXJsYXkgPSAnJztcblxuXHRoZWFkZXJGb290ZXIuZWFjaChmdW5jdGlvbihpbmRleCwgZWwpIHtcblx0XHR2YXIgbGlua1RvRWRpdCA9ICQoZWwpLmRhdGEoJ2VkaXRpbmctbGluaycpO1xuXHRcdHZhciBoZlR5cGUgPSAkKGVsKS5kYXRhKCdlZGl0aW5nLXR5cGUnKTtcblx0XHR2YXIgZWRpdGluZ0xhYmVsID0gJChlbCkuZGF0YSgnZWRpdGluZy1sYWJlbCcpO1xuXHRcdHZhciBlZGl0aW5nU3ViTGFiZWwgPSAkKGVsKS5kYXRhKCdlZGl0aW5nLXN1YmxhYmVsJyk7XG5cblx0XHRvdmVybGF5ICs9ICc8ZGl2IGNsYXNzPVwiZHNsYy1oZi1ibG9jay1vdmVybGF5XCI+PGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cIicgKyBsaW5rVG9FZGl0ICsgJ1wiIGNsYXNzPVwiZHNsYy1oZi1ibG9jay1vdmVybGF5LWJ1dHRvbiBkc2xjYS1saW5rXCI+JyArIGVkaXRpbmdMYWJlbCArICc8L2E+Jztcblx0XHRpZiAoIGVkaXRpbmdTdWJMYWJlbCAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0b3ZlcmxheSArPSAnIDxzcGFuIGNsYXNzPVwiZHNsYy1oZi1ibG9jay1vdmVybGF5LXRleHRcIj4nICsgZWRpdGluZ1N1YkxhYmVsICsgJzwvc3Bhbj4nO1xuXHRcdH1cblx0XHRvdmVybGF5ICs9ICc8L2Rpdj4nO1xuXG5cdFx0dmFyIGh0bWxPYmplY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRodG1sT2JqZWN0LmlubmVySFRNTCA9IG92ZXJsYXk7XG5cblx0XHRlbC5hcHBlbmQoIGh0bWxPYmplY3QgKTtcblx0fSk7XG5cbn0pO1xuIiwiLyoqXG4gKiBDdXN0b20gdXRpbHNcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IFV0aWxzID0ge1xuXHRhZGRzbGFzaGVzOiBmdW5jdGlvbihzdHIpXG5cdHtcblx0XHQgc3RyID0gc3RyLnJlcGxhY2UoL1xcXFwvZywgJ1xcXFxcXFxcJyk7XG5cdFx0IHN0ciA9IHN0ci5yZXBsYWNlKC9cXCcvZywgJ1xcXFxcXCcnKTtcblx0XHQgc3RyID0gc3RyLnJlcGxhY2UoL1xcXCIvZywgJ1xcXFxcIicpO1xuXHRcdCBzdHIgPSBzdHIucmVwbGFjZSgvXFwwL2csICdcXFxcMCcpO1xuXHRcdCByZXR1cm4gc3RyO1xuXHR9LFxuXG5cdGJhc2VuYW1lOiBmdW5jdGlvbihwYXRoKVxuXHR7XG5cdFx0cmV0dXJuIHBhdGguc3BsaXQoL1tcXFxcL10vKS5wb3AoKTtcblx0fSxcblxuXHQvKipcblx0ICogQ2hlY2sgaWYgYnJvd3NlciBpcyBJRVxuXHQgKi9cblx0bXNpZXZlcnNpb246IGZ1bmN0aW9uKCkge1xuXG5cdCAgICB2YXIgdWEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtcblx0ICAgIHZhciBtc2llID0gdWEuaW5kZXhPZihcIk1TSUUgXCIpO1xuXG5cdCAgICBpZiAobXNpZSA+IDAgfHwgISFuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9UcmlkZW50LipydlxcOjExXFwuLykpICAvLyBJZiBJbnRlcm5ldCBFeHBsb3JlciwgcmV0dXJuIHZlcnNpb24gbnVtYmVyXG5cdCAgICB7XG5cdCAgICAgICAgcmV0dXJuIHBhcnNlSW50KHVhLnN1YnN0cmluZyhtc2llICsgNSwgdWEuaW5kZXhPZihcIi5cIiwgbXNpZSkpKTtcblx0ICAgIH1cblx0ICAgIGVsc2UgIC8vIElmIGFub3RoZXIgYnJvd3NlciwgcmV0dXJuIDBcblx0ICAgIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdH0sXG5cblx0LyoqXG5cdCAqIENoZWNrIGlmIHZhcmlhYmxlcyBpbiBhcnJheSBpcyBkZXNpcmVkIHR5cGVzXG5cdCAqIEBwYXJhbSAge2FycmF5fSBhcnJheVxuXHQgKiBAcmV0dXJuIHtib29sZWFufVxuXHQgKi9cblx0Y2hlY2tQYXJhbXM6IGZ1bmN0aW9uKGFycmF5KVxuXHR7XG5cdFx0aWYoIUFycmF5LmlzQXJyYXkoYXJyYXkpKVxuXHRcdHtcblx0XHRcdHRocm93ICgnUGFyYW0gaXMgbm90IGFycmF5Jyk7XG5cdFx0fVxuXG5cdFx0Ly8vIEluc3RlYWQgb2Ygc3dpdGNoIGNvbnN0cnVjdGlvblxuXHRcdHZhciB0eXBlcyA9IHtcblx0XHRcdGludGVnZXI6IGZ1bmN0aW9uKHBhcmFtKVxuXHRcdFx0e1xuXHRcdFx0XHRyZXR1cm4gaXNOYU4ocGFyc2VJbnQocGFyYW0pKTtcblx0XHRcdH0sXG5cdFx0XHRmbG9hdDogZnVuY3Rpb24ocGFyYW0pXG5cdFx0XHR7XG5cdFx0XHRcdHJldHVybiBpc05hTihwYXJzZUZsb2F0KHBhcmFtKSk7XG5cdFx0XHR9LFxuXHRcdFx0c3RyaW5nOiBmdW5jdGlvbihwYXJhbSlcblx0XHRcdHtcblx0XHRcdFx0cmV0dXJuIHBhcmFtICE9IG51bGwgJiYgcGFyYW0gIT0gdW5kZWZpbmVkICYmIHR5cGVvZiBwYXJhbSA9PSAnc3RyaW5nJztcblx0XHRcdH0sXG5cdFx0XHRhcnJheTogZnVuY3Rpb24ocGFyYW0pXG5cdFx0XHR7XG5cdFx0XHRcdHJldHVybiBBcnJheS5pc0FycmF5KHBhcmFtKTtcblx0XHRcdH0sXG5cdFx0XHRvYmplY3Q6IGZ1bmN0aW9uKHBhcmFtKVxuXHRcdFx0e1xuXHRcdFx0XHRyZXR1cm4gdHlwZW9mIHBhcmFtID09ICdvYmplY3QnO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vLyBDaGVjayBpdCFcblx0XHRhcnJheS5tYXAoZnVuY3Rpb24oaXRlbSl7XG5cdFx0XHRpZighdHlwZXNbaXRlbVsxXV0oaXRlbVswXSkpe1xuXHRcdFx0XHR0aHJvdygnUGFyYW0gJyArIGl0ZW1bMF0gKyAnIGlzIG5vdCAnICsgaXRlbVsxXSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0sXG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIFVURi04IHRvIGJhc2U2NFxuXHQgKlxuXHQgKiBAcGFyYW0gIHtzdHJpbmd9IHQgdXRmLThcblx0ICogQHJldHVybiB7c3RyaW5nfSAgIGI2NFxuXHQgKi9cblx0dXRmOF90b19iNjQ6IGZ1bmN0aW9uKHQpIHtcblxuXHRcdHJldHVybiB3aW5kb3cuYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQodCkpKTtcblx0fSxcblxuXHQvKipcblx0ICogQ29udmVydHMgYmFzZTY0IHRvIFVURi04XG5cdCAqXG5cdCAqIEBwYXJhbSAge3N0cmluZ30gc3RyIGluIGI2NFxuXHQgKiBAcmV0dXJuIHtzdHJpbmd9ICAgaW4gdXRmLThcblx0ICovXG5cdGI2NF90b191dGY4OiBmdW5jdGlvbihzdHIpIHtcblxuXHRcdHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKHdpbmRvdy5hdG9iKHN0cikpKTtcblx0fSxcblxuXHQvKipcblx0ICogR2V0IFBhZ2UgUGFyYW1zXG5cdCAqXG5cdCAqIEByZXR1cm4ge2FycmF5fVxuXHQgKi9cblx0Z2V0X3BhZ2VfcGFyYW1zOiBmdW5jdGlvbigpIHtcblxuXHRcdHJldHVybiBkZWNvZGVVUklDb21wb25lbnQod2luZG93LmxvY2F0aW9uLnNlYXJjaC5zbGljZSgxKSkuc3BsaXQoJyYnKS5yZWR1Y2UoZnVuY3Rpb24gX3JlZHVjZSAoIGEsIGIpIHsgYiA9IGIuc3BsaXQoJz0nKTsgYVtiWzBdXSA9IGJbMV07IHJldHVybiBhOyB9LCB7fSk7XG5cdH0sXG5cblx0Z2V0X3VuaXF1ZV9pZDogZnVuY3Rpb24oKSB7XG5cblx0XHRyZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzMikuc2xpY2UoMik7XG5cdH0sXG5cblx0LyoqXG5cdCAqIFVwZGF0ZSBtb2R1bGUgb3B0aW9uIGluIHJhdyBKU09OIGNvZGUgKGRzbGNfY29kZSkgb2YgdGhlIG1vZHVsZVxuXHQgKlxuXHQgKiBAcGFyYW0gIHtET00gZWxlbWVudH0gbW9kdWxlICAgIE1vZHVsZSBFbGVtZW50XG5cdCAqIEBwYXJhbSAge3N0cmluZ30gcHJvcGVydHlfbmFtZSAgTmFtZSBvZiB0aGUgb3B0aW9uIHdlIGNoYW5nZVxuXHQgKiBAcGFyYW0gIHtzdHJpbmd9IHByb3BlcnR5X3ZhbHVlIFZhbHVlIG9mIHRoZSBvcHRpb24gd2UgY2hhbmdlXG5cdCAqIEByZXR1cm4ge3ZvaWR9XG5cdCAqL1xuXHR1cGRhdGVfbW9kdWxlX3Byb3BlcnR5X3JhdzogZnVuY3Rpb24gKG1vZHVsZSwgcHJvcGVydHlfbmFtZSwgcHJvcGVydHlfdmFsdWUgKSB7XG5cblx0XHQvLyBIaWRkZW4gdGV4dGFyZWEgZWxlbWVudCB3aXRoIHJhdyBiYXNlNjQgY29kZSBvZiB0aGUgbW9kdWxlXG5cdFx0Ly8gPHRleHRhcmVhIGNsYXNzPVwiZHNsY2EtbW9kdWxlLWNvZGVcIj5ZVG8yT24uLi4uaU9qRTdmUT09PC90ZXh0YXJlYT5cblx0XHR2YXIgbW9kdWxlX2NvZGVfY29udGFpbmVyID0gbW9kdWxlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2RzbGNhLW1vZHVsZS1jb2RlJylbMF07XG5cblx0XHQvLyBIaWRkZW4gdGV4dGFyZWEgZWxlbWVudCB3aXRoIHZhbHVlIG9mIHRoaXMgcGFydGljdWxhciBzZXR0aW5nXG5cdFx0Ly8gPHRleHRhcmVhIGRhdGEtaWQ9XCJwcm9wZXJ0eV9uYW1lXCI+cHJvcGVydHlfdmFsdWU8L3RleHRhcmVhPlxuXHRcdHZhciBwcm9wZXJ0eV9jb250YWluZXIgPSBtb2R1bGUucXVlcnlTZWxlY3RvciggJy5kc2xjYS1tb2R1bGUtb3B0aW9uLWZyb250W2RhdGEtaWQ9XCInICsgcHJvcGVydHlfbmFtZSArICdcIl0nICk7XG5cblx0XHQvLyBHZXQgbW9kdWxlIHJhdyBjb2RlXG5cdFx0dmFyIG1vZHVsZV9jb2RlID0gbW9kdWxlX2NvZGVfY29udGFpbmVyLnZhbHVlO1xuXG5cdFx0bW9kdWxlX2NvZGUgPSBKU09OLnBhcnNlKCBtb2R1bGVfY29kZSApO1xuXHRcdG1vZHVsZV9jb2RlW3Byb3BlcnR5X25hbWVdID0gcHJvcGVydHlfdmFsdWU7XG5cdFx0bW9kdWxlX2NvZGUgPSBKU09OLnN0cmluZ2lmeSggbW9kdWxlX2NvZGUgKTtcblxuXHRcdC8vIFVwZGF0ZSByYXcgY29kZVxuXHRcdG1vZHVsZV9jb2RlX2NvbnRhaW5lci52YWx1ZSA9IG1vZHVsZV9jb2RlO1xuXHRcdG1vZHVsZV9jb2RlX2NvbnRhaW5lci5pbm5lckhUTUwgPSBtb2R1bGVfY29kZTsgLy8gU2VlIGNvbW1lbnQgYmxvY2sgYmVsb3dcblxuXHRcdC8vIENoYW5nZSB0aGUgcHJvcGVydHkgaW4gaGlkZGVuIHRleHRhcmVhIGFzIHdlbGxcblx0XHRwcm9wZXJ0eV9jb250YWluZXIudmFsdWUgPSBwcm9wZXJ0eV92YWx1ZTtcblx0XHRwcm9wZXJ0eV9jb250YWluZXIuaW5uZXJIVE1MICA9IHByb3BlcnR5X3ZhbHVlOyAvLyBTZWUgY29tbWVudCBibG9jayBiZWxvd1xuXG5cdFx0LyoqXG5cdFx0ICogRmlyZUZveCB3aWxsIG5vdCBkdXBsaWNhdGUgdGV4dGFyZWEgdmFsdWUgcHJvcGVybHkgdXNpbmcgLmNsb25lTm9kZSh0cnVlKVxuXHRcdCAqIGlmIHdlIGRvbid0IHVzZSAuaW5uZXJIVE1MIHN0YXRlbWVudCAoQ2hyb21lIHdvcmtzIGZpbmUgd2l0aCAudmFsdWUgb25seSkuXG5cdFx0ICpcblx0XHQgKiBTZWUgYnVnIHJlcG9ydDogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MjM3NzgzXG5cdFx0ICovXG5cdH0sXG5cblx0LyoqXG5cdCAqIFVwZGF0ZSBzZWN0aW9uIG9wdGlvbiBpbiByYXcgSlNPTiBjb2RlIChkc2xjX2NvZGUpIG9mIHRoZSBzZWN0aW9uXG5cdCAqXG5cdCAqIEBwYXJhbSAge0RPTSBlbGVtZW50fSBzZWN0aW9uICAgIGBzZWN0aW9uIEVsZW1lbnRcblx0ICogQHBhcmFtICB7c3RyaW5nfSBwcm9wZXJ0eV9uYW1lICBOYW1lIG9mIHRoZSBvcHRpb24gd2UgY2hhbmdlXG5cdCAqIEBwYXJhbSAge3N0cmluZ30gcHJvcGVydHlfdmFsdWUgVmFsdWUgb2YgdGhlIG9wdGlvbiB3ZSBjaGFuZ2Vcblx0ICogQHJldHVybiB7dm9pZH1cblx0ICovXG5cdHVwZGF0ZV9zZWN0aW9uX3Byb3BlcnR5X3JhdzogZnVuY3Rpb24gKHNlY3Rpb24sIHByb3BlcnR5X25hbWUsIHByb3BlcnR5X3ZhbHVlICkge1xuXHRcdC8vIEhpZGRlbiB0ZXh0YXJlYSBlbGVtZW50IHdpdGggcmF3IGJhc2U2NCBjb2RlIG9mIHRoZSByb3Fcblx0XHQvLyA8dGV4dGFyZWEgY2xhc3M9XCJkc2xjYS1zZWN0aW9uLWNvZGVcIj48L3RleHRhcmVhPlxuXHRcdHZhciBzZWN0aW9uX2NvZGVfY29udGFpbmVyID0gc2VjdGlvbi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdkc2xjYS1zZWN0aW9uLWNvZGUnKVswXTtcblxuXHRcdC8vIEhpZGRlbiBpbnB1dCBlbGVtZW50IHdpdGggdmFsdWUgb2YgdGhpcyBwYXJ0aWN1bGFyIHNldHRpbmdcblx0XHQvLyA8aW5wdXQgZGF0YS1pZD1cInByb3BlcnR5X25hbWVcIj5wcm9wZXJ0eV92YWx1ZTwvdGV4dGFyZWE+XG5cdFx0dmFyIHByb3BlcnR5X2NvbnRhaW5lciA9IHNlY3Rpb24ucXVlcnlTZWxlY3RvciggJy5kc2xjYS1tb2R1bGVzLXNlY3Rpb24tc2V0dGluZ3MgaW5wdXRbZGF0YS1pZD1cIicgKyBwcm9wZXJ0eV9uYW1lICsgJ1wiXScgKTtcblxuXHRcdC8vIEdldCBtb2R1bGUgcmF3IGNvZGVcblx0XHR2YXIgc2VjdGlvbl9jb2RlID0gc2VjdGlvbl9jb2RlX2NvbnRhaW5lci52YWx1ZTtcblxuXHRcdHNlY3Rpb25fY29kZSA9IEpTT04ucGFyc2UoIHNlY3Rpb25fY29kZSApO1xuXHRcdHNlY3Rpb25fY29kZVtwcm9wZXJ0eV9uYW1lXSA9IHByb3BlcnR5X3ZhbHVlO1xuXHRcdHNlY3Rpb25fY29kZSA9IEpTT04uc3RyaW5naWZ5KCBzZWN0aW9uX2NvZGUgKTtcblxuXHRcdC8vIFVwZGF0ZSByYXcgY29kZVxuXHRcdHNlY3Rpb25fY29kZV9jb250YWluZXIudmFsdWUgPSBzZWN0aW9uX2NvZGU7XG5cdFx0c2VjdGlvbl9jb2RlX2NvbnRhaW5lci5pbm5lckhUTUwgPSBzZWN0aW9uX2NvZGU7IC8vIFNlZSBjb21tZW50IGJsb2NrIGJlbG93XG5cblx0XHQvLyBDaGFuZ2UgdGhlIHByb3BlcnR5IGluIGhpZGRlbiB0ZXh0YXJlYSBhcyB3ZWxsXG5cdFx0cHJvcGVydHlfY29udGFpbmVyLnNldEF0dHJpYnV0ZSggJ3ZhbHVlJywgcHJvcGVydHlfdmFsdWUgKTtcblx0XHRwcm9wZXJ0eV9jb250YWluZXIuc2V0QXR0cmlidXRlKCAnZGF0YS1kZWYnLCBwcm9wZXJ0eV92YWx1ZSApO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBQcm92aWRlIGN1c3RvbSBldmVudHMgcHVibGlzaC5cblx0ICogQWxzbyBlY2hvZXMgYWxsIHRoZSBjdXN0b20gZXZlbnRzIGluIHRoZSBwcmV2aWV3IGlmcmFtZSBhcyB3ZWxsLlxuXHQgKlxuXHQgKiBAcGFyYW0gIHtzdHJpbmd9IGV2ZW50TmFtZVxuXHQgKiBAcGFyYW0gIHtvYmplY3R8fHN0cmluZ3x8bnVsbHx8bnVtZXJpY30gZXZlbnREYXRhIFtkZXNjcmlwdGlvbl1cblx0ICovXG5cdHB1Ymxpc2g6IGZ1bmN0aW9uKCBldmVudE5hbWUsIGV2ZW50RGF0YSApIHtcblxuXHRcdGV2ZW50RGF0YSA9IGV2ZW50RGF0YSA/IGV2ZW50RGF0YSA6IHt9O1xuXG5cdFx0dGhpcy5jaGVja1BhcmFtcyggW1xuXHRcdFx0W2V2ZW50TmFtZSwgJ3N0cmluZyddLFxuXHRcdFx0W2V2ZW50RGF0YSwgJ29iamVjdCddXG5cdFx0XSApO1xuXG5cdFx0alF1ZXJ5KGRvY3VtZW50KS50cmlnZ2VyKCB7XG5cdFx0XHR0eXBlOiBldmVudE5hbWUsXG5cdFx0XHRtZXNzYWdlOiB7ZGV0YWlsczogZXZlbnREYXRhfVxuXHRcdH0gKTtcblxuXHRcdExpdmVDb21wb3Nlci5CdWlsZGVyLlByZXZpZXdBcmVhV2luZG93LmRzbGNhX3B1Ymxpc2hfZXZlbnQoIGV2ZW50TmFtZSwgZXZlbnREYXRhICk7XG5cdH1cbn07XG5cbmV4cG9ydCBjb25zdCB1bnRpbHNJbml0SnMgPSAoKSA9PiB7XG5cdHdpbmRvdy5MaXZlQ29tcG9zZXIuVXRpbHMgPSBVdGlscztcdFxufVxuIiwiLyoqIVxuICogU29ydGFibGUgMS4xMC4wLXJjMlxuICogQGF1dGhvclx0UnViYVhhICAgPHRyYXNoQHJ1YmF4YS5vcmc+XG4gKiBAYXV0aG9yXHRvd2VubSAgICA8b3dlbjIzMzU1QGdtYWlsLmNvbT5cbiAqIEBsaWNlbnNlIE1JVFxuICovXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHtcbiAgICBfdHlwZW9mID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBfdHlwZW9mID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBfdHlwZW9mKG9iaik7XG59XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9O1xuICAgIHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcblxuICAgIGlmICh0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgb3duS2V5cyA9IG93bktleXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKS5maWx0ZXIoZnVuY3Rpb24gKHN5bSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIHN5bSkuZW51bWVyYWJsZTtcbiAgICAgIH0pKTtcbiAgICB9XG5cbiAgICBvd25LZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG5cbiAgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpO1xuXG4gIHZhciBrZXksIGk7XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldO1xuICAgICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7XG4gICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHtcbiAgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTtcbn1cblxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIGFycjJbaV0gPSBhcnJbaV07XG5cbiAgICByZXR1cm4gYXJyMjtcbiAgfVxufVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSBcIltvYmplY3QgQXJndW1lbnRzXVwiKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTtcbn1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2VcIik7XG59XG5cbnZhciB2ZXJzaW9uID0gXCIxLjEwLjAtcmMyXCI7XG5cbmZ1bmN0aW9uIHVzZXJBZ2VudChwYXR0ZXJuKSB7XG4gIHJldHVybiAhIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2gocGF0dGVybik7XG59XG5cbnZhciBJRTExT3JMZXNzID1cbi8qQF9fUFVSRV9fKi9cbnVzZXJBZ2VudCgvKD86VHJpZGVudC4qcnZbIDpdPzExXFwufG1zaWV8aWVtb2JpbGUpL2kpO1xudmFyIEVkZ2UgPVxuLypAX19QVVJFX18qL1xudXNlckFnZW50KC9FZGdlL2kpO1xudmFyIEZpcmVGb3ggPVxuLypAX19QVVJFX18qL1xudXNlckFnZW50KC9maXJlZm94L2kpO1xudmFyIFNhZmFyaSA9XG4vKkBfX1BVUkVfXyovXG51c2VyQWdlbnQoL3NhZmFyaS9pKSAmJiAhdXNlckFnZW50KC9jaHJvbWUvaSkgJiYgIXVzZXJBZ2VudCgvYW5kcm9pZC9pKTtcbnZhciBJT1MgPVxuLypAX19QVVJFX18qL1xudXNlckFnZW50KC9pUChhZHxvZHxob25lKS9pKTtcblxudmFyIGNhcHR1cmVNb2RlID0ge1xuICBjYXB0dXJlOiBmYWxzZSxcbiAgcGFzc2l2ZTogZmFsc2Vcbn07XG5cbmZ1bmN0aW9uIG9uKGVsLCBldmVudCwgZm4pIHtcbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgZm4sICFJRTExT3JMZXNzICYmIGNhcHR1cmVNb2RlKTtcbn1cblxuZnVuY3Rpb24gb2ZmKGVsLCBldmVudCwgZm4pIHtcbiAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgZm4sICFJRTExT3JMZXNzICYmIGNhcHR1cmVNb2RlKTtcbn1cblxuZnVuY3Rpb24gbWF0Y2hlcyhcbi8qKkhUTUxFbGVtZW50Ki9cbmVsLFxuLyoqU3RyaW5nKi9cbnNlbGVjdG9yKSB7XG4gIGlmICghc2VsZWN0b3IpIHJldHVybjtcbiAgc2VsZWN0b3JbMF0gPT09ICc+JyAmJiAoc2VsZWN0b3IgPSBzZWxlY3Rvci5zdWJzdHJpbmcoMSkpO1xuXG4gIGlmIChlbCkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoZWwubWF0Y2hlcykge1xuICAgICAgICByZXR1cm4gZWwubWF0Y2hlcyhzZWxlY3Rvcik7XG4gICAgICB9IGVsc2UgaWYgKGVsLm1zTWF0Y2hlc1NlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBlbC5tc01hdGNoZXNTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICB9IGVsc2UgaWYgKGVsLndlYmtpdE1hdGNoZXNTZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gZWwud2Via2l0TWF0Y2hlc1NlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChfKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBnZXRQYXJlbnRPckhvc3QoZWwpIHtcbiAgcmV0dXJuIGVsLmhvc3QgJiYgZWwgIT09IGRvY3VtZW50ICYmIGVsLmhvc3Qubm9kZVR5cGUgPyBlbC5ob3N0IDogZWwucGFyZW50Tm9kZTtcbn1cblxuZnVuY3Rpb24gY2xvc2VzdChcbi8qKkhUTUxFbGVtZW50Ki9cbmVsLFxuLyoqU3RyaW5nKi9cbnNlbGVjdG9yLFxuLyoqSFRNTEVsZW1lbnQqL1xuY3R4LCBpbmNsdWRlQ1RYKSB7XG4gIGlmIChlbCkge1xuICAgIGN0eCA9IGN0eCB8fCBkb2N1bWVudDtcblxuICAgIGRvIHtcbiAgICAgIGlmIChzZWxlY3RvciAhPSBudWxsICYmIChzZWxlY3RvclswXSA9PT0gJz4nID8gZWwucGFyZW50Tm9kZSA9PT0gY3R4ICYmIG1hdGNoZXMoZWwsIHNlbGVjdG9yKSA6IG1hdGNoZXMoZWwsIHNlbGVjdG9yKSkgfHwgaW5jbHVkZUNUWCAmJiBlbCA9PT0gY3R4KSB7XG4gICAgICAgIHJldHVybiBlbDtcbiAgICAgIH1cblxuICAgICAgaWYgKGVsID09PSBjdHgpIGJyZWFrO1xuICAgICAgLyoganNoaW50IGJvc3M6dHJ1ZSAqL1xuICAgIH0gd2hpbGUgKGVsID0gZ2V0UGFyZW50T3JIb3N0KGVsKSk7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxudmFyIFJfU1BBQ0UgPSAvXFxzKy9nO1xuXG5mdW5jdGlvbiB0b2dnbGVDbGFzcyhlbCwgbmFtZSwgc3RhdGUpIHtcbiAgaWYgKGVsICYmIG5hbWUpIHtcbiAgICBpZiAoZWwuY2xhc3NMaXN0KSB7XG4gICAgICBlbC5jbGFzc0xpc3Rbc3RhdGUgPyAnYWRkJyA6ICdyZW1vdmUnXShuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGNsYXNzTmFtZSA9ICgnICcgKyBlbC5jbGFzc05hbWUgKyAnICcpLnJlcGxhY2UoUl9TUEFDRSwgJyAnKS5yZXBsYWNlKCcgJyArIG5hbWUgKyAnICcsICcgJyk7XG4gICAgICBlbC5jbGFzc05hbWUgPSAoY2xhc3NOYW1lICsgKHN0YXRlID8gJyAnICsgbmFtZSA6ICcnKSkucmVwbGFjZShSX1NQQUNFLCAnICcpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjc3MoZWwsIHByb3AsIHZhbCkge1xuICB2YXIgc3R5bGUgPSBlbCAmJiBlbC5zdHlsZTtcblxuICBpZiAoc3R5bGUpIHtcbiAgICBpZiAodmFsID09PSB2b2lkIDApIHtcbiAgICAgIGlmIChkb2N1bWVudC5kZWZhdWx0VmlldyAmJiBkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKSB7XG4gICAgICAgIHZhbCA9IGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZWwsICcnKTtcbiAgICAgIH0gZWxzZSBpZiAoZWwuY3VycmVudFN0eWxlKSB7XG4gICAgICAgIHZhbCA9IGVsLmN1cnJlbnRTdHlsZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByb3AgPT09IHZvaWQgMCA/IHZhbCA6IHZhbFtwcm9wXTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCEocHJvcCBpbiBzdHlsZSkgJiYgcHJvcC5pbmRleE9mKCd3ZWJraXQnKSA9PT0gLTEpIHtcbiAgICAgICAgcHJvcCA9ICctd2Via2l0LScgKyBwcm9wO1xuICAgICAgfVxuXG4gICAgICBzdHlsZVtwcm9wXSA9IHZhbCArICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJyA/ICcnIDogJ3B4Jyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIG1hdHJpeChlbCwgc2VsZk9ubHkpIHtcbiAgdmFyIGFwcGxpZWRUcmFuc2Zvcm1zID0gJyc7XG5cbiAgZG8ge1xuICAgIHZhciB0cmFuc2Zvcm0gPSBjc3MoZWwsICd0cmFuc2Zvcm0nKTtcblxuICAgIGlmICh0cmFuc2Zvcm0gJiYgdHJhbnNmb3JtICE9PSAnbm9uZScpIHtcbiAgICAgIGFwcGxpZWRUcmFuc2Zvcm1zID0gdHJhbnNmb3JtICsgJyAnICsgYXBwbGllZFRyYW5zZm9ybXM7XG4gICAgfVxuICAgIC8qIGpzaGludCBib3NzOnRydWUgKi9cblxuICB9IHdoaWxlICghc2VsZk9ubHkgJiYgKGVsID0gZWwucGFyZW50Tm9kZSkpO1xuXG4gIHZhciBtYXRyaXhGbiA9IHdpbmRvdy5ET01NYXRyaXggfHwgd2luZG93LldlYktpdENTU01hdHJpeCB8fCB3aW5kb3cuQ1NTTWF0cml4O1xuICAvKmpzaGludCAtVzA1NiAqL1xuXG4gIHJldHVybiBtYXRyaXhGbiAmJiBuZXcgbWF0cml4Rm4oYXBwbGllZFRyYW5zZm9ybXMpO1xufVxuXG5mdW5jdGlvbiBmaW5kKGN0eCwgdGFnTmFtZSwgaXRlcmF0b3IpIHtcbiAgaWYgKGN0eCkge1xuICAgIHZhciBsaXN0ID0gY3R4LmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhZ05hbWUpLFxuICAgICAgICBpID0gMCxcbiAgICAgICAgbiA9IGxpc3QubGVuZ3RoO1xuXG4gICAgaWYgKGl0ZXJhdG9yKSB7XG4gICAgICBmb3IgKDsgaSA8IG47IGkrKykge1xuICAgICAgICBpdGVyYXRvcihsaXN0W2ldLCBpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbGlzdDtcbiAgfVxuXG4gIHJldHVybiBbXTtcbn1cblxuZnVuY3Rpb24gZ2V0V2luZG93U2Nyb2xsaW5nRWxlbWVudCgpIHtcbiAgaWYgKElFMTFPckxlc3MpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBkb2N1bWVudC5zY3JvbGxpbmdFbGVtZW50O1xuICB9XG59XG4vKipcbiAqIFJldHVybnMgdGhlIFwiYm91bmRpbmcgY2xpZW50IHJlY3RcIiBvZiBnaXZlbiBlbGVtZW50XG4gKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gZWwgICAgICAgICAgICAgICAgICAgICAgIFRoZSBlbGVtZW50IHdob3NlIGJvdW5kaW5nQ2xpZW50UmVjdCBpcyB3YW50ZWRcbiAqIEBwYXJhbSAge1tCb29sZWFuXX0gcmVsYXRpdmVUb0NvbnRhaW5pbmdCbG9jayAgV2hldGhlciB0aGUgcmVjdCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGNvbnRhaW5pbmcgYmxvY2sgb2YgKGluY2x1ZGluZykgdGhlIGNvbnRhaW5lclxuICogQHBhcmFtICB7W0Jvb2xlYW5dfSByZWxhdGl2ZVRvTm9uU3RhdGljUGFyZW50ICBXaGV0aGVyIHRoZSByZWN0IHNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgcmVsYXRpdmUgcGFyZW50IG9mIChpbmNsdWRpbmcpIHRoZSBjb250YWllbnJcbiAqIEBwYXJhbSAge1tCb29sZWFuXX0gdW5kb1NjYWxlICAgICAgICAgICAgICAgICAgV2hldGhlciB0aGUgY29udGFpbmVyJ3Mgc2NhbGUoKSBzaG91bGQgYmUgdW5kb25lXG4gKiBAcGFyYW0gIHtbSFRNTEVsZW1lbnRdfSBjb250YWluZXIgICAgICAgICAgICAgIFRoZSBwYXJlbnQgdGhlIGVsZW1lbnQgd2lsbCBiZSBwbGFjZWQgaW5cbiAqIEByZXR1cm4ge09iamVjdH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhlIGJvdW5kaW5nQ2xpZW50UmVjdCBvZiBlbCwgd2l0aCBzcGVjaWZpZWQgYWRqdXN0bWVudHNcbiAqL1xuXG5cbmZ1bmN0aW9uIGdldFJlY3QoZWwsIHJlbGF0aXZlVG9Db250YWluaW5nQmxvY2ssIHJlbGF0aXZlVG9Ob25TdGF0aWNQYXJlbnQsIHVuZG9TY2FsZSwgY29udGFpbmVyKSB7XG4gIGlmICghZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0ICYmIGVsICE9PSB3aW5kb3cpIHJldHVybjtcbiAgdmFyIGVsUmVjdCwgdG9wLCBsZWZ0LCBib3R0b20sIHJpZ2h0LCBoZWlnaHQsIHdpZHRoO1xuXG4gIGlmIChlbCAhPT0gd2luZG93ICYmIGVsICE9PSBnZXRXaW5kb3dTY3JvbGxpbmdFbGVtZW50KCkpIHtcbiAgICBlbFJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB0b3AgPSBlbFJlY3QudG9wO1xuICAgIGxlZnQgPSBlbFJlY3QubGVmdDtcbiAgICBib3R0b20gPSBlbFJlY3QuYm90dG9tO1xuICAgIHJpZ2h0ID0gZWxSZWN0LnJpZ2h0O1xuICAgIGhlaWdodCA9IGVsUmVjdC5oZWlnaHQ7XG4gICAgd2lkdGggPSBlbFJlY3Qud2lkdGg7XG4gIH0gZWxzZSB7XG4gICAgdG9wID0gMDtcbiAgICBsZWZ0ID0gMDtcbiAgICBib3R0b20gPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgcmlnaHQgPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgfVxuXG4gIGlmICgocmVsYXRpdmVUb0NvbnRhaW5pbmdCbG9jayB8fCByZWxhdGl2ZVRvTm9uU3RhdGljUGFyZW50KSAmJiBlbCAhPT0gd2luZG93KSB7XG4gICAgLy8gQWRqdXN0IGZvciB0cmFuc2xhdGUoKVxuICAgIGNvbnRhaW5lciA9IGNvbnRhaW5lciB8fCBlbC5wYXJlbnROb2RlOyAvLyBzb2x2ZXMgIzExMjMgKHNlZTogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM3OTUzODA2LzYwODgzMTIpXG4gICAgLy8gTm90IG5lZWRlZCBvbiA8PSBJRTExXG5cbiAgICBpZiAoIUlFMTFPckxlc3MpIHtcbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKGNvbnRhaW5lciAmJiBjb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0ICYmIChjc3MoY29udGFpbmVyLCAndHJhbnNmb3JtJykgIT09ICdub25lJyB8fCByZWxhdGl2ZVRvTm9uU3RhdGljUGFyZW50ICYmIGNzcyhjb250YWluZXIsICdwb3NpdGlvbicpICE9PSAnc3RhdGljJykpIHtcbiAgICAgICAgICB2YXIgY29udGFpbmVyUmVjdCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsgLy8gU2V0IHJlbGF0aXZlIHRvIGVkZ2VzIG9mIHBhZGRpbmcgYm94IG9mIGNvbnRhaW5lclxuXG4gICAgICAgICAgdG9wIC09IGNvbnRhaW5lclJlY3QudG9wICsgcGFyc2VJbnQoY3NzKGNvbnRhaW5lciwgJ2JvcmRlci10b3Atd2lkdGgnKSk7XG4gICAgICAgICAgbGVmdCAtPSBjb250YWluZXJSZWN0LmxlZnQgKyBwYXJzZUludChjc3MoY29udGFpbmVyLCAnYm9yZGVyLWxlZnQtd2lkdGgnKSk7XG4gICAgICAgICAgYm90dG9tID0gdG9wICsgZWxSZWN0LmhlaWdodDtcbiAgICAgICAgICByaWdodCA9IGxlZnQgKyBlbFJlY3Qud2lkdGg7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLyoganNoaW50IGJvc3M6dHJ1ZSAqL1xuXG4gICAgICB9IHdoaWxlIChjb250YWluZXIgPSBjb250YWluZXIucGFyZW50Tm9kZSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHVuZG9TY2FsZSAmJiBlbCAhPT0gd2luZG93KSB7XG4gICAgLy8gQWRqdXN0IGZvciBzY2FsZSgpXG4gICAgdmFyIGVsTWF0cml4ID0gbWF0cml4KGNvbnRhaW5lciB8fCBlbCksXG4gICAgICAgIHNjYWxlWCA9IGVsTWF0cml4ICYmIGVsTWF0cml4LmEsXG4gICAgICAgIHNjYWxlWSA9IGVsTWF0cml4ICYmIGVsTWF0cml4LmQ7XG5cbiAgICBpZiAoZWxNYXRyaXgpIHtcbiAgICAgIHRvcCAvPSBzY2FsZVk7XG4gICAgICBsZWZ0IC89IHNjYWxlWDtcbiAgICAgIHdpZHRoIC89IHNjYWxlWDtcbiAgICAgIGhlaWdodCAvPSBzY2FsZVk7XG4gICAgICBib3R0b20gPSB0b3AgKyBoZWlnaHQ7XG4gICAgICByaWdodCA9IGxlZnQgKyB3aWR0aDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHRvcDogdG9wLFxuICAgIGxlZnQ6IGxlZnQsXG4gICAgYm90dG9tOiBib3R0b20sXG4gICAgcmlnaHQ6IHJpZ2h0LFxuICAgIHdpZHRoOiB3aWR0aCxcbiAgICBoZWlnaHQ6IGhlaWdodFxuICB9O1xufVxuLyoqXG4gKiBDaGVja3MgaWYgYSBzaWRlIG9mIGFuIGVsZW1lbnQgaXMgc2Nyb2xsZWQgcGFzdCBhIHNpZGUgb2YgaXRzIHBhcmVudHNcbiAqIEBwYXJhbSAge0hUTUxFbGVtZW50fSAgZWwgICAgICAgICAgIFRoZSBlbGVtZW50IHdobydzIHNpZGUgYmVpbmcgc2Nyb2xsZWQgb3V0IG9mIHZpZXcgaXMgaW4gcXVlc3Rpb25cbiAqIEBwYXJhbSAge1tET01SZWN0XX0gICAgcmVjdCAgICAgICAgIE9wdGlvbmFsIHJlY3Qgb2YgYGVsYCB0byB1c2VcbiAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgZWxTaWRlICAgICAgIFNpZGUgb2YgdGhlIGVsZW1lbnQgaW4gcXVlc3Rpb24gKCd0b3AnLCAnbGVmdCcsICdyaWdodCcsICdib3R0b20nKVxuICogQHBhcmFtICB7U3RyaW5nfSAgICAgICBwYXJlbnRTaWRlICAgU2lkZSBvZiB0aGUgcGFyZW50IGluIHF1ZXN0aW9uICgndG9wJywgJ2xlZnQnLCAncmlnaHQnLCAnYm90dG9tJylcbiAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSAgICAgICAgICAgICAgIFRoZSBwYXJlbnQgc2Nyb2xsIGVsZW1lbnQgdGhhdCB0aGUgZWwncyBzaWRlIGlzIHNjcm9sbGVkIHBhc3QsIG9yIG51bGwgaWYgdGhlcmUgaXMgbm8gc3VjaCBlbGVtZW50XG4gKi9cblxuXG5mdW5jdGlvbiBpc1Njcm9sbGVkUGFzdChlbCwgcmVjdCwgZWxTaWRlLCBwYXJlbnRTaWRlKSB7XG4gIHZhciBwYXJlbnQgPSBnZXRQYXJlbnRBdXRvU2Nyb2xsRWxlbWVudChlbCwgdHJ1ZSksXG4gICAgICBlbFNpZGVWYWwgPSAocmVjdCA/IHJlY3QgOiBnZXRSZWN0KGVsKSlbZWxTaWRlXTtcbiAgLyoganNoaW50IGJvc3M6dHJ1ZSAqL1xuXG4gIHdoaWxlIChwYXJlbnQpIHtcbiAgICB2YXIgcGFyZW50U2lkZVZhbCA9IGdldFJlY3QocGFyZW50KVtwYXJlbnRTaWRlXSxcbiAgICAgICAgdmlzaWJsZSA9IHZvaWQgMDtcblxuICAgIGlmIChwYXJlbnRTaWRlID09PSAndG9wJyB8fCBwYXJlbnRTaWRlID09PSAnbGVmdCcpIHtcbiAgICAgIHZpc2libGUgPSBlbFNpZGVWYWwgPj0gcGFyZW50U2lkZVZhbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmlzaWJsZSA9IGVsU2lkZVZhbCA8PSBwYXJlbnRTaWRlVmFsO1xuICAgIH1cblxuICAgIGlmICghdmlzaWJsZSkgcmV0dXJuIHBhcmVudDtcbiAgICBpZiAocGFyZW50ID09PSBnZXRXaW5kb3dTY3JvbGxpbmdFbGVtZW50KCkpIGJyZWFrO1xuICAgIHBhcmVudCA9IGdldFBhcmVudEF1dG9TY3JvbGxFbGVtZW50KHBhcmVudCwgZmFsc2UpO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBHZXRzIG50aCBjaGlsZCBvZiBlbCwgaWdub3JpbmcgaGlkZGVuIGNoaWxkcmVuLCBzb3J0YWJsZSdzIGVsZW1lbnRzIChkb2VzIG5vdCBpZ25vcmUgY2xvbmUgaWYgaXQncyB2aXNpYmxlKVxuICogYW5kIG5vbi1kcmFnZ2FibGUgZWxlbWVudHNcbiAqIEBwYXJhbSAge0hUTUxFbGVtZW50fSBlbCAgICAgICBUaGUgcGFyZW50IGVsZW1lbnRcbiAqIEBwYXJhbSAge051bWJlcn0gY2hpbGROdW0gICAgICBUaGUgaW5kZXggb2YgdGhlIGNoaWxkXG4gKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnMgICAgICAgUGFyZW50IFNvcnRhYmxlJ3Mgb3B0aW9uc1xuICogQHJldHVybiB7SFRNTEVsZW1lbnR9ICAgICAgICAgIFRoZSBjaGlsZCBhdCBpbmRleCBjaGlsZE51bSwgb3IgbnVsbCBpZiBub3QgZm91bmRcbiAqL1xuXG5cbmZ1bmN0aW9uIGdldENoaWxkKGVsLCBjaGlsZE51bSwgb3B0aW9ucykge1xuICB2YXIgY3VycmVudENoaWxkID0gMCxcbiAgICAgIGkgPSAwLFxuICAgICAgY2hpbGRyZW4gPSBlbC5jaGlsZHJlbjtcblxuICB3aGlsZSAoaSA8IGNoaWxkcmVuLmxlbmd0aCkge1xuICAgIGlmIChjaGlsZHJlbltpXS5zdHlsZS5kaXNwbGF5ICE9PSAnbm9uZScgJiYgY2hpbGRyZW5baV0gIT09IFNvcnRhYmxlLmdob3N0ICYmIGNoaWxkcmVuW2ldICE9PSBTb3J0YWJsZS5kcmFnZ2VkICYmIGNsb3Nlc3QoY2hpbGRyZW5baV0sIG9wdGlvbnMuZHJhZ2dhYmxlLCBlbCwgZmFsc2UpKSB7XG4gICAgICBpZiAoY3VycmVudENoaWxkID09PSBjaGlsZE51bSkge1xuICAgICAgICByZXR1cm4gY2hpbGRyZW5baV07XG4gICAgICB9XG5cbiAgICAgIGN1cnJlbnRDaGlsZCsrO1xuICAgIH1cblxuICAgIGkrKztcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBHZXRzIHRoZSBsYXN0IGNoaWxkIGluIHRoZSBlbCwgaWdub3JpbmcgZ2hvc3RFbCBvciBpbnZpc2libGUgZWxlbWVudHMgKGNsb25lcylcbiAqIEBwYXJhbSAge0hUTUxFbGVtZW50fSBlbCAgICAgICBQYXJlbnQgZWxlbWVudFxuICogQHBhcmFtICB7c2VsZWN0b3J9IHNlbGVjdG9yICAgIEFueSBvdGhlciBlbGVtZW50cyB0aGF0IHNob3VsZCBiZSBpZ25vcmVkXG4gKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gICAgICAgICAgVGhlIGxhc3QgY2hpbGQsIGlnbm9yaW5nIGdob3N0RWxcbiAqL1xuXG5cbmZ1bmN0aW9uIGxhc3RDaGlsZChlbCwgc2VsZWN0b3IpIHtcbiAgdmFyIGxhc3QgPSBlbC5sYXN0RWxlbWVudENoaWxkO1xuXG4gIHdoaWxlIChsYXN0ICYmIChsYXN0ID09PSBTb3J0YWJsZS5naG9zdCB8fCBjc3MobGFzdCwgJ2Rpc3BsYXknKSA9PT0gJ25vbmUnIHx8IHNlbGVjdG9yICYmICFtYXRjaGVzKGxhc3QsIHNlbGVjdG9yKSkpIHtcbiAgICBsYXN0ID0gbGFzdC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuICB9XG5cbiAgcmV0dXJuIGxhc3QgfHwgbnVsbDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgaW5kZXggb2YgYW4gZWxlbWVudCB3aXRoaW4gaXRzIHBhcmVudCBmb3IgYSBzZWxlY3RlZCBzZXQgb2ZcbiAqIGVsZW1lbnRzXG4gKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gZWxcbiAqIEBwYXJhbSAge3NlbGVjdG9yfSBzZWxlY3RvclxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5cblxuZnVuY3Rpb24gaW5kZXgoZWwsIHNlbGVjdG9yKSB7XG4gIHZhciBpbmRleCA9IDA7XG5cbiAgaWYgKCFlbCB8fCAhZWwucGFyZW50Tm9kZSkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICAvKiBqc2hpbnQgYm9zczp0cnVlICovXG5cblxuICB3aGlsZSAoZWwgPSBlbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSB7XG4gICAgaWYgKGVsLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgIT09ICdURU1QTEFURScgJiYgZWwgIT09IFNvcnRhYmxlLmNsb25lICYmICghc2VsZWN0b3IgfHwgbWF0Y2hlcyhlbCwgc2VsZWN0b3IpKSkge1xuICAgICAgaW5kZXgrKztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaW5kZXg7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHNjcm9sbCBvZmZzZXQgb2YgdGhlIGdpdmVuIGVsZW1lbnQsIGFkZGVkIHdpdGggYWxsIHRoZSBzY3JvbGwgb2Zmc2V0cyBvZiBwYXJlbnQgZWxlbWVudHMuXG4gKiBUaGUgdmFsdWUgaXMgcmV0dXJuZWQgaW4gcmVhbCBwaXhlbHMuXG4gKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gZWxcbiAqIEByZXR1cm4ge0FycmF5fSAgICAgICAgICAgICBPZmZzZXRzIGluIHRoZSBmb3JtYXQgb2YgW2xlZnQsIHRvcF1cbiAqL1xuXG5cbmZ1bmN0aW9uIGdldFJlbGF0aXZlU2Nyb2xsT2Zmc2V0KGVsKSB7XG4gIHZhciBvZmZzZXRMZWZ0ID0gMCxcbiAgICAgIG9mZnNldFRvcCA9IDAsXG4gICAgICB3aW5TY3JvbGxlciA9IGdldFdpbmRvd1Njcm9sbGluZ0VsZW1lbnQoKTtcblxuICBpZiAoZWwpIHtcbiAgICBkbyB7XG4gICAgICB2YXIgZWxNYXRyaXggPSBtYXRyaXgoZWwpLFxuICAgICAgICAgIHNjYWxlWCA9IGVsTWF0cml4LmEsXG4gICAgICAgICAgc2NhbGVZID0gZWxNYXRyaXguZDtcbiAgICAgIG9mZnNldExlZnQgKz0gZWwuc2Nyb2xsTGVmdCAqIHNjYWxlWDtcbiAgICAgIG9mZnNldFRvcCArPSBlbC5zY3JvbGxUb3AgKiBzY2FsZVk7XG4gICAgfSB3aGlsZSAoZWwgIT09IHdpblNjcm9sbGVyICYmIChlbCA9IGVsLnBhcmVudE5vZGUpKTtcbiAgfVxuXG4gIHJldHVybiBbb2Zmc2V0TGVmdCwgb2Zmc2V0VG9wXTtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG9iamVjdCB3aXRoaW4gdGhlIGdpdmVuIGFycmF5XG4gKiBAcGFyYW0gIHtBcnJheX0gYXJyICAgQXJyYXkgdGhhdCBtYXkgb3IgbWF5IG5vdCBob2xkIHRoZSBvYmplY3RcbiAqIEBwYXJhbSAge09iamVjdH0gb2JqICBBbiBvYmplY3QgdGhhdCBoYXMgYSBrZXktdmFsdWUgcGFpciB1bmlxdWUgdG8gYW5kIGlkZW50aWNhbCB0byBhIGtleS12YWx1ZSBwYWlyIGluIHRoZSBvYmplY3QgeW91IHdhbnQgdG8gZmluZFxuICogQHJldHVybiB7TnVtYmVyfSAgICAgIFRoZSBpbmRleCBvZiB0aGUgb2JqZWN0IGluIHRoZSBhcnJheSwgb3IgLTFcbiAqL1xuXG5cbmZ1bmN0aW9uIGluZGV4T2ZPYmplY3QoYXJyLCBvYmopIHtcbiAgZm9yICh2YXIgaSBpbiBhcnIpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAob2JqW2tleV0gPT09IGFycltpXVtrZXldKSByZXR1cm4gTnVtYmVyKGkpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAtMTtcbn1cblxuZnVuY3Rpb24gZ2V0UGFyZW50QXV0b1Njcm9sbEVsZW1lbnQoZWwsIGluY2x1ZGVTZWxmKSB7XG4gIC8vIHNraXAgdG8gd2luZG93XG4gIGlmICghZWwgfHwgIWVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCkgcmV0dXJuIGdldFdpbmRvd1Njcm9sbGluZ0VsZW1lbnQoKTtcbiAgdmFyIGVsZW0gPSBlbDtcbiAgdmFyIGdvdFNlbGYgPSBmYWxzZTtcblxuICBkbyB7XG4gICAgLy8gd2UgZG9uJ3QgbmVlZCB0byBnZXQgZWxlbSBjc3MgaWYgaXQgaXNuJ3QgZXZlbiBvdmVyZmxvd2luZyBpbiB0aGUgZmlyc3QgcGxhY2UgKHBlcmZvcm1hbmNlKVxuICAgIGlmIChlbGVtLmNsaWVudFdpZHRoIDwgZWxlbS5zY3JvbGxXaWR0aCB8fCBlbGVtLmNsaWVudEhlaWdodCA8IGVsZW0uc2Nyb2xsSGVpZ2h0KSB7XG4gICAgICB2YXIgZWxlbUNTUyA9IGNzcyhlbGVtKTtcblxuICAgICAgaWYgKGVsZW0uY2xpZW50V2lkdGggPCBlbGVtLnNjcm9sbFdpZHRoICYmIChlbGVtQ1NTLm92ZXJmbG93WCA9PSAnYXV0bycgfHwgZWxlbUNTUy5vdmVyZmxvd1ggPT0gJ3Njcm9sbCcpIHx8IGVsZW0uY2xpZW50SGVpZ2h0IDwgZWxlbS5zY3JvbGxIZWlnaHQgJiYgKGVsZW1DU1Mub3ZlcmZsb3dZID09ICdhdXRvJyB8fCBlbGVtQ1NTLm92ZXJmbG93WSA9PSAnc2Nyb2xsJykpIHtcbiAgICAgICAgaWYgKCFlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCB8fCBlbGVtID09PSBkb2N1bWVudC5ib2R5KSByZXR1cm4gZ2V0V2luZG93U2Nyb2xsaW5nRWxlbWVudCgpO1xuICAgICAgICBpZiAoZ290U2VsZiB8fCBpbmNsdWRlU2VsZikgcmV0dXJuIGVsZW07XG4gICAgICAgIGdvdFNlbGYgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICAvKiBqc2hpbnQgYm9zczp0cnVlICovXG5cbiAgfSB3aGlsZSAoZWxlbSA9IGVsZW0ucGFyZW50Tm9kZSk7XG5cbiAgcmV0dXJuIGdldFdpbmRvd1Njcm9sbGluZ0VsZW1lbnQoKTtcbn1cblxuZnVuY3Rpb24gZXh0ZW5kKGRzdCwgc3JjKSB7XG4gIGlmIChkc3QgJiYgc3JjKSB7XG4gICAgZm9yICh2YXIga2V5IGluIHNyYykge1xuICAgICAgaWYgKHNyYy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIGRzdFtrZXldID0gc3JjW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRzdDtcbn1cblxuZnVuY3Rpb24gaXNSZWN0RXF1YWwocmVjdDEsIHJlY3QyKSB7XG4gIHJldHVybiBNYXRoLnJvdW5kKHJlY3QxLnRvcCkgPT09IE1hdGgucm91bmQocmVjdDIudG9wKSAmJiBNYXRoLnJvdW5kKHJlY3QxLmxlZnQpID09PSBNYXRoLnJvdW5kKHJlY3QyLmxlZnQpICYmIE1hdGgucm91bmQocmVjdDEuaGVpZ2h0KSA9PT0gTWF0aC5yb3VuZChyZWN0Mi5oZWlnaHQpICYmIE1hdGgucm91bmQocmVjdDEud2lkdGgpID09PSBNYXRoLnJvdW5kKHJlY3QyLndpZHRoKTtcbn1cblxudmFyIF90aHJvdHRsZVRpbWVvdXQ7XG5cbmZ1bmN0aW9uIHRocm90dGxlKGNhbGxiYWNrLCBtcykge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmICghX3Rocm90dGxlVGltZW91dCkge1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgY2FsbGJhY2suY2FsbChfdGhpcywgYXJnc1swXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjay5hcHBseShfdGhpcywgYXJncyk7XG4gICAgICB9XG5cbiAgICAgIF90aHJvdHRsZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3Rocm90dGxlVGltZW91dCA9IHZvaWQgMDtcbiAgICAgIH0sIG1zKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNhbmNlbFRocm90dGxlKCkge1xuICBjbGVhclRpbWVvdXQoX3Rocm90dGxlVGltZW91dCk7XG4gIF90aHJvdHRsZVRpbWVvdXQgPSB2b2lkIDA7XG59XG5cbmZ1bmN0aW9uIHNjcm9sbEJ5KGVsLCB4LCB5KSB7XG4gIGVsLnNjcm9sbExlZnQgKz0geDtcbiAgZWwuc2Nyb2xsVG9wICs9IHk7XG59XG5cbmZ1bmN0aW9uIGNsb25lKGVsKSB7XG4gIHZhciBQb2x5bWVyID0gd2luZG93LlBvbHltZXI7XG4gIHZhciAkID0gd2luZG93LmpRdWVyeSB8fCB3aW5kb3cuWmVwdG87XG5cbiAgaWYgKFBvbHltZXIgJiYgUG9seW1lci5kb20pIHtcbiAgICByZXR1cm4gUG9seW1lci5kb20oZWwpLmNsb25lTm9kZSh0cnVlKTtcbiAgfSBlbHNlIGlmICgkKSB7XG4gICAgcmV0dXJuICQoZWwpLmNsb25lKHRydWUpWzBdO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBlbC5jbG9uZU5vZGUodHJ1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0UmVjdChlbCwgcmVjdCkge1xuICBjc3MoZWwsICdwb3NpdGlvbicsICdhYnNvbHV0ZScpO1xuICBjc3MoZWwsICd0b3AnLCByZWN0LnRvcCk7XG4gIGNzcyhlbCwgJ2xlZnQnLCByZWN0LmxlZnQpO1xuICBjc3MoZWwsICd3aWR0aCcsIHJlY3Qud2lkdGgpO1xuICBjc3MoZWwsICdoZWlnaHQnLCByZWN0LmhlaWdodCk7XG59XG5cbmZ1bmN0aW9uIHVuc2V0UmVjdChlbCkge1xuICBjc3MoZWwsICdwb3NpdGlvbicsICcnKTtcbiAgY3NzKGVsLCAndG9wJywgJycpO1xuICBjc3MoZWwsICdsZWZ0JywgJycpO1xuICBjc3MoZWwsICd3aWR0aCcsICcnKTtcbiAgY3NzKGVsLCAnaGVpZ2h0JywgJycpO1xufVxuXG52YXIgZXhwYW5kbyA9ICdTb3J0YWJsZScgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuZnVuY3Rpb24gQW5pbWF0aW9uU3RhdGVNYW5hZ2VyKCkge1xuICB2YXIgYW5pbWF0aW9uU3RhdGVzID0gW10sXG4gICAgICBhbmltYXRpb25DYWxsYmFja0lkO1xuICByZXR1cm4ge1xuICAgIGNhcHR1cmVBbmltYXRpb25TdGF0ZTogZnVuY3Rpb24gY2FwdHVyZUFuaW1hdGlvblN0YXRlKCkge1xuICAgICAgYW5pbWF0aW9uU3RhdGVzID0gW107XG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy5hbmltYXRpb24pIHJldHVybjtcbiAgICAgIHZhciBjaGlsZHJlbiA9IFtdLnNsaWNlLmNhbGwodGhpcy5lbC5jaGlsZHJlbik7XG5cbiAgICAgIGZvciAodmFyIGkgaW4gY2hpbGRyZW4pIHtcbiAgICAgICAgaWYgKGNzcyhjaGlsZHJlbltpXSwgJ2Rpc3BsYXknKSA9PT0gJ25vbmUnIHx8IGNoaWxkcmVuW2ldID09PSBTb3J0YWJsZS5naG9zdCkgY29udGludWU7XG4gICAgICAgIGFuaW1hdGlvblN0YXRlcy5wdXNoKHtcbiAgICAgICAgICB0YXJnZXQ6IGNoaWxkcmVuW2ldLFxuICAgICAgICAgIHJlY3Q6IGdldFJlY3QoY2hpbGRyZW5baV0pXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgZnJvbVJlY3QgPSBnZXRSZWN0KGNoaWxkcmVuW2ldKTsgLy8gSWYgYW5pbWF0aW5nOiBjb21wZW5zYXRlIGZvciBjdXJyZW50IGFuaW1hdGlvblxuXG4gICAgICAgIGlmIChjaGlsZHJlbltpXS50aGlzQW5pbWF0aW9uRHVyYXRpb24pIHtcbiAgICAgICAgICB2YXIgY2hpbGRNYXRyaXggPSBtYXRyaXgoY2hpbGRyZW5baV0sIHRydWUpO1xuXG4gICAgICAgICAgaWYgKGNoaWxkTWF0cml4KSB7XG4gICAgICAgICAgICBmcm9tUmVjdC50b3AgLT0gY2hpbGRNYXRyaXguZjtcbiAgICAgICAgICAgIGZyb21SZWN0LmxlZnQgLT0gY2hpbGRNYXRyaXguZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjaGlsZHJlbltpXS5mcm9tUmVjdCA9IGZyb21SZWN0O1xuICAgICAgfVxuICAgIH0sXG4gICAgYWRkQW5pbWF0aW9uU3RhdGU6IGZ1bmN0aW9uIGFkZEFuaW1hdGlvblN0YXRlKHN0YXRlKSB7XG4gICAgICBhbmltYXRpb25TdGF0ZXMucHVzaChzdGF0ZSk7XG4gICAgfSxcbiAgICByZW1vdmVBbmltYXRpb25TdGF0ZTogZnVuY3Rpb24gcmVtb3ZlQW5pbWF0aW9uU3RhdGUodGFyZ2V0KSB7XG4gICAgICBhbmltYXRpb25TdGF0ZXMuc3BsaWNlKGluZGV4T2ZPYmplY3QoYW5pbWF0aW9uU3RhdGVzLCB7XG4gICAgICAgIHRhcmdldDogdGFyZ2V0XG4gICAgICB9KSwgMSk7XG4gICAgfSxcbiAgICBhbmltYXRlQWxsOiBmdW5jdGlvbiBhbmltYXRlQWxsKGNhbGxiYWNrKSB7XG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy5hbmltYXRpb24pIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KGFuaW1hdGlvbkNhbGxiYWNrSWQpO1xuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBjYWxsYmFjaygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBhbmltYXRpbmcgPSBmYWxzZSxcbiAgICAgICAgICBhbmltYXRpb25UaW1lID0gMDtcblxuICAgICAgZm9yICh2YXIgaSBpbiBhbmltYXRpb25TdGF0ZXMpIHtcbiAgICAgICAgdmFyIHRpbWUgPSAwLFxuICAgICAgICAgICAgdGFyZ2V0ID0gYW5pbWF0aW9uU3RhdGVzW2ldLnRhcmdldCxcbiAgICAgICAgICAgIGZyb21SZWN0ID0gdGFyZ2V0LmZyb21SZWN0LFxuICAgICAgICAgICAgdG9SZWN0ID0gZ2V0UmVjdCh0YXJnZXQpLFxuICAgICAgICAgICAgcHJldkZyb21SZWN0ID0gdGFyZ2V0LnByZXZGcm9tUmVjdCxcbiAgICAgICAgICAgIHByZXZUb1JlY3QgPSB0YXJnZXQucHJldlRvUmVjdCxcbiAgICAgICAgICAgIGFuaW1hdGluZ1JlY3QgPSBhbmltYXRpb25TdGF0ZXNbaV0ucmVjdCxcbiAgICAgICAgICAgIHRhcmdldE1hdHJpeCA9IG1hdHJpeCh0YXJnZXQsIHRydWUpO1xuXG4gICAgICAgIGlmICh0YXJnZXRNYXRyaXgpIHtcbiAgICAgICAgICAvLyBDb21wZW5zYXRlIGZvciBjdXJyZW50IGFuaW1hdGlvblxuICAgICAgICAgIHRvUmVjdC50b3AgLT0gdGFyZ2V0TWF0cml4LmY7XG4gICAgICAgICAgdG9SZWN0LmxlZnQgLT0gdGFyZ2V0TWF0cml4LmU7XG4gICAgICAgIH1cblxuICAgICAgICB0YXJnZXQudG9SZWN0ID0gdG9SZWN0OyAvLyBJZiBlbGVtZW50IGlzIHNjcm9sbGVkIG91dCBvZiB2aWV3OiBEbyBub3QgYW5pbWF0ZVxuXG4gICAgICAgIGlmICgoaXNTY3JvbGxlZFBhc3QodGFyZ2V0LCB0b1JlY3QsICdib3R0b20nLCAndG9wJykgfHwgaXNTY3JvbGxlZFBhc3QodGFyZ2V0LCB0b1JlY3QsICd0b3AnLCAnYm90dG9tJykgfHwgaXNTY3JvbGxlZFBhc3QodGFyZ2V0LCB0b1JlY3QsICdyaWdodCcsICdsZWZ0JykgfHwgaXNTY3JvbGxlZFBhc3QodGFyZ2V0LCB0b1JlY3QsICdsZWZ0JywgJ3JpZ2h0JykpICYmIChpc1Njcm9sbGVkUGFzdCh0YXJnZXQsIGFuaW1hdGluZ1JlY3QsICdib3R0b20nLCAndG9wJykgfHwgaXNTY3JvbGxlZFBhc3QodGFyZ2V0LCBhbmltYXRpbmdSZWN0LCAndG9wJywgJ2JvdHRvbScpIHx8IGlzU2Nyb2xsZWRQYXN0KHRhcmdldCwgYW5pbWF0aW5nUmVjdCwgJ3JpZ2h0JywgJ2xlZnQnKSB8fCBpc1Njcm9sbGVkUGFzdCh0YXJnZXQsIGFuaW1hdGluZ1JlY3QsICdsZWZ0JywgJ3JpZ2h0JykpICYmIChpc1Njcm9sbGVkUGFzdCh0YXJnZXQsIGZyb21SZWN0LCAnYm90dG9tJywgJ3RvcCcpIHx8IGlzU2Nyb2xsZWRQYXN0KHRhcmdldCwgZnJvbVJlY3QsICd0b3AnLCAnYm90dG9tJykgfHwgaXNTY3JvbGxlZFBhc3QodGFyZ2V0LCBmcm9tUmVjdCwgJ3JpZ2h0JywgJ2xlZnQnKSB8fCBpc1Njcm9sbGVkUGFzdCh0YXJnZXQsIGZyb21SZWN0LCAnbGVmdCcsICdyaWdodCcpKSkgY29udGludWU7XG5cbiAgICAgICAgaWYgKHRhcmdldC50aGlzQW5pbWF0aW9uRHVyYXRpb24pIHtcbiAgICAgICAgICAvLyBDb3VsZCBhbHNvIGNoZWNrIGlmIGFuaW1hdGluZ1JlY3QgaXMgYmV0d2VlbiBmcm9tUmVjdCBhbmQgdG9SZWN0XG4gICAgICAgICAgaWYgKGlzUmVjdEVxdWFsKHByZXZGcm9tUmVjdCwgdG9SZWN0KSAmJiAhaXNSZWN0RXF1YWwoZnJvbVJlY3QsIHRvUmVjdCkgJiYgLy8gTWFrZSBzdXJlIGFuaW1hdGluZ1JlY3QgaXMgb24gbGluZSBiZXR3ZWVuIHRvUmVjdCAmIGZyb21SZWN0XG4gICAgICAgICAgKGFuaW1hdGluZ1JlY3QudG9wIC0gdG9SZWN0LnRvcCkgLyAoYW5pbWF0aW5nUmVjdC5sZWZ0IC0gdG9SZWN0LmxlZnQpID09PSAoZnJvbVJlY3QudG9wIC0gdG9SZWN0LnRvcCkgLyAoZnJvbVJlY3QubGVmdCAtIHRvUmVjdC5sZWZ0KSkge1xuICAgICAgICAgICAgLy8gSWYgcmV0dXJuaW5nIHRvIHNhbWUgcGxhY2UgYXMgc3RhcnRlZCBmcm9tIGFuaW1hdGlvbiBhbmQgb24gc2FtZSBheGlzXG4gICAgICAgICAgICB0aW1lID0gY2FsY3VsYXRlUmVhbFRpbWUoYW5pbWF0aW5nUmVjdCwgcHJldkZyb21SZWN0LCBwcmV2VG9SZWN0LCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBpZiBmcm9tUmVjdCAhPSB0b1JlY3Q6IGFuaW1hdGVcblxuXG4gICAgICAgIGlmICghaXNSZWN0RXF1YWwodG9SZWN0LCBmcm9tUmVjdCkpIHtcbiAgICAgICAgICB0YXJnZXQucHJldkZyb21SZWN0ID0gZnJvbVJlY3Q7XG4gICAgICAgICAgdGFyZ2V0LnByZXZUb1JlY3QgPSB0b1JlY3Q7XG5cbiAgICAgICAgICBpZiAoIXRpbWUpIHtcbiAgICAgICAgICAgIHRpbWUgPSB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuYW5pbWF0ZSh0YXJnZXQsIGFuaW1hdGluZ1JlY3QsIHRpbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRpbWUpIHtcbiAgICAgICAgICBhbmltYXRpbmcgPSB0cnVlO1xuICAgICAgICAgIGFuaW1hdGlvblRpbWUgPSBNYXRoLm1heChhbmltYXRpb25UaW1lLCB0aW1lKTtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGFyZ2V0LmFuaW1hdGlvblJlc2V0VGltZXIpO1xuICAgICAgICAgIHRhcmdldC5hbmltYXRpb25SZXNldFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlc1t0aGlzLmldLnRhcmdldC5hbmltYXRpb25UaW1lID0gMDtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGVzW3RoaXMuaV0udGFyZ2V0LnByZXZGcm9tUmVjdCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlc1t0aGlzLmldLnRhcmdldC5mcm9tUmVjdCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlc1t0aGlzLmldLnRhcmdldC5wcmV2VG9SZWN0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGVzW3RoaXMuaV0udGFyZ2V0LnRoaXNBbmltYXRpb25EdXJhdGlvbiA9IG51bGw7XG4gICAgICAgICAgfS5iaW5kKHtcbiAgICAgICAgICAgIGFuaW1hdGlvblN0YXRlczogYW5pbWF0aW9uU3RhdGVzLFxuICAgICAgICAgICAgaTogTnVtYmVyKGkpXG4gICAgICAgICAgfSksIHRpbWUpO1xuICAgICAgICAgIHRhcmdldC50aGlzQW5pbWF0aW9uRHVyYXRpb24gPSB0aW1lO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNsZWFyVGltZW91dChhbmltYXRpb25DYWxsYmFja0lkKTtcblxuICAgICAgaWYgKCFhbmltYXRpbmcpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2soKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFuaW1hdGlvbkNhbGxiYWNrSWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBjYWxsYmFjaygpO1xuICAgICAgICB9LCBhbmltYXRpb25UaW1lKTtcbiAgICAgIH1cblxuICAgICAgYW5pbWF0aW9uU3RhdGVzID0gW107XG4gICAgfSxcbiAgICBhbmltYXRlOiBmdW5jdGlvbiBhbmltYXRlKHRhcmdldCwgcHJldiwgZHVyYXRpb24pIHtcbiAgICAgIGlmIChkdXJhdGlvbikge1xuICAgICAgICBjc3ModGFyZ2V0LCAndHJhbnNpdGlvbicsICcnKTtcbiAgICAgICAgY3NzKHRhcmdldCwgJ3RyYW5zZm9ybScsICcnKTtcbiAgICAgICAgdmFyIGN1cnJlbnRSZWN0ID0gZ2V0UmVjdCh0YXJnZXQpLFxuICAgICAgICAgICAgZWxNYXRyaXggPSBtYXRyaXgodGhpcy5lbCksXG4gICAgICAgICAgICBzY2FsZVggPSBlbE1hdHJpeCAmJiBlbE1hdHJpeC5hLFxuICAgICAgICAgICAgc2NhbGVZID0gZWxNYXRyaXggJiYgZWxNYXRyaXguZCxcbiAgICAgICAgICAgIHRyYW5zbGF0ZVggPSAocHJldi5sZWZ0IC0gY3VycmVudFJlY3QubGVmdCkgLyAoc2NhbGVYIHx8IDEpLFxuICAgICAgICAgICAgdHJhbnNsYXRlWSA9IChwcmV2LnRvcCAtIGN1cnJlbnRSZWN0LnRvcCkgLyAoc2NhbGVZIHx8IDEpO1xuICAgICAgICB0YXJnZXQuYW5pbWF0aW5nWCA9ICEhdHJhbnNsYXRlWDtcbiAgICAgICAgdGFyZ2V0LmFuaW1hdGluZ1kgPSAhIXRyYW5zbGF0ZVk7XG4gICAgICAgIGNzcyh0YXJnZXQsICd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlM2QoJyArIHRyYW5zbGF0ZVggKyAncHgsJyArIHRyYW5zbGF0ZVkgKyAncHgsMCknKTtcbiAgICAgICAgcmVwYWludCh0YXJnZXQpOyAvLyByZXBhaW50XG5cbiAgICAgICAgY3NzKHRhcmdldCwgJ3RyYW5zaXRpb24nLCAndHJhbnNmb3JtICcgKyBkdXJhdGlvbiArICdtcycgKyAodGhpcy5vcHRpb25zLmVhc2luZyA/ICcgJyArIHRoaXMub3B0aW9ucy5lYXNpbmcgOiAnJykpO1xuICAgICAgICBjc3ModGFyZ2V0LCAndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZTNkKDAsMCwwKScpO1xuICAgICAgICB0eXBlb2YgdGFyZ2V0LmFuaW1hdGVkID09PSAnbnVtYmVyJyAmJiBjbGVhclRpbWVvdXQodGFyZ2V0LmFuaW1hdGVkKTtcbiAgICAgICAgdGFyZ2V0LmFuaW1hdGVkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY3NzKHRhcmdldCwgJ3RyYW5zaXRpb24nLCAnJyk7XG4gICAgICAgICAgY3NzKHRhcmdldCwgJ3RyYW5zZm9ybScsICcnKTtcbiAgICAgICAgICB0YXJnZXQuYW5pbWF0ZWQgPSBmYWxzZTtcbiAgICAgICAgICB0YXJnZXQuYW5pbWF0aW5nWCA9IGZhbHNlO1xuICAgICAgICAgIHRhcmdldC5hbmltYXRpbmdZID0gZmFsc2U7XG4gICAgICAgIH0sIGR1cmF0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIHJlcGFpbnQodGFyZ2V0KSB7XG4gIHJldHVybiB0YXJnZXQub2Zmc2V0V2lkdGg7XG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZVJlYWxUaW1lKGFuaW1hdGluZ1JlY3QsIGZyb21SZWN0LCB0b1JlY3QsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhmcm9tUmVjdC50b3AgLSBhbmltYXRpbmdSZWN0LnRvcCwgMikgKyBNYXRoLnBvdyhmcm9tUmVjdC5sZWZ0IC0gYW5pbWF0aW5nUmVjdC5sZWZ0LCAyKSkgLyBNYXRoLnNxcnQoTWF0aC5wb3coZnJvbVJlY3QudG9wIC0gdG9SZWN0LnRvcCwgMikgKyBNYXRoLnBvdyhmcm9tUmVjdC5sZWZ0IC0gdG9SZWN0LmxlZnQsIDIpKSAqIG9wdGlvbnMuYW5pbWF0aW9uO1xufVxuXG52YXIgcGx1Z2lucyA9IFtdO1xudmFyIGRlZmF1bHRzID0ge1xuICBpbml0aWFsaXplQnlEZWZhdWx0OiB0cnVlXG59O1xudmFyIFBsdWdpbk1hbmFnZXIgPSB7XG4gIG1vdW50OiBmdW5jdGlvbiBtb3VudChwbHVnaW4pIHtcbiAgICAvLyBTZXQgZGVmYXVsdCBzdGF0aWMgcHJvcGVydGllc1xuICAgIGZvciAodmFyIG9wdGlvbiBpbiBkZWZhdWx0cykge1xuICAgICAgIShvcHRpb24gaW4gcGx1Z2luKSAmJiAocGx1Z2luW29wdGlvbl0gPSBkZWZhdWx0c1tvcHRpb25dKTtcbiAgICB9XG5cbiAgICBwbHVnaW5zLnB1c2gocGx1Z2luKTtcbiAgfSxcbiAgcGx1Z2luRXZlbnQ6IGZ1bmN0aW9uIHBsdWdpbkV2ZW50KGV2ZW50TmFtZSwgc29ydGFibGUsIGV2dCkge1xuICAgIHRoaXMuZXZlbnRDYW5jZWxlZCA9IGZhbHNlO1xuICAgIHZhciBldmVudE5hbWVHbG9iYWwgPSBldmVudE5hbWUgKyAnR2xvYmFsJztcblxuICAgIGZvciAodmFyIGkgaW4gcGx1Z2lucykge1xuICAgICAgaWYgKCFzb3J0YWJsZVtwbHVnaW5zW2ldLnBsdWdpbk5hbWVdKSBjb250aW51ZTsgLy8gRmlyZSBnbG9iYWwgZXZlbnRzIGlmIGl0IGV4aXN0cyBpbiB0aGlzIHNvcnRhYmxlXG5cbiAgICAgIGlmIChzb3J0YWJsZVtwbHVnaW5zW2ldLnBsdWdpbk5hbWVdW2V2ZW50TmFtZUdsb2JhbF0pIHtcbiAgICAgICAgdGhpcy5ldmVudENhbmNlbGVkID0gISFzb3J0YWJsZVtwbHVnaW5zW2ldLnBsdWdpbk5hbWVdW2V2ZW50TmFtZUdsb2JhbF0oX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgc29ydGFibGU6IHNvcnRhYmxlXG4gICAgICAgIH0sIGV2dCkpO1xuICAgICAgfSAvLyBPbmx5IGZpcmUgcGx1Z2luIGV2ZW50IGlmIHBsdWdpbiBpcyBlbmFibGVkIGluIHRoaXMgc29ydGFibGUsXG4gICAgICAvLyBhbmQgcGx1Z2luIGhhcyBldmVudCBkZWZpbmVkXG5cblxuICAgICAgaWYgKHNvcnRhYmxlLm9wdGlvbnNbcGx1Z2luc1tpXS5wbHVnaW5OYW1lXSAmJiBzb3J0YWJsZVtwbHVnaW5zW2ldLnBsdWdpbk5hbWVdW2V2ZW50TmFtZV0pIHtcbiAgICAgICAgdGhpcy5ldmVudENhbmNlbGVkID0gdGhpcy5ldmVudENhbmNlbGVkIHx8ICEhc29ydGFibGVbcGx1Z2luc1tpXS5wbHVnaW5OYW1lXVtldmVudE5hbWVdKF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgIHNvcnRhYmxlOiBzb3J0YWJsZVxuICAgICAgICB9LCBldnQpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGluaXRpYWxpemVQbHVnaW5zOiBmdW5jdGlvbiBpbml0aWFsaXplUGx1Z2lucyhzb3J0YWJsZSwgZWwsIGRlZmF1bHRzKSB7XG4gICAgZm9yICh2YXIgaSBpbiBwbHVnaW5zKSB7XG4gICAgICB2YXIgcGx1Z2luTmFtZSA9IHBsdWdpbnNbaV0ucGx1Z2luTmFtZTtcbiAgICAgIGlmICghc29ydGFibGUub3B0aW9uc1twbHVnaW5OYW1lXSAmJiAhcGx1Z2luc1tpXS5pbml0aWFsaXplQnlEZWZhdWx0KSBjb250aW51ZTtcbiAgICAgIHZhciBpbml0aWFsaXplZCA9IG5ldyBwbHVnaW5zW2ldKHNvcnRhYmxlLCBlbCk7XG4gICAgICBpbml0aWFsaXplZC5zb3J0YWJsZSA9IHNvcnRhYmxlO1xuICAgICAgc29ydGFibGVbcGx1Z2luTmFtZV0gPSBpbml0aWFsaXplZDsgLy8gQWRkIGRlZmF1bHQgb3B0aW9ucyBmcm9tIHBsdWdpblxuXG4gICAgICBfZXh0ZW5kcyhkZWZhdWx0cywgaW5pdGlhbGl6ZWQub3B0aW9ucyk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgb3B0aW9uIGluIHNvcnRhYmxlLm9wdGlvbnMpIHtcbiAgICAgIHZhciBtb2RpZmllZCA9IHRoaXMubW9kaWZ5T3B0aW9uKHNvcnRhYmxlLCBvcHRpb24sIHNvcnRhYmxlLm9wdGlvbnNbb3B0aW9uXSk7XG5cbiAgICAgIGlmICh0eXBlb2YgbW9kaWZpZWQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNvcnRhYmxlLm9wdGlvbnNbb3B0aW9uXSA9IG1vZGlmaWVkO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgZ2V0RXZlbnRPcHRpb25zOiBmdW5jdGlvbiBnZXRFdmVudE9wdGlvbnMobmFtZSwgc29ydGFibGUpIHtcbiAgICB2YXIgZXZlbnRPcHRpb25zID0ge307XG5cbiAgICBmb3IgKHZhciBpIGluIHBsdWdpbnMpIHtcbiAgICAgIGlmICh0eXBlb2YgcGx1Z2luc1tpXS5ldmVudE9wdGlvbnMgIT09ICdmdW5jdGlvbicpIGNvbnRpbnVlO1xuXG4gICAgICBfZXh0ZW5kcyhldmVudE9wdGlvbnMsIHBsdWdpbnNbaV0uZXZlbnRPcHRpb25zLmNhbGwoc29ydGFibGUsIG5hbWUpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZXZlbnRPcHRpb25zO1xuICB9LFxuICBtb2RpZnlPcHRpb246IGZ1bmN0aW9uIG1vZGlmeU9wdGlvbihzb3J0YWJsZSwgbmFtZSwgdmFsdWUpIHtcbiAgICB2YXIgbW9kaWZpZWRWYWx1ZTtcblxuICAgIGZvciAodmFyIGkgaW4gcGx1Z2lucykge1xuICAgICAgLy8gUGx1Z2luIG11c3QgZXhpc3Qgb24gdGhlIFNvcnRhYmxlXG4gICAgICBpZiAoIXNvcnRhYmxlW3BsdWdpbnNbaV0ucGx1Z2luTmFtZV0pIGNvbnRpbnVlOyAvLyBJZiBzdGF0aWMgb3B0aW9uIGxpc3RlbmVyIGV4aXN0cyBmb3IgdGhpcyBvcHRpb24sIGNhbGwgaW4gdGhlIGNvbnRleHQgb2YgdGhlIFNvcnRhYmxlJ3MgaW5zdGFuY2Ugb2YgdGhpcyBwbHVnaW5cblxuICAgICAgaWYgKHBsdWdpbnNbaV0ub3B0aW9uTGlzdGVuZXJzICYmIHR5cGVvZiBwbHVnaW5zW2ldLm9wdGlvbkxpc3RlbmVyc1tuYW1lXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBtb2RpZmllZFZhbHVlID0gcGx1Z2luc1tpXS5vcHRpb25MaXN0ZW5lcnNbbmFtZV0uY2FsbChzb3J0YWJsZVtwbHVnaW5zW2ldLnBsdWdpbk5hbWVdLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vZGlmaWVkVmFsdWU7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGRpc3BhdGNoRXZlbnQoX3JlZikge1xuICB2YXIgc29ydGFibGUgPSBfcmVmLnNvcnRhYmxlLFxuICAgICAgcm9vdEVsID0gX3JlZi5yb290RWwsXG4gICAgICBuYW1lID0gX3JlZi5uYW1lLFxuICAgICAgdGFyZ2V0RWwgPSBfcmVmLnRhcmdldEVsLFxuICAgICAgY2xvbmVFbCA9IF9yZWYuY2xvbmVFbCxcbiAgICAgIHRvRWwgPSBfcmVmLnRvRWwsXG4gICAgICBmcm9tRWwgPSBfcmVmLmZyb21FbCxcbiAgICAgIG9sZEluZGV4ID0gX3JlZi5vbGRJbmRleCxcbiAgICAgIG5ld0luZGV4ID0gX3JlZi5uZXdJbmRleCxcbiAgICAgIG9sZERyYWdnYWJsZUluZGV4ID0gX3JlZi5vbGREcmFnZ2FibGVJbmRleCxcbiAgICAgIG5ld0RyYWdnYWJsZUluZGV4ID0gX3JlZi5uZXdEcmFnZ2FibGVJbmRleCxcbiAgICAgIG9yaWdpbmFsRXZlbnQgPSBfcmVmLm9yaWdpbmFsRXZlbnQsXG4gICAgICBwdXRTb3J0YWJsZSA9IF9yZWYucHV0U29ydGFibGUsXG4gICAgICBldmVudE9wdGlvbnMgPSBfcmVmLmV2ZW50T3B0aW9ucztcbiAgc29ydGFibGUgPSBzb3J0YWJsZSB8fCByb290RWxbZXhwYW5kb107XG4gIHZhciBldnQsXG4gICAgICBvcHRpb25zID0gc29ydGFibGUub3B0aW9ucyxcbiAgICAgIG9uTmFtZSA9ICdvbicgKyBuYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zdWJzdHIoMSk7IC8vIFN1cHBvcnQgZm9yIG5ldyBDdXN0b21FdmVudCBmZWF0dXJlXG5cbiAgaWYgKHdpbmRvdy5DdXN0b21FdmVudCAmJiAhSUUxMU9yTGVzcyAmJiAhRWRnZSkge1xuICAgIGV2dCA9IG5ldyBDdXN0b21FdmVudChuYW1lLCB7XG4gICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgIGV2dC5pbml0RXZlbnQobmFtZSwgdHJ1ZSwgdHJ1ZSk7XG4gIH1cblxuICBldnQudG8gPSB0b0VsIHx8IHJvb3RFbDtcbiAgZXZ0LmZyb20gPSBmcm9tRWwgfHwgcm9vdEVsO1xuICBldnQuaXRlbSA9IHRhcmdldEVsIHx8IHJvb3RFbDtcbiAgZXZ0LmNsb25lID0gY2xvbmVFbDtcbiAgZXZ0Lm9sZEluZGV4ID0gb2xkSW5kZXg7XG4gIGV2dC5uZXdJbmRleCA9IG5ld0luZGV4O1xuICBldnQub2xkRHJhZ2dhYmxlSW5kZXggPSBvbGREcmFnZ2FibGVJbmRleDtcbiAgZXZ0Lm5ld0RyYWdnYWJsZUluZGV4ID0gbmV3RHJhZ2dhYmxlSW5kZXg7XG4gIGV2dC5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudDtcbiAgZXZ0LnB1bGxNb2RlID0gcHV0U29ydGFibGUgPyBwdXRTb3J0YWJsZS5sYXN0UHV0TW9kZSA6IHVuZGVmaW5lZDtcblxuICB2YXIgYWxsRXZlbnRPcHRpb25zID0gX29iamVjdFNwcmVhZCh7fSwgZXZlbnRPcHRpb25zLCBQbHVnaW5NYW5hZ2VyLmdldEV2ZW50T3B0aW9ucyhuYW1lLCBzb3J0YWJsZSkpO1xuXG4gIGZvciAodmFyIG9wdGlvbiBpbiBhbGxFdmVudE9wdGlvbnMpIHtcbiAgICBldnRbb3B0aW9uXSA9IGFsbEV2ZW50T3B0aW9uc1tvcHRpb25dO1xuICB9XG5cbiAgaWYgKHJvb3RFbCkge1xuICAgIHJvb3RFbC5kaXNwYXRjaEV2ZW50KGV2dCk7XG4gIH1cblxuICBpZiAob3B0aW9uc1tvbk5hbWVdKSB7XG4gICAgb3B0aW9uc1tvbk5hbWVdLmNhbGwoc29ydGFibGUsIGV2dCk7XG4gIH1cbn1cblxudmFyIHBsdWdpbkV2ZW50ID0gZnVuY3Rpb24gcGx1Z2luRXZlbnQoZXZlbnROYW1lLCBzb3J0YWJsZSkge1xuICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge30sXG4gICAgICBvcmlnaW5hbEV2ZW50ID0gX3JlZi5ldnQsXG4gICAgICBkYXRhID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIFtcImV2dFwiXSk7XG5cbiAgUGx1Z2luTWFuYWdlci5wbHVnaW5FdmVudC5iaW5kKFNvcnRhYmxlKShldmVudE5hbWUsIHNvcnRhYmxlLCBfb2JqZWN0U3ByZWFkKHtcbiAgICBkcmFnRWw6IGRyYWdFbCxcbiAgICBwYXJlbnRFbDogcGFyZW50RWwsXG4gICAgZ2hvc3RFbDogZ2hvc3RFbCxcbiAgICByb290RWw6IHJvb3RFbCxcbiAgICBuZXh0RWw6IG5leHRFbCxcbiAgICBsYXN0RG93bkVsOiBsYXN0RG93bkVsLFxuICAgIGNsb25lRWw6IGNsb25lRWwsXG4gICAgY2xvbmVIaWRkZW46IGNsb25lSGlkZGVuLFxuICAgIGRyYWdTdGFydGVkOiBtb3ZlZCxcbiAgICBwdXRTb3J0YWJsZTogcHV0U29ydGFibGUsXG4gICAgYWN0aXZlU29ydGFibGU6IFNvcnRhYmxlLmFjdGl2ZSxcbiAgICBvcmlnaW5hbEV2ZW50OiBvcmlnaW5hbEV2ZW50LFxuICAgIG9sZEluZGV4OiBvbGRJbmRleCxcbiAgICBvbGREcmFnZ2FibGVJbmRleDogb2xkRHJhZ2dhYmxlSW5kZXgsXG4gICAgbmV3SW5kZXg6IG5ld0luZGV4LFxuICAgIG5ld0RyYWdnYWJsZUluZGV4OiBuZXdEcmFnZ2FibGVJbmRleCxcbiAgICBoaWRlR2hvc3RGb3JUYXJnZXQ6IF9oaWRlR2hvc3RGb3JUYXJnZXQsXG4gICAgdW5oaWRlR2hvc3RGb3JUYXJnZXQ6IF91bmhpZGVHaG9zdEZvclRhcmdldCxcbiAgICBjbG9uZU5vd0hpZGRlbjogZnVuY3Rpb24gY2xvbmVOb3dIaWRkZW4oKSB7XG4gICAgICBjbG9uZUhpZGRlbiA9IHRydWU7XG4gICAgfSxcbiAgICBjbG9uZU5vd1Nob3duOiBmdW5jdGlvbiBjbG9uZU5vd1Nob3duKCkge1xuICAgICAgY2xvbmVIaWRkZW4gPSBmYWxzZTtcbiAgICB9LFxuICAgIGRpc3BhdGNoU29ydGFibGVFdmVudDogZnVuY3Rpb24gZGlzcGF0Y2hTb3J0YWJsZUV2ZW50KG5hbWUpIHtcbiAgICAgIF9kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgc29ydGFibGU6IHNvcnRhYmxlLFxuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBvcmlnaW5hbEV2ZW50OiBvcmlnaW5hbEV2ZW50XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIGRhdGEpKTtcbn07XG5cbmZ1bmN0aW9uIF9kaXNwYXRjaEV2ZW50KGluZm8pIHtcbiAgZGlzcGF0Y2hFdmVudChfb2JqZWN0U3ByZWFkKHtcbiAgICBwdXRTb3J0YWJsZTogcHV0U29ydGFibGUsXG4gICAgY2xvbmVFbDogY2xvbmVFbCxcbiAgICB0YXJnZXRFbDogZHJhZ0VsLFxuICAgIHJvb3RFbDogcm9vdEVsLFxuICAgIG9sZEluZGV4OiBvbGRJbmRleCxcbiAgICBvbGREcmFnZ2FibGVJbmRleDogb2xkRHJhZ2dhYmxlSW5kZXgsXG4gICAgbmV3SW5kZXg6IG5ld0luZGV4LFxuICAgIG5ld0RyYWdnYWJsZUluZGV4OiBuZXdEcmFnZ2FibGVJbmRleFxuICB9LCBpbmZvKSk7XG59XG5cbmlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiIHx8ICF3aW5kb3cuZG9jdW1lbnQpIHtcbiAgdGhyb3cgbmV3IEVycm9yKFwiU29ydGFibGUuanMgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50XCIpO1xufVxuXG52YXIgZHJhZ0VsLFxuICAgIHBhcmVudEVsLFxuICAgIGdob3N0RWwsXG4gICAgcm9vdEVsLFxuICAgIG5leHRFbCxcbiAgICBsYXN0RG93bkVsLFxuICAgIGNsb25lRWwsXG4gICAgY2xvbmVIaWRkZW4sXG4gICAgb2xkSW5kZXgsXG4gICAgbmV3SW5kZXgsXG4gICAgb2xkRHJhZ2dhYmxlSW5kZXgsXG4gICAgbmV3RHJhZ2dhYmxlSW5kZXgsXG4gICAgYWN0aXZlR3JvdXAsXG4gICAgcHV0U29ydGFibGUsXG4gICAgYXdhaXRpbmdEcmFnU3RhcnRlZCA9IGZhbHNlLFxuICAgIGlnbm9yZU5leHRDbGljayA9IGZhbHNlLFxuICAgIHNvcnRhYmxlcyA9IFtdLFxuICAgIHRhcEV2dCxcbiAgICB0b3VjaEV2dCxcbiAgICBtb3ZlZCxcbiAgICBsYXN0VGFyZ2V0LFxuICAgIGxhc3REaXJlY3Rpb24sXG4gICAgcGFzdEZpcnN0SW52ZXJ0VGhyZXNoID0gZmFsc2UsXG4gICAgaXNDaXJjdW1zdGFudGlhbEludmVydCA9IGZhbHNlLFxuICAgIHRhcmdldE1vdmVEaXN0YW5jZSxcbiAgICAvLyBGb3IgcG9zaXRpb25pbmcgZ2hvc3QgYWJzb2x1dGVseVxuZ2hvc3RSZWxhdGl2ZVBhcmVudCxcbiAgICBnaG9zdFJlbGF0aXZlUGFyZW50SW5pdGlhbFNjcm9sbCA9IFtdLFxuICAgIC8vIChsZWZ0LCB0b3ApXG5fc2lsZW50ID0gZmFsc2UsXG4gICAgc2F2ZWRJbnB1dENoZWNrZWQgPSBbXTtcbi8qKiBAY29uc3QgKi9cblxudmFyIFBvc2l0aW9uR2hvc3RBYnNvbHV0ZWx5ID0gSU9TLFxuICAgIENTU0Zsb2F0UHJvcGVydHkgPSBFZGdlIHx8IElFMTFPckxlc3MgPyAnY3NzRmxvYXQnIDogJ2Zsb2F0JyxcbiAgICAvLyBUaGlzIHdpbGwgbm90IHBhc3MgZm9yIElFOSwgYmVjYXVzZSBJRTkgRG5EIG9ubHkgd29ya3Mgb24gYW5jaG9yc1xuc3VwcG9ydERyYWdnYWJsZSA9ICdkcmFnZ2FibGUnIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgIHN1cHBvcnRDc3NQb2ludGVyRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAvLyBmYWxzZSB3aGVuIDw9IElFMTFcbiAgaWYgKElFMTFPckxlc3MpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd4Jyk7XG4gIGVsLnN0eWxlLmNzc1RleHQgPSAncG9pbnRlci1ldmVudHM6YXV0byc7XG4gIHJldHVybiBlbC5zdHlsZS5wb2ludGVyRXZlbnRzID09PSAnYXV0byc7XG59KCksXG4gICAgX2RldGVjdERpcmVjdGlvbiA9IGZ1bmN0aW9uIF9kZXRlY3REaXJlY3Rpb24oZWwsIG9wdGlvbnMpIHtcbiAgdmFyIGVsQ1NTID0gY3NzKGVsKSxcbiAgICAgIGVsV2lkdGggPSBwYXJzZUludChlbENTUy53aWR0aCkgLSBwYXJzZUludChlbENTUy5wYWRkaW5nTGVmdCkgLSBwYXJzZUludChlbENTUy5wYWRkaW5nUmlnaHQpIC0gcGFyc2VJbnQoZWxDU1MuYm9yZGVyTGVmdFdpZHRoKSAtIHBhcnNlSW50KGVsQ1NTLmJvcmRlclJpZ2h0V2lkdGgpLFxuICAgICAgY2hpbGQxID0gZ2V0Q2hpbGQoZWwsIDAsIG9wdGlvbnMpLFxuICAgICAgY2hpbGQyID0gZ2V0Q2hpbGQoZWwsIDEsIG9wdGlvbnMpLFxuICAgICAgZmlyc3RDaGlsZENTUyA9IGNoaWxkMSAmJiBjc3MoY2hpbGQxKSxcbiAgICAgIHNlY29uZENoaWxkQ1NTID0gY2hpbGQyICYmIGNzcyhjaGlsZDIpLFxuICAgICAgZmlyc3RDaGlsZFdpZHRoID0gZmlyc3RDaGlsZENTUyAmJiBwYXJzZUludChmaXJzdENoaWxkQ1NTLm1hcmdpbkxlZnQpICsgcGFyc2VJbnQoZmlyc3RDaGlsZENTUy5tYXJnaW5SaWdodCkgKyBnZXRSZWN0KGNoaWxkMSkud2lkdGgsXG4gICAgICBzZWNvbmRDaGlsZFdpZHRoID0gc2Vjb25kQ2hpbGRDU1MgJiYgcGFyc2VJbnQoc2Vjb25kQ2hpbGRDU1MubWFyZ2luTGVmdCkgKyBwYXJzZUludChzZWNvbmRDaGlsZENTUy5tYXJnaW5SaWdodCkgKyBnZXRSZWN0KGNoaWxkMikud2lkdGg7XG5cbiAgaWYgKGVsQ1NTLmRpc3BsYXkgPT09ICdmbGV4Jykge1xuICAgIHJldHVybiBlbENTUy5mbGV4RGlyZWN0aW9uID09PSAnY29sdW1uJyB8fCBlbENTUy5mbGV4RGlyZWN0aW9uID09PSAnY29sdW1uLXJldmVyc2UnID8gJ3ZlcnRpY2FsJyA6ICdob3Jpem9udGFsJztcbiAgfVxuXG4gIGlmIChlbENTUy5kaXNwbGF5ID09PSAnZ3JpZCcpIHtcbiAgICByZXR1cm4gZWxDU1MuZ3JpZFRlbXBsYXRlQ29sdW1ucy5zcGxpdCgnICcpLmxlbmd0aCA8PSAxID8gJ3ZlcnRpY2FsJyA6ICdob3Jpem9udGFsJztcbiAgfVxuXG4gIGlmIChjaGlsZDEgJiYgZmlyc3RDaGlsZENTU1tcImZsb2F0XCJdICE9PSAnbm9uZScpIHtcbiAgICB2YXIgdG91Y2hpbmdTaWRlQ2hpbGQyID0gZmlyc3RDaGlsZENTU1tcImZsb2F0XCJdID09PSAnbGVmdCcgPyAnbGVmdCcgOiAncmlnaHQnO1xuICAgIHJldHVybiBjaGlsZDIgJiYgKHNlY29uZENoaWxkQ1NTLmNsZWFyID09PSAnYm90aCcgfHwgc2Vjb25kQ2hpbGRDU1MuY2xlYXIgPT09IHRvdWNoaW5nU2lkZUNoaWxkMikgPyAndmVydGljYWwnIDogJ2hvcml6b250YWwnO1xuICB9XG5cbiAgcmV0dXJuIGNoaWxkMSAmJiAoZmlyc3RDaGlsZENTUy5kaXNwbGF5ID09PSAnYmxvY2snIHx8IGZpcnN0Q2hpbGRDU1MuZGlzcGxheSA9PT0gJ2ZsZXgnIHx8IGZpcnN0Q2hpbGRDU1MuZGlzcGxheSA9PT0gJ3RhYmxlJyB8fCBmaXJzdENoaWxkQ1NTLmRpc3BsYXkgPT09ICdncmlkJyB8fCBmaXJzdENoaWxkV2lkdGggPj0gZWxXaWR0aCAmJiBlbENTU1tDU1NGbG9hdFByb3BlcnR5XSA9PT0gJ25vbmUnIHx8IGNoaWxkMiAmJiBlbENTU1tDU1NGbG9hdFByb3BlcnR5XSA9PT0gJ25vbmUnICYmIGZpcnN0Q2hpbGRXaWR0aCArIHNlY29uZENoaWxkV2lkdGggPiBlbFdpZHRoKSA/ICd2ZXJ0aWNhbCcgOiAnaG9yaXpvbnRhbCc7XG59LFxuICAgIF9kcmFnRWxJblJvd0NvbHVtbiA9IGZ1bmN0aW9uIF9kcmFnRWxJblJvd0NvbHVtbihkcmFnUmVjdCwgdGFyZ2V0UmVjdCwgdmVydGljYWwpIHtcbiAgdmFyIGRyYWdFbFMxT3BwID0gdmVydGljYWwgPyBkcmFnUmVjdC5sZWZ0IDogZHJhZ1JlY3QudG9wLFxuICAgICAgZHJhZ0VsUzJPcHAgPSB2ZXJ0aWNhbCA/IGRyYWdSZWN0LnJpZ2h0IDogZHJhZ1JlY3QuYm90dG9tLFxuICAgICAgZHJhZ0VsT3BwTGVuZ3RoID0gdmVydGljYWwgPyBkcmFnUmVjdC53aWR0aCA6IGRyYWdSZWN0LmhlaWdodCxcbiAgICAgIHRhcmdldFMxT3BwID0gdmVydGljYWwgPyB0YXJnZXRSZWN0LmxlZnQgOiB0YXJnZXRSZWN0LnRvcCxcbiAgICAgIHRhcmdldFMyT3BwID0gdmVydGljYWwgPyB0YXJnZXRSZWN0LnJpZ2h0IDogdGFyZ2V0UmVjdC5ib3R0b20sXG4gICAgICB0YXJnZXRPcHBMZW5ndGggPSB2ZXJ0aWNhbCA/IHRhcmdldFJlY3Qud2lkdGggOiB0YXJnZXRSZWN0LmhlaWdodDtcbiAgcmV0dXJuIGRyYWdFbFMxT3BwID09PSB0YXJnZXRTMU9wcCB8fCBkcmFnRWxTMk9wcCA9PT0gdGFyZ2V0UzJPcHAgfHwgZHJhZ0VsUzFPcHAgKyBkcmFnRWxPcHBMZW5ndGggLyAyID09PSB0YXJnZXRTMU9wcCArIHRhcmdldE9wcExlbmd0aCAvIDI7XG59LFxuXG4vKipcbiAqIERldGVjdHMgZmlyc3QgbmVhcmVzdCBlbXB0eSBzb3J0YWJsZSB0byBYIGFuZCBZIHBvc2l0aW9uIHVzaW5nIGVtcHR5SW5zZXJ0VGhyZXNob2xkLlxuICogQHBhcmFtICB7TnVtYmVyfSB4ICAgICAgWCBwb3NpdGlvblxuICogQHBhcmFtICB7TnVtYmVyfSB5ICAgICAgWSBwb3NpdGlvblxuICogQHJldHVybiB7SFRNTEVsZW1lbnR9ICAgRWxlbWVudCBvZiB0aGUgZmlyc3QgZm91bmQgbmVhcmVzdCBTb3J0YWJsZVxuICovXG5fZGV0ZWN0TmVhcmVzdEVtcHR5U29ydGFibGUgPSBmdW5jdGlvbiBfZGV0ZWN0TmVhcmVzdEVtcHR5U29ydGFibGUoeCwgeSkge1xuICBmb3IgKHZhciBpIGluIHNvcnRhYmxlcykge1xuICAgIGlmIChsYXN0Q2hpbGQoc29ydGFibGVzW2ldKSkgY29udGludWU7XG4gICAgdmFyIHJlY3QgPSBnZXRSZWN0KHNvcnRhYmxlc1tpXSksXG4gICAgICAgIHRocmVzaG9sZCA9IHNvcnRhYmxlc1tpXVtleHBhbmRvXS5vcHRpb25zLmVtcHR5SW5zZXJ0VGhyZXNob2xkLFxuICAgICAgICBpbnNpZGVIb3Jpem9udGFsbHkgPSB4ID49IHJlY3QubGVmdCAtIHRocmVzaG9sZCAmJiB4IDw9IHJlY3QucmlnaHQgKyB0aHJlc2hvbGQsXG4gICAgICAgIGluc2lkZVZlcnRpY2FsbHkgPSB5ID49IHJlY3QudG9wIC0gdGhyZXNob2xkICYmIHkgPD0gcmVjdC5ib3R0b20gKyB0aHJlc2hvbGQ7XG5cbiAgICBpZiAodGhyZXNob2xkICYmIGluc2lkZUhvcml6b250YWxseSAmJiBpbnNpZGVWZXJ0aWNhbGx5KSB7XG4gICAgICByZXR1cm4gc29ydGFibGVzW2ldO1xuICAgIH1cbiAgfVxufSxcbiAgICBfcHJlcGFyZUdyb3VwID0gZnVuY3Rpb24gX3ByZXBhcmVHcm91cChvcHRpb25zKSB7XG4gIGZ1bmN0aW9uIHRvRm4odmFsdWUsIHB1bGwpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRvLCBmcm9tLCBkcmFnRWwsIGV2dCkge1xuICAgICAgdmFyIHNhbWVHcm91cCA9IHRvLm9wdGlvbnMuZ3JvdXAubmFtZSAmJiBmcm9tLm9wdGlvbnMuZ3JvdXAubmFtZSAmJiB0by5vcHRpb25zLmdyb3VwLm5hbWUgPT09IGZyb20ub3B0aW9ucy5ncm91cC5uYW1lO1xuXG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCAmJiAocHVsbCB8fCBzYW1lR3JvdXApKSB7XG4gICAgICAgIC8vIERlZmF1bHQgcHVsbCB2YWx1ZVxuICAgICAgICAvLyBEZWZhdWx0IHB1bGwgYW5kIHB1dCB2YWx1ZSBpZiBzYW1lIGdyb3VwXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKHB1bGwgJiYgdmFsdWUgPT09ICdjbG9uZScpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHRvRm4odmFsdWUodG8sIGZyb20sIGRyYWdFbCwgZXZ0KSwgcHVsbCkodG8sIGZyb20sIGRyYWdFbCwgZXZ0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBvdGhlckdyb3VwID0gKHB1bGwgPyB0byA6IGZyb20pLm9wdGlvbnMuZ3JvdXAubmFtZTtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSB0cnVlIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgdmFsdWUgPT09IG90aGVyR3JvdXAgfHwgdmFsdWUuam9pbiAmJiB2YWx1ZS5pbmRleE9mKG90aGVyR3JvdXApID4gLTE7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHZhciBncm91cCA9IHt9O1xuICB2YXIgb3JpZ2luYWxHcm91cCA9IG9wdGlvbnMuZ3JvdXA7XG5cbiAgaWYgKCFvcmlnaW5hbEdyb3VwIHx8IF90eXBlb2Yob3JpZ2luYWxHcm91cCkgIT0gJ29iamVjdCcpIHtcbiAgICBvcmlnaW5hbEdyb3VwID0ge1xuICAgICAgbmFtZTogb3JpZ2luYWxHcm91cFxuICAgIH07XG4gIH1cblxuICBncm91cC5uYW1lID0gb3JpZ2luYWxHcm91cC5uYW1lO1xuICBncm91cC5jaGVja1B1bGwgPSB0b0ZuKG9yaWdpbmFsR3JvdXAucHVsbCwgdHJ1ZSk7XG4gIGdyb3VwLmNoZWNrUHV0ID0gdG9GbihvcmlnaW5hbEdyb3VwLnB1dCk7XG4gIGdyb3VwLnJldmVydENsb25lID0gb3JpZ2luYWxHcm91cC5yZXZlcnRDbG9uZTtcbiAgb3B0aW9ucy5ncm91cCA9IGdyb3VwO1xufSxcbiAgICBfaGlkZUdob3N0Rm9yVGFyZ2V0ID0gZnVuY3Rpb24gX2hpZGVHaG9zdEZvclRhcmdldCgpIHtcbiAgaWYgKCFzdXBwb3J0Q3NzUG9pbnRlckV2ZW50cyAmJiBnaG9zdEVsKSB7XG4gICAgY3NzKGdob3N0RWwsICdkaXNwbGF5JywgJ25vbmUnKTtcbiAgfVxufSxcbiAgICBfdW5oaWRlR2hvc3RGb3JUYXJnZXQgPSBmdW5jdGlvbiBfdW5oaWRlR2hvc3RGb3JUYXJnZXQoKSB7XG4gIGlmICghc3VwcG9ydENzc1BvaW50ZXJFdmVudHMgJiYgZ2hvc3RFbCkge1xuICAgIGNzcyhnaG9zdEVsLCAnZGlzcGxheScsICcnKTtcbiAgfVxufTsgLy8gIzExODQgZml4IC0gUHJldmVudCBjbGljayBldmVudCBvbiBmYWxsYmFjayBpZiBkcmFnZ2VkIGJ1dCBpdGVtIG5vdCBjaGFuZ2VkIHBvc2l0aW9uXG5cblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZ0KSB7XG4gIGlmIChpZ25vcmVOZXh0Q2xpY2spIHtcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICBldnQuc3RvcFByb3BhZ2F0aW9uICYmIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBldnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uICYmIGV2dC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICBpZ25vcmVOZXh0Q2xpY2sgPSBmYWxzZTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0sIHRydWUpO1xuXG52YXIgbmVhcmVzdEVtcHR5SW5zZXJ0RGV0ZWN0RXZlbnQgPSBmdW5jdGlvbiBuZWFyZXN0RW1wdHlJbnNlcnREZXRlY3RFdmVudChldnQpIHtcbiAgaWYgKGRyYWdFbCkge1xuICAgIGV2dCA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0gOiBldnQ7XG5cbiAgICB2YXIgbmVhcmVzdCA9IF9kZXRlY3ROZWFyZXN0RW1wdHlTb3J0YWJsZShldnQuY2xpZW50WCwgZXZ0LmNsaWVudFkpO1xuXG4gICAgaWYgKG5lYXJlc3QpIHtcbiAgICAgIC8vIENyZWF0ZSBpbWl0YXRpb24gZXZlbnRcbiAgICAgIHZhciBldmVudCA9IHt9O1xuXG4gICAgICBmb3IgKHZhciBpIGluIGV2dCkge1xuICAgICAgICBldmVudFtpXSA9IGV2dFtpXTtcbiAgICAgIH1cblxuICAgICAgZXZlbnQudGFyZ2V0ID0gZXZlbnQucm9vdEVsID0gbmVhcmVzdDtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0ID0gdm9pZCAwO1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uID0gdm9pZCAwO1xuXG4gICAgICBuZWFyZXN0W2V4cGFuZG9dLl9vbkRyYWdPdmVyKGV2ZW50KTtcbiAgICB9XG4gIH1cbn07XG5cbnZhciBfY2hlY2tPdXRzaWRlVGFyZ2V0RWwgPSBmdW5jdGlvbiBfY2hlY2tPdXRzaWRlVGFyZ2V0RWwoZXZ0KSB7XG4gIGlmIChkcmFnRWwpIHtcbiAgICBkcmFnRWwucGFyZW50Tm9kZVtleHBhbmRvXS5faXNPdXRzaWRlVGhpc0VsKGV2dC50YXJnZXQpO1xuICB9XG59O1xuLyoqXG4gKiBAY2xhc3MgIFNvcnRhYmxlXG4gKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gIGVsXG4gKiBAcGFyYW0gIHtPYmplY3R9ICAgICAgIFtvcHRpb25zXVxuICovXG5cblxuZnVuY3Rpb24gU29ydGFibGUoZWwsIG9wdGlvbnMpIHtcbiAgaWYgKCEoZWwgJiYgZWwubm9kZVR5cGUgJiYgZWwubm9kZVR5cGUgPT09IDEpKSB7XG4gICAgdGhyb3cgXCJTb3J0YWJsZTogYGVsYCBtdXN0IGJlIGFuIEhUTUxFbGVtZW50LCBub3QgXCIuY29uY2F0KHt9LnRvU3RyaW5nLmNhbGwoZWwpKTtcbiAgfVxuXG4gIHRoaXMuZWwgPSBlbDsgLy8gcm9vdCBlbGVtZW50XG5cbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyA9IF9leHRlbmRzKHt9LCBvcHRpb25zKTsgLy8gRXhwb3J0IGluc3RhbmNlXG5cbiAgZWxbZXhwYW5kb10gPSB0aGlzO1xuICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgZ3JvdXA6IG51bGwsXG4gICAgc29ydDogdHJ1ZSxcbiAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgc3RvcmU6IG51bGwsXG4gICAgaGFuZGxlOiBudWxsLFxuICAgIGRyYWdnYWJsZTogL15bdW9dbCQvaS50ZXN0KGVsLm5vZGVOYW1lKSA/ICc+bGknIDogJz4qJyxcbiAgICBzd2FwVGhyZXNob2xkOiAxLFxuICAgIC8vIHBlcmNlbnRhZ2U7IDAgPD0geCA8PSAxXG4gICAgaW52ZXJ0U3dhcDogZmFsc2UsXG4gICAgLy8gaW52ZXJ0IGFsd2F5c1xuICAgIGludmVydGVkU3dhcFRocmVzaG9sZDogbnVsbCxcbiAgICAvLyB3aWxsIGJlIHNldCB0byBzYW1lIGFzIHN3YXBUaHJlc2hvbGQgaWYgZGVmYXVsdFxuICAgIHJlbW92ZUNsb25lT25IaWRlOiB0cnVlLFxuICAgIGRpcmVjdGlvbjogZnVuY3Rpb24gZGlyZWN0aW9uKCkge1xuICAgICAgcmV0dXJuIF9kZXRlY3REaXJlY3Rpb24oZWwsIHRoaXMub3B0aW9ucyk7XG4gICAgfSxcbiAgICBnaG9zdENsYXNzOiAnc29ydGFibGUtZ2hvc3QnLFxuICAgIGNob3NlbkNsYXNzOiAnc29ydGFibGUtY2hvc2VuJyxcbiAgICBkcmFnQ2xhc3M6ICdzb3J0YWJsZS1kcmFnJyxcbiAgICBpZ25vcmU6ICdhLCBpbWcnLFxuICAgIGZpbHRlcjogbnVsbCxcbiAgICBwcmV2ZW50T25GaWx0ZXI6IHRydWUsXG4gICAgYW5pbWF0aW9uOiAwLFxuICAgIGVhc2luZzogbnVsbCxcbiAgICBzZXREYXRhOiBmdW5jdGlvbiBzZXREYXRhKGRhdGFUcmFuc2ZlciwgZHJhZ0VsKSB7XG4gICAgICBkYXRhVHJhbnNmZXIuc2V0RGF0YSgnVGV4dCcsIGRyYWdFbC50ZXh0Q29udGVudCk7XG4gICAgfSxcbiAgICBkcm9wQnViYmxlOiBmYWxzZSxcbiAgICBkcmFnb3ZlckJ1YmJsZTogZmFsc2UsXG4gICAgZGF0YUlkQXR0cjogJ2RhdGEtaWQnLFxuICAgIGRlbGF5OiAwLFxuICAgIGRlbGF5T25Ub3VjaE9ubHk6IGZhbHNlLFxuICAgIHRvdWNoU3RhcnRUaHJlc2hvbGQ6IE51bWJlci5wYXJzZUludCh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbywgMTApIHx8IDEsXG4gICAgZm9yY2VGYWxsYmFjazogZmFsc2UsXG4gICAgZmFsbGJhY2tDbGFzczogJ3NvcnRhYmxlLWZhbGxiYWNrJyxcbiAgICBmYWxsYmFja09uQm9keTogZmFsc2UsXG4gICAgZmFsbGJhY2tUb2xlcmFuY2U6IDAsXG4gICAgZmFsbGJhY2tPZmZzZXQ6IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwXG4gICAgfSxcbiAgICBzdXBwb3J0UG9pbnRlcjogU29ydGFibGUuc3VwcG9ydFBvaW50ZXIgIT09IGZhbHNlICYmICdQb2ludGVyRXZlbnQnIGluIHdpbmRvdyxcbiAgICBlbXB0eUluc2VydFRocmVzaG9sZDogNVxuICB9O1xuICBQbHVnaW5NYW5hZ2VyLmluaXRpYWxpemVQbHVnaW5zKHRoaXMsIGVsLCBkZWZhdWx0cyk7IC8vIFNldCBkZWZhdWx0IG9wdGlvbnNcblxuICBmb3IgKHZhciBuYW1lIGluIGRlZmF1bHRzKSB7XG4gICAgIShuYW1lIGluIG9wdGlvbnMpICYmIChvcHRpb25zW25hbWVdID0gZGVmYXVsdHNbbmFtZV0pO1xuICB9XG5cbiAgX3ByZXBhcmVHcm91cChvcHRpb25zKTsgLy8gQmluZCBhbGwgcHJpdmF0ZSBtZXRob2RzXG5cblxuICBmb3IgKHZhciBmbiBpbiB0aGlzKSB7XG4gICAgaWYgKGZuLmNoYXJBdCgwKSA9PT0gJ18nICYmIHR5cGVvZiB0aGlzW2ZuXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpc1tmbl0gPSB0aGlzW2ZuXS5iaW5kKHRoaXMpO1xuICAgIH1cbiAgfSAvLyBTZXR1cCBkcmFnIG1vZGVcblxuXG4gIHRoaXMubmF0aXZlRHJhZ2dhYmxlID0gb3B0aW9ucy5mb3JjZUZhbGxiYWNrID8gZmFsc2UgOiBzdXBwb3J0RHJhZ2dhYmxlO1xuXG4gIGlmICh0aGlzLm5hdGl2ZURyYWdnYWJsZSkge1xuICAgIC8vIFRvdWNoIHN0YXJ0IHRocmVzaG9sZCBjYW5ub3QgYmUgZ3JlYXRlciB0aGFuIHRoZSBuYXRpdmUgZHJhZ3N0YXJ0IHRocmVzaG9sZFxuICAgIHRoaXMub3B0aW9ucy50b3VjaFN0YXJ0VGhyZXNob2xkID0gMTtcbiAgfSAvLyBCaW5kIGV2ZW50c1xuXG5cbiAgaWYgKG9wdGlvbnMuc3VwcG9ydFBvaW50ZXIpIHtcbiAgICBvbihlbCwgJ3BvaW50ZXJkb3duJywgdGhpcy5fb25UYXBTdGFydCk7XG4gIH0gZWxzZSB7XG4gICAgb24oZWwsICdtb3VzZWRvd24nLCB0aGlzLl9vblRhcFN0YXJ0KTtcbiAgICBvbihlbCwgJ3RvdWNoc3RhcnQnLCB0aGlzLl9vblRhcFN0YXJ0KTtcbiAgfVxuXG4gIGlmICh0aGlzLm5hdGl2ZURyYWdnYWJsZSkge1xuICAgIG9uKGVsLCAnZHJhZ292ZXInLCB0aGlzKTtcbiAgICBvbihlbCwgJ2RyYWdlbnRlcicsIHRoaXMpO1xuICB9XG5cbiAgc29ydGFibGVzLnB1c2godGhpcy5lbCk7IC8vIFJlc3RvcmUgc29ydGluZ1xuXG4gIG9wdGlvbnMuc3RvcmUgJiYgb3B0aW9ucy5zdG9yZS5nZXQgJiYgdGhpcy5zb3J0KG9wdGlvbnMuc3RvcmUuZ2V0KHRoaXMpIHx8IFtdKTsgLy8gQWRkIGFuaW1hdGlvbiBzdGF0ZSBtYW5hZ2VyXG5cbiAgX2V4dGVuZHModGhpcywgQW5pbWF0aW9uU3RhdGVNYW5hZ2VyKCkpO1xufVxuXG5Tb3J0YWJsZS5wcm90b3R5cGUgPVxuLyoqIEBsZW5kcyBTb3J0YWJsZS5wcm90b3R5cGUgKi9cbntcbiAgY29uc3RydWN0b3I6IFNvcnRhYmxlLFxuICBfaXNPdXRzaWRlVGhpc0VsOiBmdW5jdGlvbiBfaXNPdXRzaWRlVGhpc0VsKHRhcmdldCkge1xuICAgIGlmICghdGhpcy5lbC5jb250YWlucyh0YXJnZXQpICYmIHRhcmdldCAhPT0gdGhpcy5lbCkge1xuICAgICAgbGFzdFRhcmdldCA9IG51bGw7XG4gICAgfVxuICB9LFxuICBfZ2V0RGlyZWN0aW9uOiBmdW5jdGlvbiBfZ2V0RGlyZWN0aW9uKGV2dCwgdGFyZ2V0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uID09PSAnZnVuY3Rpb24nID8gdGhpcy5vcHRpb25zLmRpcmVjdGlvbi5jYWxsKHRoaXMsIGV2dCwgdGFyZ2V0LCBkcmFnRWwpIDogdGhpcy5vcHRpb25zLmRpcmVjdGlvbjtcbiAgfSxcbiAgX29uVGFwU3RhcnQ6IGZ1bmN0aW9uIF9vblRhcFN0YXJ0KFxuICAvKiogRXZlbnR8VG91Y2hFdmVudCAqL1xuICBldnQpIHtcbiAgICBpZiAoIWV2dC5jYW5jZWxhYmxlKSByZXR1cm47XG5cbiAgICB2YXIgX3RoaXMgPSB0aGlzLFxuICAgICAgICBlbCA9IHRoaXMuZWwsXG4gICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgIHByZXZlbnRPbkZpbHRlciA9IG9wdGlvbnMucHJldmVudE9uRmlsdGVyLFxuICAgICAgICB0eXBlID0gZXZ0LnR5cGUsXG4gICAgICAgIHRvdWNoID0gZXZ0LnRvdWNoZXMgJiYgZXZ0LnRvdWNoZXNbMF0sXG4gICAgICAgIHRhcmdldCA9ICh0b3VjaCB8fCBldnQpLnRhcmdldCxcbiAgICAgICAgb3JpZ2luYWxUYXJnZXQgPSBldnQudGFyZ2V0LnNoYWRvd1Jvb3QgJiYgKGV2dC5wYXRoICYmIGV2dC5wYXRoWzBdIHx8IGV2dC5jb21wb3NlZFBhdGggJiYgZXZ0LmNvbXBvc2VkUGF0aCgpWzBdKSB8fCB0YXJnZXQsXG4gICAgICAgIGZpbHRlciA9IG9wdGlvbnMuZmlsdGVyO1xuXG4gICAgX3NhdmVJbnB1dENoZWNrZWRTdGF0ZShlbCk7IC8vIERvbid0IHRyaWdnZXIgc3RhcnQgZXZlbnQgd2hlbiBhbiBlbGVtZW50IGlzIGJlZW4gZHJhZ2dlZCwgb3RoZXJ3aXNlIHRoZSBldnQub2xkaW5kZXggYWx3YXlzIHdyb25nIHdoZW4gc2V0IG9wdGlvbi5ncm91cC5cblxuXG4gICAgaWYgKGRyYWdFbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICgvbW91c2Vkb3dufHBvaW50ZXJkb3duLy50ZXN0KHR5cGUpICYmIGV2dC5idXR0b24gIT09IDAgfHwgb3B0aW9ucy5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuOyAvLyBvbmx5IGxlZnQgYnV0dG9uIGFuZCBlbmFibGVkXG4gICAgfSAvLyBjYW5jZWwgZG5kIGlmIG9yaWdpbmFsIHRhcmdldCBpcyBjb250ZW50IGVkaXRhYmxlXG5cblxuICAgIGlmIChvcmlnaW5hbFRhcmdldC5pc0NvbnRlbnRFZGl0YWJsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRhcmdldCA9IGNsb3Nlc3QodGFyZ2V0LCBvcHRpb25zLmRyYWdnYWJsZSwgZWwsIGZhbHNlKTtcblxuICAgIGlmICh0YXJnZXQgJiYgdGFyZ2V0LmFuaW1hdGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGxhc3REb3duRWwgPT09IHRhcmdldCkge1xuICAgICAgLy8gSWdub3JpbmcgZHVwbGljYXRlIGBkb3duYFxuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gR2V0IHRoZSBpbmRleCBvZiB0aGUgZHJhZ2dlZCBlbGVtZW50IHdpdGhpbiBpdHMgcGFyZW50XG5cblxuICAgIG9sZEluZGV4ID0gaW5kZXgodGFyZ2V0KTtcbiAgICBvbGREcmFnZ2FibGVJbmRleCA9IGluZGV4KHRhcmdldCwgb3B0aW9ucy5kcmFnZ2FibGUpOyAvLyBDaGVjayBmaWx0ZXJcblxuICAgIGlmICh0eXBlb2YgZmlsdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpZiAoZmlsdGVyLmNhbGwodGhpcywgZXZ0LCB0YXJnZXQsIHRoaXMpKSB7XG4gICAgICAgIF9kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICBzb3J0YWJsZTogX3RoaXMsXG4gICAgICAgICAgcm9vdEVsOiBvcmlnaW5hbFRhcmdldCxcbiAgICAgICAgICBuYW1lOiAnZmlsdGVyJyxcbiAgICAgICAgICB0YXJnZXRFbDogdGFyZ2V0LFxuICAgICAgICAgIHRvRWw6IGVsLFxuICAgICAgICAgIGZyb21FbDogZWxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcGx1Z2luRXZlbnQoJ2ZpbHRlcicsIF90aGlzLCB7XG4gICAgICAgICAgZXZ0OiBldnRcbiAgICAgICAgfSk7XG4gICAgICAgIHByZXZlbnRPbkZpbHRlciAmJiBldnQuY2FuY2VsYWJsZSAmJiBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuOyAvLyBjYW5jZWwgZG5kXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChmaWx0ZXIpIHtcbiAgICAgIGZpbHRlciA9IGZpbHRlci5zcGxpdCgnLCcpLnNvbWUoZnVuY3Rpb24gKGNyaXRlcmlhKSB7XG4gICAgICAgIGNyaXRlcmlhID0gY2xvc2VzdChvcmlnaW5hbFRhcmdldCwgY3JpdGVyaWEudHJpbSgpLCBlbCwgZmFsc2UpO1xuXG4gICAgICAgIGlmIChjcml0ZXJpYSkge1xuICAgICAgICAgIF9kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICAgIHNvcnRhYmxlOiBfdGhpcyxcbiAgICAgICAgICAgIHJvb3RFbDogY3JpdGVyaWEsXG4gICAgICAgICAgICBuYW1lOiAnZmlsdGVyJyxcbiAgICAgICAgICAgIHRhcmdldEVsOiB0YXJnZXQsXG4gICAgICAgICAgICBmcm9tRWw6IGVsLFxuICAgICAgICAgICAgdG9FbDogZWxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHBsdWdpbkV2ZW50KCdmaWx0ZXInLCBfdGhpcywge1xuICAgICAgICAgICAgZXZ0OiBldnRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChmaWx0ZXIpIHtcbiAgICAgICAgcHJldmVudE9uRmlsdGVyICYmIGV2dC5jYW5jZWxhYmxlICYmIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47IC8vIGNhbmNlbCBkbmRcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5oYW5kbGUgJiYgIWNsb3Nlc3Qob3JpZ2luYWxUYXJnZXQsIG9wdGlvbnMuaGFuZGxlLCBlbCwgZmFsc2UpKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBQcmVwYXJlIGBkcmFnc3RhcnRgXG5cblxuICAgIHRoaXMuX3ByZXBhcmVEcmFnU3RhcnQoZXZ0LCB0b3VjaCwgdGFyZ2V0KTtcbiAgfSxcbiAgX3ByZXBhcmVEcmFnU3RhcnQ6IGZ1bmN0aW9uIF9wcmVwYXJlRHJhZ1N0YXJ0KFxuICAvKiogRXZlbnQgKi9cbiAgZXZ0LFxuICAvKiogVG91Y2ggKi9cbiAgdG91Y2gsXG4gIC8qKiBIVE1MRWxlbWVudCAqL1xuICB0YXJnZXQpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzLFxuICAgICAgICBlbCA9IF90aGlzLmVsLFxuICAgICAgICBvcHRpb25zID0gX3RoaXMub3B0aW9ucyxcbiAgICAgICAgb3duZXJEb2N1bWVudCA9IGVsLm93bmVyRG9jdW1lbnQsXG4gICAgICAgIGRyYWdTdGFydEZuO1xuXG4gICAgaWYgKHRhcmdldCAmJiAhZHJhZ0VsICYmIHRhcmdldC5wYXJlbnROb2RlID09PSBlbCkge1xuICAgICAgcm9vdEVsID0gZWw7XG4gICAgICBkcmFnRWwgPSB0YXJnZXQ7XG4gICAgICBwYXJlbnRFbCA9IGRyYWdFbC5wYXJlbnROb2RlO1xuICAgICAgbmV4dEVsID0gZHJhZ0VsLm5leHRTaWJsaW5nO1xuICAgICAgbGFzdERvd25FbCA9IHRhcmdldDtcbiAgICAgIGFjdGl2ZUdyb3VwID0gb3B0aW9ucy5ncm91cDtcbiAgICAgIFNvcnRhYmxlLmRyYWdnZWQgPSBkcmFnRWw7XG4gICAgICB0YXBFdnQgPSB7XG4gICAgICAgIHRhcmdldDogZHJhZ0VsLFxuICAgICAgICBjbGllbnRYOiAodG91Y2ggfHwgZXZ0KS5jbGllbnRYLFxuICAgICAgICBjbGllbnRZOiAodG91Y2ggfHwgZXZ0KS5jbGllbnRZXG4gICAgICB9O1xuICAgICAgdGhpcy5fbGFzdFggPSAodG91Y2ggfHwgZXZ0KS5jbGllbnRYO1xuICAgICAgdGhpcy5fbGFzdFkgPSAodG91Y2ggfHwgZXZ0KS5jbGllbnRZO1xuICAgICAgZHJhZ0VsLnN0eWxlWyd3aWxsLWNoYW5nZSddID0gJ2FsbCc7XG5cbiAgICAgIGRyYWdTdGFydEZuID0gZnVuY3Rpb24gZHJhZ1N0YXJ0Rm4oKSB7XG4gICAgICAgIHBsdWdpbkV2ZW50KCdkZWxheUVuZGVkJywgX3RoaXMsIHtcbiAgICAgICAgICBldnQ6IGV2dFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoU29ydGFibGUuZXZlbnRDYW5jZWxlZCkge1xuICAgICAgICAgIF90aGlzLl9vbkRyb3AoKTtcblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSAvLyBEZWxheWVkIGRyYWcgaGFzIGJlZW4gdHJpZ2dlcmVkXG4gICAgICAgIC8vIHdlIGNhbiByZS1lbmFibGUgdGhlIGV2ZW50czogdG91Y2htb3ZlL21vdXNlbW92ZVxuXG5cbiAgICAgICAgX3RoaXMuX2Rpc2FibGVEZWxheWVkRHJhZ0V2ZW50cygpO1xuXG4gICAgICAgIGlmICghRmlyZUZveCAmJiBfdGhpcy5uYXRpdmVEcmFnZ2FibGUpIHtcbiAgICAgICAgICBkcmFnRWwuZHJhZ2dhYmxlID0gdHJ1ZTtcbiAgICAgICAgfSAvLyBCaW5kIHRoZSBldmVudHM6IGRyYWdzdGFydC9kcmFnZW5kXG5cblxuICAgICAgICBfdGhpcy5fdHJpZ2dlckRyYWdTdGFydChldnQsIHRvdWNoKTsgLy8gRHJhZyBzdGFydCBldmVudFxuXG5cbiAgICAgICAgX2Rpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgIHNvcnRhYmxlOiBfdGhpcyxcbiAgICAgICAgICBuYW1lOiAnY2hvb3NlJyxcbiAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldnRcbiAgICAgICAgfSk7IC8vIENob3NlbiBpdGVtXG5cblxuICAgICAgICB0b2dnbGVDbGFzcyhkcmFnRWwsIG9wdGlvbnMuY2hvc2VuQ2xhc3MsIHRydWUpO1xuICAgICAgfTsgLy8gRGlzYWJsZSBcImRyYWdnYWJsZVwiXG5cblxuICAgICAgb3B0aW9ucy5pZ25vcmUuc3BsaXQoJywnKS5mb3JFYWNoKGZ1bmN0aW9uIChjcml0ZXJpYSkge1xuICAgICAgICBmaW5kKGRyYWdFbCwgY3JpdGVyaWEudHJpbSgpLCBfZGlzYWJsZURyYWdnYWJsZSk7XG4gICAgICB9KTtcbiAgICAgIG9uKG93bmVyRG9jdW1lbnQsICdkcmFnb3ZlcicsIG5lYXJlc3RFbXB0eUluc2VydERldGVjdEV2ZW50KTtcbiAgICAgIG9uKG93bmVyRG9jdW1lbnQsICdtb3VzZW1vdmUnLCBuZWFyZXN0RW1wdHlJbnNlcnREZXRlY3RFdmVudCk7XG4gICAgICBvbihvd25lckRvY3VtZW50LCAndG91Y2htb3ZlJywgbmVhcmVzdEVtcHR5SW5zZXJ0RGV0ZWN0RXZlbnQpO1xuICAgICAgb24ob3duZXJEb2N1bWVudCwgJ21vdXNldXAnLCBfdGhpcy5fb25Ecm9wKTtcbiAgICAgIG9uKG93bmVyRG9jdW1lbnQsICd0b3VjaGVuZCcsIF90aGlzLl9vbkRyb3ApO1xuICAgICAgb24ob3duZXJEb2N1bWVudCwgJ3RvdWNoY2FuY2VsJywgX3RoaXMuX29uRHJvcCk7IC8vIE1ha2UgZHJhZ0VsIGRyYWdnYWJsZSAobXVzdCBiZSBiZWZvcmUgZGVsYXkgZm9yIEZpcmVGb3gpXG5cbiAgICAgIGlmIChGaXJlRm94ICYmIHRoaXMubmF0aXZlRHJhZ2dhYmxlKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy50b3VjaFN0YXJ0VGhyZXNob2xkID0gNDtcbiAgICAgICAgZHJhZ0VsLmRyYWdnYWJsZSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHBsdWdpbkV2ZW50KCdkZWxheVN0YXJ0JywgdGhpcywge1xuICAgICAgICBldnQ6IGV2dFxuICAgICAgfSk7IC8vIERlbGF5IGlzIGltcG9zc2libGUgZm9yIG5hdGl2ZSBEbkQgaW4gRWRnZSBvciBJRVxuXG4gICAgICBpZiAob3B0aW9ucy5kZWxheSAmJiAoIW9wdGlvbnMuZGVsYXlPblRvdWNoT25seSB8fCB0b3VjaCkgJiYgKCF0aGlzLm5hdGl2ZURyYWdnYWJsZSB8fCAhKEVkZ2UgfHwgSUUxMU9yTGVzcykpKSB7XG4gICAgICAgIGlmIChTb3J0YWJsZS5ldmVudENhbmNlbGVkKSB7XG4gICAgICAgICAgdGhpcy5fb25Ecm9wKCk7XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gLy8gSWYgdGhlIHVzZXIgbW92ZXMgdGhlIHBvaW50ZXIgb3IgbGV0IGdvIHRoZSBjbGljayBvciB0b3VjaFxuICAgICAgICAvLyBiZWZvcmUgdGhlIGRlbGF5IGhhcyBiZWVuIHJlYWNoZWQ6XG4gICAgICAgIC8vIGRpc2FibGUgdGhlIGRlbGF5ZWQgZHJhZ1xuXG5cbiAgICAgICAgb24ob3duZXJEb2N1bWVudCwgJ21vdXNldXAnLCBfdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcbiAgICAgICAgb24ob3duZXJEb2N1bWVudCwgJ3RvdWNoZW5kJywgX3RoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG4gICAgICAgIG9uKG93bmVyRG9jdW1lbnQsICd0b3VjaGNhbmNlbCcsIF90aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuICAgICAgICBvbihvd25lckRvY3VtZW50LCAnbW91c2Vtb3ZlJywgX3RoaXMuX2RlbGF5ZWREcmFnVG91Y2hNb3ZlSGFuZGxlcik7XG4gICAgICAgIG9uKG93bmVyRG9jdW1lbnQsICd0b3VjaG1vdmUnLCBfdGhpcy5fZGVsYXllZERyYWdUb3VjaE1vdmVIYW5kbGVyKTtcbiAgICAgICAgb3B0aW9ucy5zdXBwb3J0UG9pbnRlciAmJiBvbihvd25lckRvY3VtZW50LCAncG9pbnRlcm1vdmUnLCBfdGhpcy5fZGVsYXllZERyYWdUb3VjaE1vdmVIYW5kbGVyKTtcbiAgICAgICAgX3RoaXMuX2RyYWdTdGFydFRpbWVyID0gc2V0VGltZW91dChkcmFnU3RhcnRGbiwgb3B0aW9ucy5kZWxheSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkcmFnU3RhcnRGbigpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgX2RlbGF5ZWREcmFnVG91Y2hNb3ZlSGFuZGxlcjogZnVuY3Rpb24gX2RlbGF5ZWREcmFnVG91Y2hNb3ZlSGFuZGxlcihcbiAgLyoqIFRvdWNoRXZlbnR8UG9pbnRlckV2ZW50ICoqL1xuICBlKSB7XG4gICAgdmFyIHRvdWNoID0gZS50b3VjaGVzID8gZS50b3VjaGVzWzBdIDogZTtcblxuICAgIGlmIChNYXRoLm1heChNYXRoLmFicyh0b3VjaC5jbGllbnRYIC0gdGhpcy5fbGFzdFgpLCBNYXRoLmFicyh0b3VjaC5jbGllbnRZIC0gdGhpcy5fbGFzdFkpKSA+PSBNYXRoLmZsb29yKHRoaXMub3B0aW9ucy50b3VjaFN0YXJ0VGhyZXNob2xkIC8gKHRoaXMubmF0aXZlRHJhZ2dhYmxlICYmIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEpKSkge1xuICAgICAgdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKCk7XG4gICAgfVxuICB9LFxuICBfZGlzYWJsZURlbGF5ZWREcmFnOiBmdW5jdGlvbiBfZGlzYWJsZURlbGF5ZWREcmFnKCkge1xuICAgIGRyYWdFbCAmJiBfZGlzYWJsZURyYWdnYWJsZShkcmFnRWwpO1xuICAgIGNsZWFyVGltZW91dCh0aGlzLl9kcmFnU3RhcnRUaW1lcik7XG5cbiAgICB0aGlzLl9kaXNhYmxlRGVsYXllZERyYWdFdmVudHMoKTtcbiAgfSxcbiAgX2Rpc2FibGVEZWxheWVkRHJhZ0V2ZW50czogZnVuY3Rpb24gX2Rpc2FibGVEZWxheWVkRHJhZ0V2ZW50cygpIHtcbiAgICB2YXIgb3duZXJEb2N1bWVudCA9IHRoaXMuZWwub3duZXJEb2N1bWVudDtcbiAgICBvZmYob3duZXJEb2N1bWVudCwgJ21vdXNldXAnLCB0aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuICAgIG9mZihvd25lckRvY3VtZW50LCAndG91Y2hlbmQnLCB0aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuICAgIG9mZihvd25lckRvY3VtZW50LCAndG91Y2hjYW5jZWwnLCB0aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuICAgIG9mZihvd25lckRvY3VtZW50LCAnbW91c2Vtb3ZlJywgdGhpcy5fZGVsYXllZERyYWdUb3VjaE1vdmVIYW5kbGVyKTtcbiAgICBvZmYob3duZXJEb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX2RlbGF5ZWREcmFnVG91Y2hNb3ZlSGFuZGxlcik7XG4gICAgb2ZmKG93bmVyRG9jdW1lbnQsICdwb2ludGVybW92ZScsIHRoaXMuX2RlbGF5ZWREcmFnVG91Y2hNb3ZlSGFuZGxlcik7XG4gIH0sXG4gIF90cmlnZ2VyRHJhZ1N0YXJ0OiBmdW5jdGlvbiBfdHJpZ2dlckRyYWdTdGFydChcbiAgLyoqIEV2ZW50ICovXG4gIGV2dCxcbiAgLyoqIFRvdWNoICovXG4gIHRvdWNoKSB7XG4gICAgdG91Y2ggPSB0b3VjaCB8fCAoZXZ0LnBvaW50ZXJUeXBlID09ICd0b3VjaCcgPyBldnQgOiBudWxsKTtcblxuICAgIGlmICghdGhpcy5uYXRpdmVEcmFnZ2FibGUgfHwgdG91Y2gpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuc3VwcG9ydFBvaW50ZXIpIHtcbiAgICAgICAgb24oZG9jdW1lbnQsICdwb2ludGVybW92ZScsIHRoaXMuX29uVG91Y2hNb3ZlKTtcbiAgICAgIH0gZWxzZSBpZiAodG91Y2gpIHtcbiAgICAgICAgb24oZG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLl9vblRvdWNoTW92ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvbihkb2N1bWVudCwgJ21vdXNlbW92ZScsIHRoaXMuX29uVG91Y2hNb3ZlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgb24oZHJhZ0VsLCAnZHJhZ2VuZCcsIHRoaXMpO1xuICAgICAgb24ocm9vdEVsLCAnZHJhZ3N0YXJ0JywgdGhpcy5fb25EcmFnU3RhcnQpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBpZiAoZG9jdW1lbnQuc2VsZWN0aW9uKSB7XG4gICAgICAgIC8vIFRpbWVvdXQgbmVjY2Vzc2FyeSBmb3IgSUU5XG4gICAgICAgIF9uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZG9jdW1lbnQuc2VsZWN0aW9uLmVtcHR5KCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge31cbiAgfSxcbiAgX2RyYWdTdGFydGVkOiBmdW5jdGlvbiBfZHJhZ1N0YXJ0ZWQoZmFsbGJhY2ssIGV2dCkge1xuXG4gICAgYXdhaXRpbmdEcmFnU3RhcnRlZCA9IGZhbHNlO1xuXG4gICAgaWYgKHJvb3RFbCAmJiBkcmFnRWwpIHtcbiAgICAgIHBsdWdpbkV2ZW50KCdkcmFnU3RhcnRlZCcsIHRoaXMsIHtcbiAgICAgICAgZXZ0OiBldnRcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodGhpcy5uYXRpdmVEcmFnZ2FibGUpIHtcbiAgICAgICAgb24oZG9jdW1lbnQsICdkcmFnb3ZlcicsIF9jaGVja091dHNpZGVUYXJnZXRFbCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zOyAvLyBBcHBseSBlZmZlY3RcblxuICAgICAgIWZhbGxiYWNrICYmIHRvZ2dsZUNsYXNzKGRyYWdFbCwgb3B0aW9ucy5kcmFnQ2xhc3MsIGZhbHNlKTtcbiAgICAgIHRvZ2dsZUNsYXNzKGRyYWdFbCwgb3B0aW9ucy5naG9zdENsYXNzLCB0cnVlKTtcbiAgICAgIFNvcnRhYmxlLmFjdGl2ZSA9IHRoaXM7XG4gICAgICBmYWxsYmFjayAmJiB0aGlzLl9hcHBlbmRHaG9zdCgpOyAvLyBEcmFnIHN0YXJ0IGV2ZW50XG5cbiAgICAgIF9kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgc29ydGFibGU6IHRoaXMsXG4gICAgICAgIG5hbWU6ICdzdGFydCcsXG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2dFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX251bGxpbmcoKTtcbiAgICB9XG4gIH0sXG4gIF9lbXVsYXRlRHJhZ092ZXI6IGZ1bmN0aW9uIF9lbXVsYXRlRHJhZ092ZXIoKSB7XG4gICAgaWYgKHRvdWNoRXZ0KSB7XG4gICAgICB0aGlzLl9sYXN0WCA9IHRvdWNoRXZ0LmNsaWVudFg7XG4gICAgICB0aGlzLl9sYXN0WSA9IHRvdWNoRXZ0LmNsaWVudFk7XG5cbiAgICAgIF9oaWRlR2hvc3RGb3JUYXJnZXQoKTtcblxuICAgICAgdmFyIHRhcmdldCA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQodG91Y2hFdnQuY2xpZW50WCwgdG91Y2hFdnQuY2xpZW50WSk7XG4gICAgICB2YXIgcGFyZW50ID0gdGFyZ2V0O1xuXG4gICAgICB3aGlsZSAodGFyZ2V0ICYmIHRhcmdldC5zaGFkb3dSb290KSB7XG4gICAgICAgIHRhcmdldCA9IHRhcmdldC5zaGFkb3dSb290LmVsZW1lbnRGcm9tUG9pbnQodG91Y2hFdnQuY2xpZW50WCwgdG91Y2hFdnQuY2xpZW50WSk7XG4gICAgICAgIGlmICh0YXJnZXQgPT09IHBhcmVudCkgYnJlYWs7XG4gICAgICAgIHBhcmVudCA9IHRhcmdldDtcbiAgICAgIH1cblxuICAgICAgZHJhZ0VsLnBhcmVudE5vZGVbZXhwYW5kb10uX2lzT3V0c2lkZVRoaXNFbCh0YXJnZXQpO1xuXG4gICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICBpZiAocGFyZW50W2V4cGFuZG9dKSB7XG4gICAgICAgICAgICB2YXIgaW5zZXJ0ZWQgPSB2b2lkIDA7XG4gICAgICAgICAgICBpbnNlcnRlZCA9IHBhcmVudFtleHBhbmRvXS5fb25EcmFnT3Zlcih7XG4gICAgICAgICAgICAgIGNsaWVudFg6IHRvdWNoRXZ0LmNsaWVudFgsXG4gICAgICAgICAgICAgIGNsaWVudFk6IHRvdWNoRXZ0LmNsaWVudFksXG4gICAgICAgICAgICAgIHRhcmdldDogdGFyZ2V0LFxuICAgICAgICAgICAgICByb290RWw6IHBhcmVudFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChpbnNlcnRlZCAmJiAhdGhpcy5vcHRpb25zLmRyYWdvdmVyQnViYmxlKSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHRhcmdldCA9IHBhcmVudDsgLy8gc3RvcmUgbGFzdCBlbGVtZW50XG4gICAgICAgIH1cbiAgICAgICAgLyoganNoaW50IGJvc3M6dHJ1ZSAqL1xuICAgICAgICB3aGlsZSAocGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGUpO1xuICAgICAgfVxuXG4gICAgICBfdW5oaWRlR2hvc3RGb3JUYXJnZXQoKTtcbiAgICB9XG4gIH0sXG4gIF9vblRvdWNoTW92ZTogZnVuY3Rpb24gX29uVG91Y2hNb3ZlKFxuICAvKipUb3VjaEV2ZW50Ki9cbiAgZXZ0KSB7XG4gICAgaWYgKHRhcEV2dCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgZmFsbGJhY2tUb2xlcmFuY2UgPSBvcHRpb25zLmZhbGxiYWNrVG9sZXJhbmNlLFxuICAgICAgICAgIGZhbGxiYWNrT2Zmc2V0ID0gb3B0aW9ucy5mYWxsYmFja09mZnNldCxcbiAgICAgICAgICB0b3VjaCA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0gOiBldnQsXG4gICAgICAgICAgZ2hvc3RNYXRyaXggPSBnaG9zdEVsICYmIG1hdHJpeChnaG9zdEVsKSxcbiAgICAgICAgICBzY2FsZVggPSBnaG9zdEVsICYmIGdob3N0TWF0cml4ICYmIGdob3N0TWF0cml4LmEsXG4gICAgICAgICAgc2NhbGVZID0gZ2hvc3RFbCAmJiBnaG9zdE1hdHJpeCAmJiBnaG9zdE1hdHJpeC5kLFxuICAgICAgICAgIHJlbGF0aXZlU2Nyb2xsT2Zmc2V0ID0gUG9zaXRpb25HaG9zdEFic29sdXRlbHkgJiYgZ2hvc3RSZWxhdGl2ZVBhcmVudCAmJiBnZXRSZWxhdGl2ZVNjcm9sbE9mZnNldChnaG9zdFJlbGF0aXZlUGFyZW50KSxcbiAgICAgICAgICBkeCA9ICh0b3VjaC5jbGllbnRYIC0gdGFwRXZ0LmNsaWVudFggKyBmYWxsYmFja09mZnNldC54KSAvIChzY2FsZVggfHwgMSkgKyAocmVsYXRpdmVTY3JvbGxPZmZzZXQgPyByZWxhdGl2ZVNjcm9sbE9mZnNldFswXSAtIGdob3N0UmVsYXRpdmVQYXJlbnRJbml0aWFsU2Nyb2xsWzBdIDogMCkgLyAoc2NhbGVYIHx8IDEpLFxuICAgICAgICAgIGR5ID0gKHRvdWNoLmNsaWVudFkgLSB0YXBFdnQuY2xpZW50WSArIGZhbGxiYWNrT2Zmc2V0LnkpIC8gKHNjYWxlWSB8fCAxKSArIChyZWxhdGl2ZVNjcm9sbE9mZnNldCA/IHJlbGF0aXZlU2Nyb2xsT2Zmc2V0WzFdIC0gZ2hvc3RSZWxhdGl2ZVBhcmVudEluaXRpYWxTY3JvbGxbMV0gOiAwKSAvIChzY2FsZVkgfHwgMSksXG4gICAgICAgICAgdHJhbnNsYXRlM2QgPSBldnQudG91Y2hlcyA/ICd0cmFuc2xhdGUzZCgnICsgZHggKyAncHgsJyArIGR5ICsgJ3B4LDApJyA6ICd0cmFuc2xhdGUoJyArIGR4ICsgJ3B4LCcgKyBkeSArICdweCknOyAvLyBvbmx5IHNldCB0aGUgc3RhdHVzIHRvIGRyYWdnaW5nLCB3aGVuIHdlIGFyZSBhY3R1YWxseSBkcmFnZ2luZ1xuXG4gICAgICBpZiAoIVNvcnRhYmxlLmFjdGl2ZSAmJiAhYXdhaXRpbmdEcmFnU3RhcnRlZCkge1xuICAgICAgICBpZiAoZmFsbGJhY2tUb2xlcmFuY2UgJiYgTWF0aC5tYXgoTWF0aC5hYnModG91Y2guY2xpZW50WCAtIHRoaXMuX2xhc3RYKSwgTWF0aC5hYnModG91Y2guY2xpZW50WSAtIHRoaXMuX2xhc3RZKSkgPCBmYWxsYmFja1RvbGVyYW5jZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX29uRHJhZ1N0YXJ0KGV2dCwgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIHRvdWNoRXZ0ID0gdG91Y2g7XG4gICAgICBjc3MoZ2hvc3RFbCwgJ3dlYmtpdFRyYW5zZm9ybScsIHRyYW5zbGF0ZTNkKTtcbiAgICAgIGNzcyhnaG9zdEVsLCAnbW96VHJhbnNmb3JtJywgdHJhbnNsYXRlM2QpO1xuICAgICAgY3NzKGdob3N0RWwsICdtc1RyYW5zZm9ybScsIHRyYW5zbGF0ZTNkKTtcbiAgICAgIGNzcyhnaG9zdEVsLCAndHJhbnNmb3JtJywgdHJhbnNsYXRlM2QpO1xuICAgICAgZXZ0LmNhbmNlbGFibGUgJiYgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9LFxuICBfYXBwZW5kR2hvc3Q6IGZ1bmN0aW9uIF9hcHBlbmRHaG9zdCgpIHtcbiAgICAvLyBCdWcgaWYgdXNpbmcgc2NhbGUoKTogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjYzNzA1OFxuICAgIC8vIE5vdCBiZWluZyBhZGp1c3RlZCBmb3JcbiAgICBpZiAoIWdob3N0RWwpIHtcbiAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLm9wdGlvbnMuZmFsbGJhY2tPbkJvZHkgPyBkb2N1bWVudC5ib2R5IDogcm9vdEVsLFxuICAgICAgICAgIHJlY3QgPSBnZXRSZWN0KGRyYWdFbCwgdHJ1ZSwgUG9zaXRpb25HaG9zdEFic29sdXRlbHksIHRydWUsIGNvbnRhaW5lciksXG4gICAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9uczsgLy8gUG9zaXRpb24gYWJzb2x1dGVseVxuXG4gICAgICBpZiAoUG9zaXRpb25HaG9zdEFic29sdXRlbHkpIHtcbiAgICAgICAgLy8gR2V0IHJlbGF0aXZlbHkgcG9zaXRpb25lZCBwYXJlbnRcbiAgICAgICAgZ2hvc3RSZWxhdGl2ZVBhcmVudCA9IGNvbnRhaW5lcjtcblxuICAgICAgICB3aGlsZSAoY3NzKGdob3N0UmVsYXRpdmVQYXJlbnQsICdwb3NpdGlvbicpID09PSAnc3RhdGljJyAmJiBjc3MoZ2hvc3RSZWxhdGl2ZVBhcmVudCwgJ3RyYW5zZm9ybScpID09PSAnbm9uZScgJiYgZ2hvc3RSZWxhdGl2ZVBhcmVudCAhPT0gZG9jdW1lbnQpIHtcbiAgICAgICAgICBnaG9zdFJlbGF0aXZlUGFyZW50ID0gZ2hvc3RSZWxhdGl2ZVBhcmVudC5wYXJlbnROb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdob3N0UmVsYXRpdmVQYXJlbnQgIT09IGRvY3VtZW50LmJvZHkgJiYgZ2hvc3RSZWxhdGl2ZVBhcmVudCAhPT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgICAgICAgaWYgKGdob3N0UmVsYXRpdmVQYXJlbnQgPT09IGRvY3VtZW50KSBnaG9zdFJlbGF0aXZlUGFyZW50ID0gZ2V0V2luZG93U2Nyb2xsaW5nRWxlbWVudCgpO1xuICAgICAgICAgIHJlY3QudG9wICs9IGdob3N0UmVsYXRpdmVQYXJlbnQuc2Nyb2xsVG9wO1xuICAgICAgICAgIHJlY3QubGVmdCArPSBnaG9zdFJlbGF0aXZlUGFyZW50LnNjcm9sbExlZnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZ2hvc3RSZWxhdGl2ZVBhcmVudCA9IGdldFdpbmRvd1Njcm9sbGluZ0VsZW1lbnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdob3N0UmVsYXRpdmVQYXJlbnRJbml0aWFsU2Nyb2xsID0gZ2V0UmVsYXRpdmVTY3JvbGxPZmZzZXQoZ2hvc3RSZWxhdGl2ZVBhcmVudCk7XG4gICAgICB9XG5cbiAgICAgIGdob3N0RWwgPSBkcmFnRWwuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgdG9nZ2xlQ2xhc3MoZ2hvc3RFbCwgb3B0aW9ucy5naG9zdENsYXNzLCBmYWxzZSk7XG4gICAgICB0b2dnbGVDbGFzcyhnaG9zdEVsLCBvcHRpb25zLmZhbGxiYWNrQ2xhc3MsIHRydWUpO1xuICAgICAgdG9nZ2xlQ2xhc3MoZ2hvc3RFbCwgb3B0aW9ucy5kcmFnQ2xhc3MsIHRydWUpO1xuICAgICAgY3NzKGdob3N0RWwsICd0cmFuc2l0aW9uJywgJycpO1xuICAgICAgY3NzKGdob3N0RWwsICd0cmFuc2Zvcm0nLCAnJyk7XG4gICAgICBjc3MoZ2hvc3RFbCwgJ2JveC1zaXppbmcnLCAnYm9yZGVyLWJveCcpO1xuICAgICAgY3NzKGdob3N0RWwsICdtYXJnaW4nLCAwKTtcbiAgICAgIGNzcyhnaG9zdEVsLCAndG9wJywgcmVjdC50b3ApO1xuICAgICAgY3NzKGdob3N0RWwsICdsZWZ0JywgcmVjdC5sZWZ0KTtcbiAgICAgIGNzcyhnaG9zdEVsLCAnd2lkdGgnLCByZWN0LndpZHRoKTtcbiAgICAgIGNzcyhnaG9zdEVsLCAnaGVpZ2h0JywgcmVjdC5oZWlnaHQpO1xuICAgICAgY3NzKGdob3N0RWwsICdvcGFjaXR5JywgJzAuOCcpO1xuICAgICAgY3NzKGdob3N0RWwsICdwb3NpdGlvbicsIFBvc2l0aW9uR2hvc3RBYnNvbHV0ZWx5ID8gJ2Fic29sdXRlJyA6ICdmaXhlZCcpO1xuICAgICAgY3NzKGdob3N0RWwsICd6SW5kZXgnLCAnMTAwMDAwJyk7XG4gICAgICBjc3MoZ2hvc3RFbCwgJ3BvaW50ZXJFdmVudHMnLCAnbm9uZScpO1xuICAgICAgU29ydGFibGUuZ2hvc3QgPSBnaG9zdEVsO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGdob3N0RWwpO1xuICAgIH1cbiAgfSxcbiAgX29uRHJhZ1N0YXJ0OiBmdW5jdGlvbiBfb25EcmFnU3RhcnQoXG4gIC8qKkV2ZW50Ki9cbiAgZXZ0LFxuICAvKipib29sZWFuKi9cbiAgZmFsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIGRhdGFUcmFuc2ZlciA9IGV2dC5kYXRhVHJhbnNmZXI7XG4gICAgdmFyIG9wdGlvbnMgPSBfdGhpcy5vcHRpb25zO1xuICAgIHBsdWdpbkV2ZW50KCdkcmFnU3RhcnQnLCB0aGlzLCB7XG4gICAgICBldnQ6IGV2dFxuICAgIH0pO1xuXG4gICAgaWYgKFNvcnRhYmxlLmV2ZW50Q2FuY2VsZWQpIHtcbiAgICAgIHRoaXMuX29uRHJvcCgpO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcGx1Z2luRXZlbnQoJ3NldHVwQ2xvbmUnLCB0aGlzKTtcblxuICAgIGlmICghU29ydGFibGUuZXZlbnRDYW5jZWxlZCkge1xuICAgICAgY2xvbmVFbCA9IGNsb25lKGRyYWdFbCk7XG4gICAgICBjbG9uZUVsLmRyYWdnYWJsZSA9IGZhbHNlO1xuICAgICAgY2xvbmVFbC5zdHlsZVsnd2lsbC1jaGFuZ2UnXSA9ICcnO1xuXG4gICAgICB0aGlzLl9oaWRlQ2xvbmUoKTtcblxuICAgICAgdG9nZ2xlQ2xhc3MoY2xvbmVFbCwgdGhpcy5vcHRpb25zLmNob3NlbkNsYXNzLCBmYWxzZSk7XG4gICAgICBTb3J0YWJsZS5jbG9uZSA9IGNsb25lRWw7XG4gICAgfSAvLyAjMTE0MzogSUZyYW1lIHN1cHBvcnQgd29ya2Fyb3VuZFxuXG5cbiAgICBfdGhpcy5jbG9uZUlkID0gX25leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgIHBsdWdpbkV2ZW50KCdjbG9uZScsIF90aGlzKTtcbiAgICAgIGlmIChTb3J0YWJsZS5ldmVudENhbmNlbGVkKSByZXR1cm47XG5cbiAgICAgIGlmICghX3RoaXMub3B0aW9ucy5yZW1vdmVDbG9uZU9uSGlkZSkge1xuICAgICAgICByb290RWwuaW5zZXJ0QmVmb3JlKGNsb25lRWwsIGRyYWdFbCk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLl9oaWRlQ2xvbmUoKTtcblxuICAgICAgX2Rpc3BhdGNoRXZlbnQoe1xuICAgICAgICBzb3J0YWJsZTogX3RoaXMsXG4gICAgICAgIG5hbWU6ICdjbG9uZSdcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgICFmYWxsYmFjayAmJiB0b2dnbGVDbGFzcyhkcmFnRWwsIG9wdGlvbnMuZHJhZ0NsYXNzLCB0cnVlKTsgLy8gU2V0IHByb3BlciBkcm9wIGV2ZW50c1xuXG4gICAgaWYgKGZhbGxiYWNrKSB7XG4gICAgICBpZ25vcmVOZXh0Q2xpY2sgPSB0cnVlO1xuICAgICAgX3RoaXMuX2xvb3BJZCA9IHNldEludGVydmFsKF90aGlzLl9lbXVsYXRlRHJhZ092ZXIsIDUwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVW5kbyB3aGF0IHdhcyBzZXQgaW4gX3ByZXBhcmVEcmFnU3RhcnQgYmVmb3JlIGRyYWcgc3RhcnRlZFxuICAgICAgb2ZmKGRvY3VtZW50LCAnbW91c2V1cCcsIF90aGlzLl9vbkRyb3ApO1xuICAgICAgb2ZmKGRvY3VtZW50LCAndG91Y2hlbmQnLCBfdGhpcy5fb25Ecm9wKTtcbiAgICAgIG9mZihkb2N1bWVudCwgJ3RvdWNoY2FuY2VsJywgX3RoaXMuX29uRHJvcCk7XG5cbiAgICAgIGlmIChkYXRhVHJhbnNmZXIpIHtcbiAgICAgICAgZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSAnbW92ZSc7XG4gICAgICAgIG9wdGlvbnMuc2V0RGF0YSAmJiBvcHRpb25zLnNldERhdGEuY2FsbChfdGhpcywgZGF0YVRyYW5zZmVyLCBkcmFnRWwpO1xuICAgICAgfVxuXG4gICAgICBvbihkb2N1bWVudCwgJ2Ryb3AnLCBfdGhpcyk7IC8vICMxMjc2IGZpeDpcblxuICAgICAgY3NzKGRyYWdFbCwgJ3RyYW5zZm9ybScsICd0cmFuc2xhdGVaKDApJyk7XG4gICAgfVxuXG4gICAgYXdhaXRpbmdEcmFnU3RhcnRlZCA9IHRydWU7XG4gICAgX3RoaXMuX2RyYWdTdGFydElkID0gX25leHRUaWNrKF90aGlzLl9kcmFnU3RhcnRlZC5iaW5kKF90aGlzLCBmYWxsYmFjaywgZXZ0KSk7XG4gICAgb24oZG9jdW1lbnQsICdzZWxlY3RzdGFydCcsIF90aGlzKTtcbiAgICBtb3ZlZCA9IHRydWU7XG5cbiAgICBpZiAoU2FmYXJpKSB7XG4gICAgICBjc3MoZG9jdW1lbnQuYm9keSwgJ3VzZXItc2VsZWN0JywgJ25vbmUnKTtcbiAgICB9XG4gIH0sXG4gIC8vIFJldHVybnMgdHJ1ZSAtIGlmIG5vIGZ1cnRoZXIgYWN0aW9uIGlzIG5lZWRlZCAoZWl0aGVyIGluc2VydGVkIG9yIGFub3RoZXIgY29uZGl0aW9uKVxuICBfb25EcmFnT3ZlcjogZnVuY3Rpb24gX29uRHJhZ092ZXIoXG4gIC8qKkV2ZW50Ki9cbiAgZXZ0KSB7XG4gICAgdmFyIGVsID0gdGhpcy5lbCxcbiAgICAgICAgdGFyZ2V0ID0gZXZ0LnRhcmdldCxcbiAgICAgICAgZHJhZ1JlY3QsXG4gICAgICAgIHRhcmdldFJlY3QsXG4gICAgICAgIHJldmVydCxcbiAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgZ3JvdXAgPSBvcHRpb25zLmdyb3VwLFxuICAgICAgICBhY3RpdmVTb3J0YWJsZSA9IFNvcnRhYmxlLmFjdGl2ZSxcbiAgICAgICAgaXNPd25lciA9IGFjdGl2ZUdyb3VwID09PSBncm91cCxcbiAgICAgICAgY2FuU29ydCA9IG9wdGlvbnMuc29ydCxcbiAgICAgICAgZnJvbVNvcnRhYmxlID0gcHV0U29ydGFibGUgfHwgYWN0aXZlU29ydGFibGUsXG4gICAgICAgIHZlcnRpY2FsLFxuICAgICAgICBfdGhpcyA9IHRoaXMsXG4gICAgICAgIGNvbXBsZXRlZEZpcmVkID0gZmFsc2U7XG5cbiAgICBpZiAoX3NpbGVudCkgcmV0dXJuO1xuXG4gICAgZnVuY3Rpb24gZHJhZ092ZXJFdmVudChuYW1lLCBleHRyYSkge1xuICAgICAgcGx1Z2luRXZlbnQobmFtZSwgX3RoaXMsIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICBldnQ6IGV2dCxcbiAgICAgICAgaXNPd25lcjogaXNPd25lcixcbiAgICAgICAgYXhpczogdmVydGljYWwgPyAndmVydGljYWwnIDogJ2hvcml6b250YWwnLFxuICAgICAgICByZXZlcnQ6IHJldmVydCxcbiAgICAgICAgZHJhZ1JlY3Q6IGRyYWdSZWN0LFxuICAgICAgICB0YXJnZXRSZWN0OiB0YXJnZXRSZWN0LFxuICAgICAgICBjYW5Tb3J0OiBjYW5Tb3J0LFxuICAgICAgICBmcm9tU29ydGFibGU6IGZyb21Tb3J0YWJsZSxcbiAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICAgIGNvbXBsZXRlZDogY29tcGxldGVkLFxuICAgICAgICBvbk1vdmU6IGZ1bmN0aW9uIG9uTW92ZSh0YXJnZXQsIGFmdGVyKSB7XG4gICAgICAgICAgcmV0dXJuIF9vbk1vdmUocm9vdEVsLCBlbCwgZHJhZ0VsLCBkcmFnUmVjdCwgdGFyZ2V0LCBnZXRSZWN0KHRhcmdldCksIGV2dCwgYWZ0ZXIpO1xuICAgICAgICB9LFxuICAgICAgICBjaGFuZ2VkOiBjaGFuZ2VkXG4gICAgICB9LCBleHRyYSkpO1xuICAgIH0gLy8gQ2FwdHVyZSBhbmltYXRpb24gc3RhdGVcblxuXG4gICAgZnVuY3Rpb24gY2FwdHVyZSgpIHtcbiAgICAgIGRyYWdPdmVyRXZlbnQoJ2RyYWdPdmVyQW5pbWF0aW9uQ2FwdHVyZScpO1xuXG4gICAgICBfdGhpcy5jYXB0dXJlQW5pbWF0aW9uU3RhdGUoKTtcblxuICAgICAgaWYgKF90aGlzICE9PSBmcm9tU29ydGFibGUpIHtcbiAgICAgICAgZnJvbVNvcnRhYmxlLmNhcHR1cmVBbmltYXRpb25TdGF0ZSgpO1xuICAgICAgfVxuICAgIH0gLy8gUmV0dXJuIGludm9jYXRpb24gd2hlbiBkcmFnRWwgaXMgaW5zZXJ0ZWQgKG9yIGNvbXBsZXRlZClcblxuXG4gICAgZnVuY3Rpb24gY29tcGxldGVkKGluc2VydGlvbikge1xuICAgICAgZHJhZ092ZXJFdmVudCgnZHJhZ092ZXJDb21wbGV0ZWQnLCB7XG4gICAgICAgIGluc2VydGlvbjogaW5zZXJ0aW9uXG4gICAgICB9KTtcblxuICAgICAgaWYgKGluc2VydGlvbikge1xuICAgICAgICAvLyBDbG9uZXMgbXVzdCBiZSBoaWRkZW4gYmVmb3JlIGZvbGRpbmcgYW5pbWF0aW9uIHRvIGNhcHR1cmUgZHJhZ1JlY3RBYnNvbHV0ZSBwcm9wZXJseVxuICAgICAgICBpZiAoaXNPd25lcikge1xuICAgICAgICAgIGFjdGl2ZVNvcnRhYmxlLl9oaWRlQ2xvbmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhY3RpdmVTb3J0YWJsZS5fc2hvd0Nsb25lKF90aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfdGhpcyAhPT0gZnJvbVNvcnRhYmxlKSB7XG4gICAgICAgICAgLy8gU2V0IGdob3N0IGNsYXNzIHRvIG5ldyBzb3J0YWJsZSdzIGdob3N0IGNsYXNzXG4gICAgICAgICAgdG9nZ2xlQ2xhc3MoZHJhZ0VsLCBwdXRTb3J0YWJsZSA/IHB1dFNvcnRhYmxlLm9wdGlvbnMuZ2hvc3RDbGFzcyA6IGFjdGl2ZVNvcnRhYmxlLm9wdGlvbnMuZ2hvc3RDbGFzcywgZmFsc2UpO1xuICAgICAgICAgIHRvZ2dsZUNsYXNzKGRyYWdFbCwgb3B0aW9ucy5naG9zdENsYXNzLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwdXRTb3J0YWJsZSAhPT0gX3RoaXMgJiYgX3RoaXMgIT09IFNvcnRhYmxlLmFjdGl2ZSkge1xuICAgICAgICAgIHB1dFNvcnRhYmxlID0gX3RoaXM7XG4gICAgICAgIH0gZWxzZSBpZiAoX3RoaXMgPT09IFNvcnRhYmxlLmFjdGl2ZSAmJiBwdXRTb3J0YWJsZSkge1xuICAgICAgICAgIHB1dFNvcnRhYmxlID0gbnVsbDtcbiAgICAgICAgfSAvLyBBbmltYXRpb25cblxuXG4gICAgICAgIGlmIChmcm9tU29ydGFibGUgPT09IF90aGlzKSB7XG4gICAgICAgICAgX3RoaXMuX2lnbm9yZVdoaWxlQW5pbWF0aW5nID0gdGFyZ2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuYW5pbWF0ZUFsbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZHJhZ092ZXJFdmVudCgnZHJhZ092ZXJBbmltYXRpb25Db21wbGV0ZScpO1xuICAgICAgICAgIF90aGlzLl9pZ25vcmVXaGlsZUFuaW1hdGluZyA9IG51bGw7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChfdGhpcyAhPT0gZnJvbVNvcnRhYmxlKSB7XG4gICAgICAgICAgZnJvbVNvcnRhYmxlLmFuaW1hdGVBbGwoKTtcbiAgICAgICAgICBmcm9tU29ydGFibGUuX2lnbm9yZVdoaWxlQW5pbWF0aW5nID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSAvLyBOdWxsIGxhc3RUYXJnZXQgaWYgaXQgaXMgbm90IGluc2lkZSBhIHByZXZpb3VzbHkgc3dhcHBlZCBlbGVtZW50XG5cblxuICAgICAgaWYgKHRhcmdldCA9PT0gZHJhZ0VsICYmICFkcmFnRWwuYW5pbWF0ZWQgfHwgdGFyZ2V0ID09PSBlbCAmJiAhdGFyZ2V0LmFuaW1hdGVkKSB7XG4gICAgICAgIGxhc3RUYXJnZXQgPSBudWxsO1xuICAgICAgfSAvLyBubyBidWJibGluZyBhbmQgbm90IGZhbGxiYWNrXG5cblxuICAgICAgaWYgKCFvcHRpb25zLmRyYWdvdmVyQnViYmxlICYmICFldnQucm9vdEVsICYmIHRhcmdldCAhPT0gZG9jdW1lbnQpIHtcbiAgICAgICAgZHJhZ0VsLnBhcmVudE5vZGVbZXhwYW5kb10uX2lzT3V0c2lkZVRoaXNFbChldnQudGFyZ2V0KTsgLy8gRG8gbm90IGRldGVjdCBmb3IgZW1wdHkgaW5zZXJ0IGlmIGFscmVhZHkgaW5zZXJ0ZWRcblxuXG4gICAgICAgICFpbnNlcnRpb24gJiYgbmVhcmVzdEVtcHR5SW5zZXJ0RGV0ZWN0RXZlbnQoZXZ0KTtcbiAgICAgIH1cblxuICAgICAgIW9wdGlvbnMuZHJhZ292ZXJCdWJibGUgJiYgZXZ0LnN0b3BQcm9wYWdhdGlvbiAmJiBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICByZXR1cm4gY29tcGxldGVkRmlyZWQgPSB0cnVlO1xuICAgIH0gLy8gQ2FsbCB3aGVuIGRyYWdFbCBoYXMgYmVlbiBpbnNlcnRlZFxuXG5cbiAgICBmdW5jdGlvbiBjaGFuZ2VkKCkge1xuICAgICAgbmV3SW5kZXggPSBpbmRleChkcmFnRWwpO1xuICAgICAgbmV3RHJhZ2dhYmxlSW5kZXggPSBpbmRleChkcmFnRWwsIG9wdGlvbnMuZHJhZ2dhYmxlKTtcblxuICAgICAgX2Rpc3BhdGNoRXZlbnQoe1xuICAgICAgICBzb3J0YWJsZTogX3RoaXMsXG4gICAgICAgIG5hbWU6ICdjaGFuZ2UnLFxuICAgICAgICB0b0VsOiBlbCxcbiAgICAgICAgbmV3SW5kZXg6IG5ld0luZGV4LFxuICAgICAgICBuZXdEcmFnZ2FibGVJbmRleDogbmV3RHJhZ2dhYmxlSW5kZXgsXG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2dFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGV2dC5wcmV2ZW50RGVmYXVsdCAhPT0gdm9pZCAwKSB7XG4gICAgICBldnQuY2FuY2VsYWJsZSAmJiBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICB0YXJnZXQgPSBjbG9zZXN0KHRhcmdldCwgb3B0aW9ucy5kcmFnZ2FibGUsIGVsLCB0cnVlKTtcbiAgICBkcmFnT3ZlckV2ZW50KCdkcmFnT3ZlcicpO1xuICAgIGlmIChTb3J0YWJsZS5ldmVudENhbmNlbGVkKSByZXR1cm4gY29tcGxldGVkRmlyZWQ7XG5cbiAgICBpZiAoZHJhZ0VsLmNvbnRhaW5zKGV2dC50YXJnZXQpIHx8IHRhcmdldC5hbmltYXRlZCAmJiB0YXJnZXQuYW5pbWF0aW5nWCAmJiB0YXJnZXQuYW5pbWF0aW5nWSB8fCBfdGhpcy5faWdub3JlV2hpbGVBbmltYXRpbmcgPT09IHRhcmdldCkge1xuICAgICAgcmV0dXJuIGNvbXBsZXRlZChmYWxzZSk7XG4gICAgfVxuXG4gICAgaWdub3JlTmV4dENsaWNrID0gZmFsc2U7XG5cbiAgICBpZiAoYWN0aXZlU29ydGFibGUgJiYgIW9wdGlvbnMuZGlzYWJsZWQgJiYgKGlzT3duZXIgPyBjYW5Tb3J0IHx8IChyZXZlcnQgPSAhcm9vdEVsLmNvbnRhaW5zKGRyYWdFbCkpIC8vIFJldmVydGluZyBpdGVtIGludG8gdGhlIG9yaWdpbmFsIGxpc3RcbiAgICA6IHB1dFNvcnRhYmxlID09PSB0aGlzIHx8ICh0aGlzLmxhc3RQdXRNb2RlID0gYWN0aXZlR3JvdXAuY2hlY2tQdWxsKHRoaXMsIGFjdGl2ZVNvcnRhYmxlLCBkcmFnRWwsIGV2dCkpICYmIGdyb3VwLmNoZWNrUHV0KHRoaXMsIGFjdGl2ZVNvcnRhYmxlLCBkcmFnRWwsIGV2dCkpKSB7XG4gICAgICB2ZXJ0aWNhbCA9IHRoaXMuX2dldERpcmVjdGlvbihldnQsIHRhcmdldCkgPT09ICd2ZXJ0aWNhbCc7XG4gICAgICBkcmFnUmVjdCA9IGdldFJlY3QoZHJhZ0VsKTtcbiAgICAgIGRyYWdPdmVyRXZlbnQoJ2RyYWdPdmVyVmFsaWQnKTtcbiAgICAgIGlmIChTb3J0YWJsZS5ldmVudENhbmNlbGVkKSByZXR1cm4gY29tcGxldGVkRmlyZWQ7XG5cbiAgICAgIGlmIChyZXZlcnQpIHtcbiAgICAgICAgcGFyZW50RWwgPSByb290RWw7IC8vIGFjdHVhbGl6YXRpb25cblxuICAgICAgICBjYXB0dXJlKCk7XG5cbiAgICAgICAgdGhpcy5faGlkZUNsb25lKCk7XG5cbiAgICAgICAgZHJhZ092ZXJFdmVudCgncmV2ZXJ0Jyk7XG5cbiAgICAgICAgaWYgKCFTb3J0YWJsZS5ldmVudENhbmNlbGVkKSB7XG4gICAgICAgICAgaWYgKG5leHRFbCkge1xuICAgICAgICAgICAgcm9vdEVsLmluc2VydEJlZm9yZShkcmFnRWwsIG5leHRFbCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJvb3RFbC5hcHBlbmRDaGlsZChkcmFnRWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb21wbGV0ZWQodHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBlbExhc3RDaGlsZCA9IGxhc3RDaGlsZChlbCwgb3B0aW9ucy5kcmFnZ2FibGUpO1xuXG4gICAgICBpZiAoIWVsTGFzdENoaWxkIHx8IF9naG9zdElzTGFzdChldnQsIHZlcnRpY2FsLCB0aGlzKSAmJiAhZWxMYXN0Q2hpbGQuYW5pbWF0ZWQpIHtcbiAgICAgICAgLy8gSWYgYWxyZWFkeSBhdCBlbmQgb2YgbGlzdDogRG8gbm90IGluc2VydFxuICAgICAgICBpZiAoZWxMYXN0Q2hpbGQgPT09IGRyYWdFbCkge1xuICAgICAgICAgIHJldHVybiBjb21wbGV0ZWQoZmFsc2UpO1xuICAgICAgICB9IC8vIGFzc2lnbiB0YXJnZXQgb25seSBpZiBjb25kaXRpb24gaXMgdHJ1ZVxuXG5cbiAgICAgICAgaWYgKGVsTGFzdENoaWxkICYmIGVsID09PSBldnQudGFyZ2V0KSB7XG4gICAgICAgICAgdGFyZ2V0ID0gZWxMYXN0Q2hpbGQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgdGFyZ2V0UmVjdCA9IGdldFJlY3QodGFyZ2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfb25Nb3ZlKHJvb3RFbCwgZWwsIGRyYWdFbCwgZHJhZ1JlY3QsIHRhcmdldCwgdGFyZ2V0UmVjdCwgZXZ0LCAhIXRhcmdldCkgIT09IGZhbHNlKSB7XG4gICAgICAgICAgY2FwdHVyZSgpO1xuICAgICAgICAgIGVsLmFwcGVuZENoaWxkKGRyYWdFbCk7XG4gICAgICAgICAgcGFyZW50RWwgPSBlbDsgLy8gYWN0dWFsaXphdGlvblxuXG4gICAgICAgICAgY2hhbmdlZCgpO1xuICAgICAgICAgIHJldHVybiBjb21wbGV0ZWQodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGFyZ2V0LnBhcmVudE5vZGUgPT09IGVsKSB7XG4gICAgICAgIHRhcmdldFJlY3QgPSBnZXRSZWN0KHRhcmdldCk7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSAwLFxuICAgICAgICAgICAgdGFyZ2V0QmVmb3JlRmlyc3RTd2FwLFxuICAgICAgICAgICAgZGlmZmVyZW50TGV2ZWwgPSBkcmFnRWwucGFyZW50Tm9kZSAhPT0gZWwsXG4gICAgICAgICAgICBkaWZmZXJlbnRSb3dDb2wgPSAhX2RyYWdFbEluUm93Q29sdW1uKGRyYWdFbC5hbmltYXRlZCAmJiBkcmFnRWwudG9SZWN0IHx8IGRyYWdSZWN0LCB0YXJnZXQuYW5pbWF0ZWQgJiYgdGFyZ2V0LnRvUmVjdCB8fCB0YXJnZXRSZWN0LCB2ZXJ0aWNhbCksXG4gICAgICAgICAgICBzaWRlMSA9IHZlcnRpY2FsID8gJ3RvcCcgOiAnbGVmdCcsXG4gICAgICAgICAgICBzY3JvbGxlZFBhc3RUb3AgPSBpc1Njcm9sbGVkUGFzdCh0YXJnZXQsIG51bGwsICd0b3AnLCAndG9wJykgfHwgaXNTY3JvbGxlZFBhc3QoZHJhZ0VsLCBudWxsLCAndG9wJywgJ3RvcCcpLFxuICAgICAgICAgICAgc2Nyb2xsQmVmb3JlID0gc2Nyb2xsZWRQYXN0VG9wID8gc2Nyb2xsZWRQYXN0VG9wLnNjcm9sbFRvcCA6IHZvaWQgMDtcblxuICAgICAgICBpZiAobGFzdFRhcmdldCAhPT0gdGFyZ2V0KSB7XG4gICAgICAgICAgdGFyZ2V0QmVmb3JlRmlyc3RTd2FwID0gdGFyZ2V0UmVjdFtzaWRlMV07XG4gICAgICAgICAgcGFzdEZpcnN0SW52ZXJ0VGhyZXNoID0gZmFsc2U7XG4gICAgICAgICAgaXNDaXJjdW1zdGFudGlhbEludmVydCA9ICFkaWZmZXJlbnRSb3dDb2wgJiYgb3B0aW9ucy5pbnZlcnRTd2FwIHx8IGRpZmZlcmVudExldmVsO1xuICAgICAgICB9XG5cbiAgICAgICAgZGlyZWN0aW9uID0gX2dldFN3YXBEaXJlY3Rpb24oZXZ0LCB0YXJnZXQsIHZlcnRpY2FsLCBkaWZmZXJlbnRSb3dDb2wgPyAxIDogb3B0aW9ucy5zd2FwVGhyZXNob2xkLCBvcHRpb25zLmludmVydGVkU3dhcFRocmVzaG9sZCA9PSBudWxsID8gb3B0aW9ucy5zd2FwVGhyZXNob2xkIDogb3B0aW9ucy5pbnZlcnRlZFN3YXBUaHJlc2hvbGQsIGlzQ2lyY3Vtc3RhbnRpYWxJbnZlcnQsIGxhc3RUYXJnZXQgPT09IHRhcmdldCk7XG4gICAgICAgIHZhciBzaWJsaW5nO1xuXG4gICAgICAgIGlmIChkaXJlY3Rpb24gIT09IDApIHtcbiAgICAgICAgICAvLyBDaGVjayBpZiB0YXJnZXQgaXMgYmVzaWRlIGRyYWdFbCBpbiByZXNwZWN0aXZlIGRpcmVjdGlvbiAoaWdub3JpbmcgaGlkZGVuIGVsZW1lbnRzKVxuICAgICAgICAgIHZhciBkcmFnSW5kZXggPSBpbmRleChkcmFnRWwpO1xuXG4gICAgICAgICAgZG8ge1xuICAgICAgICAgICAgZHJhZ0luZGV4IC09IGRpcmVjdGlvbjtcbiAgICAgICAgICAgIHNpYmxpbmcgPSBwYXJlbnRFbC5jaGlsZHJlbltkcmFnSW5kZXhdO1xuICAgICAgICAgIH0gd2hpbGUgKHNpYmxpbmcgJiYgKGNzcyhzaWJsaW5nLCAnZGlzcGxheScpID09PSAnbm9uZScgfHwgc2libGluZyA9PT0gZ2hvc3RFbCkpO1xuICAgICAgICB9IC8vIElmIGRyYWdFbCBpcyBhbHJlYWR5IGJlc2lkZSB0YXJnZXQ6IERvIG5vdCBpbnNlcnRcblxuXG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09IDAgfHwgc2libGluZyA9PT0gdGFyZ2V0KSB7XG4gICAgICAgICAgcmV0dXJuIGNvbXBsZXRlZChmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBsYXN0VGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICBsYXN0RGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuICAgICAgICB2YXIgbmV4dFNpYmxpbmcgPSB0YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nLFxuICAgICAgICAgICAgYWZ0ZXIgPSBmYWxzZTtcbiAgICAgICAgYWZ0ZXIgPSBkaXJlY3Rpb24gPT09IDE7XG5cbiAgICAgICAgdmFyIG1vdmVWZWN0b3IgPSBfb25Nb3ZlKHJvb3RFbCwgZWwsIGRyYWdFbCwgZHJhZ1JlY3QsIHRhcmdldCwgdGFyZ2V0UmVjdCwgZXZ0LCBhZnRlcik7XG5cbiAgICAgICAgaWYgKG1vdmVWZWN0b3IgIT09IGZhbHNlKSB7XG4gICAgICAgICAgaWYgKG1vdmVWZWN0b3IgPT09IDEgfHwgbW92ZVZlY3RvciA9PT0gLTEpIHtcbiAgICAgICAgICAgIGFmdGVyID0gbW92ZVZlY3RvciA9PT0gMTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfc2lsZW50ID0gdHJ1ZTtcbiAgICAgICAgICBzZXRUaW1lb3V0KF91bnNpbGVudCwgMzApO1xuICAgICAgICAgIGNhcHR1cmUoKTtcblxuICAgICAgICAgIGlmIChhZnRlciAmJiAhbmV4dFNpYmxpbmcpIHtcbiAgICAgICAgICAgIGVsLmFwcGVuZENoaWxkKGRyYWdFbCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhcmdldC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkcmFnRWwsIGFmdGVyID8gbmV4dFNpYmxpbmcgOiB0YXJnZXQpO1xuICAgICAgICAgIH0gLy8gVW5kbyBjaHJvbWUncyBzY3JvbGwgYWRqdXN0bWVudCAoaGFzIG5vIGVmZmVjdCBvbiBvdGhlciBicm93c2VycylcblxuXG4gICAgICAgICAgaWYgKHNjcm9sbGVkUGFzdFRvcCkge1xuICAgICAgICAgICAgc2Nyb2xsQnkoc2Nyb2xsZWRQYXN0VG9wLCAwLCBzY3JvbGxCZWZvcmUgLSBzY3JvbGxlZFBhc3RUb3Auc2Nyb2xsVG9wKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwYXJlbnRFbCA9IGRyYWdFbC5wYXJlbnROb2RlOyAvLyBhY3R1YWxpemF0aW9uXG4gICAgICAgICAgLy8gbXVzdCBiZSBkb25lIGJlZm9yZSBhbmltYXRpb25cblxuICAgICAgICAgIGlmICh0YXJnZXRCZWZvcmVGaXJzdFN3YXAgIT09IHVuZGVmaW5lZCAmJiAhaXNDaXJjdW1zdGFudGlhbEludmVydCkge1xuICAgICAgICAgICAgdGFyZ2V0TW92ZURpc3RhbmNlID0gTWF0aC5hYnModGFyZ2V0QmVmb3JlRmlyc3RTd2FwIC0gZ2V0UmVjdCh0YXJnZXQpW3NpZGUxXSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2hhbmdlZCgpO1xuICAgICAgICAgIHJldHVybiBjb21wbGV0ZWQodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGVsLmNvbnRhaW5zKGRyYWdFbCkpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBsZXRlZChmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBfaWdub3JlV2hpbGVBbmltYXRpbmc6IG51bGwsXG4gIF9vZmZNb3ZlRXZlbnRzOiBmdW5jdGlvbiBfb2ZmTW92ZUV2ZW50cygpIHtcbiAgICBvZmYoZG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLl9vblRvdWNoTW92ZSk7XG4gICAgb2ZmKGRvY3VtZW50LCAndG91Y2htb3ZlJywgdGhpcy5fb25Ub3VjaE1vdmUpO1xuICAgIG9mZihkb2N1bWVudCwgJ3BvaW50ZXJtb3ZlJywgdGhpcy5fb25Ub3VjaE1vdmUpO1xuICAgIG9mZihkb2N1bWVudCwgJ2RyYWdvdmVyJywgbmVhcmVzdEVtcHR5SW5zZXJ0RGV0ZWN0RXZlbnQpO1xuICAgIG9mZihkb2N1bWVudCwgJ21vdXNlbW92ZScsIG5lYXJlc3RFbXB0eUluc2VydERldGVjdEV2ZW50KTtcbiAgICBvZmYoZG9jdW1lbnQsICd0b3VjaG1vdmUnLCBuZWFyZXN0RW1wdHlJbnNlcnREZXRlY3RFdmVudCk7XG4gIH0sXG4gIF9vZmZVcEV2ZW50czogZnVuY3Rpb24gX29mZlVwRXZlbnRzKCkge1xuICAgIHZhciBvd25lckRvY3VtZW50ID0gdGhpcy5lbC5vd25lckRvY3VtZW50O1xuICAgIG9mZihvd25lckRvY3VtZW50LCAnbW91c2V1cCcsIHRoaXMuX29uRHJvcCk7XG4gICAgb2ZmKG93bmVyRG9jdW1lbnQsICd0b3VjaGVuZCcsIHRoaXMuX29uRHJvcCk7XG4gICAgb2ZmKG93bmVyRG9jdW1lbnQsICdwb2ludGVydXAnLCB0aGlzLl9vbkRyb3ApO1xuICAgIG9mZihvd25lckRvY3VtZW50LCAndG91Y2hjYW5jZWwnLCB0aGlzLl9vbkRyb3ApO1xuICAgIG9mZihkb2N1bWVudCwgJ3NlbGVjdHN0YXJ0JywgdGhpcyk7XG4gIH0sXG4gIF9vbkRyb3A6IGZ1bmN0aW9uIF9vbkRyb3AoXG4gIC8qKkV2ZW50Ki9cbiAgZXZ0KSB7XG4gICAgdmFyIGVsID0gdGhpcy5lbCxcbiAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9uczsgLy8gR2V0IHRoZSBpbmRleCBvZiB0aGUgZHJhZ2dlZCBlbGVtZW50IHdpdGhpbiBpdHMgcGFyZW50XG5cbiAgICBuZXdJbmRleCA9IGluZGV4KGRyYWdFbCk7XG4gICAgbmV3RHJhZ2dhYmxlSW5kZXggPSBpbmRleChkcmFnRWwsIG9wdGlvbnMuZHJhZ2dhYmxlKTtcbiAgICBwbHVnaW5FdmVudCgnZHJvcCcsIHRoaXMsIHtcbiAgICAgIGV2dDogZXZ0XG4gICAgfSk7IC8vIEdldCBhZ2FpbiBhZnRlciBwbHVnaW4gZXZlbnRcblxuICAgIG5ld0luZGV4ID0gaW5kZXgoZHJhZ0VsKTtcbiAgICBuZXdEcmFnZ2FibGVJbmRleCA9IGluZGV4KGRyYWdFbCwgb3B0aW9ucy5kcmFnZ2FibGUpO1xuXG4gICAgaWYgKFNvcnRhYmxlLmV2ZW50Q2FuY2VsZWQpIHtcbiAgICAgIHRoaXMuX251bGxpbmcoKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGF3YWl0aW5nRHJhZ1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICBpc0NpcmN1bXN0YW50aWFsSW52ZXJ0ID0gZmFsc2U7XG4gICAgcGFzdEZpcnN0SW52ZXJ0VGhyZXNoID0gZmFsc2U7XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9sb29wSWQpO1xuICAgIGNsZWFyVGltZW91dCh0aGlzLl9kcmFnU3RhcnRUaW1lcik7XG5cbiAgICBfY2FuY2VsTmV4dFRpY2sodGhpcy5jbG9uZUlkKTtcblxuICAgIF9jYW5jZWxOZXh0VGljayh0aGlzLl9kcmFnU3RhcnRJZCk7IC8vIFVuYmluZCBldmVudHNcblxuXG4gICAgaWYgKHRoaXMubmF0aXZlRHJhZ2dhYmxlKSB7XG4gICAgICBvZmYoZG9jdW1lbnQsICdkcm9wJywgdGhpcyk7XG4gICAgICBvZmYoZWwsICdkcmFnc3RhcnQnLCB0aGlzLl9vbkRyYWdTdGFydCk7XG4gICAgfVxuXG4gICAgdGhpcy5fb2ZmTW92ZUV2ZW50cygpO1xuXG4gICAgdGhpcy5fb2ZmVXBFdmVudHMoKTtcblxuICAgIGlmIChTYWZhcmkpIHtcbiAgICAgIGNzcyhkb2N1bWVudC5ib2R5LCAndXNlci1zZWxlY3QnLCAnJyk7XG4gICAgfVxuXG4gICAgaWYgKGV2dCkge1xuICAgICAgaWYgKG1vdmVkKSB7XG4gICAgICAgIGV2dC5jYW5jZWxhYmxlICYmIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAhb3B0aW9ucy5kcm9wQnViYmxlICYmIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH1cblxuICAgICAgZ2hvc3RFbCAmJiBnaG9zdEVsLnBhcmVudE5vZGUgJiYgZ2hvc3RFbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGdob3N0RWwpO1xuXG4gICAgICBpZiAocm9vdEVsID09PSBwYXJlbnRFbCB8fCBwdXRTb3J0YWJsZSAmJiBwdXRTb3J0YWJsZS5sYXN0UHV0TW9kZSAhPT0gJ2Nsb25lJykge1xuICAgICAgICAvLyBSZW1vdmUgY2xvbmUocylcbiAgICAgICAgY2xvbmVFbCAmJiBjbG9uZUVsLnBhcmVudE5vZGUgJiYgY2xvbmVFbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNsb25lRWwpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZHJhZ0VsKSB7XG4gICAgICAgIGlmICh0aGlzLm5hdGl2ZURyYWdnYWJsZSkge1xuICAgICAgICAgIG9mZihkcmFnRWwsICdkcmFnZW5kJywgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBfZGlzYWJsZURyYWdnYWJsZShkcmFnRWwpO1xuXG4gICAgICAgIGRyYWdFbC5zdHlsZVsnd2lsbC1jaGFuZ2UnXSA9ICcnOyAvLyBSZW1vdmUgY2xhc3Nlc1xuICAgICAgICAvLyBnaG9zdENsYXNzIGlzIGFkZGVkIGluIGRyYWdTdGFydGVkXG5cbiAgICAgICAgaWYgKG1vdmVkICYmICFhd2FpdGluZ0RyYWdTdGFydGVkKSB7XG4gICAgICAgICAgdG9nZ2xlQ2xhc3MoZHJhZ0VsLCBwdXRTb3J0YWJsZSA/IHB1dFNvcnRhYmxlLm9wdGlvbnMuZ2hvc3RDbGFzcyA6IHRoaXMub3B0aW9ucy5naG9zdENsYXNzLCBmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0b2dnbGVDbGFzcyhkcmFnRWwsIHRoaXMub3B0aW9ucy5jaG9zZW5DbGFzcywgZmFsc2UpOyAvLyBEcmFnIHN0b3AgZXZlbnRcblxuICAgICAgICBfZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgc29ydGFibGU6IHRoaXMsXG4gICAgICAgICAgbmFtZTogJ3VuY2hvb3NlJyxcbiAgICAgICAgICB0b0VsOiBwYXJlbnRFbCxcbiAgICAgICAgICBuZXdJbmRleDogbnVsbCxcbiAgICAgICAgICBuZXdEcmFnZ2FibGVJbmRleDogbnVsbCxcbiAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldnRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHJvb3RFbCAhPT0gcGFyZW50RWwpIHtcbiAgICAgICAgICBpZiAobmV3SW5kZXggPj0gMCkge1xuICAgICAgICAgICAgLy8gQWRkIGV2ZW50XG4gICAgICAgICAgICBfZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgICAgIHJvb3RFbDogcGFyZW50RWwsXG4gICAgICAgICAgICAgIG5hbWU6ICdhZGQnLFxuICAgICAgICAgICAgICB0b0VsOiBwYXJlbnRFbCxcbiAgICAgICAgICAgICAgZnJvbUVsOiByb290RWwsXG4gICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2dFxuICAgICAgICAgICAgfSk7IC8vIFJlbW92ZSBldmVudFxuXG5cbiAgICAgICAgICAgIF9kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICAgICAgc29ydGFibGU6IHRoaXMsXG4gICAgICAgICAgICAgIG5hbWU6ICdyZW1vdmUnLFxuICAgICAgICAgICAgICB0b0VsOiBwYXJlbnRFbCxcbiAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZ0XG4gICAgICAgICAgICB9KTsgLy8gZHJhZyBmcm9tIG9uZSBsaXN0IGFuZCBkcm9wIGludG8gYW5vdGhlclxuXG5cbiAgICAgICAgICAgIF9kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICAgICAgcm9vdEVsOiBwYXJlbnRFbCxcbiAgICAgICAgICAgICAgbmFtZTogJ3NvcnQnLFxuICAgICAgICAgICAgICB0b0VsOiBwYXJlbnRFbCxcbiAgICAgICAgICAgICAgZnJvbUVsOiByb290RWwsXG4gICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2dFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIF9kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICAgICAgc29ydGFibGU6IHRoaXMsXG4gICAgICAgICAgICAgIG5hbWU6ICdzb3J0JyxcbiAgICAgICAgICAgICAgdG9FbDogcGFyZW50RWwsXG4gICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2dFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcHV0U29ydGFibGUgJiYgcHV0U29ydGFibGUuc2F2ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChuZXdJbmRleCAhPT0gb2xkSW5kZXgpIHtcbiAgICAgICAgICAgIGlmIChuZXdJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgIC8vIGRyYWcgJiBkcm9wIHdpdGhpbiB0aGUgc2FtZSBsaXN0XG4gICAgICAgICAgICAgIF9kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICAgICAgICBzb3J0YWJsZTogdGhpcyxcbiAgICAgICAgICAgICAgICBuYW1lOiAndXBkYXRlJyxcbiAgICAgICAgICAgICAgICB0b0VsOiBwYXJlbnRFbCxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldnRcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgX2Rpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgICAgICAgIHNvcnRhYmxlOiB0aGlzLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdzb3J0JyxcbiAgICAgICAgICAgICAgICB0b0VsOiBwYXJlbnRFbCxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldnRcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFNvcnRhYmxlLmFjdGl2ZSkge1xuICAgICAgICAgIC8qIGpzaGludCBlcW51bGw6dHJ1ZSAqL1xuICAgICAgICAgIGlmIChuZXdJbmRleCA9PSBudWxsIHx8IG5ld0luZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgbmV3SW5kZXggPSBvbGRJbmRleDtcbiAgICAgICAgICAgIG5ld0RyYWdnYWJsZUluZGV4ID0gb2xkRHJhZ2dhYmxlSW5kZXg7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX2Rpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgICAgc29ydGFibGU6IHRoaXMsXG4gICAgICAgICAgICBuYW1lOiAnZW5kJyxcbiAgICAgICAgICAgIHRvRWw6IHBhcmVudEVsLFxuICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZ0XG4gICAgICAgICAgfSk7IC8vIFNhdmUgc29ydGluZ1xuXG5cbiAgICAgICAgICB0aGlzLnNhdmUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX251bGxpbmcoKTtcbiAgfSxcbiAgX251bGxpbmc6IGZ1bmN0aW9uIF9udWxsaW5nKCkge1xuICAgIHBsdWdpbkV2ZW50KCdudWxsaW5nJywgdGhpcyk7XG4gICAgcm9vdEVsID0gZHJhZ0VsID0gcGFyZW50RWwgPSBnaG9zdEVsID0gbmV4dEVsID0gY2xvbmVFbCA9IGxhc3REb3duRWwgPSBjbG9uZUhpZGRlbiA9IHRhcEV2dCA9IHRvdWNoRXZ0ID0gbW92ZWQgPSBuZXdJbmRleCA9IG5ld0RyYWdnYWJsZUluZGV4ID0gb2xkSW5kZXggPSBvbGREcmFnZ2FibGVJbmRleCA9IGxhc3RUYXJnZXQgPSBsYXN0RGlyZWN0aW9uID0gcHV0U29ydGFibGUgPSBhY3RpdmVHcm91cCA9IFNvcnRhYmxlLmRyYWdnZWQgPSBTb3J0YWJsZS5naG9zdCA9IFNvcnRhYmxlLmNsb25lID0gU29ydGFibGUuYWN0aXZlID0gbnVsbDtcbiAgICBzYXZlZElucHV0Q2hlY2tlZC5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgZWwuY2hlY2tlZCA9IHRydWU7XG4gICAgfSk7XG4gICAgc2F2ZWRJbnB1dENoZWNrZWQubGVuZ3RoID0gMDtcbiAgfSxcbiAgaGFuZGxlRXZlbnQ6IGZ1bmN0aW9uIGhhbmRsZUV2ZW50KFxuICAvKipFdmVudCovXG4gIGV2dCkge1xuICAgIHN3aXRjaCAoZXZ0LnR5cGUpIHtcbiAgICAgIGNhc2UgJ2Ryb3AnOlxuICAgICAgY2FzZSAnZHJhZ2VuZCc6XG4gICAgICAgIHRoaXMuX29uRHJvcChldnQpO1xuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdkcmFnZW50ZXInOlxuICAgICAgY2FzZSAnZHJhZ292ZXInOlxuICAgICAgICBpZiAoZHJhZ0VsKSB7XG4gICAgICAgICAgdGhpcy5fb25EcmFnT3ZlcihldnQpO1xuXG4gICAgICAgICAgX2dsb2JhbERyYWdPdmVyKGV2dCk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnc2VsZWN0c3RhcnQnOlxuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBTZXJpYWxpemVzIHRoZSBpdGVtIGludG8gYW4gYXJyYXkgb2Ygc3RyaW5nLlxuICAgKiBAcmV0dXJucyB7U3RyaW5nW119XG4gICAqL1xuICB0b0FycmF5OiBmdW5jdGlvbiB0b0FycmF5KCkge1xuICAgIHZhciBvcmRlciA9IFtdLFxuICAgICAgICBlbCxcbiAgICAgICAgY2hpbGRyZW4gPSB0aGlzLmVsLmNoaWxkcmVuLFxuICAgICAgICBpID0gMCxcbiAgICAgICAgbiA9IGNoaWxkcmVuLmxlbmd0aCxcbiAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgIGZvciAoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBlbCA9IGNoaWxkcmVuW2ldO1xuXG4gICAgICBpZiAoY2xvc2VzdChlbCwgb3B0aW9ucy5kcmFnZ2FibGUsIHRoaXMuZWwsIGZhbHNlKSkge1xuICAgICAgICBvcmRlci5wdXNoKGVsLmdldEF0dHJpYnV0ZShvcHRpb25zLmRhdGFJZEF0dHIpIHx8IF9nZW5lcmF0ZUlkKGVsKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9yZGVyO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTb3J0cyB0aGUgZWxlbWVudHMgYWNjb3JkaW5nIHRvIHRoZSBhcnJheS5cbiAgICogQHBhcmFtICB7U3RyaW5nW119ICBvcmRlciAgb3JkZXIgb2YgdGhlIGl0ZW1zXG4gICAqL1xuICBzb3J0OiBmdW5jdGlvbiBzb3J0KG9yZGVyKSB7XG4gICAgdmFyIGl0ZW1zID0ge30sXG4gICAgICAgIHJvb3RFbCA9IHRoaXMuZWw7XG4gICAgdGhpcy50b0FycmF5KCkuZm9yRWFjaChmdW5jdGlvbiAoaWQsIGkpIHtcbiAgICAgIHZhciBlbCA9IHJvb3RFbC5jaGlsZHJlbltpXTtcblxuICAgICAgaWYgKGNsb3Nlc3QoZWwsIHRoaXMub3B0aW9ucy5kcmFnZ2FibGUsIHJvb3RFbCwgZmFsc2UpKSB7XG4gICAgICAgIGl0ZW1zW2lkXSA9IGVsO1xuICAgICAgfVxuICAgIH0sIHRoaXMpO1xuICAgIG9yZGVyLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7XG4gICAgICBpZiAoaXRlbXNbaWRdKSB7XG4gICAgICAgIHJvb3RFbC5yZW1vdmVDaGlsZChpdGVtc1tpZF0pO1xuICAgICAgICByb290RWwuYXBwZW5kQ2hpbGQoaXRlbXNbaWRdKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogU2F2ZSB0aGUgY3VycmVudCBzb3J0aW5nXG4gICAqL1xuICBzYXZlOiBmdW5jdGlvbiBzYXZlKCkge1xuICAgIHZhciBzdG9yZSA9IHRoaXMub3B0aW9ucy5zdG9yZTtcbiAgICBzdG9yZSAmJiBzdG9yZS5zZXQgJiYgc3RvcmUuc2V0KHRoaXMpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBGb3IgZWFjaCBlbGVtZW50IGluIHRoZSBzZXQsIGdldCB0aGUgZmlyc3QgZWxlbWVudCB0aGF0IG1hdGNoZXMgdGhlIHNlbGVjdG9yIGJ5IHRlc3RpbmcgdGhlIGVsZW1lbnQgaXRzZWxmIGFuZCB0cmF2ZXJzaW5nIHVwIHRocm91Z2ggaXRzIGFuY2VzdG9ycyBpbiB0aGUgRE9NIHRyZWUuXG4gICAqIEBwYXJhbSAgIHtIVE1MRWxlbWVudH0gIGVsXG4gICAqIEBwYXJhbSAgIHtTdHJpbmd9ICAgICAgIFtzZWxlY3Rvcl0gIGRlZmF1bHQ6IGBvcHRpb25zLmRyYWdnYWJsZWBcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fG51bGx9XG4gICAqL1xuICBjbG9zZXN0OiBmdW5jdGlvbiBjbG9zZXN0JDEoZWwsIHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGNsb3Nlc3QoZWwsIHNlbGVjdG9yIHx8IHRoaXMub3B0aW9ucy5kcmFnZ2FibGUsIHRoaXMuZWwsIGZhbHNlKTtcbiAgfSxcblxuICAvKipcbiAgICogU2V0L2dldCBvcHRpb25cbiAgICogQHBhcmFtICAge3N0cmluZ30gbmFtZVxuICAgKiBAcGFyYW0gICB7Kn0gICAgICBbdmFsdWVdXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgb3B0aW9uOiBmdW5jdGlvbiBvcHRpb24obmFtZSwgdmFsdWUpIHtcbiAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgIGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4gb3B0aW9uc1tuYW1lXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIG1vZGlmaWVkVmFsdWUgPSBQbHVnaW5NYW5hZ2VyLm1vZGlmeU9wdGlvbih0aGlzLCBuYW1lLCB2YWx1ZSk7XG5cbiAgICAgIGlmICh0eXBlb2YgbW9kaWZpZWRWYWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgb3B0aW9uc1tuYW1lXSA9IG1vZGlmaWVkVmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHRpb25zW25hbWVdID0gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChuYW1lID09PSAnZ3JvdXAnKSB7XG4gICAgICAgIF9wcmVwYXJlR3JvdXAob3B0aW9ucyk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBEZXN0cm95XG4gICAqL1xuICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHBsdWdpbkV2ZW50KCdkZXN0cm95JywgdGhpcyk7XG4gICAgdmFyIGVsID0gdGhpcy5lbDtcbiAgICBlbFtleHBhbmRvXSA9IG51bGw7XG4gICAgb2ZmKGVsLCAnbW91c2Vkb3duJywgdGhpcy5fb25UYXBTdGFydCk7XG4gICAgb2ZmKGVsLCAndG91Y2hzdGFydCcsIHRoaXMuX29uVGFwU3RhcnQpO1xuICAgIG9mZihlbCwgJ3BvaW50ZXJkb3duJywgdGhpcy5fb25UYXBTdGFydCk7XG5cbiAgICBpZiAodGhpcy5uYXRpdmVEcmFnZ2FibGUpIHtcbiAgICAgIG9mZihlbCwgJ2RyYWdvdmVyJywgdGhpcyk7XG4gICAgICBvZmYoZWwsICdkcmFnZW50ZXInLCB0aGlzKTtcbiAgICB9IC8vIFJlbW92ZSBkcmFnZ2FibGUgYXR0cmlidXRlc1xuXG5cbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkcmFnZ2FibGVdJyksIGZ1bmN0aW9uIChlbCkge1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKCdkcmFnZ2FibGUnKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX29uRHJvcCgpO1xuXG4gICAgc29ydGFibGVzLnNwbGljZShzb3J0YWJsZXMuaW5kZXhPZih0aGlzLmVsKSwgMSk7XG4gICAgdGhpcy5lbCA9IGVsID0gbnVsbDtcbiAgfSxcbiAgX2hpZGVDbG9uZTogZnVuY3Rpb24gX2hpZGVDbG9uZSgpIHtcbiAgICBpZiAoIWNsb25lSGlkZGVuKSB7XG4gICAgICBwbHVnaW5FdmVudCgnaGlkZUNsb25lJywgdGhpcyk7XG4gICAgICBpZiAoU29ydGFibGUuZXZlbnRDYW5jZWxlZCkgcmV0dXJuO1xuICAgICAgY3NzKGNsb25lRWwsICdkaXNwbGF5JywgJ25vbmUnKTtcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZW1vdmVDbG9uZU9uSGlkZSAmJiBjbG9uZUVsLnBhcmVudE5vZGUpIHtcbiAgICAgICAgY2xvbmVFbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNsb25lRWwpO1xuICAgICAgfVxuXG4gICAgICBjbG9uZUhpZGRlbiA9IHRydWU7XG4gICAgfVxuICB9LFxuICBfc2hvd0Nsb25lOiBmdW5jdGlvbiBfc2hvd0Nsb25lKHB1dFNvcnRhYmxlKSB7XG4gICAgaWYgKHB1dFNvcnRhYmxlLmxhc3RQdXRNb2RlICE9PSAnY2xvbmUnKSB7XG4gICAgICB0aGlzLl9oaWRlQ2xvbmUoKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChjbG9uZUhpZGRlbikge1xuICAgICAgcGx1Z2luRXZlbnQoJ3Nob3dDbG9uZScsIHRoaXMpO1xuICAgICAgaWYgKFNvcnRhYmxlLmV2ZW50Q2FuY2VsZWQpIHJldHVybjsgLy8gc2hvdyBjbG9uZSBhdCBkcmFnRWwgb3Igb3JpZ2luYWwgcG9zaXRpb25cblxuICAgICAgaWYgKHJvb3RFbC5jb250YWlucyhkcmFnRWwpICYmICF0aGlzLm9wdGlvbnMuZ3JvdXAucmV2ZXJ0Q2xvbmUpIHtcbiAgICAgICAgcm9vdEVsLmluc2VydEJlZm9yZShjbG9uZUVsLCBkcmFnRWwpO1xuICAgICAgfSBlbHNlIGlmIChuZXh0RWwpIHtcbiAgICAgICAgcm9vdEVsLmluc2VydEJlZm9yZShjbG9uZUVsLCBuZXh0RWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcm9vdEVsLmFwcGVuZENoaWxkKGNsb25lRWwpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmdyb3VwLnJldmVydENsb25lKSB7XG4gICAgICAgIHRoaXMuX2FuaW1hdGUoZHJhZ0VsLCBjbG9uZUVsKTtcbiAgICAgIH1cblxuICAgICAgY3NzKGNsb25lRWwsICdkaXNwbGF5JywgJycpO1xuICAgICAgY2xvbmVIaWRkZW4gPSBmYWxzZTtcbiAgICB9XG4gIH1cbn07XG5cbmZ1bmN0aW9uIF9nbG9iYWxEcmFnT3Zlcihcbi8qKkV2ZW50Ki9cbmV2dCkge1xuICBpZiAoZXZ0LmRhdGFUcmFuc2Zlcikge1xuICAgIGV2dC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdtb3ZlJztcbiAgfVxuXG4gIGV2dC5jYW5jZWxhYmxlICYmIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xufVxuXG5mdW5jdGlvbiBfb25Nb3ZlKGZyb21FbCwgdG9FbCwgZHJhZ0VsLCBkcmFnUmVjdCwgdGFyZ2V0RWwsIHRhcmdldFJlY3QsIG9yaWdpbmFsRXZlbnQsIHdpbGxJbnNlcnRBZnRlcikge1xuICB2YXIgZXZ0LFxuICAgICAgc29ydGFibGUgPSBmcm9tRWxbZXhwYW5kb10sXG4gICAgICBvbk1vdmVGbiA9IHNvcnRhYmxlLm9wdGlvbnMub25Nb3ZlLFxuICAgICAgcmV0VmFsOyAvLyBTdXBwb3J0IGZvciBuZXcgQ3VzdG9tRXZlbnQgZmVhdHVyZVxuXG4gIGlmICh3aW5kb3cuQ3VzdG9tRXZlbnQgJiYgIUlFMTFPckxlc3MgJiYgIUVkZ2UpIHtcbiAgICBldnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ21vdmUnLCB7XG4gICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgIGV2dC5pbml0RXZlbnQoJ21vdmUnLCB0cnVlLCB0cnVlKTtcbiAgfVxuXG4gIGV2dC50byA9IHRvRWw7XG4gIGV2dC5mcm9tID0gZnJvbUVsO1xuICBldnQuZHJhZ2dlZCA9IGRyYWdFbDtcbiAgZXZ0LmRyYWdnZWRSZWN0ID0gZHJhZ1JlY3Q7XG4gIGV2dC5yZWxhdGVkID0gdGFyZ2V0RWwgfHwgdG9FbDtcbiAgZXZ0LnJlbGF0ZWRSZWN0ID0gdGFyZ2V0UmVjdCB8fCBnZXRSZWN0KHRvRWwpO1xuICBldnQud2lsbEluc2VydEFmdGVyID0gd2lsbEluc2VydEFmdGVyO1xuICBldnQub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG4gIGZyb21FbC5kaXNwYXRjaEV2ZW50KGV2dCk7XG5cbiAgaWYgKG9uTW92ZUZuKSB7XG4gICAgcmV0VmFsID0gb25Nb3ZlRm4uY2FsbChzb3J0YWJsZSwgZXZ0LCBvcmlnaW5hbEV2ZW50KTtcbiAgfVxuXG4gIHJldHVybiByZXRWYWw7XG59XG5cbmZ1bmN0aW9uIF9kaXNhYmxlRHJhZ2dhYmxlKGVsKSB7XG4gIGVsLmRyYWdnYWJsZSA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBfdW5zaWxlbnQoKSB7XG4gIF9zaWxlbnQgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gX2dob3N0SXNMYXN0KGV2dCwgdmVydGljYWwsIHNvcnRhYmxlKSB7XG4gIHZhciByZWN0ID0gZ2V0UmVjdChsYXN0Q2hpbGQoc29ydGFibGUuZWwsIHNvcnRhYmxlLm9wdGlvbnMuZHJhZ2dhYmxlKSk7XG4gIHZhciBzcGFjZXIgPSAxMDtcbiAgcmV0dXJuIHZlcnRpY2FsID8gZXZ0LmNsaWVudFggPiByZWN0LnJpZ2h0ICsgc3BhY2VyIHx8IGV2dC5jbGllbnRYIDw9IHJlY3QucmlnaHQgJiYgZXZ0LmNsaWVudFkgPiByZWN0LmJvdHRvbSAmJiBldnQuY2xpZW50WCA+PSByZWN0LmxlZnQgOiBldnQuY2xpZW50WCA+IHJlY3QucmlnaHQgJiYgZXZ0LmNsaWVudFkgPiByZWN0LnRvcCB8fCBldnQuY2xpZW50WCA8PSByZWN0LnJpZ2h0ICYmIGV2dC5jbGllbnRZID4gcmVjdC5ib3R0b20gKyBzcGFjZXI7XG59XG5cbmZ1bmN0aW9uIF9nZXRTd2FwRGlyZWN0aW9uKGV2dCwgdGFyZ2V0LCB2ZXJ0aWNhbCwgc3dhcFRocmVzaG9sZCwgaW52ZXJ0ZWRTd2FwVGhyZXNob2xkLCBpbnZlcnRTd2FwLCBpc0xhc3RUYXJnZXQpIHtcbiAgdmFyIHRhcmdldFJlY3QgPSBnZXRSZWN0KHRhcmdldCksXG4gICAgICBtb3VzZU9uQXhpcyA9IHZlcnRpY2FsID8gZXZ0LmNsaWVudFkgOiBldnQuY2xpZW50WCxcbiAgICAgIHRhcmdldExlbmd0aCA9IHZlcnRpY2FsID8gdGFyZ2V0UmVjdC5oZWlnaHQgOiB0YXJnZXRSZWN0LndpZHRoLFxuICAgICAgdGFyZ2V0UzEgPSB2ZXJ0aWNhbCA/IHRhcmdldFJlY3QudG9wIDogdGFyZ2V0UmVjdC5sZWZ0LFxuICAgICAgdGFyZ2V0UzIgPSB2ZXJ0aWNhbCA/IHRhcmdldFJlY3QuYm90dG9tIDogdGFyZ2V0UmVjdC5yaWdodCxcbiAgICAgIGludmVydCA9IGZhbHNlO1xuXG4gIGlmICghaW52ZXJ0U3dhcCkge1xuICAgIC8vIE5ldmVyIGludmVydCBvciBjcmVhdGUgZHJhZ0VsIHNoYWRvdyB3aGVuIHRhcmdldCBtb3ZlbWVuZXQgY2F1c2VzIG1vdXNlIHRvIG1vdmUgcGFzdCB0aGUgZW5kIG9mIHJlZ3VsYXIgc3dhcFRocmVzaG9sZFxuICAgIGlmIChpc0xhc3RUYXJnZXQgJiYgdGFyZ2V0TW92ZURpc3RhbmNlIDwgdGFyZ2V0TGVuZ3RoICogc3dhcFRocmVzaG9sZCkge1xuICAgICAgLy8gbXVsdGlwbGllZCBvbmx5IGJ5IHN3YXBUaHJlc2hvbGQgYmVjYXVzZSBtb3VzZSB3aWxsIGFscmVhZHkgYmUgaW5zaWRlIHRhcmdldCBieSAoMSAtIHRocmVzaG9sZCkgKiB0YXJnZXRMZW5ndGggLyAyXG4gICAgICAvLyBjaGVjayBpZiBwYXN0IGZpcnN0IGludmVydCB0aHJlc2hvbGQgb24gc2lkZSBvcHBvc2l0ZSBvZiBsYXN0RGlyZWN0aW9uXG4gICAgICBpZiAoIXBhc3RGaXJzdEludmVydFRocmVzaCAmJiAobGFzdERpcmVjdGlvbiA9PT0gMSA/IG1vdXNlT25BeGlzID4gdGFyZ2V0UzEgKyB0YXJnZXRMZW5ndGggKiBpbnZlcnRlZFN3YXBUaHJlc2hvbGQgLyAyIDogbW91c2VPbkF4aXMgPCB0YXJnZXRTMiAtIHRhcmdldExlbmd0aCAqIGludmVydGVkU3dhcFRocmVzaG9sZCAvIDIpKSB7XG4gICAgICAgIC8vIHBhc3QgZmlyc3QgaW52ZXJ0IHRocmVzaG9sZCwgZG8gbm90IHJlc3RyaWN0IGludmVydGVkIHRocmVzaG9sZCB0byBkcmFnRWwgc2hhZG93XG4gICAgICAgIHBhc3RGaXJzdEludmVydFRocmVzaCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmICghcGFzdEZpcnN0SW52ZXJ0VGhyZXNoKSB7XG4gICAgICAgIC8vIGRyYWdFbCBzaGFkb3cgKHRhcmdldCBtb3ZlIGRpc3RhbmNlIHNoYWRvdylcbiAgICAgICAgaWYgKGxhc3REaXJlY3Rpb24gPT09IDEgPyBtb3VzZU9uQXhpcyA8IHRhcmdldFMxICsgdGFyZ2V0TW92ZURpc3RhbmNlIC8vIG92ZXIgZHJhZ0VsIHNoYWRvd1xuICAgICAgICA6IG1vdXNlT25BeGlzID4gdGFyZ2V0UzIgLSB0YXJnZXRNb3ZlRGlzdGFuY2UpIHtcbiAgICAgICAgICByZXR1cm4gLWxhc3REaXJlY3Rpb247XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGludmVydCA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlZ3VsYXJcbiAgICAgIGlmIChtb3VzZU9uQXhpcyA+IHRhcmdldFMxICsgdGFyZ2V0TGVuZ3RoICogKDEgLSBzd2FwVGhyZXNob2xkKSAvIDIgJiYgbW91c2VPbkF4aXMgPCB0YXJnZXRTMiAtIHRhcmdldExlbmd0aCAqICgxIC0gc3dhcFRocmVzaG9sZCkgLyAyKSB7XG4gICAgICAgIHJldHVybiBfZ2V0SW5zZXJ0RGlyZWN0aW9uKHRhcmdldCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaW52ZXJ0ID0gaW52ZXJ0IHx8IGludmVydFN3YXA7XG5cbiAgaWYgKGludmVydCkge1xuICAgIC8vIEludmVydCBvZiByZWd1bGFyXG4gICAgaWYgKG1vdXNlT25BeGlzIDwgdGFyZ2V0UzEgKyB0YXJnZXRMZW5ndGggKiBpbnZlcnRlZFN3YXBUaHJlc2hvbGQgLyAyIHx8IG1vdXNlT25BeGlzID4gdGFyZ2V0UzIgLSB0YXJnZXRMZW5ndGggKiBpbnZlcnRlZFN3YXBUaHJlc2hvbGQgLyAyKSB7XG4gICAgICByZXR1cm4gbW91c2VPbkF4aXMgPiB0YXJnZXRTMSArIHRhcmdldExlbmd0aCAvIDIgPyAxIDogLTE7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIDA7XG59XG4vKipcbiAqIEdldHMgdGhlIGRpcmVjdGlvbiBkcmFnRWwgbXVzdCBiZSBzd2FwcGVkIHJlbGF0aXZlIHRvIHRhcmdldCBpbiBvcmRlciB0byBtYWtlIGl0XG4gKiBzZWVtIHRoYXQgZHJhZ0VsIGhhcyBiZWVuIFwiaW5zZXJ0ZWRcIiBpbnRvIHRoYXQgZWxlbWVudCdzIHBvc2l0aW9uXG4gKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gdGFyZ2V0ICAgICAgIFRoZSB0YXJnZXQgd2hvc2UgcG9zaXRpb24gZHJhZ0VsIGlzIGJlaW5nIGluc2VydGVkIGF0XG4gKiBAcmV0dXJuIHtOdW1iZXJ9ICAgICAgICAgICAgICAgICAgIERpcmVjdGlvbiBkcmFnRWwgbXVzdCBiZSBzd2FwcGVkXG4gKi9cblxuXG5mdW5jdGlvbiBfZ2V0SW5zZXJ0RGlyZWN0aW9uKHRhcmdldCkge1xuICBpZiAoaW5kZXgoZHJhZ0VsKSA8IGluZGV4KHRhcmdldCkpIHtcbiAgICByZXR1cm4gMTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbn1cbi8qKlxuICogR2VuZXJhdGUgaWRcbiAqIEBwYXJhbSAgIHtIVE1MRWxlbWVudH0gZWxcbiAqIEByZXR1cm5zIHtTdHJpbmd9XG4gKiBAcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gX2dlbmVyYXRlSWQoZWwpIHtcbiAgdmFyIHN0ciA9IGVsLnRhZ05hbWUgKyBlbC5jbGFzc05hbWUgKyBlbC5zcmMgKyBlbC5ocmVmICsgZWwudGV4dENvbnRlbnQsXG4gICAgICBpID0gc3RyLmxlbmd0aCxcbiAgICAgIHN1bSA9IDA7XG5cbiAgd2hpbGUgKGktLSkge1xuICAgIHN1bSArPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgfVxuXG4gIHJldHVybiBzdW0udG9TdHJpbmcoMzYpO1xufVxuXG5mdW5jdGlvbiBfc2F2ZUlucHV0Q2hlY2tlZFN0YXRlKHJvb3QpIHtcbiAgc2F2ZWRJbnB1dENoZWNrZWQubGVuZ3RoID0gMDtcbiAgdmFyIGlucHV0cyA9IHJvb3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lucHV0Jyk7XG4gIHZhciBpZHggPSBpbnB1dHMubGVuZ3RoO1xuXG4gIHdoaWxlIChpZHgtLSkge1xuICAgIHZhciBfZWwgPSBpbnB1dHNbaWR4XTtcbiAgICBfZWwuY2hlY2tlZCAmJiBzYXZlZElucHV0Q2hlY2tlZC5wdXNoKF9lbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX25leHRUaWNrKGZuKSB7XG4gIHJldHVybiBzZXRUaW1lb3V0KGZuLCAwKTtcbn1cblxuZnVuY3Rpb24gX2NhbmNlbE5leHRUaWNrKGlkKSB7XG4gIHJldHVybiBjbGVhclRpbWVvdXQoaWQpO1xufSAvLyBGaXhlZCAjOTczOlxuXG5cbm9uKGRvY3VtZW50LCAndG91Y2htb3ZlJywgZnVuY3Rpb24gKGV2dCkge1xuICBpZiAoKFNvcnRhYmxlLmFjdGl2ZSB8fCBhd2FpdGluZ0RyYWdTdGFydGVkKSAmJiBldnQuY2FuY2VsYWJsZSkge1xuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG59KTsgLy8gRXhwb3J0IHV0aWxzXG5cblNvcnRhYmxlLnV0aWxzID0ge1xuICBvbjogb24sXG4gIG9mZjogb2ZmLFxuICBjc3M6IGNzcyxcbiAgZmluZDogZmluZCxcbiAgaXM6IGZ1bmN0aW9uIGlzKGVsLCBzZWxlY3Rvcikge1xuICAgIHJldHVybiAhIWNsb3Nlc3QoZWwsIHNlbGVjdG9yLCBlbCwgZmFsc2UpO1xuICB9LFxuICBleHRlbmQ6IGV4dGVuZCxcbiAgdGhyb3R0bGU6IHRocm90dGxlLFxuICBjbG9zZXN0OiBjbG9zZXN0LFxuICB0b2dnbGVDbGFzczogdG9nZ2xlQ2xhc3MsXG4gIGNsb25lOiBjbG9uZSxcbiAgaW5kZXg6IGluZGV4LFxuICBuZXh0VGljazogX25leHRUaWNrLFxuICBjYW5jZWxOZXh0VGljazogX2NhbmNlbE5leHRUaWNrLFxuICBkZXRlY3REaXJlY3Rpb246IF9kZXRlY3REaXJlY3Rpb24sXG4gIGdldENoaWxkOiBnZXRDaGlsZFxufTtcbi8qKlxuICogTW91bnQgYSBwbHVnaW4gdG8gU29ydGFibGVcbiAqIEBwYXJhbSAgey4uLlNvcnRhYmxlUGx1Z2lufFNvcnRhYmxlUGx1Z2luW119IHBsdWdpbnMgICAgICAgUGx1Z2lucyBiZWluZyBtb3VudGVkXG4gKi9cblxuU29ydGFibGUubW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBwbHVnaW5zID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIHBsdWdpbnNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICBpZiAocGx1Z2luc1swXS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHBsdWdpbnMgPSBwbHVnaW5zWzBdO1xuXG4gIGZvciAodmFyIGkgaW4gcGx1Z2lucykge1xuICAgIHZhciBwbHVnaW4gPSBwbHVnaW5zW2ldO1xuXG4gICAgaWYgKCFwbHVnaW4ucHJvdG90eXBlIHx8ICFwbHVnaW4ucHJvdG90eXBlLmNvbnN0cnVjdG9yKSB7XG4gICAgICB0aHJvdyBcIlNvcnRhYmxlOiBNb3VudGVkIHBsdWdpbiBtdXN0IGJlIGEgY29uc3RydWN0b3IgZnVuY3Rpb24sIG5vdCBcIi5jb25jYXQoe30udG9TdHJpbmcuY2FsbChlbCkpO1xuICAgIH1cblxuICAgIGlmIChwbHVnaW4udXRpbHMpIFNvcnRhYmxlLnV0aWxzID0gX29iamVjdFNwcmVhZCh7fSwgU29ydGFibGUudXRpbHMsIHBsdWdpbi51dGlscyk7XG4gICAgUGx1Z2luTWFuYWdlci5tb3VudChwbHVnaW4pO1xuICB9XG59O1xuLyoqXG4gKiBDcmVhdGUgc29ydGFibGUgaW5zdGFuY2VcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9ICBlbFxuICogQHBhcmFtIHtPYmplY3R9ICAgICAgW29wdGlvbnNdXG4gKi9cblxuXG5Tb3J0YWJsZS5jcmVhdGUgPSBmdW5jdGlvbiAoZWwsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIG5ldyBTb3J0YWJsZShlbCwgb3B0aW9ucyk7XG59OyAvLyBFeHBvcnRcblxuXG5Tb3J0YWJsZS52ZXJzaW9uID0gdmVyc2lvbjtcblxudmFyIGF1dG9TY3JvbGxzID0gW10sXG4gICAgc2Nyb2xsRWwsXG4gICAgc2Nyb2xsUm9vdEVsLFxuICAgIHNjcm9sbGluZyA9IGZhbHNlLFxuICAgIGxhc3RBdXRvU2Nyb2xsWCxcbiAgICBsYXN0QXV0b1Njcm9sbFksXG4gICAgdG91Y2hFdnQkMSxcbiAgICBwb2ludGVyRWxlbUNoYW5nZWRJbnRlcnZhbDtcblxuZnVuY3Rpb24gQXV0b1Njcm9sbFBsdWdpbigpIHtcbiAgZnVuY3Rpb24gQXV0b1Njcm9sbCgpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICBzY3JvbGw6IHRydWUsXG4gICAgICBzY3JvbGxTZW5zaXRpdml0eTogMzAsXG4gICAgICBzY3JvbGxTcGVlZDogMTAsXG4gICAgICBidWJibGVTY3JvbGw6IHRydWVcbiAgICB9OyAvLyBCaW5kIGFsbCBwcml2YXRlIG1ldGhvZHNcblxuICAgIGZvciAodmFyIGZuIGluIHRoaXMpIHtcbiAgICAgIGlmIChmbi5jaGFyQXQoMCkgPT09ICdfJyAmJiB0eXBlb2YgdGhpc1tmbl0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpc1tmbl0gPSB0aGlzW2ZuXS5iaW5kKHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIEF1dG9TY3JvbGwucHJvdG90eXBlID0ge1xuICAgIGRyYWdTdGFydGVkOiBmdW5jdGlvbiBkcmFnU3RhcnRlZChfcmVmKSB7XG4gICAgICB2YXIgb3JpZ2luYWxFdmVudCA9IF9yZWYub3JpZ2luYWxFdmVudDtcblxuICAgICAgaWYgKHRoaXMuc29ydGFibGUubmF0aXZlRHJhZ2dhYmxlKSB7XG4gICAgICAgIG9uKGRvY3VtZW50LCAnZHJhZ292ZXInLCB0aGlzLl9oYW5kbGVBdXRvU2Nyb2xsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLnNvcnRhYmxlLm9wdGlvbnMuc3VwcG9ydFBvaW50ZXIpIHtcbiAgICAgICAgICBvbihkb2N1bWVudCwgJ3BvaW50ZXJtb3ZlJywgdGhpcy5faGFuZGxlRmFsbGJhY2tBdXRvU2Nyb2xsKTtcbiAgICAgICAgfSBlbHNlIGlmIChvcmlnaW5hbEV2ZW50LnRvdWNoZXMpIHtcbiAgICAgICAgICBvbihkb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZUZhbGxiYWNrQXV0b1Njcm9sbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb24oZG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLl9oYW5kbGVGYWxsYmFja0F1dG9TY3JvbGwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBkcmFnT3ZlckNvbXBsZXRlZDogZnVuY3Rpb24gZHJhZ092ZXJDb21wbGV0ZWQoX3JlZjIpIHtcbiAgICAgIHZhciBvcmlnaW5hbEV2ZW50ID0gX3JlZjIub3JpZ2luYWxFdmVudDtcblxuICAgICAgLy8gRm9yIHdoZW4gYnViYmxpbmcgaXMgY2FuY2VsZWQgYW5kIHVzaW5nIGZhbGxiYWNrIChmYWxsYmFjayAndG91Y2htb3ZlJyBhbHdheXMgcmVhY2hlZClcbiAgICAgIGlmICghdGhpcy5zb3J0YWJsZS5vcHRpb25zLmRyYWdPdmVyQnViYmxlICYmICFvcmlnaW5hbEV2ZW50LnJvb3RFbCkge1xuICAgICAgICB0aGlzLl9oYW5kbGVBdXRvU2Nyb2xsKG9yaWdpbmFsRXZlbnQpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZHJvcDogZnVuY3Rpb24gZHJvcCgpIHtcbiAgICAgIGlmICh0aGlzLnNvcnRhYmxlLm5hdGl2ZURyYWdnYWJsZSkge1xuICAgICAgICBvZmYoZG9jdW1lbnQsICdkcmFnb3ZlcicsIHRoaXMuX2hhbmRsZUF1dG9TY3JvbGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2ZmKGRvY3VtZW50LCAncG9pbnRlcm1vdmUnLCB0aGlzLl9oYW5kbGVGYWxsYmFja0F1dG9TY3JvbGwpO1xuICAgICAgICBvZmYoZG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVGYWxsYmFja0F1dG9TY3JvbGwpO1xuICAgICAgICBvZmYoZG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLl9oYW5kbGVGYWxsYmFja0F1dG9TY3JvbGwpO1xuICAgICAgfVxuXG4gICAgICBjbGVhclBvaW50ZXJFbGVtQ2hhbmdlZEludGVydmFsKCk7XG4gICAgICBjbGVhckF1dG9TY3JvbGxzKCk7XG4gICAgICBjYW5jZWxUaHJvdHRsZSgpO1xuICAgIH0sXG4gICAgbnVsbGluZzogZnVuY3Rpb24gbnVsbGluZygpIHtcbiAgICAgIHRvdWNoRXZ0JDEgPSBzY3JvbGxSb290RWwgPSBzY3JvbGxFbCA9IHNjcm9sbGluZyA9IHBvaW50ZXJFbGVtQ2hhbmdlZEludGVydmFsID0gbGFzdEF1dG9TY3JvbGxYID0gbGFzdEF1dG9TY3JvbGxZID0gbnVsbDtcbiAgICAgIGF1dG9TY3JvbGxzLmxlbmd0aCA9IDA7XG4gICAgfSxcbiAgICBfaGFuZGxlRmFsbGJhY2tBdXRvU2Nyb2xsOiBmdW5jdGlvbiBfaGFuZGxlRmFsbGJhY2tBdXRvU2Nyb2xsKGV2dCkge1xuICAgICAgdGhpcy5faGFuZGxlQXV0b1Njcm9sbChldnQsIHRydWUpO1xuICAgIH0sXG4gICAgX2hhbmRsZUF1dG9TY3JvbGw6IGZ1bmN0aW9uIF9oYW5kbGVBdXRvU2Nyb2xsKGV2dCwgZmFsbGJhY2spIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciB4ID0gZXZ0LmNsaWVudFgsXG4gICAgICAgICAgeSA9IGV2dC5jbGllbnRZLFxuICAgICAgICAgIGVsZW0gPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHgsIHkpO1xuICAgICAgdG91Y2hFdnQkMSA9IGV2dDsgLy8gSUUgZG9lcyBub3Qgc2VlbSB0byBoYXZlIG5hdGl2ZSBhdXRvc2Nyb2xsLFxuICAgICAgLy8gRWRnZSdzIGF1dG9zY3JvbGwgc2VlbXMgdG9vIGNvbmRpdGlvbmFsLFxuICAgICAgLy8gTUFDT1MgU2FmYXJpIGRvZXMgbm90IGhhdmUgYXV0b3Njcm9sbCxcbiAgICAgIC8vIEZpcmVmb3ggYW5kIENocm9tZSBhcmUgZ29vZFxuXG4gICAgICBpZiAoZmFsbGJhY2sgfHwgRWRnZSB8fCBJRTExT3JMZXNzIHx8IFNhZmFyaSkge1xuICAgICAgICBhdXRvU2Nyb2xsKGV2dCwgdGhpcy5vcHRpb25zLCBlbGVtLCBmYWxsYmFjayk7IC8vIExpc3RlbmVyIGZvciBwb2ludGVyIGVsZW1lbnQgY2hhbmdlXG5cbiAgICAgICAgdmFyIG9nRWxlbVNjcm9sbGVyID0gZ2V0UGFyZW50QXV0b1Njcm9sbEVsZW1lbnQoZWxlbSwgdHJ1ZSk7XG5cbiAgICAgICAgaWYgKHNjcm9sbGluZyAmJiAoIXBvaW50ZXJFbGVtQ2hhbmdlZEludGVydmFsIHx8IHggIT09IGxhc3RBdXRvU2Nyb2xsWCB8fCB5ICE9PSBsYXN0QXV0b1Njcm9sbFkpKSB7XG4gICAgICAgICAgcG9pbnRlckVsZW1DaGFuZ2VkSW50ZXJ2YWwgJiYgY2xlYXJQb2ludGVyRWxlbUNoYW5nZWRJbnRlcnZhbCgpOyAvLyBEZXRlY3QgZm9yIHBvaW50ZXIgZWxlbSBjaGFuZ2UsIGVtdWxhdGluZyBuYXRpdmUgRG5EIGJlaGF2aW91clxuXG4gICAgICAgICAgcG9pbnRlckVsZW1DaGFuZ2VkSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbmV3RWxlbSA9IGdldFBhcmVudEF1dG9TY3JvbGxFbGVtZW50KGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoeCwgeSksIHRydWUpO1xuXG4gICAgICAgICAgICBpZiAobmV3RWxlbSAhPT0gb2dFbGVtU2Nyb2xsZXIpIHtcbiAgICAgICAgICAgICAgb2dFbGVtU2Nyb2xsZXIgPSBuZXdFbGVtO1xuICAgICAgICAgICAgICBjbGVhckF1dG9TY3JvbGxzKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGF1dG9TY3JvbGwoZXZ0LCBfdGhpcy5vcHRpb25zLCBuZXdFbGVtLCBmYWxsYmFjayk7XG4gICAgICAgICAgfSwgMTApO1xuICAgICAgICAgIGxhc3RBdXRvU2Nyb2xsWCA9IHg7XG4gICAgICAgICAgbGFzdEF1dG9TY3JvbGxZID0geTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaWYgRG5EIGlzIGVuYWJsZWQgKGFuZCBicm93c2VyIGhhcyBnb29kIGF1dG9zY3JvbGxpbmcpLCBmaXJzdCBhdXRvc2Nyb2xsIHdpbGwgYWxyZWFkeSBzY3JvbGwsIHNvIGdldCBwYXJlbnQgYXV0b3Njcm9sbCBvZiBmaXJzdCBhdXRvc2Nyb2xsXG4gICAgICAgIGlmICghdGhpcy5zb3J0YWJsZS5vcHRpb25zLmJ1YmJsZVNjcm9sbCB8fCBnZXRQYXJlbnRBdXRvU2Nyb2xsRWxlbWVudChlbGVtLCB0cnVlKSA9PT0gZ2V0V2luZG93U2Nyb2xsaW5nRWxlbWVudCgpKSB7XG4gICAgICAgICAgY2xlYXJBdXRvU2Nyb2xscygpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGF1dG9TY3JvbGwoZXZ0LCB0aGlzLm9wdGlvbnMsIGdldFBhcmVudEF1dG9TY3JvbGxFbGVtZW50KGVsZW0sIGZhbHNlKSwgZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIF9leHRlbmRzKEF1dG9TY3JvbGwsIHtcbiAgICBwbHVnaW5OYW1lOiAnc2Nyb2xsJyxcbiAgICBpbml0aWFsaXplQnlEZWZhdWx0OiB0cnVlXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjbGVhckF1dG9TY3JvbGxzKCkge1xuICBhdXRvU2Nyb2xscy5mb3JFYWNoKGZ1bmN0aW9uIChhdXRvU2Nyb2xsKSB7XG4gICAgY2xlYXJJbnRlcnZhbChhdXRvU2Nyb2xsLnBpZCk7XG4gIH0pO1xuICBhdXRvU2Nyb2xscyA9IFtdO1xufVxuXG5mdW5jdGlvbiBjbGVhclBvaW50ZXJFbGVtQ2hhbmdlZEludGVydmFsKCkge1xuICBjbGVhckludGVydmFsKHBvaW50ZXJFbGVtQ2hhbmdlZEludGVydmFsKTtcbn1cblxudmFyIGF1dG9TY3JvbGwgPSB0aHJvdHRsZShmdW5jdGlvbiAoZXZ0LCBvcHRpb25zLCByb290RWwsIGlzRmFsbGJhY2spIHtcbiAgLy8gQnVnOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD01MDU1MjFcbiAgaWYgKCFvcHRpb25zLnNjcm9sbCkgcmV0dXJuO1xuICB2YXIgc2VucyA9IG9wdGlvbnMuc2Nyb2xsU2Vuc2l0aXZpdHksXG4gICAgICBzcGVlZCA9IG9wdGlvbnMuc2Nyb2xsU3BlZWQsXG4gICAgICB3aW5TY3JvbGxlciA9IGdldFdpbmRvd1Njcm9sbGluZ0VsZW1lbnQoKTtcbiAgdmFyIHNjcm9sbFRoaXNJbnN0YW5jZSA9IGZhbHNlLFxuICAgICAgc2Nyb2xsQ3VzdG9tRm47IC8vIE5ldyBzY3JvbGwgcm9vdCwgc2V0IHNjcm9sbEVsXG5cbiAgaWYgKHNjcm9sbFJvb3RFbCAhPT0gcm9vdEVsKSB7XG4gICAgc2Nyb2xsUm9vdEVsID0gcm9vdEVsO1xuICAgIGNsZWFyQXV0b1Njcm9sbHMoKTtcbiAgICBzY3JvbGxFbCA9IG9wdGlvbnMuc2Nyb2xsO1xuICAgIHNjcm9sbEN1c3RvbUZuID0gb3B0aW9ucy5zY3JvbGxGbjtcblxuICAgIGlmIChzY3JvbGxFbCA9PT0gdHJ1ZSkge1xuICAgICAgc2Nyb2xsRWwgPSBnZXRQYXJlbnRBdXRvU2Nyb2xsRWxlbWVudChyb290RWwsIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBsYXllcnNPdXQgPSAwO1xuICB2YXIgY3VycmVudFBhcmVudCA9IHNjcm9sbEVsO1xuXG4gIGRvIHtcbiAgICB2YXIgZWwgPSBjdXJyZW50UGFyZW50LFxuICAgICAgICByZWN0ID0gZ2V0UmVjdChlbCksXG4gICAgICAgIHRvcCA9IHJlY3QudG9wLFxuICAgICAgICBib3R0b20gPSByZWN0LmJvdHRvbSxcbiAgICAgICAgbGVmdCA9IHJlY3QubGVmdCxcbiAgICAgICAgcmlnaHQgPSByZWN0LnJpZ2h0LFxuICAgICAgICB3aWR0aCA9IHJlY3Qud2lkdGgsXG4gICAgICAgIGhlaWdodCA9IHJlY3QuaGVpZ2h0LFxuICAgICAgICBjYW5TY3JvbGxYID0gdm9pZCAwLFxuICAgICAgICBjYW5TY3JvbGxZID0gdm9pZCAwLFxuICAgICAgICBzY3JvbGxXaWR0aCA9IGVsLnNjcm9sbFdpZHRoLFxuICAgICAgICBzY3JvbGxIZWlnaHQgPSBlbC5zY3JvbGxIZWlnaHQsXG4gICAgICAgIGVsQ1NTID0gY3NzKGVsKSxcbiAgICAgICAgc2Nyb2xsUG9zWCA9IGVsLnNjcm9sbExlZnQsXG4gICAgICAgIHNjcm9sbFBvc1kgPSBlbC5zY3JvbGxUb3A7XG5cbiAgICBpZiAoZWwgPT09IHdpblNjcm9sbGVyKSB7XG4gICAgICBjYW5TY3JvbGxYID0gd2lkdGggPCBzY3JvbGxXaWR0aCAmJiAoZWxDU1Mub3ZlcmZsb3dYID09PSAnYXV0bycgfHwgZWxDU1Mub3ZlcmZsb3dYID09PSAnc2Nyb2xsJyB8fCBlbENTUy5vdmVyZmxvd1ggPT09ICd2aXNpYmxlJyk7XG4gICAgICBjYW5TY3JvbGxZID0gaGVpZ2h0IDwgc2Nyb2xsSGVpZ2h0ICYmIChlbENTUy5vdmVyZmxvd1kgPT09ICdhdXRvJyB8fCBlbENTUy5vdmVyZmxvd1kgPT09ICdzY3JvbGwnIHx8IGVsQ1NTLm92ZXJmbG93WSA9PT0gJ3Zpc2libGUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FuU2Nyb2xsWCA9IHdpZHRoIDwgc2Nyb2xsV2lkdGggJiYgKGVsQ1NTLm92ZXJmbG93WCA9PT0gJ2F1dG8nIHx8IGVsQ1NTLm92ZXJmbG93WCA9PT0gJ3Njcm9sbCcpO1xuICAgICAgY2FuU2Nyb2xsWSA9IGhlaWdodCA8IHNjcm9sbEhlaWdodCAmJiAoZWxDU1Mub3ZlcmZsb3dZID09PSAnYXV0bycgfHwgZWxDU1Mub3ZlcmZsb3dZID09PSAnc2Nyb2xsJyk7XG4gICAgfVxuXG4gICAgdmFyIHZ4ID0gY2FuU2Nyb2xsWCAmJiAoTWF0aC5hYnMocmlnaHQgLSBldnQuY2xpZW50WCkgPD0gc2VucyAmJiBzY3JvbGxQb3NYICsgd2lkdGggPCBzY3JvbGxXaWR0aCkgLSAoTWF0aC5hYnMobGVmdCAtIGV2dC5jbGllbnRYKSA8PSBzZW5zICYmICEhc2Nyb2xsUG9zWCk7XG4gICAgdmFyIHZ5ID0gY2FuU2Nyb2xsWSAmJiAoTWF0aC5hYnMoYm90dG9tIC0gZXZ0LmNsaWVudFkpIDw9IHNlbnMgJiYgc2Nyb2xsUG9zWSArIGhlaWdodCA8IHNjcm9sbEhlaWdodCkgLSAoTWF0aC5hYnModG9wIC0gZXZ0LmNsaWVudFkpIDw9IHNlbnMgJiYgISFzY3JvbGxQb3NZKTtcblxuICAgIGlmICghYXV0b1Njcm9sbHNbbGF5ZXJzT3V0XSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gbGF5ZXJzT3V0OyBpKyspIHtcbiAgICAgICAgaWYgKCFhdXRvU2Nyb2xsc1tpXSkge1xuICAgICAgICAgIGF1dG9TY3JvbGxzW2ldID0ge307XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYXV0b1Njcm9sbHNbbGF5ZXJzT3V0XS52eCAhPSB2eCB8fCBhdXRvU2Nyb2xsc1tsYXllcnNPdXRdLnZ5ICE9IHZ5IHx8IGF1dG9TY3JvbGxzW2xheWVyc091dF0uZWwgIT09IGVsKSB7XG4gICAgICBhdXRvU2Nyb2xsc1tsYXllcnNPdXRdLmVsID0gZWw7XG4gICAgICBhdXRvU2Nyb2xsc1tsYXllcnNPdXRdLnZ4ID0gdng7XG4gICAgICBhdXRvU2Nyb2xsc1tsYXllcnNPdXRdLnZ5ID0gdnk7XG4gICAgICBjbGVhckludGVydmFsKGF1dG9TY3JvbGxzW2xheWVyc091dF0ucGlkKTtcblxuICAgICAgaWYgKHZ4ICE9IDAgfHwgdnkgIT0gMCkge1xuICAgICAgICBzY3JvbGxUaGlzSW5zdGFuY2UgPSB0cnVlO1xuICAgICAgICAvKiBqc2hpbnQgbG9vcGZ1bmM6dHJ1ZSAqL1xuXG4gICAgICAgIGF1dG9TY3JvbGxzW2xheWVyc091dF0ucGlkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIC8vIGVtdWxhdGUgZHJhZyBvdmVyIGR1cmluZyBhdXRvc2Nyb2xsIChmYWxsYmFjayksIGVtdWxhdGluZyBuYXRpdmUgRG5EIGJlaGF2aW91clxuICAgICAgICAgIGlmIChpc0ZhbGxiYWNrICYmIHRoaXMubGF5ZXIgPT09IDApIHtcbiAgICAgICAgICAgIFNvcnRhYmxlLmFjdGl2ZS5fb25Ub3VjaE1vdmUodG91Y2hFdnQkMSk7IC8vIFRvIG1vdmUgZ2hvc3QgaWYgaXQgaXMgcG9zaXRpb25lZCBhYnNvbHV0ZWx5XG5cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgc2Nyb2xsT2Zmc2V0WSA9IGF1dG9TY3JvbGxzW3RoaXMubGF5ZXJdLnZ5ID8gYXV0b1Njcm9sbHNbdGhpcy5sYXllcl0udnkgKiBzcGVlZCA6IDA7XG4gICAgICAgICAgdmFyIHNjcm9sbE9mZnNldFggPSBhdXRvU2Nyb2xsc1t0aGlzLmxheWVyXS52eCA/IGF1dG9TY3JvbGxzW3RoaXMubGF5ZXJdLnZ4ICogc3BlZWQgOiAwO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiBzY3JvbGxDdXN0b21GbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgaWYgKHNjcm9sbEN1c3RvbUZuLmNhbGwoU29ydGFibGUuZHJhZ2dlZC5wYXJlbnROb2RlW2V4cGFuZG9dLCBzY3JvbGxPZmZzZXRYLCBzY3JvbGxPZmZzZXRZLCBldnQsIHRvdWNoRXZ0JDEsIGF1dG9TY3JvbGxzW3RoaXMubGF5ZXJdLmVsKSAhPT0gJ2NvbnRpbnVlJykge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2Nyb2xsQnkoYXV0b1Njcm9sbHNbdGhpcy5sYXllcl0uZWwsIHNjcm9sbE9mZnNldFgsIHNjcm9sbE9mZnNldFkpO1xuICAgICAgICB9LmJpbmQoe1xuICAgICAgICAgIGxheWVyOiBsYXllcnNPdXRcbiAgICAgICAgfSksIDI0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXllcnNPdXQrKztcbiAgfSB3aGlsZSAob3B0aW9ucy5idWJibGVTY3JvbGwgJiYgY3VycmVudFBhcmVudCAhPT0gd2luU2Nyb2xsZXIgJiYgKGN1cnJlbnRQYXJlbnQgPSBnZXRQYXJlbnRBdXRvU2Nyb2xsRWxlbWVudChjdXJyZW50UGFyZW50LCBmYWxzZSkpKTtcblxuICBzY3JvbGxpbmcgPSBzY3JvbGxUaGlzSW5zdGFuY2U7IC8vIGluIGNhc2UgYW5vdGhlciBmdW5jdGlvbiBjYXRjaGVzIHNjcm9sbGluZyBhcyBmYWxzZSBpbiBiZXR3ZWVuIHdoZW4gaXQgaXMgbm90XG59LCAzMCk7XG5cbnZhciBkcm9wID0gZnVuY3Rpb24gZHJvcChfcmVmKSB7XG4gIHZhciBvcmlnaW5hbEV2ZW50ID0gX3JlZi5vcmlnaW5hbEV2ZW50LFxuICAgICAgcHV0U29ydGFibGUgPSBfcmVmLnB1dFNvcnRhYmxlLFxuICAgICAgZHJhZ0VsID0gX3JlZi5kcmFnRWwsXG4gICAgICBhY3RpdmVTb3J0YWJsZSA9IF9yZWYuYWN0aXZlU29ydGFibGUsXG4gICAgICBkaXNwYXRjaFNvcnRhYmxlRXZlbnQgPSBfcmVmLmRpc3BhdGNoU29ydGFibGVFdmVudCxcbiAgICAgIGhpZGVHaG9zdEZvclRhcmdldCA9IF9yZWYuaGlkZUdob3N0Rm9yVGFyZ2V0LFxuICAgICAgdW5oaWRlR2hvc3RGb3JUYXJnZXQgPSBfcmVmLnVuaGlkZUdob3N0Rm9yVGFyZ2V0O1xuICB2YXIgdG9Tb3J0YWJsZSA9IHB1dFNvcnRhYmxlIHx8IGFjdGl2ZVNvcnRhYmxlO1xuICBoaWRlR2hvc3RGb3JUYXJnZXQoKTtcbiAgdmFyIHRhcmdldCA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQob3JpZ2luYWxFdmVudC5jbGllbnRYLCBvcmlnaW5hbEV2ZW50LmNsaWVudFkpO1xuICB1bmhpZGVHaG9zdEZvclRhcmdldCgpO1xuXG4gIGlmICh0b1NvcnRhYmxlICYmICF0b1NvcnRhYmxlLmVsLmNvbnRhaW5zKHRhcmdldCkpIHtcbiAgICBkaXNwYXRjaFNvcnRhYmxlRXZlbnQoJ3NwaWxsJyk7XG4gICAgdGhpcy5vblNwaWxsKGRyYWdFbCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIFJldmVydCgpIHt9XG5cblJldmVydC5wcm90b3R5cGUgPSB7XG4gIHN0YXJ0SW5kZXg6IG51bGwsXG4gIGRyYWdTdGFydDogZnVuY3Rpb24gZHJhZ1N0YXJ0KF9yZWYyKSB7XG4gICAgdmFyIG9sZERyYWdnYWJsZUluZGV4ID0gX3JlZjIub2xkRHJhZ2dhYmxlSW5kZXg7XG4gICAgdGhpcy5zdGFydEluZGV4ID0gb2xkRHJhZ2dhYmxlSW5kZXg7XG4gIH0sXG4gIG9uU3BpbGw6IGZ1bmN0aW9uIG9uU3BpbGwoZHJhZ0VsKSB7XG4gICAgdGhpcy5zb3J0YWJsZS5jYXB0dXJlQW5pbWF0aW9uU3RhdGUoKTtcbiAgICB2YXIgbmV4dFNpYmxpbmcgPSBnZXRDaGlsZCh0aGlzLnNvcnRhYmxlLmVsLCB0aGlzLnN0YXJ0SW5kZXgsIHRoaXMuc29ydGFibGUub3B0aW9ucyk7XG5cbiAgICBpZiAobmV4dFNpYmxpbmcpIHtcbiAgICAgIHRoaXMuc29ydGFibGUuZWwuaW5zZXJ0QmVmb3JlKGRyYWdFbCwgbmV4dFNpYmxpbmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNvcnRhYmxlLmVsLmFwcGVuZENoaWxkKGRyYWdFbCk7XG4gICAgfVxuXG4gICAgdGhpcy5zb3J0YWJsZS5hbmltYXRlQWxsKCk7XG4gIH0sXG4gIGRyb3A6IGRyb3Bcbn07XG5cbl9leHRlbmRzKFJldmVydCwge1xuICBwbHVnaW5OYW1lOiAncmV2ZXJ0T25TcGlsbCdcbn0pO1xuXG5mdW5jdGlvbiBSZW1vdmUoKSB7fVxuXG5SZW1vdmUucHJvdG90eXBlID0ge1xuICBvblNwaWxsOiBmdW5jdGlvbiBvblNwaWxsKGRyYWdFbCkge1xuICAgIHRoaXMuc29ydGFibGUuY2FwdHVyZUFuaW1hdGlvblN0YXRlKCk7XG4gICAgZHJhZ0VsLnBhcmVudE5vZGUgJiYgZHJhZ0VsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZHJhZ0VsKTtcbiAgICB0aGlzLnNvcnRhYmxlLmFuaW1hdGVBbGwoKTtcbiAgfSxcbiAgZHJvcDogZHJvcFxufTtcblxuX2V4dGVuZHMoUmVtb3ZlLCB7XG4gIHBsdWdpbk5hbWU6ICdyZW1vdmVPblNwaWxsJ1xufSk7XG5cbnZhciBsYXN0U3dhcEVsO1xuXG5mdW5jdGlvbiBTd2FwUGx1Z2luKCkge1xuICBmdW5jdGlvbiBTd2FwKCkge1xuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIHN3YXBDbGFzczogJ3NvcnRhYmxlLXN3YXAtaGlnaGxpZ2h0J1xuICAgIH07XG4gIH1cblxuICBTd2FwLnByb3RvdHlwZSA9IHtcbiAgICBkcmFnU3RhcnQ6IGZ1bmN0aW9uIGRyYWdTdGFydChfcmVmKSB7XG4gICAgICB2YXIgZHJhZ0VsID0gX3JlZi5kcmFnRWw7XG4gICAgICBsYXN0U3dhcEVsID0gZHJhZ0VsO1xuICAgIH0sXG4gICAgZHJhZ092ZXJWYWxpZDogZnVuY3Rpb24gZHJhZ092ZXJWYWxpZChfcmVmMikge1xuICAgICAgdmFyIGNvbXBsZXRlZCA9IF9yZWYyLmNvbXBsZXRlZCxcbiAgICAgICAgICB0YXJnZXQgPSBfcmVmMi50YXJnZXQsXG4gICAgICAgICAgb25Nb3ZlID0gX3JlZjIub25Nb3ZlLFxuICAgICAgICAgIGFjdGl2ZVNvcnRhYmxlID0gX3JlZjIuYWN0aXZlU29ydGFibGUsXG4gICAgICAgICAgY2hhbmdlZCA9IF9yZWYyLmNoYW5nZWQ7XG4gICAgICBpZiAoIWFjdGl2ZVNvcnRhYmxlLm9wdGlvbnMuc3dhcCkgcmV0dXJuO1xuICAgICAgdmFyIGVsID0gdGhpcy5zb3J0YWJsZS5lbCxcbiAgICAgICAgICBvcHRpb25zID0gdGhpcy5zb3J0YWJsZS5vcHRpb25zO1xuXG4gICAgICBpZiAodGFyZ2V0ICYmIHRhcmdldCAhPT0gZWwpIHtcbiAgICAgICAgdmFyIHByZXZTd2FwRWwgPSBsYXN0U3dhcEVsO1xuXG4gICAgICAgIGlmIChvbk1vdmUodGFyZ2V0KSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICB0b2dnbGVDbGFzcyh0YXJnZXQsIG9wdGlvbnMuc3dhcENsYXNzLCB0cnVlKTtcbiAgICAgICAgICBsYXN0U3dhcEVsID0gdGFyZ2V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxhc3RTd2FwRWwgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByZXZTd2FwRWwgJiYgcHJldlN3YXBFbCAhPT0gbGFzdFN3YXBFbCkge1xuICAgICAgICAgIHRvZ2dsZUNsYXNzKHByZXZTd2FwRWwsIG9wdGlvbnMuc3dhcENsYXNzLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY2hhbmdlZCgpO1xuICAgICAgcmV0dXJuIGNvbXBsZXRlZCh0cnVlKTtcbiAgICB9LFxuICAgIGRyb3A6IGZ1bmN0aW9uIGRyb3AoX3JlZjMpIHtcbiAgICAgIHZhciBhY3RpdmVTb3J0YWJsZSA9IF9yZWYzLmFjdGl2ZVNvcnRhYmxlLFxuICAgICAgICAgIHB1dFNvcnRhYmxlID0gX3JlZjMucHV0U29ydGFibGUsXG4gICAgICAgICAgZHJhZ0VsID0gX3JlZjMuZHJhZ0VsO1xuICAgICAgdmFyIHRvU29ydGFibGUgPSBwdXRTb3J0YWJsZSB8fCB0aGlzLnNvcnRhYmxlO1xuICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLnNvcnRhYmxlLm9wdGlvbnM7XG4gICAgICBsYXN0U3dhcEVsICYmIHRvZ2dsZUNsYXNzKGxhc3RTd2FwRWwsIG9wdGlvbnMuc3dhcENsYXNzLCBmYWxzZSk7XG5cbiAgICAgIGlmIChsYXN0U3dhcEVsICYmIChvcHRpb25zLnN3YXAgfHwgcHV0U29ydGFibGUgJiYgcHV0U29ydGFibGUub3B0aW9ucy5zd2FwKSkge1xuICAgICAgICBpZiAoZHJhZ0VsICE9PSBsYXN0U3dhcEVsKSB7XG4gICAgICAgICAgdG9Tb3J0YWJsZS5jYXB0dXJlQW5pbWF0aW9uU3RhdGUoKTtcbiAgICAgICAgICBpZiAodG9Tb3J0YWJsZSAhPT0gYWN0aXZlU29ydGFibGUpIGFjdGl2ZVNvcnRhYmxlLmNhcHR1cmVBbmltYXRpb25TdGF0ZSgpO1xuICAgICAgICAgIHN3YXBOb2RlcyhkcmFnRWwsIGxhc3RTd2FwRWwpO1xuICAgICAgICAgIHRvU29ydGFibGUuYW5pbWF0ZUFsbCgpO1xuICAgICAgICAgIGlmICh0b1NvcnRhYmxlICE9PSBhY3RpdmVTb3J0YWJsZSkgYWN0aXZlU29ydGFibGUuYW5pbWF0ZUFsbCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBudWxsaW5nOiBmdW5jdGlvbiBudWxsaW5nKCkge1xuICAgICAgbGFzdFN3YXBFbCA9IG51bGw7XG4gICAgfVxuICB9O1xuICByZXR1cm4gX2V4dGVuZHMoU3dhcCwge1xuICAgIHBsdWdpbk5hbWU6ICdzd2FwJyxcbiAgICBldmVudE9wdGlvbnM6IGZ1bmN0aW9uIGV2ZW50T3B0aW9ucygpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN3YXBJdGVtOiBsYXN0U3dhcEVsXG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHN3YXBOb2RlcyhuMSwgbjIpIHtcbiAgdmFyIHAxID0gbjEucGFyZW50Tm9kZSxcbiAgICAgIHAyID0gbjIucGFyZW50Tm9kZSxcbiAgICAgIGkxLFxuICAgICAgaTI7XG4gIGlmICghcDEgfHwgIXAyIHx8IHAxLmlzRXF1YWxOb2RlKG4yKSB8fCBwMi5pc0VxdWFsTm9kZShuMSkpIHJldHVybjtcbiAgaTEgPSBpbmRleChuMSk7XG4gIGkyID0gaW5kZXgobjIpO1xuXG4gIGlmIChwMS5pc0VxdWFsTm9kZShwMikgJiYgaTEgPCBpMikge1xuICAgIGkyKys7XG4gIH1cblxuICBwMS5pbnNlcnRCZWZvcmUobjIsIHAxLmNoaWxkcmVuW2kxXSk7XG4gIHAyLmluc2VydEJlZm9yZShuMSwgcDIuY2hpbGRyZW5baTJdKTtcbn1cblxudmFyIG11bHRpRHJhZ0VsZW1lbnRzID0gW10sXG4gICAgbXVsdGlEcmFnQ2xvbmVzID0gW10sXG4gICAgbGFzdE11bHRpRHJhZ1NlbGVjdCxcbiAgICAvLyBmb3Igc2VsZWN0aW9uIHdpdGggbW9kaWZpZXIga2V5IGRvd24gKFNISUZUKVxubXVsdGlEcmFnU29ydGFibGUsXG4gICAgaW5pdGlhbEZvbGRpbmcgPSBmYWxzZSxcbiAgICAvLyBJbml0aWFsIG11bHRpLWRyYWcgZm9sZCB3aGVuIGRyYWcgc3RhcnRlZFxuZm9sZGluZyA9IGZhbHNlLFxuICAgIC8vIEZvbGRpbmcgYW55IG90aGVyIHRpbWVcbmRyYWdTdGFydGVkID0gZmFsc2UsXG4gICAgZHJhZ0VsJDEsXG4gICAgY2xvbmVzRnJvbVJlY3QsXG4gICAgY2xvbmVzSGlkZGVuO1xuXG5mdW5jdGlvbiBNdWx0aURyYWdQbHVnaW4oKSB7XG4gIGZ1bmN0aW9uIE11bHRpRHJhZyhzb3J0YWJsZSkge1xuICAgIC8vIEJpbmQgYWxsIHByaXZhdGUgbWV0aG9kc1xuICAgIGZvciAodmFyIGZuIGluIHRoaXMpIHtcbiAgICAgIGlmIChmbi5jaGFyQXQoMCkgPT09ICdfJyAmJiB0eXBlb2YgdGhpc1tmbl0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpc1tmbl0gPSB0aGlzW2ZuXS5iaW5kKHRoaXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzb3J0YWJsZS5vcHRpb25zLnN1cHBvcnRQb2ludGVyKSB7XG4gICAgICBvbihkb2N1bWVudCwgJ3BvaW50ZXJ1cCcsIHRoaXMuX2Rlc2VsZWN0TXVsdGlEcmFnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb24oZG9jdW1lbnQsICdtb3VzZXVwJywgdGhpcy5fZGVzZWxlY3RNdWx0aURyYWcpO1xuICAgICAgb24oZG9jdW1lbnQsICd0b3VjaGVuZCcsIHRoaXMuX2Rlc2VsZWN0TXVsdGlEcmFnKTtcbiAgICB9XG5cbiAgICBvbihkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9jaGVja0tleURvd24pO1xuICAgIG9uKGRvY3VtZW50LCAna2V5dXAnLCB0aGlzLl9jaGVja0tleVVwKTtcbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICBzZWxlY3RlZENsYXNzOiAnc29ydGFibGUtc2VsZWN0ZWQnLFxuICAgICAgbXVsdGlEcmFnS2V5OiBudWxsLFxuICAgICAgc2V0RGF0YTogZnVuY3Rpb24gc2V0RGF0YShkYXRhVHJhbnNmZXIsIGRyYWdFbCkge1xuICAgICAgICB2YXIgZGF0YSA9ICcnO1xuXG4gICAgICAgIGlmIChtdWx0aURyYWdFbGVtZW50cy5sZW5ndGggJiYgbXVsdGlEcmFnU29ydGFibGUgPT09IHNvcnRhYmxlKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSBpbiBtdWx0aURyYWdFbGVtZW50cykge1xuICAgICAgICAgICAgZGF0YSArPSAoIWkgPyAnJyA6ICcsICcpICsgbXVsdGlEcmFnRWxlbWVudHNbaV0udGV4dENvbnRlbnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRhdGEgPSBkcmFnRWwudGV4dENvbnRlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhVHJhbnNmZXIuc2V0RGF0YSgnVGV4dCcsIGRhdGEpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBNdWx0aURyYWcucHJvdG90eXBlID0ge1xuICAgIG11bHRpRHJhZ0tleURvd246IGZhbHNlLFxuICAgIGlzTXVsdGlEcmFnOiBmYWxzZSxcbiAgICBkZWxheVN0YXJ0R2xvYmFsOiBmdW5jdGlvbiBkZWxheVN0YXJ0R2xvYmFsKF9yZWYpIHtcbiAgICAgIHZhciBkcmFnZ2VkID0gX3JlZi5kcmFnRWw7XG4gICAgICBkcmFnRWwkMSA9IGRyYWdnZWQ7XG4gICAgfSxcbiAgICBkZWxheUVuZGVkOiBmdW5jdGlvbiBkZWxheUVuZGVkKCkge1xuICAgICAgdGhpcy5pc011bHRpRHJhZyA9IH5tdWx0aURyYWdFbGVtZW50cy5pbmRleE9mKGRyYWdFbCQxKTtcbiAgICB9LFxuICAgIHNldHVwQ2xvbmU6IGZ1bmN0aW9uIHNldHVwQ2xvbmUoX3JlZjIpIHtcbiAgICAgIHZhciBzb3J0YWJsZSA9IF9yZWYyLnNvcnRhYmxlO1xuICAgICAgaWYgKCF0aGlzLmlzTXVsdGlEcmFnKSByZXR1cm47XG5cbiAgICAgIGZvciAodmFyIGkgaW4gbXVsdGlEcmFnRWxlbWVudHMpIHtcbiAgICAgICAgbXVsdGlEcmFnQ2xvbmVzLnB1c2goY2xvbmUobXVsdGlEcmFnRWxlbWVudHNbaV0pKTtcbiAgICAgICAgbXVsdGlEcmFnQ2xvbmVzW2ldLnNvcnRhYmxlSW5kZXggPSBtdWx0aURyYWdFbGVtZW50c1tpXS5zb3J0YWJsZUluZGV4O1xuICAgICAgICBtdWx0aURyYWdDbG9uZXNbaV0uZHJhZ2dhYmxlID0gZmFsc2U7XG4gICAgICAgIG11bHRpRHJhZ0Nsb25lc1tpXS5zdHlsZVsnd2lsbC1jaGFuZ2UnXSA9ICcnO1xuICAgICAgICB0b2dnbGVDbGFzcyhtdWx0aURyYWdDbG9uZXNbaV0sIHNvcnRhYmxlLm9wdGlvbnMuc2VsZWN0ZWRDbGFzcywgZmFsc2UpO1xuICAgICAgICBtdWx0aURyYWdFbGVtZW50c1tpXSA9PT0gZHJhZ0VsJDEgJiYgdG9nZ2xlQ2xhc3MobXVsdGlEcmFnQ2xvbmVzW2ldLCBzb3J0YWJsZS5vcHRpb25zLmNob3NlbkNsYXNzLCBmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIHNvcnRhYmxlLl9oaWRlQ2xvbmUoKTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBjbG9uZTogZnVuY3Rpb24gY2xvbmUoX3JlZjMpIHtcbiAgICAgIHZhciBzb3J0YWJsZSA9IF9yZWYzLnNvcnRhYmxlLFxuICAgICAgICAgIHJvb3RFbCA9IF9yZWYzLnJvb3RFbCxcbiAgICAgICAgICBkaXNwYXRjaFNvcnRhYmxlRXZlbnQgPSBfcmVmMy5kaXNwYXRjaFNvcnRhYmxlRXZlbnQ7XG4gICAgICBpZiAoIXRoaXMuaXNNdWx0aURyYWcpIHJldHVybjtcblxuICAgICAgaWYgKCFzb3J0YWJsZS5vcHRpb25zLnJlbW92ZUNsb25lT25IaWRlKSB7XG4gICAgICAgIGlmIChtdWx0aURyYWdFbGVtZW50cy5sZW5ndGggJiYgbXVsdGlEcmFnU29ydGFibGUgPT09IHNvcnRhYmxlKSB7XG4gICAgICAgICAgaW5zZXJ0TXVsdGlEcmFnQ2xvbmVzKHRydWUsIHJvb3RFbCk7XG4gICAgICAgICAgZGlzcGF0Y2hTb3J0YWJsZUV2ZW50KCdjbG9uZScpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBzaG93Q2xvbmU6IGZ1bmN0aW9uIHNob3dDbG9uZShfcmVmNCkge1xuICAgICAgdmFyIGNsb25lTm93U2hvd24gPSBfcmVmNC5jbG9uZU5vd1Nob3duLFxuICAgICAgICAgIHJvb3RFbCA9IF9yZWY0LnJvb3RFbDtcbiAgICAgIGlmICghdGhpcy5pc011bHRpRHJhZykgcmV0dXJuO1xuICAgICAgaW5zZXJ0TXVsdGlEcmFnQ2xvbmVzKGZhbHNlLCByb290RWwpO1xuXG4gICAgICBmb3IgKHZhciBpIGluIG11bHRpRHJhZ0Nsb25lcykge1xuICAgICAgICBjc3MobXVsdGlEcmFnQ2xvbmVzW2ldLCAnZGlzcGxheScsICcnKTtcbiAgICAgIH1cblxuICAgICAgY2xvbmVOb3dTaG93bigpO1xuICAgICAgY2xvbmVzSGlkZGVuID0gZmFsc2U7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIGhpZGVDbG9uZTogZnVuY3Rpb24gaGlkZUNsb25lKF9yZWY1KSB7XG4gICAgICB2YXIgc29ydGFibGUgPSBfcmVmNS5zb3J0YWJsZSxcbiAgICAgICAgICBjbG9uZU5vd0hpZGRlbiA9IF9yZWY1LmNsb25lTm93SGlkZGVuO1xuICAgICAgaWYgKCF0aGlzLmlzTXVsdGlEcmFnKSByZXR1cm47XG5cbiAgICAgIGZvciAodmFyIGkgaW4gbXVsdGlEcmFnQ2xvbmVzKSB7XG4gICAgICAgIGNzcyhtdWx0aURyYWdDbG9uZXNbaV0sICdkaXNwbGF5JywgJ25vbmUnKTtcblxuICAgICAgICBpZiAoc29ydGFibGUub3B0aW9ucy5yZW1vdmVDbG9uZU9uSGlkZSAmJiBtdWx0aURyYWdDbG9uZXNbaV0ucGFyZW50Tm9kZSkge1xuICAgICAgICAgIG11bHRpRHJhZ0Nsb25lc1tpXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG11bHRpRHJhZ0Nsb25lc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY2xvbmVOb3dIaWRkZW4oKTtcbiAgICAgIGNsb25lc0hpZGRlbiA9IHRydWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIGRyYWdTdGFydEdsb2JhbDogZnVuY3Rpb24gZHJhZ1N0YXJ0R2xvYmFsKF9yZWY2KSB7XG4gICAgICB2YXIgc29ydGFibGUgPSBfcmVmNi5zb3J0YWJsZTtcblxuICAgICAgaWYgKCF0aGlzLmlzTXVsdGlEcmFnICYmIG11bHRpRHJhZ1NvcnRhYmxlKSB7XG4gICAgICAgIG11bHRpRHJhZ1NvcnRhYmxlLm11bHRpRHJhZy5fZGVzZWxlY3RNdWx0aURyYWcoKTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSBpbiBtdWx0aURyYWdFbGVtZW50cykge1xuICAgICAgICBtdWx0aURyYWdFbGVtZW50c1tpXS5zb3J0YWJsZUluZGV4ID0gaW5kZXgobXVsdGlEcmFnRWxlbWVudHNbaV0pO1xuICAgICAgfSAvLyBTb3J0IG11bHRpLWRyYWcgZWxlbWVudHNcblxuXG4gICAgICBtdWx0aURyYWdFbGVtZW50cyA9IG11bHRpRHJhZ0VsZW1lbnRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEuc29ydGFibGVJbmRleCAtIGIuc29ydGFibGVJbmRleDtcbiAgICAgIH0pO1xuICAgICAgZHJhZ1N0YXJ0ZWQgPSB0cnVlO1xuICAgIH0sXG4gICAgZHJhZ1N0YXJ0ZWQ6IGZ1bmN0aW9uIGRyYWdTdGFydGVkKF9yZWY3KSB7XG4gICAgICB2YXIgc29ydGFibGUgPSBfcmVmNy5zb3J0YWJsZTtcbiAgICAgIGlmICghdGhpcy5pc011bHRpRHJhZykgcmV0dXJuO1xuXG4gICAgICBpZiAoc29ydGFibGUub3B0aW9ucy5zb3J0KSB7XG4gICAgICAgIC8vIENhcHR1cmUgcmVjdHMsXG4gICAgICAgIC8vIGhpZGUgbXVsdGkgZHJhZyBlbGVtZW50cyAoYnkgcG9zaXRpb25pbmcgdGhlbSBhYnNvbHV0ZSksXG4gICAgICAgIC8vIHNldCBtdWx0aSBkcmFnIGVsZW1lbnRzIHJlY3RzIHRvIGRyYWdSZWN0LFxuICAgICAgICAvLyBzaG93IG11bHRpIGRyYWcgZWxlbWVudHMsXG4gICAgICAgIC8vIGFuaW1hdGUgdG8gcmVjdHMsXG4gICAgICAgIC8vIHVuc2V0IHJlY3RzICYgcmVtb3ZlIGZyb20gRE9NXG4gICAgICAgIHNvcnRhYmxlLmNhcHR1cmVBbmltYXRpb25TdGF0ZSgpO1xuXG4gICAgICAgIGlmIChzb3J0YWJsZS5vcHRpb25zLmFuaW1hdGlvbikge1xuICAgICAgICAgIGZvciAodmFyIGkgaW4gbXVsdGlEcmFnRWxlbWVudHMpIHtcbiAgICAgICAgICAgIGlmIChtdWx0aURyYWdFbGVtZW50c1tpXSA9PT0gZHJhZ0VsJDEpIGNvbnRpbnVlO1xuICAgICAgICAgICAgY3NzKG11bHRpRHJhZ0VsZW1lbnRzW2ldLCAncG9zaXRpb24nLCAnYWJzb2x1dGUnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgZHJhZ1JlY3QgPSBnZXRSZWN0KGRyYWdFbCQxLCBmYWxzZSwgdHJ1ZSwgdHJ1ZSk7XG5cbiAgICAgICAgICBmb3IgKHZhciBfaSBpbiBtdWx0aURyYWdFbGVtZW50cykge1xuICAgICAgICAgICAgaWYgKG11bHRpRHJhZ0VsZW1lbnRzW19pXSA9PT0gZHJhZ0VsJDEpIGNvbnRpbnVlO1xuICAgICAgICAgICAgc2V0UmVjdChtdWx0aURyYWdFbGVtZW50c1tfaV0sIGRyYWdSZWN0KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmb2xkaW5nID0gdHJ1ZTtcbiAgICAgICAgICBpbml0aWFsRm9sZGluZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc29ydGFibGUuYW5pbWF0ZUFsbChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvbGRpbmcgPSBmYWxzZTtcbiAgICAgICAgaW5pdGlhbEZvbGRpbmcgPSBmYWxzZTtcblxuICAgICAgICBpZiAoc29ydGFibGUub3B0aW9ucy5hbmltYXRpb24pIHtcbiAgICAgICAgICBmb3IgKHZhciBfaTIgaW4gbXVsdGlEcmFnRWxlbWVudHMpIHtcbiAgICAgICAgICAgIHVuc2V0UmVjdChtdWx0aURyYWdFbGVtZW50c1tfaTJdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gUmVtb3ZlIGFsbCBhdXhpbGlhcnkgbXVsdGlkcmFnIGl0ZW1zIGZyb20gZWwsIGlmIHNvcnRpbmcgZW5hYmxlZFxuXG5cbiAgICAgICAgaWYgKHNvcnRhYmxlLm9wdGlvbnMuc29ydCkge1xuICAgICAgICAgIHJlbW92ZU11bHRpRHJhZ0VsZW1lbnRzKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZHJhZ092ZXI6IGZ1bmN0aW9uIGRyYWdPdmVyKF9yZWY4KSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gX3JlZjgudGFyZ2V0LFxuICAgICAgICAgIGNvbXBsZXRlZCA9IF9yZWY4LmNvbXBsZXRlZDtcblxuICAgICAgaWYgKGZvbGRpbmcgJiYgfm11bHRpRHJhZ0VsZW1lbnRzLmluZGV4T2YodGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gY29tcGxldGVkKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHJldmVydDogZnVuY3Rpb24gcmV2ZXJ0KF9yZWY5KSB7XG4gICAgICB2YXIgZnJvbVNvcnRhYmxlID0gX3JlZjkuZnJvbVNvcnRhYmxlLFxuICAgICAgICAgIHJvb3RFbCA9IF9yZWY5LnJvb3RFbCxcbiAgICAgICAgICBzb3J0YWJsZSA9IF9yZWY5LnNvcnRhYmxlLFxuICAgICAgICAgIGRyYWdSZWN0ID0gX3JlZjkuZHJhZ1JlY3Q7XG5cbiAgICAgIGlmIChtdWx0aURyYWdFbGVtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIC8vIFNldHVwIHVuZm9sZCBhbmltYXRpb25cbiAgICAgICAgZm9yICh2YXIgaSBpbiBtdWx0aURyYWdFbGVtZW50cykge1xuICAgICAgICAgIHNvcnRhYmxlLmFkZEFuaW1hdGlvblN0YXRlKHtcbiAgICAgICAgICAgIHRhcmdldDogbXVsdGlEcmFnRWxlbWVudHNbaV0sXG4gICAgICAgICAgICByZWN0OiBmb2xkaW5nID8gZ2V0UmVjdChtdWx0aURyYWdFbGVtZW50c1tpXSkgOiBkcmFnUmVjdFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHVuc2V0UmVjdChtdWx0aURyYWdFbGVtZW50c1tpXSk7XG4gICAgICAgICAgbXVsdGlEcmFnRWxlbWVudHNbaV0uZnJvbVJlY3QgPSBkcmFnUmVjdDtcbiAgICAgICAgICBmcm9tU29ydGFibGUucmVtb3ZlQW5pbWF0aW9uU3RhdGUobXVsdGlEcmFnRWxlbWVudHNbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9sZGluZyA9IGZhbHNlO1xuICAgICAgICBpbnNlcnRNdWx0aURyYWdFbGVtZW50cyghc29ydGFibGUub3B0aW9ucy5yZW1vdmVDbG9uZU9uSGlkZSwgcm9vdEVsKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGRyYWdPdmVyQ29tcGxldGVkOiBmdW5jdGlvbiBkcmFnT3ZlckNvbXBsZXRlZChfcmVmMTApIHtcbiAgICAgIHZhciBzb3J0YWJsZSA9IF9yZWYxMC5zb3J0YWJsZSxcbiAgICAgICAgICBpc093bmVyID0gX3JlZjEwLmlzT3duZXIsXG4gICAgICAgICAgaW5zZXJ0aW9uID0gX3JlZjEwLmluc2VydGlvbixcbiAgICAgICAgICBhY3RpdmVTb3J0YWJsZSA9IF9yZWYxMC5hY3RpdmVTb3J0YWJsZSxcbiAgICAgICAgICBwYXJlbnRFbCA9IF9yZWYxMC5wYXJlbnRFbCxcbiAgICAgICAgICBwdXRTb3J0YWJsZSA9IF9yZWYxMC5wdXRTb3J0YWJsZTtcbiAgICAgIHZhciBvcHRpb25zID0gc29ydGFibGUub3B0aW9ucztcblxuICAgICAgaWYgKGluc2VydGlvbikge1xuICAgICAgICAvLyBDbG9uZXMgbXVzdCBiZSBoaWRkZW4gYmVmb3JlIGZvbGRpbmcgYW5pbWF0aW9uIHRvIGNhcHR1cmUgZHJhZ1JlY3RBYnNvbHV0ZSBwcm9wZXJseVxuICAgICAgICBpZiAoaXNPd25lcikge1xuICAgICAgICAgIGFjdGl2ZVNvcnRhYmxlLl9oaWRlQ2xvbmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGluaXRpYWxGb2xkaW5nID0gZmFsc2U7IC8vIElmIGxlYXZpbmcgc29ydDpmYWxzZSByb290LCBvciBhbHJlYWR5IGZvbGRpbmcgLSBGb2xkIHRvIG5ldyBsb2NhdGlvblxuXG4gICAgICAgIGlmIChvcHRpb25zLmFuaW1hdGlvbiAmJiBtdWx0aURyYWdFbGVtZW50cy5sZW5ndGggPiAxICYmIChmb2xkaW5nIHx8ICFpc093bmVyICYmICFhY3RpdmVTb3J0YWJsZS5vcHRpb25zLnNvcnQgJiYgIXB1dFNvcnRhYmxlKSkge1xuICAgICAgICAgIC8vIEZvbGQ6IFNldCBhbGwgbXVsdGkgZHJhZyBlbGVtZW50cydzIHJlY3RzIHRvIGRyYWdFbCdzIHJlY3Qgd2hlbiBtdWx0aS1kcmFnIGVsZW1lbnRzIGFyZSBpbnZpc2libGVcbiAgICAgICAgICB2YXIgZHJhZ1JlY3RBYnNvbHV0ZSA9IGdldFJlY3QoZHJhZ0VsJDEsIGZhbHNlLCB0cnVlLCB0cnVlKTtcblxuICAgICAgICAgIGZvciAodmFyIGkgaW4gbXVsdGlEcmFnRWxlbWVudHMpIHtcbiAgICAgICAgICAgIGlmIChtdWx0aURyYWdFbGVtZW50c1tpXSA9PT0gZHJhZ0VsJDEpIGNvbnRpbnVlO1xuICAgICAgICAgICAgc2V0UmVjdChtdWx0aURyYWdFbGVtZW50c1tpXSwgZHJhZ1JlY3RBYnNvbHV0ZSk7IC8vIE1vdmUgZWxlbWVudChzKSB0byBlbmQgb2YgcGFyZW50RWwgc28gdGhhdCBpdCBkb2VzIG5vdCBpbnRlcmZlcmUgd2l0aCBtdWx0aS1kcmFnIGNsb25lcyBpbnNlcnRpb24gaWYgdGhleSBhcmUgaW5zZXJ0ZWRcbiAgICAgICAgICAgIC8vIHdoaWxlIGZvbGRpbmcsIGFuZCBzbyB0aGF0IHdlIGNhbiBjYXB0dXJlIHRoZW0gYWdhaW4gYmVjYXVzZSBvbGQgc29ydGFibGUgd2lsbCBubyBsb25nZXIgYmUgZnJvbVNvcnRhYmxlXG5cbiAgICAgICAgICAgIHBhcmVudEVsLmFwcGVuZENoaWxkKG11bHRpRHJhZ0VsZW1lbnRzW2ldKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmb2xkaW5nID0gdHJ1ZTtcbiAgICAgICAgfSAvLyBDbG9uZXMgbXVzdCBiZSBzaG93biAoYW5kIGNoZWNrIHRvIHJlbW92ZSBtdWx0aSBkcmFncykgYWZ0ZXIgZm9sZGluZyB3aGVuIGludGVyZmVyaW5nIG11bHRpRHJhZ0VsZW1lbnRzIGFyZSBtb3ZlZCBvdXRcblxuXG4gICAgICAgIGlmICghaXNPd25lcikge1xuICAgICAgICAgIC8vIE9ubHkgcmVtb3ZlIGlmIG5vdCBmb2xkaW5nIChmb2xkaW5nIHdpbGwgcmVtb3ZlIHRoZW0gYW55d2F5cylcbiAgICAgICAgICBpZiAoIWZvbGRpbmcpIHtcbiAgICAgICAgICAgIHJlbW92ZU11bHRpRHJhZ0VsZW1lbnRzKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG11bHRpRHJhZ0VsZW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHZhciBjbG9uZXNIaWRkZW5CZWZvcmUgPSBjbG9uZXNIaWRkZW47XG5cbiAgICAgICAgICAgIGFjdGl2ZVNvcnRhYmxlLl9zaG93Q2xvbmUoc29ydGFibGUpOyAvLyBVbmZvbGQgYW5pbWF0aW9uIGZvciBjbG9uZXMgaWYgc2hvd2luZyBmcm9tIGhpZGRlblxuXG5cbiAgICAgICAgICAgIGlmIChhY3RpdmVTb3J0YWJsZS5vcHRpb25zLmFuaW1hdGlvbiAmJiAhY2xvbmVzSGlkZGVuICYmIGNsb25lc0hpZGRlbkJlZm9yZSkge1xuICAgICAgICAgICAgICBmb3IgKHZhciBfaTMgaW4gbXVsdGlEcmFnQ2xvbmVzKSB7XG4gICAgICAgICAgICAgICAgYWN0aXZlU29ydGFibGUuYWRkQW5pbWF0aW9uU3RhdGUoe1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBtdWx0aURyYWdDbG9uZXNbX2kzXSxcbiAgICAgICAgICAgICAgICAgIHJlY3Q6IGNsb25lc0Zyb21SZWN0XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbXVsdGlEcmFnQ2xvbmVzW19pM10uZnJvbVJlY3QgPSBjbG9uZXNGcm9tUmVjdDtcbiAgICAgICAgICAgICAgICBtdWx0aURyYWdDbG9uZXNbX2kzXS50aGlzQW5pbWF0aW9uRHVyYXRpb24gPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFjdGl2ZVNvcnRhYmxlLl9zaG93Q2xvbmUoc29ydGFibGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZHJhZ092ZXJBbmltYXRpb25DYXB0dXJlOiBmdW5jdGlvbiBkcmFnT3ZlckFuaW1hdGlvbkNhcHR1cmUoX3JlZjExKSB7XG4gICAgICB2YXIgZHJhZ1JlY3QgPSBfcmVmMTEuZHJhZ1JlY3QsXG4gICAgICAgICAgaXNPd25lciA9IF9yZWYxMS5pc093bmVyLFxuICAgICAgICAgIGFjdGl2ZVNvcnRhYmxlID0gX3JlZjExLmFjdGl2ZVNvcnRhYmxlO1xuXG4gICAgICBmb3IgKHZhciBpIGluIG11bHRpRHJhZ0VsZW1lbnRzKSB7XG4gICAgICAgIG11bHRpRHJhZ0VsZW1lbnRzW2ldLnRoaXNBbmltYXRpb25EdXJhdGlvbiA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmIChhY3RpdmVTb3J0YWJsZS5vcHRpb25zLmFuaW1hdGlvbiAmJiAhaXNPd25lciAmJiBhY3RpdmVTb3J0YWJsZS5tdWx0aURyYWcuaXNNdWx0aURyYWcpIHtcbiAgICAgICAgY2xvbmVzRnJvbVJlY3QgPSBfZXh0ZW5kcyh7fSwgZHJhZ1JlY3QpO1xuICAgICAgICB2YXIgZHJhZ01hdHJpeCA9IG1hdHJpeChkcmFnRWwkMSwgdHJ1ZSk7XG4gICAgICAgIGNsb25lc0Zyb21SZWN0LnRvcCAtPSBkcmFnTWF0cml4LmY7XG4gICAgICAgIGNsb25lc0Zyb21SZWN0LmxlZnQgLT0gZHJhZ01hdHJpeC5lO1xuICAgICAgfVxuICAgIH0sXG4gICAgZHJhZ092ZXJBbmltYXRpb25Db21wbGV0ZTogZnVuY3Rpb24gZHJhZ092ZXJBbmltYXRpb25Db21wbGV0ZSgpIHtcbiAgICAgIGlmIChmb2xkaW5nKSB7XG4gICAgICAgIGZvbGRpbmcgPSBmYWxzZTtcbiAgICAgICAgcmVtb3ZlTXVsdGlEcmFnRWxlbWVudHMoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGRyb3A6IGZ1bmN0aW9uIGRyb3AoX3JlZjEyKSB7XG4gICAgICB2YXIgZXZ0ID0gX3JlZjEyLm9yaWdpbmFsRXZlbnQsXG4gICAgICAgICAgcm9vdEVsID0gX3JlZjEyLnJvb3RFbCxcbiAgICAgICAgICBwYXJlbnRFbCA9IF9yZWYxMi5wYXJlbnRFbCxcbiAgICAgICAgICBzb3J0YWJsZSA9IF9yZWYxMi5zb3J0YWJsZSxcbiAgICAgICAgICBkaXNwYXRjaFNvcnRhYmxlRXZlbnQgPSBfcmVmMTIuZGlzcGF0Y2hTb3J0YWJsZUV2ZW50LFxuICAgICAgICAgIG9sZEluZGV4ID0gX3JlZjEyLm9sZEluZGV4LFxuICAgICAgICAgIHB1dFNvcnRhYmxlID0gX3JlZjEyLnB1dFNvcnRhYmxlO1xuICAgICAgdmFyIHRvU29ydGFibGUgPSBwdXRTb3J0YWJsZSB8fCB0aGlzLnNvcnRhYmxlO1xuICAgICAgaWYgKCFldnQpIHJldHVybjtcbiAgICAgIHZhciBvcHRpb25zID0gc29ydGFibGUub3B0aW9ucyxcbiAgICAgICAgICBjaGlsZHJlbiA9IHBhcmVudEVsLmNoaWxkcmVuOyAvLyBNdWx0aS1kcmFnIHNlbGVjdGlvblxuXG4gICAgICBpZiAoIWRyYWdTdGFydGVkKSB7XG4gICAgICAgIGlmIChvcHRpb25zLm11bHRpRHJhZ0tleSAmJiAhdGhpcy5tdWx0aURyYWdLZXlEb3duKSB7XG4gICAgICAgICAgdGhpcy5fZGVzZWxlY3RNdWx0aURyYWcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRvZ2dsZUNsYXNzKGRyYWdFbCQxLCBvcHRpb25zLnNlbGVjdGVkQ2xhc3MsICF+bXVsdGlEcmFnRWxlbWVudHMuaW5kZXhPZihkcmFnRWwkMSkpO1xuXG4gICAgICAgIGlmICghfm11bHRpRHJhZ0VsZW1lbnRzLmluZGV4T2YoZHJhZ0VsJDEpKSB7XG4gICAgICAgICAgbXVsdGlEcmFnRWxlbWVudHMucHVzaChkcmFnRWwkMSk7XG4gICAgICAgICAgZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgICBzb3J0YWJsZTogc29ydGFibGUsXG4gICAgICAgICAgICByb290RWw6IHJvb3RFbCxcbiAgICAgICAgICAgIG5hbWU6ICdzZWxlY3QnLFxuICAgICAgICAgICAgdGFyZ2V0RWw6IGRyYWdFbCQxLFxuICAgICAgICAgICAgb3JpZ2luYWxFdnQ6IGV2dFxuICAgICAgICAgIH0pOyAvLyBNb2RpZmllciBhY3RpdmF0ZWQsIHNlbGVjdCBmcm9tIGxhc3QgdG8gZHJhZ0VsXG5cbiAgICAgICAgICBpZiAoKCFvcHRpb25zLm11bHRpRHJhZ0tleSB8fCB0aGlzLm11bHRpRHJhZ0tleURvd24pICYmIGV2dC5zaGlmdEtleSAmJiBsYXN0TXVsdGlEcmFnU2VsZWN0ICYmIHNvcnRhYmxlLmVsLmNvbnRhaW5zKGxhc3RNdWx0aURyYWdTZWxlY3QpKSB7XG4gICAgICAgICAgICB2YXIgbGFzdEluZGV4ID0gaW5kZXgobGFzdE11bHRpRHJhZ1NlbGVjdCksXG4gICAgICAgICAgICAgICAgY3VycmVudEluZGV4ID0gaW5kZXgoZHJhZ0VsJDEpO1xuXG4gICAgICAgICAgICBpZiAofmxhc3RJbmRleCAmJiB+Y3VycmVudEluZGV4ICYmIGxhc3RJbmRleCAhPT0gY3VycmVudEluZGV4KSB7XG4gICAgICAgICAgICAgIC8vIE11c3QgaW5jbHVkZSBsYXN0TXVsdGlEcmFnU2VsZWN0IChzZWxlY3QgaXQpLCBpbiBjYXNlIG1vZGlmaWVkIHNlbGVjdGlvbiBmcm9tIG5vIHNlbGVjdGlvblxuICAgICAgICAgICAgICAvLyAoYnV0IHByZXZpb3VzIHNlbGVjdGlvbiBleGlzdGVkKVxuICAgICAgICAgICAgICB2YXIgbiwgaTtcblxuICAgICAgICAgICAgICBpZiAoY3VycmVudEluZGV4ID4gbGFzdEluZGV4KSB7XG4gICAgICAgICAgICAgICAgaSA9IGxhc3RJbmRleDtcbiAgICAgICAgICAgICAgICBuID0gY3VycmVudEluZGV4O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGkgPSBjdXJyZW50SW5kZXg7XG4gICAgICAgICAgICAgICAgbiA9IGxhc3RJbmRleCArIDE7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBmb3IgKDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh+bXVsdGlEcmFnRWxlbWVudHMuaW5kZXhPZihjaGlsZHJlbltpXSkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIHRvZ2dsZUNsYXNzKGNoaWxkcmVuW2ldLCBvcHRpb25zLnNlbGVjdGVkQ2xhc3MsIHRydWUpO1xuICAgICAgICAgICAgICAgIG11bHRpRHJhZ0VsZW1lbnRzLnB1c2goY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgc29ydGFibGU6IHNvcnRhYmxlLFxuICAgICAgICAgICAgICAgICAgcm9vdEVsOiByb290RWwsXG4gICAgICAgICAgICAgICAgICBuYW1lOiAnc2VsZWN0JyxcbiAgICAgICAgICAgICAgICAgIHRhcmdldEVsOiBjaGlsZHJlbltpXSxcbiAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZ0OiBldnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsYXN0TXVsdGlEcmFnU2VsZWN0ID0gZHJhZ0VsJDE7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbXVsdGlEcmFnU29ydGFibGUgPSB0b1NvcnRhYmxlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG11bHRpRHJhZ0VsZW1lbnRzLnNwbGljZShtdWx0aURyYWdFbGVtZW50cy5pbmRleE9mKGRyYWdFbCQxKSwgMSk7XG4gICAgICAgICAgbGFzdE11bHRpRHJhZ1NlbGVjdCA9IG51bGw7XG4gICAgICAgICAgZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgICBzb3J0YWJsZTogc29ydGFibGUsXG4gICAgICAgICAgICByb290RWw6IHJvb3RFbCxcbiAgICAgICAgICAgIG5hbWU6ICdkZXNlbGVjdCcsXG4gICAgICAgICAgICB0YXJnZXRFbDogZHJhZ0VsJDEsXG4gICAgICAgICAgICBvcmlnaW5hbEV2dDogZXZ0XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gTXVsdGktZHJhZyBkcm9wXG5cblxuICAgICAgaWYgKGRyYWdTdGFydGVkICYmIHRoaXMuaXNNdWx0aURyYWcpIHtcbiAgICAgICAgLy8gRG8gbm90IFwidW5mb2xkXCIgYWZ0ZXIgYXJvdW5kIGRyYWdFbCBpZiByZXZlcnRlZFxuICAgICAgICBpZiAoKHBhcmVudEVsW2V4cGFuZG9dLm9wdGlvbnMuc29ydCB8fCBwYXJlbnRFbCAhPT0gcm9vdEVsKSAmJiBtdWx0aURyYWdFbGVtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgdmFyIGRyYWdSZWN0ID0gZ2V0UmVjdChkcmFnRWwkMSksXG4gICAgICAgICAgICAgIG11bHRpRHJhZ0luZGV4ID0gaW5kZXgoZHJhZ0VsJDEsICc6bm90KC4nICsgdGhpcy5vcHRpb25zLnNlbGVjdGVkQ2xhc3MgKyAnKScpO1xuICAgICAgICAgIGlmICghaW5pdGlhbEZvbGRpbmcgJiYgb3B0aW9ucy5hbmltYXRpb24pIGRyYWdFbCQxLnRoaXNBbmltYXRpb25EdXJhdGlvbiA9IG51bGw7XG4gICAgICAgICAgdG9Tb3J0YWJsZS5jYXB0dXJlQW5pbWF0aW9uU3RhdGUoKTtcblxuICAgICAgICAgIGlmICghaW5pdGlhbEZvbGRpbmcpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmFuaW1hdGlvbikge1xuICAgICAgICAgICAgICBkcmFnRWwkMS5mcm9tUmVjdCA9IGRyYWdSZWN0O1xuXG4gICAgICAgICAgICAgIGZvciAodmFyIF9pNCBpbiBtdWx0aURyYWdFbGVtZW50cykge1xuICAgICAgICAgICAgICAgIG11bHRpRHJhZ0VsZW1lbnRzW19pNF0udGhpc0FuaW1hdGlvbkR1cmF0aW9uID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGlmIChtdWx0aURyYWdFbGVtZW50c1tfaTRdICE9PSBkcmFnRWwkMSkge1xuICAgICAgICAgICAgICAgICAgdmFyIHJlY3QgPSBmb2xkaW5nID8gZ2V0UmVjdChtdWx0aURyYWdFbGVtZW50c1tfaTRdKSA6IGRyYWdSZWN0O1xuICAgICAgICAgICAgICAgICAgbXVsdGlEcmFnRWxlbWVudHNbX2k0XS5mcm9tUmVjdCA9IHJlY3Q7IC8vIFByZXBhcmUgdW5mb2xkIGFuaW1hdGlvblxuXG4gICAgICAgICAgICAgICAgICB0b1NvcnRhYmxlLmFkZEFuaW1hdGlvblN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBtdWx0aURyYWdFbGVtZW50c1tfaTRdLFxuICAgICAgICAgICAgICAgICAgICByZWN0OiByZWN0XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gLy8gTXVsdGkgZHJhZyBlbGVtZW50cyBhcmUgbm90IG5lY2Vzc2FyaWx5IHJlbW92ZWQgZnJvbSB0aGUgRE9NIG9uIGRyb3AsIHNvIHRvIHJlaW5zZXJ0XG4gICAgICAgICAgICAvLyBwcm9wZXJseSB0aGV5IG11c3QgYWxsIGJlIHJlbW92ZWRcblxuXG4gICAgICAgICAgICByZW1vdmVNdWx0aURyYWdFbGVtZW50cygpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBfaTUgaW4gbXVsdGlEcmFnRWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgaWYgKGNoaWxkcmVuW211bHRpRHJhZ0luZGV4XSkge1xuICAgICAgICAgICAgICAgIHBhcmVudEVsLmluc2VydEJlZm9yZShtdWx0aURyYWdFbGVtZW50c1tfaTVdLCBjaGlsZHJlblttdWx0aURyYWdJbmRleF0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmVudEVsLmFwcGVuZENoaWxkKG11bHRpRHJhZ0VsZW1lbnRzW19pNV0pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgbXVsdGlEcmFnSW5kZXgrKztcbiAgICAgICAgICAgIH0gLy8gSWYgaW5pdGlhbCBmb2xkaW5nIGlzIGRvbmUsIHRoZSBlbGVtZW50cyBtYXkgaGF2ZSBjaGFuZ2VkIHBvc2l0aW9uIGJlY2F1c2UgdGhleSBhcmUgbm93XG4gICAgICAgICAgICAvLyB1bmZvbGRpbmcgYXJvdW5kIGRyYWdFbCwgZXZlbiB0aG91Z2ggZHJhZ0VsIG1heSBub3QgaGF2ZSBoaXMgaW5kZXggY2hhbmdlZCwgc28gdXBkYXRlIGV2ZW50XG4gICAgICAgICAgICAvLyBtdXN0IGJlIGZpcmVkIGhlcmUgYXMgU29ydGFibGUgd2lsbCBub3QuXG5cblxuICAgICAgICAgICAgaWYgKG9sZEluZGV4ID09PSBpbmRleChkcmFnRWwkMSkpIHtcbiAgICAgICAgICAgICAgdmFyIHVwZGF0ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgIGZvciAodmFyIF9pNiBpbiBtdWx0aURyYWdFbGVtZW50cykge1xuICAgICAgICAgICAgICAgIGlmIChtdWx0aURyYWdFbGVtZW50c1tfaTZdLnNvcnRhYmxlSW5kZXggIT09IGluZGV4KG11bHRpRHJhZ0VsZW1lbnRzW19pNl0pKSB7XG4gICAgICAgICAgICAgICAgICB1cGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHVwZGF0ZSkge1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoU29ydGFibGVFdmVudCgndXBkYXRlJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IC8vIE11c3QgYmUgZG9uZSBhZnRlciBjYXB0dXJpbmcgaW5kaXZpZHVhbCByZWN0cyAoc2Nyb2xsIGJhcilcblxuXG4gICAgICAgICAgZm9yICh2YXIgX2k3IGluIG11bHRpRHJhZ0VsZW1lbnRzKSB7XG4gICAgICAgICAgICB1bnNldFJlY3QobXVsdGlEcmFnRWxlbWVudHNbX2k3XSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdG9Tb3J0YWJsZS5hbmltYXRlQWxsKCk7XG4gICAgICAgIH1cblxuICAgICAgICBtdWx0aURyYWdTb3J0YWJsZSA9IHRvU29ydGFibGU7XG4gICAgICB9IC8vIFJlbW92ZSBjbG9uZXMgaWYgbmVjZXNzYXJ5XG5cblxuICAgICAgaWYgKHJvb3RFbCA9PT0gcGFyZW50RWwgfHwgcHV0U29ydGFibGUgJiYgcHV0U29ydGFibGUubGFzdFB1dE1vZGUgIT09ICdjbG9uZScpIHtcbiAgICAgICAgZm9yICh2YXIgX2k4IGluIG11bHRpRHJhZ0Nsb25lcykge1xuICAgICAgICAgIG11bHRpRHJhZ0Nsb25lc1tfaThdLnBhcmVudE5vZGUgJiYgbXVsdGlEcmFnQ2xvbmVzW19pOF0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChtdWx0aURyYWdDbG9uZXNbX2k4XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIG51bGxpbmdHbG9iYWw6IGZ1bmN0aW9uIG51bGxpbmdHbG9iYWwoKSB7XG4gICAgICB0aGlzLmlzTXVsdGlEcmFnID0gZHJhZ1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgIG11bHRpRHJhZ0Nsb25lcy5sZW5ndGggPSAwO1xuICAgIH0sXG4gICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgIHRoaXMuX2Rlc2VsZWN0TXVsdGlEcmFnKCk7XG5cbiAgICAgIG9mZihkb2N1bWVudCwgJ3BvaW50ZXJ1cCcsIHRoaXMuX2Rlc2VsZWN0TXVsdGlEcmFnKTtcbiAgICAgIG9mZihkb2N1bWVudCwgJ21vdXNldXAnLCB0aGlzLl9kZXNlbGVjdE11bHRpRHJhZyk7XG4gICAgICBvZmYoZG9jdW1lbnQsICd0b3VjaGVuZCcsIHRoaXMuX2Rlc2VsZWN0TXVsdGlEcmFnKTtcbiAgICAgIG9mZihkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9jaGVja0tleURvd24pO1xuICAgICAgb2ZmKGRvY3VtZW50LCAna2V5dXAnLCB0aGlzLl9jaGVja0tleVVwKTtcbiAgICB9LFxuICAgIF9kZXNlbGVjdE11bHRpRHJhZzogZnVuY3Rpb24gX2Rlc2VsZWN0TXVsdGlEcmFnKGV2dCkge1xuICAgICAgaWYgKGRyYWdTdGFydGVkKSByZXR1cm47IC8vIE9ubHkgZGVzZWxlY3QgaWYgc2VsZWN0aW9uIGlzIGluIHRoaXMgc29ydGFibGVcblxuICAgICAgaWYgKG11bHRpRHJhZ1NvcnRhYmxlICE9PSB0aGlzLnNvcnRhYmxlKSByZXR1cm47IC8vIE9ubHkgZGVzZWxlY3QgaWYgdGFyZ2V0IGlzIG5vdCBpdGVtIGluIHRoaXMgc29ydGFibGVcblxuICAgICAgaWYgKGV2dCAmJiBjbG9zZXN0KGV2dC50YXJnZXQsIHRoaXMuc29ydGFibGUub3B0aW9ucy5kcmFnZ2FibGUsIHRoaXMuc29ydGFibGUuZWwsIGZhbHNlKSkgcmV0dXJuOyAvLyBPbmx5IGRlc2VsZWN0IGlmIGxlZnQgY2xpY2tcblxuICAgICAgaWYgKGV2dCAmJiBldnQuYnV0dG9uICE9PSAwKSByZXR1cm47XG5cbiAgICAgIHdoaWxlIChtdWx0aURyYWdFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGVsID0gbXVsdGlEcmFnRWxlbWVudHNbMF07XG4gICAgICAgIHRvZ2dsZUNsYXNzKGVsLCB0aGlzLnNvcnRhYmxlLm9wdGlvbnMuc2VsZWN0ZWRDbGFzcywgZmFsc2UpO1xuICAgICAgICBtdWx0aURyYWdFbGVtZW50cy5zaGlmdCgpO1xuICAgICAgICBkaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICBzb3J0YWJsZTogdGhpcy5zb3J0YWJsZSxcbiAgICAgICAgICByb290RWw6IHRoaXMuc29ydGFibGUuZWwsXG4gICAgICAgICAgbmFtZTogJ2Rlc2VsZWN0JyxcbiAgICAgICAgICB0YXJnZXRFbDogZWwsXG4gICAgICAgICAgb3JpZ2luYWxFdnQ6IGV2dFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIF9jaGVja0tleURvd246IGZ1bmN0aW9uIF9jaGVja0tleURvd24oZXZ0KSB7XG4gICAgICBpZiAoZXZ0LmtleSA9PT0gdGhpcy5zb3J0YWJsZS5vcHRpb25zLm11bHRpRHJhZ0tleSkge1xuICAgICAgICB0aGlzLm11bHRpRHJhZ0tleURvd24gPSB0cnVlO1xuICAgICAgfVxuICAgIH0sXG4gICAgX2NoZWNrS2V5VXA6IGZ1bmN0aW9uIF9jaGVja0tleVVwKGV2dCkge1xuICAgICAgaWYgKGV2dC5rZXkgPT09IHRoaXMuc29ydGFibGUub3B0aW9ucy5tdWx0aURyYWdLZXkpIHtcbiAgICAgICAgdGhpcy5tdWx0aURyYWdLZXlEb3duID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICByZXR1cm4gX2V4dGVuZHMoTXVsdGlEcmFnLCB7XG4gICAgLy8gU3RhdGljIG1ldGhvZHMgJiBwcm9wZXJ0aWVzXG4gICAgcGx1Z2luTmFtZTogJ211bHRpRHJhZycsXG4gICAgdXRpbHM6IHtcbiAgICAgIC8qKlxuICAgICAgICogU2VsZWN0cyB0aGUgcHJvdmlkZWQgbXVsdGktZHJhZyBpdGVtXG4gICAgICAgKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gZWwgICAgVGhlIGVsZW1lbnQgdG8gYmUgc2VsZWN0ZWRcbiAgICAgICAqL1xuICAgICAgc2VsZWN0OiBmdW5jdGlvbiBzZWxlY3QoZWwpIHtcbiAgICAgICAgdmFyIHNvcnRhYmxlID0gZWwucGFyZW50Tm9kZVtleHBhbmRvXTtcbiAgICAgICAgaWYgKCFzb3J0YWJsZSB8fCAhc29ydGFibGUub3B0aW9ucy5tdWx0aURyYWcgfHwgfm11bHRpRHJhZ0VsZW1lbnRzLmluZGV4T2YoZWwpKSByZXR1cm47XG5cbiAgICAgICAgaWYgKG11bHRpRHJhZ1NvcnRhYmxlICYmIG11bHRpRHJhZ1NvcnRhYmxlICE9PSBzb3J0YWJsZSkge1xuICAgICAgICAgIG11bHRpRHJhZ1NvcnRhYmxlLm11bHRpRHJhZy5fZGVzZWxlY3RNdWx0aURyYWcoKTtcblxuICAgICAgICAgIG11bHRpRHJhZ1NvcnRhYmxlID0gc29ydGFibGU7XG4gICAgICAgIH1cblxuICAgICAgICB0b2dnbGVDbGFzcyhlbCwgc29ydGFibGUub3B0aW9ucy5zZWxlY3RlZENsYXNzLCB0cnVlKTtcbiAgICAgICAgbXVsdGlEcmFnRWxlbWVudHMucHVzaChlbCk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIERlc2VsZWN0cyB0aGUgcHJvdmlkZWQgbXVsdGktZHJhZyBpdGVtXG4gICAgICAgKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gZWwgICAgVGhlIGVsZW1lbnQgdG8gYmUgZGVzZWxlY3RlZFxuICAgICAgICovXG4gICAgICBkZXNlbGVjdDogZnVuY3Rpb24gZGVzZWxlY3QoZWwpIHtcbiAgICAgICAgdmFyIHNvcnRhYmxlID0gZWwucGFyZW50Tm9kZVtleHBhbmRvXSxcbiAgICAgICAgICAgIGluZGV4ID0gbXVsdGlEcmFnRWxlbWVudHMuaW5kZXhPZihlbCk7XG4gICAgICAgIGlmICghc29ydGFibGUgfHwgIXNvcnRhYmxlLm9wdGlvbnMubXVsdGlEcmFnIHx8ICF+aW5kZXgpIHJldHVybjtcbiAgICAgICAgdG9nZ2xlQ2xhc3MoZWwsIHNvcnRhYmxlLm9wdGlvbnMuc2VsZWN0ZWRDbGFzcywgZmFsc2UpO1xuICAgICAgICBtdWx0aURyYWdFbGVtZW50cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZXZlbnRPcHRpb25zOiBmdW5jdGlvbiBldmVudE9wdGlvbnMoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgb2xkSW5kaWNpZXMgPSBbXSxcbiAgICAgICAgICBuZXdJbmRpY2llcyA9IFtdO1xuICAgICAgbXVsdGlEcmFnRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICBvbGRJbmRpY2llcy5wdXNoKHtcbiAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICAgIGluZGV4OiBlbGVtZW50LnNvcnRhYmxlSW5kZXhcbiAgICAgICAgfSk7IC8vIG11bHRpRHJhZ0VsZW1lbnRzIHdpbGwgYWxyZWFkeSBiZSBzb3J0ZWQgaWYgZm9sZGluZ1xuXG4gICAgICAgIHZhciBuZXdJbmRleDtcblxuICAgICAgICBpZiAoZm9sZGluZyAmJiBlbGVtZW50ICE9PSBkcmFnRWwkMSkge1xuICAgICAgICAgIG5ld0luZGV4ID0gLTE7XG4gICAgICAgIH0gZWxzZSBpZiAoZm9sZGluZykge1xuICAgICAgICAgIG5ld0luZGV4ID0gaW5kZXgoZWxlbWVudCwgJzpub3QoLicgKyBfdGhpcy5vcHRpb25zLnNlbGVjdGVkQ2xhc3MgKyAnKScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld0luZGV4ID0gaW5kZXgoZWxlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBuZXdJbmRpY2llcy5wdXNoKHtcbiAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICAgIGluZGV4OiBuZXdJbmRleFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXRlbXM6IF90b0NvbnN1bWFibGVBcnJheShtdWx0aURyYWdFbGVtZW50cyksXG4gICAgICAgIGNsb25lczogW10uY29uY2F0KG11bHRpRHJhZ0Nsb25lcyksXG4gICAgICAgIG9sZEluZGljaWVzOiBvbGRJbmRpY2llcyxcbiAgICAgICAgbmV3SW5kaWNpZXM6IG5ld0luZGljaWVzXG4gICAgICB9O1xuICAgIH0sXG4gICAgb3B0aW9uTGlzdGVuZXJzOiB7XG4gICAgICBtdWx0aURyYWdLZXk6IGZ1bmN0aW9uIG11bHRpRHJhZ0tleShrZXkpIHtcbiAgICAgICAga2V5ID0ga2V5LnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgaWYgKGtleSA9PT0gJ2N0cmwnKSB7XG4gICAgICAgICAga2V5ID0gJ0NvbnRyb2wnO1xuICAgICAgICB9IGVsc2UgaWYgKGtleS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAga2V5ID0ga2V5LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsga2V5LnN1YnN0cigxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBrZXk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gaW5zZXJ0TXVsdGlEcmFnRWxlbWVudHMoY2xvbmVzSW5zZXJ0ZWQsIHJvb3RFbCkge1xuICBmb3IgKHZhciBpIGluIG11bHRpRHJhZ0VsZW1lbnRzKSB7XG4gICAgdmFyIHRhcmdldCA9IHJvb3RFbC5jaGlsZHJlblttdWx0aURyYWdFbGVtZW50c1tpXS5zb3J0YWJsZUluZGV4ICsgKGNsb25lc0luc2VydGVkID8gTnVtYmVyKGkpIDogMCldO1xuXG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgcm9vdEVsLmluc2VydEJlZm9yZShtdWx0aURyYWdFbGVtZW50c1tpXSwgdGFyZ2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcm9vdEVsLmFwcGVuZENoaWxkKG11bHRpRHJhZ0VsZW1lbnRzW2ldKTtcbiAgICB9XG4gIH1cbn1cbi8qKlxuICogSW5zZXJ0IG11bHRpLWRyYWcgY2xvbmVzXG4gKiBAcGFyYW0gIHtbQm9vbGVhbl19IGVsZW1lbnRzSW5zZXJ0ZWQgIFdoZXRoZXIgdGhlIG11bHRpLWRyYWcgZWxlbWVudHMgYXJlIGluc2VydGVkXG4gKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gcm9vdEVsXG4gKi9cblxuXG5mdW5jdGlvbiBpbnNlcnRNdWx0aURyYWdDbG9uZXMoZWxlbWVudHNJbnNlcnRlZCwgcm9vdEVsKSB7XG4gIGZvciAodmFyIGkgaW4gbXVsdGlEcmFnQ2xvbmVzKSB7XG4gICAgdmFyIHRhcmdldCA9IHJvb3RFbC5jaGlsZHJlblttdWx0aURyYWdDbG9uZXNbaV0uc29ydGFibGVJbmRleCArIChlbGVtZW50c0luc2VydGVkID8gTnVtYmVyKGkpIDogMCldO1xuXG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgcm9vdEVsLmluc2VydEJlZm9yZShtdWx0aURyYWdDbG9uZXNbaV0sIHRhcmdldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJvb3RFbC5hcHBlbmRDaGlsZChtdWx0aURyYWdDbG9uZXNbaV0pO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVNdWx0aURyYWdFbGVtZW50cygpIHtcbiAgZm9yICh2YXIgaSBpbiBtdWx0aURyYWdFbGVtZW50cykge1xuICAgIGlmIChtdWx0aURyYWdFbGVtZW50c1tpXSA9PT0gZHJhZ0VsJDEpIGNvbnRpbnVlO1xuICAgIG11bHRpRHJhZ0VsZW1lbnRzW2ldLnBhcmVudE5vZGUgJiYgbXVsdGlEcmFnRWxlbWVudHNbaV0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChtdWx0aURyYWdFbGVtZW50c1tpXSk7XG4gIH1cbn1cblxuU29ydGFibGUubW91bnQobmV3IEF1dG9TY3JvbGxQbHVnaW4oKSk7XG5Tb3J0YWJsZS5tb3VudChSZW1vdmUsIFJldmVydCk7XG5cbmV4cG9ydCBkZWZhdWx0IFNvcnRhYmxlO1xuZXhwb3J0IHsgTXVsdGlEcmFnUGx1Z2luIGFzIE11bHRpRHJhZywgU29ydGFibGUsIFN3YXBQbHVnaW4gYXMgU3dhcCB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==